[2022/07/15 15:01:05.950 +08:00] [INFO] [tidb.go:74] ["new domain"] [store=f069647d-13a9-46fd-a52b-153b99de226f] ["ddl lease"=0s] ["stats lease"=-1ns] ["index usage sync lease"=0s]
[2022/07/15 15:01:05.953 +08:00] [INFO] [domain.go:178] ["full load InfoSchema success"] [currentSchemaVersion=0] [neededSchemaVersion=0] ["start time"=587.042µs]
[2022/07/15 15:01:05.953 +08:00] [INFO] [domain.go:449] ["full load and reset schema validator"]
[2022/07/15 15:01:05.953 +08:00] [INFO] [ddl.go:483] ["[ddl] start DDL"] [ID=2bb3b33e-14a9-4782-8d9d-0b33bf40b4a6] [runWorker=true]
[2022/07/15 15:01:05.953 +08:00] [INFO] [ddl.go:472] ["[ddl] start delRangeManager OK"] ["is a emulator"=true]
[2022/07/15 15:01:05.953 +08:00] [INFO] [delete_range.go:158] ["[ddl] start delRange emulator"]
[2022/07/15 15:01:05.953 +08:00] [INFO] [ddl_worker.go:164] ["[ddl] start DDL worker"] [worker="worker 2, tp add index"]
[2022/07/15 15:01:05.953 +08:00] [INFO] [ddl_worker.go:164] ["[ddl] start DDL worker"] [worker="worker 1, tp general"]
[2022/07/15 15:01:05.954 +08:00] [INFO] [tidb.go:268] ["rollbackTxn called due to ddl/autocommit failure"]
[2022/07/15 15:01:05.954 +08:00] [WARN] [session.go:1983] ["run statement failed"] [schemaVersion=0] [error="[schema:1049]Unknown database 'mysql'"] [errorVerbose="[schema:1049]Unknown database 'mysql'\ngithub.com/pingcap/errors.AddStack\n\t/Users/hongyunyan/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20211224045212-9687c2b0f87c/errors.go:174\ngithub.com/pingcap/errors.(*Error).GenWithStackByArgs\n\t/Users/hongyunyan/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20211224045212-9687c2b0f87c/normalize.go:164\ngithub.com/pingcap/tidb/executor.(*SimpleExec).executeUse\n\t/Users/hongyunyan/Desktop/tidb/executor/simple.go:571\ngithub.com/pingcap/tidb/executor.(*SimpleExec).Next\n\t/Users/hongyunyan/Desktop/tidb/executor/simple.go:131\ngithub.com/pingcap/tidb/executor.Next\n\t/Users/hongyunyan/Desktop/tidb/executor/executor.go:319\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelayExecutor\n\t/Users/hongyunyan/Desktop/tidb/executor/adapter.go:673\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelay\n\t/Users/hongyunyan/Desktop/tidb/executor/adapter.go:523\ngithub.com/pingcap/tidb/executor.(*ExecStmt).Exec\n\t/Users/hongyunyan/Desktop/tidb/executor/adapter.go:472\ngithub.com/pingcap/tidb/session.runStmt\n\t/Users/hongyunyan/Desktop/tidb/session/session.go:2114\ngithub.com/pingcap/tidb/session.(*session).ExecuteStmt\n\t/Users/hongyunyan/Desktop/tidb/session/session.go:1980\ngithub.com/pingcap/tidb/session.(*session).ExecuteInternal\n\t/Users/hongyunyan/Desktop/tidb/session/session.go:1495\ngithub.com/pingcap/tidb/session.checkBootstrapped\n\t/Users/hongyunyan/Desktop/tidb/session/bootstrap.go:728\ngithub.com/pingcap/tidb/session.bootstrap\n\t/Users/hongyunyan/Desktop/tidb/session/bootstrap.go:431\ngithub.com/pingcap/tidb/session.runInBootstrapSession\n\t/Users/hongyunyan/Desktop/tidb/session/session.go:2834\ngithub.com/pingcap/tidb/session.BootstrapSession\n\t/Users/hongyunyan/Desktop/tidb/session/session.go:2720\ngithub.com/pingcap/tidb/testkit.bootstrap\n\t/Users/hongyunyan/Desktop/tidb/testkit/mockstore.go:71\ngithub.com/pingcap/tidb/testkit.CreateMockStoreAndDomain\n\t/Users/hongyunyan/Desktop/tidb/testkit/mockstore.go:64\ngithub.com/pingcap/tidb/testkit.CreateMockStore\n\t/Users/hongyunyan/Desktop/tidb/testkit/mockstore.go:56\ngithub.com/pingcap/tidb/executor/tiflashtest.TestNonsupportCharsetTable\n\t/Users/hongyunyan/Desktop/tidb/executor/tiflashtest/tiflash_test.go:67\ntesting.tRunner\n\t/opt/homebrew/Cellar/go/1.18.3/libexec/src/testing/testing.go:1439\nruntime.goexit\n\t/opt/homebrew/Cellar/go/1.18.3/libexec/src/runtime/asm_arm64.s:1263"] [session="{\n  \"currDBName\": \"\",\n  \"id\": 0,\n  \"status\": 2,\n  \"strictMode\": true,\n  \"user\": null\n}"]
[2022/07/15 15:01:05.955 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=0] [cur_db=] [sql="CREATE DATABASE IF NOT EXISTS test"] [user=]
[2022/07/15 15:01:05.956 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:2, Type:create schema, State:queueing, SchemaState:none, SchemaID:1, TableID:0, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:05.955 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:05.956 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:2, Type:create schema, State:queueing, SchemaState:none, SchemaID:1, TableID:0, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:05.955 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE DATABASE IF NOT EXISTS test"]
[2022/07/15 15:01:05.956 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 1, tp general"] [job="ID:2, Type:create schema, State:queueing, SchemaState:none, SchemaID:1, TableID:0, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:05.955 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:05.956 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 1, tp general"] [job="ID:2, Type:create schema, State:synced, SchemaState:public, SchemaID:1, TableID:0, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:05.955 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:05.957 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=2]
[2022/07/15 15:01:05.957 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:05.957 +08:00] [INFO] [domain.go:178] ["full load InfoSchema success"] [currentSchemaVersion=0] [neededSchemaVersion=1] ["start time"=519.5µs]
[2022/07/15 15:01:05.957 +08:00] [INFO] [domain.go:449] ["full load and reset schema validator"]
[2022/07/15 15:01:05.957 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=1] [cur_db=] [sql="CREATE DATABASE IF NOT EXISTS `mysql`"] [user=]
[2022/07/15 15:01:05.957 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:4, Type:create schema, State:queueing, SchemaState:none, SchemaID:3, TableID:0, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:05.957 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:05.957 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:4, Type:create schema, State:queueing, SchemaState:none, SchemaID:3, TableID:0, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:05.957 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE DATABASE IF NOT EXISTS `mysql`"]
[2022/07/15 15:01:05.958 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 1, tp general"] [job="ID:4, Type:create schema, State:queueing, SchemaState:none, SchemaID:3, TableID:0, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:05.957 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:05.958 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 1, tp general"] [job="ID:4, Type:create schema, State:synced, SchemaState:public, SchemaID:3, TableID:0, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:05.957 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:05.958 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=4]
[2022/07/15 15:01:05.958 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:05.958 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=1] [neededSchemaVersion=2] ["start time"=38.667µs] [phyTblIDs="[]"] [actionTypes="[]"]
[2022/07/15 15:01:05.958 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=2] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.user (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tauthentication_string\tTEXT,\n\t\tplugin\t\t\t\t\tCHAR(64),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tProcess_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_db_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tSuper_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_user_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_slave_priv\t    \tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_client_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_role_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_role_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAccount_locked\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShutdown_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReload_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tFILE_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tConfig_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_Tablespace_Priv  ENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (Host, User));"] [user=]
[2022/07/15 15:01:05.959 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:6, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:5, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:05.958 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:05.959 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:6, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:5, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:05.958 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.user (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tauthentication_string\tTEXT,\n\t\tplugin\t\t\t\t\tCHAR(64),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tProcess_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_db_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tSuper_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_user_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_slave_priv\t    \tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_client_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_role_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_role_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAccount_locked\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShutdown_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReload_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tFILE_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tConfig_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_Tablespace_Priv  ENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (Host, User));"]
[2022/07/15 15:01:05.959 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 1, tp general"] [job="ID:6, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:5, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:05.958 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:05.961 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 1, tp general"] [job="ID:6, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:5, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:05.958 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:05.961 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=6]
[2022/07/15 15:01:05.961 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:05.962 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=2] [neededSchemaVersion=3] ["start time"=266.334µs] [phyTblIDs="[5]"] [actionTypes="[8]"]
[2022/07/15 15:01:05.962 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=3] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.global_priv (Host CHAR(255) NOT NULL DEFAULT '',User CHAR(80) NOT NULL DEFAULT '',Priv LONGTEXT NOT NULL DEFAULT '',PRIMARY KEY (Host, User))"] [user=]
[2022/07/15 15:01:05.962 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:8, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:7, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:05.962 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:05.962 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:8, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:7, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:05.962 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.global_priv (Host CHAR(255) NOT NULL DEFAULT '',User CHAR(80) NOT NULL DEFAULT '',Priv LONGTEXT NOT NULL DEFAULT '',PRIMARY KEY (Host, User))"]
[2022/07/15 15:01:05.962 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 1, tp general"] [job="ID:8, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:7, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:05.962 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:05.963 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 1, tp general"] [job="ID:8, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:7, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:05.962 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:05.963 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=8]
[2022/07/15 15:01:05.963 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:05.963 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=3] [neededSchemaVersion=4] ["start time"=69.5µs] [phyTblIDs="[7]"] [actionTypes="[8]"]
[2022/07/15 15:01:05.963 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=4] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.db (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tDB\t\t\t\t\t\tCHAR(64),\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv \t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (Host, DB, User));"] [user=]
[2022/07/15 15:01:05.963 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:10, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:9, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:05.963 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:05.963 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:10, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:9, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:05.963 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.db (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tDB\t\t\t\t\t\tCHAR(64),\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv \t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (Host, DB, User));"]
[2022/07/15 15:01:05.964 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 1, tp general"] [job="ID:10, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:9, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:05.963 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:05.965 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 1, tp general"] [job="ID:10, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:9, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:05.963 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:05.965 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=10]
[2022/07/15 15:01:05.965 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:05.965 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=4] [neededSchemaVersion=5] ["start time"=178µs] [phyTblIDs="[9]"] [actionTypes="[8]"]
[2022/07/15 15:01:05.966 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=5] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.tables_priv (\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64),\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64),\n\t\tGrantor\t\tCHAR(77),\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tTable_priv\tSET('Select','Insert','Update','Delete','Create','Drop','Grant','Index','Alter','Create View','Show View','Trigger','References'),\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name));"] [user=]
[2022/07/15 15:01:05.966 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:12, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:11, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:05.966 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:05.966 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:12, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:11, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:05.966 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.tables_priv (\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64),\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64),\n\t\tGrantor\t\tCHAR(77),\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tTable_priv\tSET('Select','Insert','Update','Delete','Create','Drop','Grant','Index','Alter','Create View','Show View','Trigger','References'),\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name));"]
[2022/07/15 15:01:05.966 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 1, tp general"] [job="ID:12, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:11, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:05.966 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:05.966 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 1, tp general"] [job="ID:12, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:11, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:05.966 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:05.967 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=12]
[2022/07/15 15:01:05.967 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:05.967 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=5] [neededSchemaVersion=6] ["start time"=90.25µs] [phyTblIDs="[11]"] [actionTypes="[8]"]
[2022/07/15 15:01:05.967 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=6] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.columns_priv(\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64),\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64),\n\t\tColumn_name\tCHAR(64),\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name, Column_name));"] [user=]
[2022/07/15 15:01:05.967 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:14, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:13, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:05.967 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:05.967 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:14, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:13, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:05.967 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.columns_priv(\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64),\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64),\n\t\tColumn_name\tCHAR(64),\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name, Column_name));"]
[2022/07/15 15:01:05.967 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 1, tp general"] [job="ID:14, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:13, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:05.967 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:05.968 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 1, tp general"] [job="ID:14, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:13, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:05.967 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:05.968 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=14]
[2022/07/15 15:01:05.968 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:05.968 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=6] [neededSchemaVersion=7] ["start time"=124.709µs] [phyTblIDs="[13]"] [actionTypes="[8]"]
[2022/07/15 15:01:05.968 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=7] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.GLOBAL_VARIABLES(\n\t\tVARIABLE_NAME  VARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(1024) DEFAULT NULL);"] [user=]
[2022/07/15 15:01:05.969 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:16, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:15, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:05.968 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:05.969 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:16, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:15, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:05.968 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.GLOBAL_VARIABLES(\n\t\tVARIABLE_NAME  VARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(1024) DEFAULT NULL);"]
[2022/07/15 15:01:05.969 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 1, tp general"] [job="ID:16, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:15, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:05.968 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:05.969 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 1, tp general"] [job="ID:16, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:15, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:05.968 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:05.969 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=16]
[2022/07/15 15:01:05.969 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:05.969 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=7] [neededSchemaVersion=8] ["start time"=48.5µs] [phyTblIDs="[15]"] [actionTypes="[8]"]
[2022/07/15 15:01:05.969 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=8] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb(\n\t\tVARIABLE_NAME  \tVARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE \tVARCHAR(1024) DEFAULT NULL,\n\t\tCOMMENT \t\tVARCHAR(1024));"] [user=]
[2022/07/15 15:01:05.969 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:18, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:17, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:05.969 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:05.969 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:18, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:17, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:05.969 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb(\n\t\tVARIABLE_NAME  \tVARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE \tVARCHAR(1024) DEFAULT NULL,\n\t\tCOMMENT \t\tVARCHAR(1024));"]
[2022/07/15 15:01:05.969 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 1, tp general"] [job="ID:18, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:17, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:05.969 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:05.970 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 1, tp general"] [job="ID:18, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:17, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:05.969 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:05.970 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=18]
[2022/07/15 15:01:05.970 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:05.970 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=8] [neededSchemaVersion=9] ["start time"=54.583µs] [phyTblIDs="[17]"] [actionTypes="[8]"]
[2022/07/15 15:01:05.970 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=9] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.help_topic (\n  \t\thelp_topic_id \t\tINT(10) UNSIGNED NOT NULL,\n  \t\tname \t\t\t\tCHAR(64) NOT NULL,\n  \t\thelp_category_id \tSMALLINT(5) UNSIGNED NOT NULL,\n  \t\tdescription \t\tTEXT NOT NULL,\n  \t\texample \t\t\tTEXT NOT NULL,\n  \t\turl \t\t\t\tTEXT NOT NULL,\n  \t\tPRIMARY KEY (help_topic_id) clustered,\n  \t\tUNIQUE KEY name (name)\n\t\t) ENGINE=InnoDB DEFAULT CHARSET=utf8 STATS_PERSISTENT=0 COMMENT='help topics';"] [user=]
[2022/07/15 15:01:05.970 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:20, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:19, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:05.97 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:05.970 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:20, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:19, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:05.97 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.help_topic (\n  \t\thelp_topic_id \t\tINT(10) UNSIGNED NOT NULL,\n  \t\tname \t\t\t\tCHAR(64) NOT NULL,\n  \t\thelp_category_id \tSMALLINT(5) UNSIGNED NOT NULL,\n  \t\tdescription \t\tTEXT NOT NULL,\n  \t\texample \t\t\tTEXT NOT NULL,\n  \t\turl \t\t\t\tTEXT NOT NULL,\n  \t\tPRIMARY KEY (help_topic_id) clustered,\n  \t\tUNIQUE KEY name (name)\n\t\t) ENGINE=InnoDB DEFAULT CHARSET=utf8 STATS_PERSISTENT=0 COMMENT='help topics';"]
[2022/07/15 15:01:05.971 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 1, tp general"] [job="ID:20, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:19, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:05.97 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:05.971 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 1, tp general"] [job="ID:20, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:19, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:05.97 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:05.971 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=20]
[2022/07/15 15:01:05.971 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:05.971 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=9] [neededSchemaVersion=10] ["start time"=83.917µs] [phyTblIDs="[19]"] [actionTypes="[8]"]
[2022/07/15 15:01:05.971 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=10] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_meta (\n\t\tversion \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\ttable_id \t\tBIGINT(64) NOT NULL,\n\t\tmodify_count\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcount \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tsnapshot        BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tINDEX idx_ver(version),\n\t\tUNIQUE INDEX tbl(table_id)\n\t);"] [user=]
[2022/07/15 15:01:05.972 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:22, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:21, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:05.971 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:05.972 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:22, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:21, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:05.971 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_meta (\n\t\tversion \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\ttable_id \t\tBIGINT(64) NOT NULL,\n\t\tmodify_count\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcount \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tsnapshot        BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tINDEX idx_ver(version),\n\t\tUNIQUE INDEX tbl(table_id)\n\t);"]
[2022/07/15 15:01:05.972 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 1, tp general"] [job="ID:22, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:21, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:05.971 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:05.972 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 1, tp general"] [job="ID:22, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:21, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:05.971 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:05.972 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=22]
[2022/07/15 15:01:05.972 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:05.972 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=10] [neededSchemaVersion=11] ["start time"=70.958µs] [phyTblIDs="[21]"] [actionTypes="[8]"]
[2022/07/15 15:01:05.973 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=11] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_histograms (\n\t\ttable_id \t\t\tBIGINT(64) NOT NULL,\n\t\tis_index \t\t\tTINYINT(2) NOT NULL,\n\t\thist_id \t\t\tBIGINT(64) NOT NULL,\n\t\tdistinct_count \t\tBIGINT(64) NOT NULL,\n\t\tnull_count \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\ttot_col_size \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tmodify_count \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tversion \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tcm_sketch \t\t\tBLOB(6291456),\n\t\tstats_ver \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tflag \t\t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcorrelation \t\tDOUBLE NOT NULL DEFAULT 0,\n\t\tlast_analyze_pos \tLONGBLOB DEFAULT NULL,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id)\n\t);"] [user=]
[2022/07/15 15:01:05.973 +08:00] [INFO] [ddl_api.go:999] ["Automatically convert BLOB(6291456) to MEDIUMBLOB"]
[2022/07/15 15:01:05.973 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:24, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:23, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:05.973 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:05.973 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:24, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:23, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:05.973 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_histograms (\n\t\ttable_id \t\t\tBIGINT(64) NOT NULL,\n\t\tis_index \t\t\tTINYINT(2) NOT NULL,\n\t\thist_id \t\t\tBIGINT(64) NOT NULL,\n\t\tdistinct_count \t\tBIGINT(64) NOT NULL,\n\t\tnull_count \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\ttot_col_size \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tmodify_count \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tversion \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tcm_sketch \t\t\tBLOB(6291456),\n\t\tstats_ver \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tflag \t\t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcorrelation \t\tDOUBLE NOT NULL DEFAULT 0,\n\t\tlast_analyze_pos \tLONGBLOB DEFAULT NULL,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id)\n\t);"]
[2022/07/15 15:01:05.973 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 1, tp general"] [job="ID:24, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:23, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:05.973 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:05.974 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 1, tp general"] [job="ID:24, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:23, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:05.973 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:05.974 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=24]
[2022/07/15 15:01:05.974 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:05.974 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=11] [neededSchemaVersion=12] ["start time"=116.416µs] [phyTblIDs="[23]"] [actionTypes="[8]"]
[2022/07/15 15:01:05.974 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=12] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_buckets (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tbucket_id \tBIGINT(64) NOT NULL,\n\t\tcount \t\tBIGINT(64) NOT NULL,\n\t\trepeats \tBIGINT(64) NOT NULL,\n\t\tupper_bound LONGBLOB NOT NULL,\n\t\tlower_bound LONGBLOB ,\n\t\tndv         BIGINT NOT NULL DEFAULT 0,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id, bucket_id)\n\t);"] [user=]
[2022/07/15 15:01:05.974 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:26, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:25, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:05.974 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:05.974 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:26, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:25, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:05.974 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_buckets (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tbucket_id \tBIGINT(64) NOT NULL,\n\t\tcount \t\tBIGINT(64) NOT NULL,\n\t\trepeats \tBIGINT(64) NOT NULL,\n\t\tupper_bound LONGBLOB NOT NULL,\n\t\tlower_bound LONGBLOB ,\n\t\tndv         BIGINT NOT NULL DEFAULT 0,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id, bucket_id)\n\t);"]
[2022/07/15 15:01:05.975 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 1, tp general"] [job="ID:26, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:25, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:05.974 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:05.975 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 1, tp general"] [job="ID:26, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:25, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:05.974 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:05.976 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=26]
[2022/07/15 15:01:05.976 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:05.976 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=12] [neededSchemaVersion=13] ["start time"=99.459µs] [phyTblIDs="[25]"] [actionTypes="[8]"]
[2022/07/15 15:01:05.976 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=13] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_index (job_id, element_id)\n\t);"] [user=]
[2022/07/15 15:01:05.976 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:28, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:27, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:05.976 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:05.976 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:28, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:27, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:05.976 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_index (job_id, element_id)\n\t);"]
[2022/07/15 15:01:05.976 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 1, tp general"] [job="ID:28, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:27, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:05.976 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:05.976 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 1, tp general"] [job="ID:28, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:27, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:05.976 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:05.977 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=28]
[2022/07/15 15:01:05.977 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:05.977 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=13] [neededSchemaVersion=14] ["start time"=74.458µs] [phyTblIDs="[27]"] [actionTypes="[8]"]
[2022/07/15 15:01:05.977 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=14] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range_done (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_done_index (job_id, element_id)\n\t);"] [user=]
[2022/07/15 15:01:05.977 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:30, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:29, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:05.977 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:05.977 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:30, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:29, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:05.977 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range_done (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_done_index (job_id, element_id)\n\t);"]
[2022/07/15 15:01:05.977 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 1, tp general"] [job="ID:30, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:29, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:05.977 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:05.978 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 1, tp general"] [job="ID:30, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:29, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:05.977 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:05.978 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=30]
[2022/07/15 15:01:05.978 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:05.978 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=14] [neededSchemaVersion=15] ["start time"=69.125µs] [phyTblIDs="[29]"] [actionTypes="[8]"]
[2022/07/15 15:01:05.978 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=15] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_feedback (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tfeedback \tBLOB NOT NULL,\n\t\tINDEX hist(table_id, is_index, hist_id)\n\t);"] [user=]
[2022/07/15 15:01:05.978 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:32, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:31, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:05.978 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:05.978 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:32, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:31, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:05.978 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_feedback (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tfeedback \tBLOB NOT NULL,\n\t\tINDEX hist(table_id, is_index, hist_id)\n\t);"]
[2022/07/15 15:01:05.978 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 1, tp general"] [job="ID:32, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:31, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:05.978 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:05.979 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 1, tp general"] [job="ID:32, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:31, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:05.978 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:05.979 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=32]
[2022/07/15 15:01:05.979 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:05.979 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=15] [neededSchemaVersion=16] ["start time"=73.5µs] [phyTblIDs="[31]"] [actionTypes="[8]"]
[2022/07/15 15:01:05.979 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=16] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.role_edges (\n\t\tFROM_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tFROM_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tWITH_ADMIN_OPTION \tENUM('N','Y') CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (FROM_HOST,FROM_USER,TO_HOST,TO_USER)\n\t);"] [user=]
[2022/07/15 15:01:05.979 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:34, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:33, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:05.979 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:05.979 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:34, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:33, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:05.979 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.role_edges (\n\t\tFROM_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tFROM_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tWITH_ADMIN_OPTION \tENUM('N','Y') CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (FROM_HOST,FROM_USER,TO_HOST,TO_USER)\n\t);"]
[2022/07/15 15:01:05.979 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 1, tp general"] [job="ID:34, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:33, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:05.979 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:05.980 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 1, tp general"] [job="ID:34, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:33, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:05.979 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:05.980 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=34]
[2022/07/15 15:01:05.980 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:05.980 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=16] [neededSchemaVersion=17] ["start time"=74.875µs] [phyTblIDs="[33]"] [actionTypes="[8]"]
[2022/07/15 15:01:05.980 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=17] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.default_roles (\n\t\tHOST \t\t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tUSER \t\t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tDEFAULT_ROLE_HOST \tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '%',\n\t\tDEFAULT_ROLE_USER \tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tPRIMARY KEY (HOST,USER,DEFAULT_ROLE_HOST,DEFAULT_ROLE_USER)\n\t)"] [user=]
[2022/07/15 15:01:05.980 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:36, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:35, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:05.98 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:05.980 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:36, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:35, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:05.98 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.default_roles (\n\t\tHOST \t\t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tUSER \t\t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tDEFAULT_ROLE_HOST \tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '%',\n\t\tDEFAULT_ROLE_USER \tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tPRIMARY KEY (HOST,USER,DEFAULT_ROLE_HOST,DEFAULT_ROLE_USER)\n\t)"]
[2022/07/15 15:01:05.980 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 1, tp general"] [job="ID:36, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:35, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:05.98 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:05.981 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 1, tp general"] [job="ID:36, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:35, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:05.98 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:05.981 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=36]
[2022/07/15 15:01:05.981 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:05.981 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=17] [neededSchemaVersion=18] ["start time"=68.834µs] [phyTblIDs="[35]"] [actionTypes="[8]"]
[2022/07/15 15:01:05.981 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=18] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.bind_info (\n\t\toriginal_sql TEXT NOT NULL,\n\t\tbind_sql TEXT NOT NULL,\n\t\tdefault_db TEXT NOT NULL,\n\t\tstatus TEXT NOT NULL,\n\t\tcreate_time TIMESTAMP(3) NOT NULL,\n\t\tupdate_time TIMESTAMP(3) NOT NULL,\n\t\tcharset TEXT NOT NULL,\n\t\tcollation TEXT NOT NULL,\n\t\tsource VARCHAR(10) NOT NULL DEFAULT 'unknown',\n\t\tINDEX sql_index(original_sql(700),default_db(68)) COMMENT \"accelerate the speed when add global binding query\",\n\t\tINDEX time_index(update_time) COMMENT \"accelerate the speed when querying with last update time\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"] [user=]
[2022/07/15 15:01:05.982 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:38, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:37, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:05.981 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:05.982 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:38, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:37, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:05.981 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.bind_info (\n\t\toriginal_sql TEXT NOT NULL,\n\t\tbind_sql TEXT NOT NULL,\n\t\tdefault_db TEXT NOT NULL,\n\t\tstatus TEXT NOT NULL,\n\t\tcreate_time TIMESTAMP(3) NOT NULL,\n\t\tupdate_time TIMESTAMP(3) NOT NULL,\n\t\tcharset TEXT NOT NULL,\n\t\tcollation TEXT NOT NULL,\n\t\tsource VARCHAR(10) NOT NULL DEFAULT 'unknown',\n\t\tINDEX sql_index(original_sql(700),default_db(68)) COMMENT \"accelerate the speed when add global binding query\",\n\t\tINDEX time_index(update_time) COMMENT \"accelerate the speed when querying with last update time\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"]
[2022/07/15 15:01:05.982 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 1, tp general"] [job="ID:38, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:37, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:05.981 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:05.982 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 1, tp general"] [job="ID:38, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:37, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:05.981 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:05.983 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=38]
[2022/07/15 15:01:05.983 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:05.983 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=18] [neededSchemaVersion=19] ["start time"=93.459µs] [phyTblIDs="[37]"] [actionTypes="[8]"]
[2022/07/15 15:01:05.984 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=19] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_top_n (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tcount \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"] [user=]
[2022/07/15 15:01:05.984 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:40, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:39, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:05.984 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:05.984 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:40, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:39, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:05.984 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_top_n (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tcount \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"]
[2022/07/15 15:01:05.984 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 1, tp general"] [job="ID:40, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:39, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:05.984 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:05.984 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 1, tp general"] [job="ID:40, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:39, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:05.984 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:05.985 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=40]
[2022/07/15 15:01:05.985 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:05.985 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=19] [neededSchemaVersion=20] ["start time"=74.75µs] [phyTblIDs="[39]"] [actionTypes="[8]"]
[2022/07/15 15:01:05.985 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=20] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.expr_pushdown_blacklist (\n\t\tname \t\tCHAR(100) NOT NULL,\n\t\tstore_type \tCHAR(100) NOT NULL DEFAULT 'tikv,tiflash,tidb',\n\t\treason \t\tVARCHAR(200)\n\t);"] [user=]
[2022/07/15 15:01:05.985 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:42, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:41, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:05.985 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:05.985 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:42, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:41, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:05.985 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.expr_pushdown_blacklist (\n\t\tname \t\tCHAR(100) NOT NULL,\n\t\tstore_type \tCHAR(100) NOT NULL DEFAULT 'tikv,tiflash,tidb',\n\t\treason \t\tVARCHAR(200)\n\t);"]
[2022/07/15 15:01:05.985 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 1, tp general"] [job="ID:42, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:41, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:05.985 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:05.985 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 1, tp general"] [job="ID:42, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:41, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:05.985 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:05.986 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=42]
[2022/07/15 15:01:05.986 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:05.986 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=20] [neededSchemaVersion=21] ["start time"=52.583µs] [phyTblIDs="[41]"] [actionTypes="[8]"]
[2022/07/15 15:01:05.986 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=21] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.opt_rule_blacklist (\n\t\tname \tCHAR(100) NOT NULL\n\t);"] [user=]
[2022/07/15 15:01:05.986 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:44, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:43, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:05.986 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:05.986 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:44, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:43, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:05.986 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.opt_rule_blacklist (\n\t\tname \tCHAR(100) NOT NULL\n\t);"]
[2022/07/15 15:01:05.986 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 1, tp general"] [job="ID:44, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:43, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:05.986 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:05.986 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 1, tp general"] [job="ID:44, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:43, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:05.986 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:05.986 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=44]
[2022/07/15 15:01:05.986 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:05.986 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=21] [neededSchemaVersion=22] ["start time"=36.75µs] [phyTblIDs="[43]"] [actionTypes="[8]"]
[2022/07/15 15:01:05.986 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=22] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_extended (\n\t\tname varchar(32) NOT NULL,\n\t\ttype tinyint(4) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tcolumn_ids varchar(32) NOT NULL,\n\t\tstats blob DEFAULT NULL,\n\t\tversion bigint(64) unsigned NOT NULL,\n\t\tstatus tinyint(4) NOT NULL,\n\t\tPRIMARY KEY(name, table_id),\n\t\tKEY idx_1 (table_id, status, version),\n\t\tKEY idx_2 (status, version)\n\t);"] [user=]
[2022/07/15 15:01:05.987 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:46, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:45, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:05.986 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:05.987 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:46, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:45, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:05.986 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_extended (\n\t\tname varchar(32) NOT NULL,\n\t\ttype tinyint(4) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tcolumn_ids varchar(32) NOT NULL,\n\t\tstats blob DEFAULT NULL,\n\t\tversion bigint(64) unsigned NOT NULL,\n\t\tstatus tinyint(4) NOT NULL,\n\t\tPRIMARY KEY(name, table_id),\n\t\tKEY idx_1 (table_id, status, version),\n\t\tKEY idx_2 (status, version)\n\t);"]
[2022/07/15 15:01:05.987 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 1, tp general"] [job="ID:46, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:45, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:05.986 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:05.987 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 1, tp general"] [job="ID:46, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:45, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:05.986 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:05.987 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=46]
[2022/07/15 15:01:05.987 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:05.988 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=22] [neededSchemaVersion=23] ["start time"=92.541µs] [phyTblIDs="[45]"] [actionTypes="[8]"]
[2022/07/15 15:01:05.988 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=23] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.schema_index_usage (\n\t\tTABLE_ID bigint(64),\n\t\tINDEX_ID bigint(21),\n\t\tQUERY_COUNT bigint(64),\n\t\tROWS_SELECTED bigint(64),\n\t\tLAST_USED_AT timestamp,\n\t\tPRIMARY KEY(TABLE_ID, INDEX_ID)\n\t);"] [user=]
[2022/07/15 15:01:05.988 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:48, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:47, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:05.988 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:05.988 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:48, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:47, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:05.988 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.schema_index_usage (\n\t\tTABLE_ID bigint(64),\n\t\tINDEX_ID bigint(21),\n\t\tQUERY_COUNT bigint(64),\n\t\tROWS_SELECTED bigint(64),\n\t\tLAST_USED_AT timestamp,\n\t\tPRIMARY KEY(TABLE_ID, INDEX_ID)\n\t);"]
[2022/07/15 15:01:05.988 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 1, tp general"] [job="ID:48, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:47, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:05.988 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:05.988 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 1, tp general"] [job="ID:48, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:47, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:05.988 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:05.989 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=48]
[2022/07/15 15:01:05.989 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:05.989 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=23] [neededSchemaVersion=24] ["start time"=72.708µs] [phyTblIDs="[47]"] [actionTypes="[8]"]
[2022/07/15 15:01:05.989 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=24] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_fm_sketch (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"] [user=]
[2022/07/15 15:01:05.989 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:50, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:49, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:05.989 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:05.989 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:50, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:49, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:05.989 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_fm_sketch (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"]
[2022/07/15 15:01:05.989 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 1, tp general"] [job="ID:50, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:49, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:05.989 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:05.989 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 1, tp general"] [job="ID:50, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:49, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:05.989 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:05.989 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=50]
[2022/07/15 15:01:05.989 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:05.990 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=24] [neededSchemaVersion=25] ["start time"=61.834µs] [phyTblIDs="[49]"] [actionTypes="[8]"]
[2022/07/15 15:01:05.990 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=25] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.global_grants (\n\t\tUSER char(32) NOT NULL DEFAULT '',\n\t\tHOST char(255) NOT NULL DEFAULT '',\n\t\tPRIV char(32) NOT NULL DEFAULT '',\n\t\tWITH_GRANT_OPTION enum('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (USER,HOST,PRIV)\n\t);"] [user=]
[2022/07/15 15:01:05.990 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:52, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:51, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:05.99 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:05.990 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:52, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:51, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:05.99 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.global_grants (\n\t\tUSER char(32) NOT NULL DEFAULT '',\n\t\tHOST char(255) NOT NULL DEFAULT '',\n\t\tPRIV char(32) NOT NULL DEFAULT '',\n\t\tWITH_GRANT_OPTION enum('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (USER,HOST,PRIV)\n\t);"]
[2022/07/15 15:01:05.990 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 1, tp general"] [job="ID:52, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:51, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:05.99 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:05.990 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 1, tp general"] [job="ID:52, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:51, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:05.99 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:05.990 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=52]
[2022/07/15 15:01:05.990 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:05.990 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=25] [neededSchemaVersion=26] ["start time"=68.708µs] [phyTblIDs="[51]"] [actionTypes="[8]"]
[2022/07/15 15:01:05.991 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=26] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.capture_plan_baselines_blacklist (\n\t\tid bigint(64) auto_increment,\n\t\tfilter_type varchar(32) NOT NULL COMMENT \"type of the filter, only db, table and frequency supported now\",\n\t\tfilter_value varchar(32) NOT NULL,\n\t\tkey idx(filter_type),\n\t\tprimary key(id)\n\t);"] [user=]
[2022/07/15 15:01:05.991 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:54, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:53, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:05.991 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:05.991 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:54, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:53, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:05.991 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.capture_plan_baselines_blacklist (\n\t\tid bigint(64) auto_increment,\n\t\tfilter_type varchar(32) NOT NULL COMMENT \"type of the filter, only db, table and frequency supported now\",\n\t\tfilter_value varchar(32) NOT NULL,\n\t\tkey idx(filter_type),\n\t\tprimary key(id)\n\t);"]
[2022/07/15 15:01:05.991 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 1, tp general"] [job="ID:54, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:53, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:05.991 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:05.991 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 1, tp general"] [job="ID:54, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:53, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:05.991 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:05.991 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=54]
[2022/07/15 15:01:05.991 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:05.991 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=26] [neededSchemaVersion=27] ["start time"=78.792µs] [phyTblIDs="[53]"] [actionTypes="[8]"]
[2022/07/15 15:01:05.992 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=27] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.column_stats_usage (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tcolumn_id BIGINT(64) NOT NULL,\n\t\tlast_used_at TIMESTAMP,\n\t\tlast_analyzed_at TIMESTAMP,\n\t\tPRIMARY KEY (table_id, column_id) CLUSTERED\n\t);"] [user=]
[2022/07/15 15:01:05.992 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:56, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:55, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:05.992 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:05.992 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:56, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:55, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:05.992 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.column_stats_usage (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tcolumn_id BIGINT(64) NOT NULL,\n\t\tlast_used_at TIMESTAMP,\n\t\tlast_analyzed_at TIMESTAMP,\n\t\tPRIMARY KEY (table_id, column_id) CLUSTERED\n\t);"]
[2022/07/15 15:01:05.992 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 1, tp general"] [job="ID:56, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:55, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:05.992 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:05.992 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 1, tp general"] [job="ID:56, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:55, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:05.992 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:05.992 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=56]
[2022/07/15 15:01:05.992 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:05.992 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=27] [neededSchemaVersion=28] ["start time"=61.083µs] [phyTblIDs="[55]"] [actionTypes="[8]"]
[2022/07/15 15:01:05.993 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=28] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.table_cache_meta (\n\t\ttid bigint(11) NOT NULL DEFAULT 0,\n\t\tlock_type enum('NONE','READ', 'INTEND', 'WRITE') NOT NULL DEFAULT 'NONE',\n\t\tlease bigint(20) NOT NULL DEFAULT 0,\n\t\toldReadLease bigint(20) NOT NULL DEFAULT 0,\n\t\tPRIMARY KEY (tid)\n\t);"] [user=]
[2022/07/15 15:01:05.993 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:58, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:57, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:05.993 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:05.993 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:58, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:57, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:05.993 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.table_cache_meta (\n\t\ttid bigint(11) NOT NULL DEFAULT 0,\n\t\tlock_type enum('NONE','READ', 'INTEND', 'WRITE') NOT NULL DEFAULT 'NONE',\n\t\tlease bigint(20) NOT NULL DEFAULT 0,\n\t\toldReadLease bigint(20) NOT NULL DEFAULT 0,\n\t\tPRIMARY KEY (tid)\n\t);"]
[2022/07/15 15:01:05.993 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 1, tp general"] [job="ID:58, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:57, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:05.993 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:05.993 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 1, tp general"] [job="ID:58, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:57, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:05.993 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:05.993 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=58]
[2022/07/15 15:01:05.993 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:05.993 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=28] [neededSchemaVersion=29] ["start time"=63.292µs] [phyTblIDs="[57]"] [actionTypes="[8]"]
[2022/07/15 15:01:05.994 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=29] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.analyze_options (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tsample_num BIGINT(64) NOT NULL DEFAULT 0,\n\t\tsample_rate DOUBLE NOT NULL DEFAULT -1,\n\t\tbuckets BIGINT(64) NOT NULL DEFAULT 0,\n\t\ttopn BIGINT(64) NOT NULL DEFAULT -1,\n\t\tcolumn_choice enum('DEFAULT','ALL','PREDICATE','LIST') NOT NULL DEFAULT 'DEFAULT',\n\t\tcolumn_ids TEXT(19372),\n\t\tPRIMARY KEY (table_id) CLUSTERED\n\t);"] [user=]
[2022/07/15 15:01:05.994 +08:00] [INFO] [ddl_api.go:999] ["Automatically convert BLOB(19372) to MEDIUMBLOB"]
[2022/07/15 15:01:05.994 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:60, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:59, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:05.994 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:05.994 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:60, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:59, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:05.994 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.analyze_options (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tsample_num BIGINT(64) NOT NULL DEFAULT 0,\n\t\tsample_rate DOUBLE NOT NULL DEFAULT -1,\n\t\tbuckets BIGINT(64) NOT NULL DEFAULT 0,\n\t\ttopn BIGINT(64) NOT NULL DEFAULT -1,\n\t\tcolumn_choice enum('DEFAULT','ALL','PREDICATE','LIST') NOT NULL DEFAULT 'DEFAULT',\n\t\tcolumn_ids TEXT(19372),\n\t\tPRIMARY KEY (table_id) CLUSTERED\n\t);"]
[2022/07/15 15:01:05.994 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 1, tp general"] [job="ID:60, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:59, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:05.994 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:05.994 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 1, tp general"] [job="ID:60, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:59, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:05.994 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:05.995 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=60]
[2022/07/15 15:01:05.995 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:05.995 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=29] [neededSchemaVersion=30] ["start time"=78.042µs] [phyTblIDs="[59]"] [actionTypes="[8]"]
[2022/07/15 15:01:05.995 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=30] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tstats_data longblob NOT NULL,\n\t\tseq_no bigint(64) NOT NULL comment 'sequence number of the gzipped data slice',\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version_seq (table_id, version, seq_no),\n\t\tKEY table_create_time (table_id, create_time, seq_no)\n\t);"] [user=]
[2022/07/15 15:01:05.995 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:62, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:61, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:05.995 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:05.995 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:62, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:61, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:05.995 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tstats_data longblob NOT NULL,\n\t\tseq_no bigint(64) NOT NULL comment 'sequence number of the gzipped data slice',\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version_seq (table_id, version, seq_no),\n\t\tKEY table_create_time (table_id, create_time, seq_no)\n\t);"]
[2022/07/15 15:01:05.995 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 1, tp general"] [job="ID:62, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:61, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:05.995 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:05.996 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 1, tp general"] [job="ID:62, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:61, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:05.995 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:05.996 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=62]
[2022/07/15 15:01:05.996 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:05.996 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=30] [neededSchemaVersion=31] ["start time"=79.333µs] [phyTblIDs="[61]"] [actionTypes="[8]"]
[2022/07/15 15:01:05.996 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=31] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_meta_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL,\n\t\tcount bigint(64) NOT NULL,\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version (table_id, version),\n\t\tKEY table_create_time (table_id, create_time)\n\t);"] [user=]
[2022/07/15 15:01:05.996 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:64, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:63, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:05.996 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:05.996 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:64, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:63, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:05.996 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_meta_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL,\n\t\tcount bigint(64) NOT NULL,\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version (table_id, version),\n\t\tKEY table_create_time (table_id, create_time)\n\t);"]
[2022/07/15 15:01:05.997 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 1, tp general"] [job="ID:64, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:63, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:05.996 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:05.997 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 1, tp general"] [job="ID:64, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:63, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:05.996 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:05.997 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=64]
[2022/07/15 15:01:05.997 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:05.997 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=31] [neededSchemaVersion=32] ["start time"=86.917µs] [phyTblIDs="[63]"] [actionTypes="[8]"]
[2022/07/15 15:01:05.997 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=32] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.analyze_jobs (\n\t\tid BIGINT(64) UNSIGNED NOT NULL AUTO_INCREMENT,\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\ttable_schema CHAR(64) NOT NULL DEFAULT '',\n\t\ttable_name CHAR(64) NOT NULL DEFAULT '',\n\t\tpartition_name CHAR(64) NOT NULL DEFAULT '',\n\t\tjob_info TEXT NOT NULL,\n\t\tprocessed_rows BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tstart_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tstate ENUM('pending', 'running', 'finished', 'failed') NOT NULL,\n\t\tfail_reason TEXT,\n\t\tinstance VARCHAR(512) NOT NULL comment 'address of the TiDB instance executing the analyze job',\n\t\tprocess_id BIGINT(64) UNSIGNED comment 'ID of the process executing the analyze job',\n\t\tPRIMARY KEY (id),\n\t\tKEY (update_time)\n\t);"] [user=]
[2022/07/15 15:01:05.998 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:66, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:65, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:05.998 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:05.998 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:66, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:65, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:05.998 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.analyze_jobs (\n\t\tid BIGINT(64) UNSIGNED NOT NULL AUTO_INCREMENT,\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\ttable_schema CHAR(64) NOT NULL DEFAULT '',\n\t\ttable_name CHAR(64) NOT NULL DEFAULT '',\n\t\tpartition_name CHAR(64) NOT NULL DEFAULT '',\n\t\tjob_info TEXT NOT NULL,\n\t\tprocessed_rows BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tstart_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tstate ENUM('pending', 'running', 'finished', 'failed') NOT NULL,\n\t\tfail_reason TEXT,\n\t\tinstance VARCHAR(512) NOT NULL comment 'address of the TiDB instance executing the analyze job',\n\t\tprocess_id BIGINT(64) UNSIGNED comment 'ID of the process executing the analyze job',\n\t\tPRIMARY KEY (id),\n\t\tKEY (update_time)\n\t);"]
[2022/07/15 15:01:05.998 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 1, tp general"] [job="ID:66, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:65, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:05.998 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:05.999 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 1, tp general"] [job="ID:66, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:65, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:05.998 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:05.999 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=66]
[2022/07/15 15:01:05.999 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:05.999 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=32] [neededSchemaVersion=33] ["start time"=114.708µs] [phyTblIDs="[65]"] [actionTypes="[8]"]
[2022/07/15 15:01:05.999 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=33] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.advisory_locks (\n\t\tlock_name VARCHAR(64) NOT NULL PRIMARY KEY\n\t);"] [user=]
[2022/07/15 15:01:05.999 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:68, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:67, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:05.999 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:05.999 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:68, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:67, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:05.999 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.advisory_locks (\n\t\tlock_name VARCHAR(64) NOT NULL PRIMARY KEY\n\t);"]
[2022/07/15 15:01:05.999 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 1, tp general"] [job="ID:68, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:67, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:05.999 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.000 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 1, tp general"] [job="ID:68, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:67, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:05.999 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.000 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=68]
[2022/07/15 15:01:06.000 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:06.000 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=33] [neededSchemaVersion=34] ["start time"=58.084µs] [phyTblIDs="[67]"] [actionTypes="[8]"]
[2022/07/15 15:01:06.007 +08:00] [INFO] [bootstrap.go:448] ["bootstrap successful"] ["take time"=54.023ms]
[2022/07/15 15:01:06.008 +08:00] [INFO] [ddl_worker.go:158] ["[ddl] DDL worker closed"] [worker="worker 1, tp general"] ["take time"=208ns]
[2022/07/15 15:01:06.008 +08:00] [INFO] [ddl_worker.go:158] ["[ddl] DDL worker closed"] [worker="worker 2, tp add index"] ["take time"=42ns]
[2022/07/15 15:01:06.008 +08:00] [INFO] [delete_range.go:148] ["[ddl] closing delRange"]
[2022/07/15 15:01:06.008 +08:00] [INFO] [session_pool.go:94] ["[ddl] closing sessionPool"]
[2022/07/15 15:01:06.008 +08:00] [INFO] [ddl.go:576] ["[ddl] DDL closed"] [ID=2bb3b33e-14a9-4782-8d9d-0b33bf40b4a6] ["take time"=90.375µs]
[2022/07/15 15:01:06.008 +08:00] [INFO] [ddl.go:464] ["[ddl] stop DDL"] [ID=2bb3b33e-14a9-4782-8d9d-0b33bf40b4a6]
[2022/07/15 15:01:06.008 +08:00] [INFO] [domain.go:498] ["topNSlowQueryLoop exited."]
[2022/07/15 15:01:06.008 +08:00] [INFO] [domain.go:552] ["globalConfigSyncerKeeper exited."]
[2022/07/15 15:01:06.008 +08:00] [INFO] [domain.go:575] ["topologySyncerKeeper exited."]
[2022/07/15 15:01:06.008 +08:00] [INFO] [domain.go:527] ["infoSyncerKeeper exited."]
[2022/07/15 15:01:06.008 +08:00] [INFO] [domain.go:733] ["domain closed"] ["take time"=137.042µs]
[2022/07/15 15:01:06.008 +08:00] [INFO] [tidb.go:74] ["new domain"] [store=f069647d-13a9-46fd-a52b-153b99de226f] ["ddl lease"=0s] ["stats lease"=-1ns] ["index usage sync lease"=0s]
[2022/07/15 15:01:06.011 +08:00] [INFO] [domain.go:178] ["full load InfoSchema success"] [currentSchemaVersion=0] [neededSchemaVersion=34] ["start time"=2.653333ms]
[2022/07/15 15:01:06.011 +08:00] [INFO] [domain.go:449] ["full load and reset schema validator"]
[2022/07/15 15:01:06.011 +08:00] [INFO] [ddl.go:483] ["[ddl] start DDL"] [ID=7288f82e-6c7e-466e-bc9b-af250b2cf813] [runWorker=true]
[2022/07/15 15:01:06.011 +08:00] [INFO] [ddl.go:472] ["[ddl] start delRangeManager OK"] ["is a emulator"=true]
[2022/07/15 15:01:06.011 +08:00] [INFO] [delete_range.go:158] ["[ddl] start delRange emulator"]
[2022/07/15 15:01:06.011 +08:00] [INFO] [ddl_worker.go:164] ["[ddl] start DDL worker"] [worker="worker 4, tp add index"]
[2022/07/15 15:01:06.011 +08:00] [INFO] [ddl_worker.go:164] ["[ddl] start DDL worker"] [worker="worker 3, tp general"]
[2022/07/15 15:01:06.013 +08:00] [WARN] [sysvar_cache.go:53] ["sysvar cache is empty, triggering rebuild"]
[2022/07/15 15:01:06.019 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=1] [schemaVersion=34] [cur_db=test] [sql="drop table if exists t"] [user=]
[2022/07/15 15:01:06.019 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=1] [schemaVersion=34] [cur_db=test] [sql="create table t(a int, b char(10) charset gbk collate gbk_bin)"] [user=]
[2022/07/15 15:01:06.019 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:70, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.019 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:06.019 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:70, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.019 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="create table t(a int, b char(10) charset gbk collate gbk_bin)"]
[2022/07/15 15:01:06.019 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 3, tp general"] [job="ID:70, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.019 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.020 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 3, tp general"] [job="ID:70, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:69, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.019 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.020 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=70]
[2022/07/15 15:01:06.020 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:06.020 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=34] [neededSchemaVersion=35] ["start time"=49.292µs] [phyTblIDs="[69]"] [actionTypes="[8]"]
[2022/07/15 15:01:06.020 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=1] [schemaVersion=35] [cur_db=test] [sql="alter table t set tiflash replica 1"] [user=]
[2022/07/15 15:01:06.020 +08:00] [INFO] [tidb.go:268] ["rollbackTxn called due to ddl/autocommit failure"]
[2022/07/15 15:01:06.020 +08:00] [WARN] [session.go:1983] ["run statement failed"] [schemaVersion=35] [error="[ddl:8200]Unsupported alter tiflash related actions for table contain gbk charset"] [errorVerbose="[ddl:8200]Unsupported alter tiflash related actions for table contain gbk charset\ngithub.com/pingcap/errors.AddStack\n\t/Users/hongyunyan/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20211224045212-9687c2b0f87c/errors.go:174\ngithub.com/pingcap/errors.(*Error).GenWithStackByArgs\n\t/Users/hongyunyan/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20211224045212-9687c2b0f87c/normalize.go:164\ngithub.com/pingcap/tidb/ddl.checkTiFlashSupportable\n\t/Users/hongyunyan/Desktop/tidb/ddl/ddl_api.go:4938\ngithub.com/pingcap/tidb/ddl.(*ddl).AlterTableSetTiFlashReplica\n\t/Users/hongyunyan/Desktop/tidb/ddl/ddl_api.go:4897\ngithub.com/pingcap/tidb/ddl.(*ddl).AlterTable\n\t/Users/hongyunyan/Desktop/tidb/ddl/ddl_api.go:3239\ngithub.com/pingcap/tidb/executor.(*DDLExec).executeAlterTable\n\t/Users/hongyunyan/Desktop/tidb/executor/ddl.go:361\ngithub.com/pingcap/tidb/executor.(*DDLExec).Next\n\t/Users/hongyunyan/Desktop/tidb/executor/ddl.go:146\ngithub.com/pingcap/tidb/executor.Next\n\t/Users/hongyunyan/Desktop/tidb/executor/executor.go:319\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelayExecutor\n\t/Users/hongyunyan/Desktop/tidb/executor/adapter.go:673\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelay\n\t/Users/hongyunyan/Desktop/tidb/executor/adapter.go:523\ngithub.com/pingcap/tidb/executor.(*ExecStmt).Exec\n\t/Users/hongyunyan/Desktop/tidb/executor/adapter.go:472\ngithub.com/pingcap/tidb/session.runStmt\n\t/Users/hongyunyan/Desktop/tidb/session/session.go:2114\ngithub.com/pingcap/tidb/session.(*session).ExecuteStmt\n\t/Users/hongyunyan/Desktop/tidb/session/session.go:1980\ngithub.com/pingcap/tidb/testkit.(*TestKit).Exec\n\t/Users/hongyunyan/Desktop/tidb/testkit/testkit.go:218\ngithub.com/pingcap/tidb/testkit.(*TestKit).ExecToErr\n\t/Users/hongyunyan/Desktop/tidb/testkit/testkit.go:255\ngithub.com/pingcap/tidb/executor/tiflashtest.TestNonsupportCharsetTable\n\t/Users/hongyunyan/Desktop/tidb/executor/tiflashtest/tiflash_test.go:73\ntesting.tRunner\n\t/opt/homebrew/Cellar/go/1.18.3/libexec/src/testing/testing.go:1439\nruntime.goexit\n\t/opt/homebrew/Cellar/go/1.18.3/libexec/src/runtime/asm_arm64.s:1263"] [session="{\n  \"currDBName\": \"test\",\n  \"id\": 1,\n  \"status\": 2,\n  \"strictMode\": true,\n  \"user\": null\n}"]
[2022/07/15 15:01:06.020 +08:00] [INFO] [ddl_worker.go:158] ["[ddl] DDL worker closed"] [worker="worker 4, tp add index"] ["take time"=1.125µs]
[2022/07/15 15:01:06.020 +08:00] [INFO] [ddl_worker.go:158] ["[ddl] DDL worker closed"] [worker="worker 3, tp general"] ["take time"=84ns]
[2022/07/15 15:01:06.020 +08:00] [INFO] [delete_range.go:148] ["[ddl] closing delRange"]
[2022/07/15 15:01:06.020 +08:00] [INFO] [session_pool.go:94] ["[ddl] closing sessionPool"]
[2022/07/15 15:01:06.020 +08:00] [INFO] [ddl.go:576] ["[ddl] DDL closed"] [ID=7288f82e-6c7e-466e-bc9b-af250b2cf813] ["take time"=31.375µs]
[2022/07/15 15:01:06.020 +08:00] [INFO] [ddl.go:464] ["[ddl] stop DDL"] [ID=7288f82e-6c7e-466e-bc9b-af250b2cf813]
[2022/07/15 15:01:06.020 +08:00] [INFO] [domain.go:498] ["topNSlowQueryLoop exited."]
[2022/07/15 15:01:06.020 +08:00] [INFO] [domain.go:1288] ["dumpFileGcChecker exited."]
[2022/07/15 15:01:06.020 +08:00] [INFO] [domain.go:1032] ["loadPrivilegeInLoop exited."]
[2022/07/15 15:01:06.020 +08:00] [INFO] [handle_hist.go:156] ["SubLoadWorker exited."]
[2022/07/15 15:01:06.020 +08:00] [INFO] [handle_hist.go:156] ["SubLoadWorker exited."]
[2022/07/15 15:01:06.020 +08:00] [INFO] [domain.go:1203] ["handleEvolvePlanTasksLoop exited."]
[2022/07/15 15:01:06.020 +08:00] [INFO] [handle_hist.go:156] ["SubLoadWorker exited."]
[2022/07/15 15:01:06.020 +08:00] [INFO] [domain.go:575] ["topologySyncerKeeper exited."]
[2022/07/15 15:01:06.020 +08:00] [INFO] [handle_hist.go:156] ["SubLoadWorker exited."]
[2022/07/15 15:01:06.020 +08:00] [INFO] [domain.go:1160] ["globalBindHandleWorkerLoop exited."]
[2022/07/15 15:01:06.020 +08:00] [INFO] [domain.go:1082] ["LoadSysVarCacheLoop exited."]
[2022/07/15 15:01:06.020 +08:00] [INFO] [handle_hist.go:156] ["SubLoadWorker exited."]
[2022/07/15 15:01:06.020 +08:00] [INFO] [domain.go:552] ["globalConfigSyncerKeeper exited."]
[2022/07/15 15:01:06.020 +08:00] [INFO] [domain.go:527] ["infoSyncerKeeper exited."]
[2022/07/15 15:01:06.020 +08:00] [INFO] [domain.go:733] ["domain closed"] ["take time"=120.334µs]
[2022/07/15 15:01:06.037 +08:00] [INFO] [db.go:567] ["Closing database"]
[2022/07/15 15:01:06.037 +08:00] [INFO] [db.go:592] ["Memtable flushed"]
[2022/07/15 15:01:06.037 +08:00] [INFO] [db.go:596] ["Compaction finished"]
[2022/07/15 15:01:06.038 +08:00] [INFO] [db.go:615] ["BlobManager finished"]
[2022/07/15 15:01:06.038 +08:00] [INFO] [db.go:619] ["ResourceManager finished"]
[2022/07/15 15:01:06.038 +08:00] [INFO] [db.go:625] ["Waiting for closer"]
--- FAIL: TestNonsupportCharsetTable (0.17s)
    tiflash_test.go:75: 
        	Error Trace:	tiflash_test.go:75
        	Error:      	Not equal: 
        	            	expected: "[ddl:8200]alter tiflash related actions for table contain gbk charset"
        	            	actual  : "[ddl:8200]Unsupported alter tiflash related actions for table contain gbk charset"
        	            	
        	            	Diff:
        	            	--- Expected
        	            	+++ Actual
        	            	@@ -1 +1 @@
        	            	-[ddl:8200]alter tiflash related actions for table contain gbk charset
        	            	+[ddl:8200]Unsupported alter tiflash related actions for table contain gbk charset
        	Test:       	TestNonsupportCharsetTable
[2022/07/15 15:01:06.114 +08:00] [INFO] [tidb.go:74] ["new domain"] [store=0a9e73e5-9787-45b6-a3fd-f46bc23e5a40] ["ddl lease"=0s] ["stats lease"=-1ns] ["index usage sync lease"=0s]
[2022/07/15 15:01:06.115 +08:00] [INFO] [domain.go:178] ["full load InfoSchema success"] [currentSchemaVersion=0] [neededSchemaVersion=0] ["start time"=959.625µs]
[2022/07/15 15:01:06.115 +08:00] [INFO] [domain.go:449] ["full load and reset schema validator"]
[2022/07/15 15:01:06.115 +08:00] [INFO] [ddl.go:483] ["[ddl] start DDL"] [ID=3a5f2b38-9332-421a-a944-78025db2e8fb] [runWorker=true]
[2022/07/15 15:01:06.116 +08:00] [INFO] [ddl.go:472] ["[ddl] start delRangeManager OK"] ["is a emulator"=true]
[2022/07/15 15:01:06.116 +08:00] [INFO] [delete_range.go:158] ["[ddl] start delRange emulator"]
[2022/07/15 15:01:06.116 +08:00] [INFO] [ddl_worker.go:164] ["[ddl] start DDL worker"] [worker="worker 5, tp general"]
[2022/07/15 15:01:06.116 +08:00] [INFO] [ddl_worker.go:164] ["[ddl] start DDL worker"] [worker="worker 6, tp add index"]
[2022/07/15 15:01:06.116 +08:00] [INFO] [tidb.go:268] ["rollbackTxn called due to ddl/autocommit failure"]
[2022/07/15 15:01:06.116 +08:00] [WARN] [session.go:1983] ["run statement failed"] [schemaVersion=0] [error="[schema:1049]Unknown database 'mysql'"] [errorVerbose="[schema:1049]Unknown database 'mysql'\ngithub.com/pingcap/errors.AddStack\n\t/Users/hongyunyan/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20211224045212-9687c2b0f87c/errors.go:174\ngithub.com/pingcap/errors.(*Error).GenWithStackByArgs\n\t/Users/hongyunyan/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20211224045212-9687c2b0f87c/normalize.go:164\ngithub.com/pingcap/tidb/executor.(*SimpleExec).executeUse\n\t/Users/hongyunyan/Desktop/tidb/executor/simple.go:571\ngithub.com/pingcap/tidb/executor.(*SimpleExec).Next\n\t/Users/hongyunyan/Desktop/tidb/executor/simple.go:131\ngithub.com/pingcap/tidb/executor.Next\n\t/Users/hongyunyan/Desktop/tidb/executor/executor.go:319\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelayExecutor\n\t/Users/hongyunyan/Desktop/tidb/executor/adapter.go:673\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelay\n\t/Users/hongyunyan/Desktop/tidb/executor/adapter.go:523\ngithub.com/pingcap/tidb/executor.(*ExecStmt).Exec\n\t/Users/hongyunyan/Desktop/tidb/executor/adapter.go:472\ngithub.com/pingcap/tidb/session.runStmt\n\t/Users/hongyunyan/Desktop/tidb/session/session.go:2114\ngithub.com/pingcap/tidb/session.(*session).ExecuteStmt\n\t/Users/hongyunyan/Desktop/tidb/session/session.go:1980\ngithub.com/pingcap/tidb/session.(*session).ExecuteInternal\n\t/Users/hongyunyan/Desktop/tidb/session/session.go:1495\ngithub.com/pingcap/tidb/session.checkBootstrapped\n\t/Users/hongyunyan/Desktop/tidb/session/bootstrap.go:728\ngithub.com/pingcap/tidb/session.bootstrap\n\t/Users/hongyunyan/Desktop/tidb/session/bootstrap.go:431\ngithub.com/pingcap/tidb/session.runInBootstrapSession\n\t/Users/hongyunyan/Desktop/tidb/session/session.go:2834\ngithub.com/pingcap/tidb/session.BootstrapSession\n\t/Users/hongyunyan/Desktop/tidb/session/session.go:2720\ngithub.com/pingcap/tidb/testkit.bootstrap\n\t/Users/hongyunyan/Desktop/tidb/testkit/mockstore.go:71\ngithub.com/pingcap/tidb/testkit.CreateMockStoreAndDomain\n\t/Users/hongyunyan/Desktop/tidb/testkit/mockstore.go:64\ngithub.com/pingcap/tidb/testkit.CreateMockStore\n\t/Users/hongyunyan/Desktop/tidb/testkit/mockstore.go:56\ngithub.com/pingcap/tidb/executor/tiflashtest.TestReadPartitionTable\n\t/Users/hongyunyan/Desktop/tidb/executor/tiflashtest/tiflash_test.go:83\ntesting.tRunner\n\t/opt/homebrew/Cellar/go/1.18.3/libexec/src/testing/testing.go:1439\nruntime.goexit\n\t/opt/homebrew/Cellar/go/1.18.3/libexec/src/runtime/asm_arm64.s:1263"] [session="{\n  \"currDBName\": \"\",\n  \"id\": 0,\n  \"status\": 2,\n  \"strictMode\": true,\n  \"user\": null\n}"]
[2022/07/15 15:01:06.116 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=0] [cur_db=] [sql="CREATE DATABASE IF NOT EXISTS test"] [user=]
[2022/07/15 15:01:06.116 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:2, Type:create schema, State:queueing, SchemaState:none, SchemaID:1, TableID:0, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.116 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:06.116 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:2, Type:create schema, State:queueing, SchemaState:none, SchemaID:1, TableID:0, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.116 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE DATABASE IF NOT EXISTS test"]
[2022/07/15 15:01:06.116 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 5, tp general"] [job="ID:2, Type:create schema, State:queueing, SchemaState:none, SchemaID:1, TableID:0, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.116 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.116 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 5, tp general"] [job="ID:2, Type:create schema, State:synced, SchemaState:public, SchemaID:1, TableID:0, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.116 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.116 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=2]
[2022/07/15 15:01:06.116 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:06.117 +08:00] [INFO] [domain.go:178] ["full load InfoSchema success"] [currentSchemaVersion=0] [neededSchemaVersion=1] ["start time"=438.458µs]
[2022/07/15 15:01:06.117 +08:00] [INFO] [domain.go:449] ["full load and reset schema validator"]
[2022/07/15 15:01:06.117 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=1] [cur_db=] [sql="CREATE DATABASE IF NOT EXISTS `mysql`"] [user=]
[2022/07/15 15:01:06.117 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:4, Type:create schema, State:queueing, SchemaState:none, SchemaID:3, TableID:0, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.117 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:06.117 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:4, Type:create schema, State:queueing, SchemaState:none, SchemaID:3, TableID:0, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.117 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE DATABASE IF NOT EXISTS `mysql`"]
[2022/07/15 15:01:06.117 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 5, tp general"] [job="ID:4, Type:create schema, State:queueing, SchemaState:none, SchemaID:3, TableID:0, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.117 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.117 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 5, tp general"] [job="ID:4, Type:create schema, State:synced, SchemaState:public, SchemaID:3, TableID:0, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.117 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.117 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=4]
[2022/07/15 15:01:06.117 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:06.117 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=1] [neededSchemaVersion=2] ["start time"=15.709µs] [phyTblIDs="[]"] [actionTypes="[]"]
[2022/07/15 15:01:06.118 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=2] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.user (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tauthentication_string\tTEXT,\n\t\tplugin\t\t\t\t\tCHAR(64),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tProcess_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_db_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tSuper_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_user_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_slave_priv\t    \tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_client_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_role_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_role_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAccount_locked\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShutdown_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReload_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tFILE_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tConfig_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_Tablespace_Priv  ENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (Host, User));"] [user=]
[2022/07/15 15:01:06.118 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:6, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:5, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.118 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:06.118 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:6, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:5, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.118 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.user (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tauthentication_string\tTEXT,\n\t\tplugin\t\t\t\t\tCHAR(64),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tProcess_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_db_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tSuper_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_user_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_slave_priv\t    \tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_client_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_role_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_role_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAccount_locked\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShutdown_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReload_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tFILE_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tConfig_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_Tablespace_Priv  ENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (Host, User));"]
[2022/07/15 15:01:06.118 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 5, tp general"] [job="ID:6, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:5, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.118 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.120 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 5, tp general"] [job="ID:6, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:5, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.118 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.120 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=6]
[2022/07/15 15:01:06.120 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:06.121 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=2] [neededSchemaVersion=3] ["start time"=255.375µs] [phyTblIDs="[5]"] [actionTypes="[8]"]
[2022/07/15 15:01:06.121 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=3] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.global_priv (Host CHAR(255) NOT NULL DEFAULT '',User CHAR(80) NOT NULL DEFAULT '',Priv LONGTEXT NOT NULL DEFAULT '',PRIMARY KEY (Host, User))"] [user=]
[2022/07/15 15:01:06.121 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:8, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:7, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.121 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:06.121 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:8, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:7, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.121 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.global_priv (Host CHAR(255) NOT NULL DEFAULT '',User CHAR(80) NOT NULL DEFAULT '',Priv LONGTEXT NOT NULL DEFAULT '',PRIMARY KEY (Host, User))"]
[2022/07/15 15:01:06.121 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 5, tp general"] [job="ID:8, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:7, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.121 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.121 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 5, tp general"] [job="ID:8, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:7, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.121 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.121 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=8]
[2022/07/15 15:01:06.121 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:06.121 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=3] [neededSchemaVersion=4] ["start time"=50.584µs] [phyTblIDs="[7]"] [actionTypes="[8]"]
[2022/07/15 15:01:06.122 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=4] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.db (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tDB\t\t\t\t\t\tCHAR(64),\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv \t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (Host, DB, User));"] [user=]
[2022/07/15 15:01:06.122 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:10, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:9, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.122 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:06.122 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:10, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:9, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.122 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.db (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tDB\t\t\t\t\t\tCHAR(64),\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv \t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (Host, DB, User));"]
[2022/07/15 15:01:06.122 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 5, tp general"] [job="ID:10, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:9, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.122 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.123 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 5, tp general"] [job="ID:10, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:9, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.122 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.123 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=10]
[2022/07/15 15:01:06.123 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:06.124 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=4] [neededSchemaVersion=5] ["start time"=169.583µs] [phyTblIDs="[9]"] [actionTypes="[8]"]
[2022/07/15 15:01:06.124 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=5] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.tables_priv (\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64),\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64),\n\t\tGrantor\t\tCHAR(77),\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tTable_priv\tSET('Select','Insert','Update','Delete','Create','Drop','Grant','Index','Alter','Create View','Show View','Trigger','References'),\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name));"] [user=]
[2022/07/15 15:01:06.124 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:12, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:11, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.124 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:06.124 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:12, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:11, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.124 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.tables_priv (\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64),\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64),\n\t\tGrantor\t\tCHAR(77),\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tTable_priv\tSET('Select','Insert','Update','Delete','Create','Drop','Grant','Index','Alter','Create View','Show View','Trigger','References'),\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name));"]
[2022/07/15 15:01:06.124 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 5, tp general"] [job="ID:12, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:11, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.124 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.125 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 5, tp general"] [job="ID:12, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:11, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.124 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.125 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=12]
[2022/07/15 15:01:06.125 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:06.125 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=5] [neededSchemaVersion=6] ["start time"=92.375µs] [phyTblIDs="[11]"] [actionTypes="[8]"]
[2022/07/15 15:01:06.125 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=6] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.columns_priv(\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64),\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64),\n\t\tColumn_name\tCHAR(64),\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name, Column_name));"] [user=]
[2022/07/15 15:01:06.125 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:14, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:13, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.125 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:06.125 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:14, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:13, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.125 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.columns_priv(\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64),\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64),\n\t\tColumn_name\tCHAR(64),\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name, Column_name));"]
[2022/07/15 15:01:06.125 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 5, tp general"] [job="ID:14, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:13, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.125 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.126 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 5, tp general"] [job="ID:14, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:13, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.125 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.126 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=14]
[2022/07/15 15:01:06.126 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:06.126 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=6] [neededSchemaVersion=7] ["start time"=109.708µs] [phyTblIDs="[13]"] [actionTypes="[8]"]
[2022/07/15 15:01:06.126 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=7] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.GLOBAL_VARIABLES(\n\t\tVARIABLE_NAME  VARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(1024) DEFAULT NULL);"] [user=]
[2022/07/15 15:01:06.126 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:16, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:15, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.126 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:06.126 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:16, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:15, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.126 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.GLOBAL_VARIABLES(\n\t\tVARIABLE_NAME  VARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(1024) DEFAULT NULL);"]
[2022/07/15 15:01:06.126 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 5, tp general"] [job="ID:16, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:15, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.126 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.127 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 5, tp general"] [job="ID:16, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:15, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.126 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.127 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=16]
[2022/07/15 15:01:06.127 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:06.127 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=7] [neededSchemaVersion=8] ["start time"=43.875µs] [phyTblIDs="[15]"] [actionTypes="[8]"]
[2022/07/15 15:01:06.127 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=8] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb(\n\t\tVARIABLE_NAME  \tVARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE \tVARCHAR(1024) DEFAULT NULL,\n\t\tCOMMENT \t\tVARCHAR(1024));"] [user=]
[2022/07/15 15:01:06.127 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:18, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:17, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.127 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:06.127 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:18, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:17, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.127 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb(\n\t\tVARIABLE_NAME  \tVARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE \tVARCHAR(1024) DEFAULT NULL,\n\t\tCOMMENT \t\tVARCHAR(1024));"]
[2022/07/15 15:01:06.127 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 5, tp general"] [job="ID:18, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:17, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.127 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.127 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 5, tp general"] [job="ID:18, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:17, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.127 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.127 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=18]
[2022/07/15 15:01:06.127 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:06.127 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=8] [neededSchemaVersion=9] ["start time"=48.916µs] [phyTblIDs="[17]"] [actionTypes="[8]"]
[2022/07/15 15:01:06.128 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=9] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.help_topic (\n  \t\thelp_topic_id \t\tINT(10) UNSIGNED NOT NULL,\n  \t\tname \t\t\t\tCHAR(64) NOT NULL,\n  \t\thelp_category_id \tSMALLINT(5) UNSIGNED NOT NULL,\n  \t\tdescription \t\tTEXT NOT NULL,\n  \t\texample \t\t\tTEXT NOT NULL,\n  \t\turl \t\t\t\tTEXT NOT NULL,\n  \t\tPRIMARY KEY (help_topic_id) clustered,\n  \t\tUNIQUE KEY name (name)\n\t\t) ENGINE=InnoDB DEFAULT CHARSET=utf8 STATS_PERSISTENT=0 COMMENT='help topics';"] [user=]
[2022/07/15 15:01:06.128 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:20, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:19, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.128 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:06.128 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:20, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:19, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.128 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.help_topic (\n  \t\thelp_topic_id \t\tINT(10) UNSIGNED NOT NULL,\n  \t\tname \t\t\t\tCHAR(64) NOT NULL,\n  \t\thelp_category_id \tSMALLINT(5) UNSIGNED NOT NULL,\n  \t\tdescription \t\tTEXT NOT NULL,\n  \t\texample \t\t\tTEXT NOT NULL,\n  \t\turl \t\t\t\tTEXT NOT NULL,\n  \t\tPRIMARY KEY (help_topic_id) clustered,\n  \t\tUNIQUE KEY name (name)\n\t\t) ENGINE=InnoDB DEFAULT CHARSET=utf8 STATS_PERSISTENT=0 COMMENT='help topics';"]
[2022/07/15 15:01:06.128 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 5, tp general"] [job="ID:20, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:19, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.128 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.128 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 5, tp general"] [job="ID:20, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:19, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.128 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.128 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=20]
[2022/07/15 15:01:06.128 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:06.128 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=9] [neededSchemaVersion=10] ["start time"=67.792µs] [phyTblIDs="[19]"] [actionTypes="[8]"]
[2022/07/15 15:01:06.128 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=10] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_meta (\n\t\tversion \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\ttable_id \t\tBIGINT(64) NOT NULL,\n\t\tmodify_count\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcount \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tsnapshot        BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tINDEX idx_ver(version),\n\t\tUNIQUE INDEX tbl(table_id)\n\t);"] [user=]
[2022/07/15 15:01:06.129 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:22, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:21, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.129 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:06.129 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:22, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:21, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.129 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_meta (\n\t\tversion \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\ttable_id \t\tBIGINT(64) NOT NULL,\n\t\tmodify_count\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcount \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tsnapshot        BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tINDEX idx_ver(version),\n\t\tUNIQUE INDEX tbl(table_id)\n\t);"]
[2022/07/15 15:01:06.129 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 5, tp general"] [job="ID:22, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:21, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.129 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.129 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 5, tp general"] [job="ID:22, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:21, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.129 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.129 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=22]
[2022/07/15 15:01:06.129 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:06.129 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=10] [neededSchemaVersion=11] ["start time"=66.042µs] [phyTblIDs="[21]"] [actionTypes="[8]"]
[2022/07/15 15:01:06.129 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=11] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_histograms (\n\t\ttable_id \t\t\tBIGINT(64) NOT NULL,\n\t\tis_index \t\t\tTINYINT(2) NOT NULL,\n\t\thist_id \t\t\tBIGINT(64) NOT NULL,\n\t\tdistinct_count \t\tBIGINT(64) NOT NULL,\n\t\tnull_count \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\ttot_col_size \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tmodify_count \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tversion \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tcm_sketch \t\t\tBLOB(6291456),\n\t\tstats_ver \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tflag \t\t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcorrelation \t\tDOUBLE NOT NULL DEFAULT 0,\n\t\tlast_analyze_pos \tLONGBLOB DEFAULT NULL,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id)\n\t);"] [user=]
[2022/07/15 15:01:06.130 +08:00] [INFO] [ddl_api.go:999] ["Automatically convert BLOB(6291456) to MEDIUMBLOB"]
[2022/07/15 15:01:06.130 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:24, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:23, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.13 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:06.130 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:24, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:23, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.13 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_histograms (\n\t\ttable_id \t\t\tBIGINT(64) NOT NULL,\n\t\tis_index \t\t\tTINYINT(2) NOT NULL,\n\t\thist_id \t\t\tBIGINT(64) NOT NULL,\n\t\tdistinct_count \t\tBIGINT(64) NOT NULL,\n\t\tnull_count \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\ttot_col_size \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tmodify_count \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tversion \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tcm_sketch \t\t\tBLOB(6291456),\n\t\tstats_ver \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tflag \t\t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcorrelation \t\tDOUBLE NOT NULL DEFAULT 0,\n\t\tlast_analyze_pos \tLONGBLOB DEFAULT NULL,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id)\n\t);"]
[2022/07/15 15:01:06.130 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 5, tp general"] [job="ID:24, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:23, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.13 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.130 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 5, tp general"] [job="ID:24, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:23, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.13 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.131 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=24]
[2022/07/15 15:01:06.131 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:06.131 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=11] [neededSchemaVersion=12] ["start time"=111.708µs] [phyTblIDs="[23]"] [actionTypes="[8]"]
[2022/07/15 15:01:06.131 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=12] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_buckets (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tbucket_id \tBIGINT(64) NOT NULL,\n\t\tcount \t\tBIGINT(64) NOT NULL,\n\t\trepeats \tBIGINT(64) NOT NULL,\n\t\tupper_bound LONGBLOB NOT NULL,\n\t\tlower_bound LONGBLOB ,\n\t\tndv         BIGINT NOT NULL DEFAULT 0,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id, bucket_id)\n\t);"] [user=]
[2022/07/15 15:01:06.131 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:26, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:25, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.131 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:06.131 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:26, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:25, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.131 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_buckets (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tbucket_id \tBIGINT(64) NOT NULL,\n\t\tcount \t\tBIGINT(64) NOT NULL,\n\t\trepeats \tBIGINT(64) NOT NULL,\n\t\tupper_bound LONGBLOB NOT NULL,\n\t\tlower_bound LONGBLOB ,\n\t\tndv         BIGINT NOT NULL DEFAULT 0,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id, bucket_id)\n\t);"]
[2022/07/15 15:01:06.131 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 5, tp general"] [job="ID:26, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:25, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.131 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.132 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 5, tp general"] [job="ID:26, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:25, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.131 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.132 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=26]
[2022/07/15 15:01:06.132 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:06.132 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=12] [neededSchemaVersion=13] ["start time"=94.333µs] [phyTblIDs="[25]"] [actionTypes="[8]"]
[2022/07/15 15:01:06.132 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=13] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_index (job_id, element_id)\n\t);"] [user=]
[2022/07/15 15:01:06.132 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:28, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:27, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.132 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:06.132 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:28, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:27, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.132 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_index (job_id, element_id)\n\t);"]
[2022/07/15 15:01:06.132 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 5, tp general"] [job="ID:28, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:27, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.132 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.133 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 5, tp general"] [job="ID:28, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:27, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.132 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.133 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=28]
[2022/07/15 15:01:06.133 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:06.133 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=13] [neededSchemaVersion=14] ["start time"=62.917µs] [phyTblIDs="[27]"] [actionTypes="[8]"]
[2022/07/15 15:01:06.133 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=14] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range_done (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_done_index (job_id, element_id)\n\t);"] [user=]
[2022/07/15 15:01:06.133 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:30, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:29, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.133 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:06.133 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:30, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:29, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.133 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range_done (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_done_index (job_id, element_id)\n\t);"]
[2022/07/15 15:01:06.133 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 5, tp general"] [job="ID:30, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:29, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.133 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.134 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 5, tp general"] [job="ID:30, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:29, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.133 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.134 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=30]
[2022/07/15 15:01:06.134 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:06.134 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=14] [neededSchemaVersion=15] ["start time"=60.333µs] [phyTblIDs="[29]"] [actionTypes="[8]"]
[2022/07/15 15:01:06.134 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=15] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_feedback (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tfeedback \tBLOB NOT NULL,\n\t\tINDEX hist(table_id, is_index, hist_id)\n\t);"] [user=]
[2022/07/15 15:01:06.134 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:32, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:31, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.134 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:06.134 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:32, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:31, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.134 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_feedback (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tfeedback \tBLOB NOT NULL,\n\t\tINDEX hist(table_id, is_index, hist_id)\n\t);"]
[2022/07/15 15:01:06.134 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 5, tp general"] [job="ID:32, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:31, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.134 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.134 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 5, tp general"] [job="ID:32, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:31, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.134 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.135 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=32]
[2022/07/15 15:01:06.135 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:06.135 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=15] [neededSchemaVersion=16] ["start time"=57.583µs] [phyTblIDs="[31]"] [actionTypes="[8]"]
[2022/07/15 15:01:06.135 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=16] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.role_edges (\n\t\tFROM_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tFROM_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tWITH_ADMIN_OPTION \tENUM('N','Y') CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (FROM_HOST,FROM_USER,TO_HOST,TO_USER)\n\t);"] [user=]
[2022/07/15 15:01:06.135 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:34, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:33, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.135 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:06.135 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:34, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:33, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.135 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.role_edges (\n\t\tFROM_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tFROM_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tWITH_ADMIN_OPTION \tENUM('N','Y') CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (FROM_HOST,FROM_USER,TO_HOST,TO_USER)\n\t);"]
[2022/07/15 15:01:06.135 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 5, tp general"] [job="ID:34, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:33, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.135 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.136 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 5, tp general"] [job="ID:34, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:33, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.135 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.136 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=34]
[2022/07/15 15:01:06.136 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:06.136 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=16] [neededSchemaVersion=17] ["start time"=66.167µs] [phyTblIDs="[33]"] [actionTypes="[8]"]
[2022/07/15 15:01:06.136 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=17] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.default_roles (\n\t\tHOST \t\t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tUSER \t\t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tDEFAULT_ROLE_HOST \tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '%',\n\t\tDEFAULT_ROLE_USER \tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tPRIMARY KEY (HOST,USER,DEFAULT_ROLE_HOST,DEFAULT_ROLE_USER)\n\t)"] [user=]
[2022/07/15 15:01:06.136 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:36, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:35, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.136 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:06.136 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:36, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:35, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.136 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.default_roles (\n\t\tHOST \t\t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tUSER \t\t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tDEFAULT_ROLE_HOST \tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '%',\n\t\tDEFAULT_ROLE_USER \tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tPRIMARY KEY (HOST,USER,DEFAULT_ROLE_HOST,DEFAULT_ROLE_USER)\n\t)"]
[2022/07/15 15:01:06.136 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 5, tp general"] [job="ID:36, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:35, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.136 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.136 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 5, tp general"] [job="ID:36, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:35, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.136 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.137 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=36]
[2022/07/15 15:01:06.137 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:06.137 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=17] [neededSchemaVersion=18] ["start time"=63.291µs] [phyTblIDs="[35]"] [actionTypes="[8]"]
[2022/07/15 15:01:06.137 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=18] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.bind_info (\n\t\toriginal_sql TEXT NOT NULL,\n\t\tbind_sql TEXT NOT NULL,\n\t\tdefault_db TEXT NOT NULL,\n\t\tstatus TEXT NOT NULL,\n\t\tcreate_time TIMESTAMP(3) NOT NULL,\n\t\tupdate_time TIMESTAMP(3) NOT NULL,\n\t\tcharset TEXT NOT NULL,\n\t\tcollation TEXT NOT NULL,\n\t\tsource VARCHAR(10) NOT NULL DEFAULT 'unknown',\n\t\tINDEX sql_index(original_sql(700),default_db(68)) COMMENT \"accelerate the speed when add global binding query\",\n\t\tINDEX time_index(update_time) COMMENT \"accelerate the speed when querying with last update time\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"] [user=]
[2022/07/15 15:01:06.137 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:38, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:37, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.137 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:06.137 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:38, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:37, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.137 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.bind_info (\n\t\toriginal_sql TEXT NOT NULL,\n\t\tbind_sql TEXT NOT NULL,\n\t\tdefault_db TEXT NOT NULL,\n\t\tstatus TEXT NOT NULL,\n\t\tcreate_time TIMESTAMP(3) NOT NULL,\n\t\tupdate_time TIMESTAMP(3) NOT NULL,\n\t\tcharset TEXT NOT NULL,\n\t\tcollation TEXT NOT NULL,\n\t\tsource VARCHAR(10) NOT NULL DEFAULT 'unknown',\n\t\tINDEX sql_index(original_sql(700),default_db(68)) COMMENT \"accelerate the speed when add global binding query\",\n\t\tINDEX time_index(update_time) COMMENT \"accelerate the speed when querying with last update time\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"]
[2022/07/15 15:01:06.137 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 5, tp general"] [job="ID:38, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:37, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.137 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.138 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 5, tp general"] [job="ID:38, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:37, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.137 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.138 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=38]
[2022/07/15 15:01:06.138 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:06.138 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=18] [neededSchemaVersion=19] ["start time"=94.75µs] [phyTblIDs="[37]"] [actionTypes="[8]"]
[2022/07/15 15:01:06.138 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=19] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_top_n (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tcount \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"] [user=]
[2022/07/15 15:01:06.138 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:40, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:39, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.138 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:06.138 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:40, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:39, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.138 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_top_n (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tcount \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"]
[2022/07/15 15:01:06.138 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 5, tp general"] [job="ID:40, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:39, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.138 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.139 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 5, tp general"] [job="ID:40, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:39, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.138 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.139 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=40]
[2022/07/15 15:01:06.139 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:06.139 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=19] [neededSchemaVersion=20] ["start time"=78.417µs] [phyTblIDs="[39]"] [actionTypes="[8]"]
[2022/07/15 15:01:06.139 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=20] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.expr_pushdown_blacklist (\n\t\tname \t\tCHAR(100) NOT NULL,\n\t\tstore_type \tCHAR(100) NOT NULL DEFAULT 'tikv,tiflash,tidb',\n\t\treason \t\tVARCHAR(200)\n\t);"] [user=]
[2022/07/15 15:01:06.139 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:42, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:41, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.139 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:06.139 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:42, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:41, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.139 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.expr_pushdown_blacklist (\n\t\tname \t\tCHAR(100) NOT NULL,\n\t\tstore_type \tCHAR(100) NOT NULL DEFAULT 'tikv,tiflash,tidb',\n\t\treason \t\tVARCHAR(200)\n\t);"]
[2022/07/15 15:01:06.139 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 5, tp general"] [job="ID:42, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:41, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.139 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.140 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 5, tp general"] [job="ID:42, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:41, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.139 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.140 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=42]
[2022/07/15 15:01:06.140 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:06.140 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=20] [neededSchemaVersion=21] ["start time"=46.791µs] [phyTblIDs="[41]"] [actionTypes="[8]"]
[2022/07/15 15:01:06.140 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=21] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.opt_rule_blacklist (\n\t\tname \tCHAR(100) NOT NULL\n\t);"] [user=]
[2022/07/15 15:01:06.140 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:44, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:43, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.14 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:06.140 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:44, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:43, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.14 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.opt_rule_blacklist (\n\t\tname \tCHAR(100) NOT NULL\n\t);"]
[2022/07/15 15:01:06.140 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 5, tp general"] [job="ID:44, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:43, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.14 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.140 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 5, tp general"] [job="ID:44, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:43, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.14 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.140 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=44]
[2022/07/15 15:01:06.140 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:06.140 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=21] [neededSchemaVersion=22] ["start time"=35.791µs] [phyTblIDs="[43]"] [actionTypes="[8]"]
[2022/07/15 15:01:06.141 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=22] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_extended (\n\t\tname varchar(32) NOT NULL,\n\t\ttype tinyint(4) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tcolumn_ids varchar(32) NOT NULL,\n\t\tstats blob DEFAULT NULL,\n\t\tversion bigint(64) unsigned NOT NULL,\n\t\tstatus tinyint(4) NOT NULL,\n\t\tPRIMARY KEY(name, table_id),\n\t\tKEY idx_1 (table_id, status, version),\n\t\tKEY idx_2 (status, version)\n\t);"] [user=]
[2022/07/15 15:01:06.141 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:46, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:45, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.141 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:06.141 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:46, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:45, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.141 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_extended (\n\t\tname varchar(32) NOT NULL,\n\t\ttype tinyint(4) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tcolumn_ids varchar(32) NOT NULL,\n\t\tstats blob DEFAULT NULL,\n\t\tversion bigint(64) unsigned NOT NULL,\n\t\tstatus tinyint(4) NOT NULL,\n\t\tPRIMARY KEY(name, table_id),\n\t\tKEY idx_1 (table_id, status, version),\n\t\tKEY idx_2 (status, version)\n\t);"]
[2022/07/15 15:01:06.141 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 5, tp general"] [job="ID:46, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:45, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.141 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.141 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 5, tp general"] [job="ID:46, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:45, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.141 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.142 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=46]
[2022/07/15 15:01:06.142 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:06.142 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=22] [neededSchemaVersion=23] ["start time"=86.166µs] [phyTblIDs="[45]"] [actionTypes="[8]"]
[2022/07/15 15:01:06.142 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=23] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.schema_index_usage (\n\t\tTABLE_ID bigint(64),\n\t\tINDEX_ID bigint(21),\n\t\tQUERY_COUNT bigint(64),\n\t\tROWS_SELECTED bigint(64),\n\t\tLAST_USED_AT timestamp,\n\t\tPRIMARY KEY(TABLE_ID, INDEX_ID)\n\t);"] [user=]
[2022/07/15 15:01:06.142 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:48, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:47, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.142 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:06.142 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:48, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:47, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.142 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.schema_index_usage (\n\t\tTABLE_ID bigint(64),\n\t\tINDEX_ID bigint(21),\n\t\tQUERY_COUNT bigint(64),\n\t\tROWS_SELECTED bigint(64),\n\t\tLAST_USED_AT timestamp,\n\t\tPRIMARY KEY(TABLE_ID, INDEX_ID)\n\t);"]
[2022/07/15 15:01:06.142 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 5, tp general"] [job="ID:48, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:47, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.142 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.142 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 5, tp general"] [job="ID:48, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:47, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.142 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.142 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=48]
[2022/07/15 15:01:06.142 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:06.142 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=23] [neededSchemaVersion=24] ["start time"=64.958µs] [phyTblIDs="[47]"] [actionTypes="[8]"]
[2022/07/15 15:01:06.143 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=24] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_fm_sketch (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"] [user=]
[2022/07/15 15:01:06.143 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:50, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:49, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.143 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:06.143 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:50, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:49, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.143 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_fm_sketch (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"]
[2022/07/15 15:01:06.143 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 5, tp general"] [job="ID:50, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:49, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.143 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.143 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 5, tp general"] [job="ID:50, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:49, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.143 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.143 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=50]
[2022/07/15 15:01:06.143 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:06.143 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=24] [neededSchemaVersion=25] ["start time"=59.75µs] [phyTblIDs="[49]"] [actionTypes="[8]"]
[2022/07/15 15:01:06.143 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=25] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.global_grants (\n\t\tUSER char(32) NOT NULL DEFAULT '',\n\t\tHOST char(255) NOT NULL DEFAULT '',\n\t\tPRIV char(32) NOT NULL DEFAULT '',\n\t\tWITH_GRANT_OPTION enum('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (USER,HOST,PRIV)\n\t);"] [user=]
[2022/07/15 15:01:06.144 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:52, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:51, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.143 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:06.144 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:52, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:51, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.143 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.global_grants (\n\t\tUSER char(32) NOT NULL DEFAULT '',\n\t\tHOST char(255) NOT NULL DEFAULT '',\n\t\tPRIV char(32) NOT NULL DEFAULT '',\n\t\tWITH_GRANT_OPTION enum('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (USER,HOST,PRIV)\n\t);"]
[2022/07/15 15:01:06.144 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 5, tp general"] [job="ID:52, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:51, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.143 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.144 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 5, tp general"] [job="ID:52, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:51, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.143 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.144 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=52]
[2022/07/15 15:01:06.144 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:06.144 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=25] [neededSchemaVersion=26] ["start time"=59.333µs] [phyTblIDs="[51]"] [actionTypes="[8]"]
[2022/07/15 15:01:06.144 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=26] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.capture_plan_baselines_blacklist (\n\t\tid bigint(64) auto_increment,\n\t\tfilter_type varchar(32) NOT NULL COMMENT \"type of the filter, only db, table and frequency supported now\",\n\t\tfilter_value varchar(32) NOT NULL,\n\t\tkey idx(filter_type),\n\t\tprimary key(id)\n\t);"] [user=]
[2022/07/15 15:01:06.144 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:54, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:53, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.144 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:06.144 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:54, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:53, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.144 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.capture_plan_baselines_blacklist (\n\t\tid bigint(64) auto_increment,\n\t\tfilter_type varchar(32) NOT NULL COMMENT \"type of the filter, only db, table and frequency supported now\",\n\t\tfilter_value varchar(32) NOT NULL,\n\t\tkey idx(filter_type),\n\t\tprimary key(id)\n\t);"]
[2022/07/15 15:01:06.144 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 5, tp general"] [job="ID:54, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:53, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.144 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.145 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 5, tp general"] [job="ID:54, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:53, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.144 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.145 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=54]
[2022/07/15 15:01:06.145 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:06.145 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=26] [neededSchemaVersion=27] ["start time"=49.042µs] [phyTblIDs="[53]"] [actionTypes="[8]"]
[2022/07/15 15:01:06.145 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=27] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.column_stats_usage (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tcolumn_id BIGINT(64) NOT NULL,\n\t\tlast_used_at TIMESTAMP,\n\t\tlast_analyzed_at TIMESTAMP,\n\t\tPRIMARY KEY (table_id, column_id) CLUSTERED\n\t);"] [user=]
[2022/07/15 15:01:06.145 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:56, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:55, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.145 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:06.145 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:56, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:55, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.145 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.column_stats_usage (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tcolumn_id BIGINT(64) NOT NULL,\n\t\tlast_used_at TIMESTAMP,\n\t\tlast_analyzed_at TIMESTAMP,\n\t\tPRIMARY KEY (table_id, column_id) CLUSTERED\n\t);"]
[2022/07/15 15:01:06.145 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 5, tp general"] [job="ID:56, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:55, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.145 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.146 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 5, tp general"] [job="ID:56, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:55, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.145 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.146 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=56]
[2022/07/15 15:01:06.146 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:06.146 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=27] [neededSchemaVersion=28] ["start time"=52µs] [phyTblIDs="[55]"] [actionTypes="[8]"]
[2022/07/15 15:01:06.146 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=28] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.table_cache_meta (\n\t\ttid bigint(11) NOT NULL DEFAULT 0,\n\t\tlock_type enum('NONE','READ', 'INTEND', 'WRITE') NOT NULL DEFAULT 'NONE',\n\t\tlease bigint(20) NOT NULL DEFAULT 0,\n\t\toldReadLease bigint(20) NOT NULL DEFAULT 0,\n\t\tPRIMARY KEY (tid)\n\t);"] [user=]
[2022/07/15 15:01:06.146 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:58, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:57, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.146 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:06.146 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:58, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:57, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.146 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.table_cache_meta (\n\t\ttid bigint(11) NOT NULL DEFAULT 0,\n\t\tlock_type enum('NONE','READ', 'INTEND', 'WRITE') NOT NULL DEFAULT 'NONE',\n\t\tlease bigint(20) NOT NULL DEFAULT 0,\n\t\toldReadLease bigint(20) NOT NULL DEFAULT 0,\n\t\tPRIMARY KEY (tid)\n\t);"]
[2022/07/15 15:01:06.146 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 5, tp general"] [job="ID:58, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:57, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.146 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.146 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 5, tp general"] [job="ID:58, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:57, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.146 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.146 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=58]
[2022/07/15 15:01:06.146 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:06.147 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=28] [neededSchemaVersion=29] ["start time"=58.375µs] [phyTblIDs="[57]"] [actionTypes="[8]"]
[2022/07/15 15:01:06.147 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=29] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.analyze_options (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tsample_num BIGINT(64) NOT NULL DEFAULT 0,\n\t\tsample_rate DOUBLE NOT NULL DEFAULT -1,\n\t\tbuckets BIGINT(64) NOT NULL DEFAULT 0,\n\t\ttopn BIGINT(64) NOT NULL DEFAULT -1,\n\t\tcolumn_choice enum('DEFAULT','ALL','PREDICATE','LIST') NOT NULL DEFAULT 'DEFAULT',\n\t\tcolumn_ids TEXT(19372),\n\t\tPRIMARY KEY (table_id) CLUSTERED\n\t);"] [user=]
[2022/07/15 15:01:06.147 +08:00] [INFO] [ddl_api.go:999] ["Automatically convert BLOB(19372) to MEDIUMBLOB"]
[2022/07/15 15:01:06.147 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:60, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:59, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.147 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:06.147 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:60, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:59, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.147 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.analyze_options (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tsample_num BIGINT(64) NOT NULL DEFAULT 0,\n\t\tsample_rate DOUBLE NOT NULL DEFAULT -1,\n\t\tbuckets BIGINT(64) NOT NULL DEFAULT 0,\n\t\ttopn BIGINT(64) NOT NULL DEFAULT -1,\n\t\tcolumn_choice enum('DEFAULT','ALL','PREDICATE','LIST') NOT NULL DEFAULT 'DEFAULT',\n\t\tcolumn_ids TEXT(19372),\n\t\tPRIMARY KEY (table_id) CLUSTERED\n\t);"]
[2022/07/15 15:01:06.147 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 5, tp general"] [job="ID:60, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:59, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.147 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.147 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 5, tp general"] [job="ID:60, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:59, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.147 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.147 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=60]
[2022/07/15 15:01:06.147 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:06.148 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=29] [neededSchemaVersion=30] ["start time"=76.25µs] [phyTblIDs="[59]"] [actionTypes="[8]"]
[2022/07/15 15:01:06.148 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=30] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tstats_data longblob NOT NULL,\n\t\tseq_no bigint(64) NOT NULL comment 'sequence number of the gzipped data slice',\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version_seq (table_id, version, seq_no),\n\t\tKEY table_create_time (table_id, create_time, seq_no)\n\t);"] [user=]
[2022/07/15 15:01:06.148 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:62, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:61, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.148 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:06.148 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:62, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:61, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.148 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tstats_data longblob NOT NULL,\n\t\tseq_no bigint(64) NOT NULL comment 'sequence number of the gzipped data slice',\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version_seq (table_id, version, seq_no),\n\t\tKEY table_create_time (table_id, create_time, seq_no)\n\t);"]
[2022/07/15 15:01:06.148 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 5, tp general"] [job="ID:62, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:61, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.148 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.148 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 5, tp general"] [job="ID:62, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:61, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.148 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.148 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=62]
[2022/07/15 15:01:06.148 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:06.149 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=30] [neededSchemaVersion=31] ["start time"=78.041µs] [phyTblIDs="[61]"] [actionTypes="[8]"]
[2022/07/15 15:01:06.149 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=31] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_meta_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL,\n\t\tcount bigint(64) NOT NULL,\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version (table_id, version),\n\t\tKEY table_create_time (table_id, create_time)\n\t);"] [user=]
[2022/07/15 15:01:06.149 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:64, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:63, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.149 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:06.149 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:64, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:63, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.149 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_meta_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL,\n\t\tcount bigint(64) NOT NULL,\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version (table_id, version),\n\t\tKEY table_create_time (table_id, create_time)\n\t);"]
[2022/07/15 15:01:06.149 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 5, tp general"] [job="ID:64, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:63, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.149 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.149 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 5, tp general"] [job="ID:64, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:63, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.149 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.149 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=64]
[2022/07/15 15:01:06.149 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:06.149 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=31] [neededSchemaVersion=32] ["start time"=68.834µs] [phyTblIDs="[63]"] [actionTypes="[8]"]
[2022/07/15 15:01:06.150 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=32] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.analyze_jobs (\n\t\tid BIGINT(64) UNSIGNED NOT NULL AUTO_INCREMENT,\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\ttable_schema CHAR(64) NOT NULL DEFAULT '',\n\t\ttable_name CHAR(64) NOT NULL DEFAULT '',\n\t\tpartition_name CHAR(64) NOT NULL DEFAULT '',\n\t\tjob_info TEXT NOT NULL,\n\t\tprocessed_rows BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tstart_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tstate ENUM('pending', 'running', 'finished', 'failed') NOT NULL,\n\t\tfail_reason TEXT,\n\t\tinstance VARCHAR(512) NOT NULL comment 'address of the TiDB instance executing the analyze job',\n\t\tprocess_id BIGINT(64) UNSIGNED comment 'ID of the process executing the analyze job',\n\t\tPRIMARY KEY (id),\n\t\tKEY (update_time)\n\t);"] [user=]
[2022/07/15 15:01:06.150 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:66, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:65, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.15 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:06.150 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:66, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:65, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.15 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.analyze_jobs (\n\t\tid BIGINT(64) UNSIGNED NOT NULL AUTO_INCREMENT,\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\ttable_schema CHAR(64) NOT NULL DEFAULT '',\n\t\ttable_name CHAR(64) NOT NULL DEFAULT '',\n\t\tpartition_name CHAR(64) NOT NULL DEFAULT '',\n\t\tjob_info TEXT NOT NULL,\n\t\tprocessed_rows BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tstart_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tstate ENUM('pending', 'running', 'finished', 'failed') NOT NULL,\n\t\tfail_reason TEXT,\n\t\tinstance VARCHAR(512) NOT NULL comment 'address of the TiDB instance executing the analyze job',\n\t\tprocess_id BIGINT(64) UNSIGNED comment 'ID of the process executing the analyze job',\n\t\tPRIMARY KEY (id),\n\t\tKEY (update_time)\n\t);"]
[2022/07/15 15:01:06.150 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 5, tp general"] [job="ID:66, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:65, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.15 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.151 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 5, tp general"] [job="ID:66, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:65, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.15 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.151 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=66]
[2022/07/15 15:01:06.151 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:06.151 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=32] [neededSchemaVersion=33] ["start time"=116.5µs] [phyTblIDs="[65]"] [actionTypes="[8]"]
[2022/07/15 15:01:06.151 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=33] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.advisory_locks (\n\t\tlock_name VARCHAR(64) NOT NULL PRIMARY KEY\n\t);"] [user=]
[2022/07/15 15:01:06.151 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:68, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:67, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.151 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:06.151 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:68, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:67, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.151 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.advisory_locks (\n\t\tlock_name VARCHAR(64) NOT NULL PRIMARY KEY\n\t);"]
[2022/07/15 15:01:06.151 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 5, tp general"] [job="ID:68, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:67, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.151 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.151 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 5, tp general"] [job="ID:68, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:67, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.151 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.152 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=68]
[2022/07/15 15:01:06.152 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:06.152 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=33] [neededSchemaVersion=34] ["start time"=55.667µs] [phyTblIDs="[67]"] [actionTypes="[8]"]
[2022/07/15 15:01:06.157 +08:00] [INFO] [bootstrap.go:448] ["bootstrap successful"] ["take time"=41.756791ms]
[2022/07/15 15:01:06.157 +08:00] [INFO] [ddl_worker.go:158] ["[ddl] DDL worker closed"] [worker="worker 5, tp general"] ["take time"=125ns]
[2022/07/15 15:01:06.157 +08:00] [INFO] [ddl_worker.go:158] ["[ddl] DDL worker closed"] [worker="worker 6, tp add index"] ["take time"=42ns]
[2022/07/15 15:01:06.157 +08:00] [INFO] [delete_range.go:148] ["[ddl] closing delRange"]
[2022/07/15 15:01:06.157 +08:00] [INFO] [session_pool.go:94] ["[ddl] closing sessionPool"]
[2022/07/15 15:01:06.157 +08:00] [INFO] [ddl.go:576] ["[ddl] DDL closed"] [ID=3a5f2b38-9332-421a-a944-78025db2e8fb] ["take time"=56.042µs]
[2022/07/15 15:01:06.157 +08:00] [INFO] [ddl.go:464] ["[ddl] stop DDL"] [ID=3a5f2b38-9332-421a-a944-78025db2e8fb]
[2022/07/15 15:01:06.158 +08:00] [INFO] [domain.go:498] ["topNSlowQueryLoop exited."]
[2022/07/15 15:01:06.158 +08:00] [INFO] [domain.go:575] ["topologySyncerKeeper exited."]
[2022/07/15 15:01:06.158 +08:00] [INFO] [domain.go:527] ["infoSyncerKeeper exited."]
[2022/07/15 15:01:06.158 +08:00] [INFO] [domain.go:552] ["globalConfigSyncerKeeper exited."]
[2022/07/15 15:01:06.158 +08:00] [INFO] [domain.go:733] ["domain closed"] ["take time"=101.75µs]
[2022/07/15 15:01:06.158 +08:00] [INFO] [tidb.go:74] ["new domain"] [store=0a9e73e5-9787-45b6-a3fd-f46bc23e5a40] ["ddl lease"=0s] ["stats lease"=-1ns] ["index usage sync lease"=0s]
[2022/07/15 15:01:06.160 +08:00] [INFO] [domain.go:178] ["full load InfoSchema success"] [currentSchemaVersion=0] [neededSchemaVersion=34] ["start time"=2.239917ms]
[2022/07/15 15:01:06.160 +08:00] [INFO] [domain.go:449] ["full load and reset schema validator"]
[2022/07/15 15:01:06.160 +08:00] [INFO] [ddl.go:483] ["[ddl] start DDL"] [ID=14181911-7944-4e76-8bab-76be4d1b5d34] [runWorker=true]
[2022/07/15 15:01:06.160 +08:00] [INFO] [ddl.go:472] ["[ddl] start delRangeManager OK"] ["is a emulator"=true]
[2022/07/15 15:01:06.160 +08:00] [INFO] [delete_range.go:158] ["[ddl] start delRange emulator"]
[2022/07/15 15:01:06.160 +08:00] [INFO] [ddl_worker.go:164] ["[ddl] start DDL worker"] [worker="worker 7, tp general"]
[2022/07/15 15:01:06.160 +08:00] [INFO] [ddl_worker.go:164] ["[ddl] start DDL worker"] [worker="worker 8, tp add index"]
[2022/07/15 15:01:06.161 +08:00] [WARN] [sysvar_cache.go:53] ["sysvar cache is empty, triggering rebuild"]
[2022/07/15 15:01:06.164 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=2] [schemaVersion=34] [cur_db=test] [sql="drop table if exists t"] [user=]
[2022/07/15 15:01:06.164 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=2] [schemaVersion=34] [cur_db=test] [sql="create table t(a int not null primary key, b int not null) partition by hash(a) partitions 2"] [user=]
[2022/07/15 15:01:06.165 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:72, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.165 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:06.165 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:72, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.165 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="create table t(a int not null primary key, b int not null) partition by hash(a) partitions 2"]
[2022/07/15 15:01:06.165 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 7, tp general"] [job="ID:72, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.165 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.165 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 7, tp general"] [job="ID:72, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:69, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.165 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.165 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=72]
[2022/07/15 15:01:06.165 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:06.165 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=34] [neededSchemaVersion=35] ["start time"=99.625µs] [phyTblIDs="[69,70,71]"] [actionTypes="[8,8,8]"]
[2022/07/15 15:01:06.165 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=2] [schemaVersion=35] [cur_db=test] [sql="alter table t set tiflash replica 1"] [user=]
[2022/07/15 15:01:06.166 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:73, Type:set tiflash replica, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.166 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:06.166 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:73, Type:set tiflash replica, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.166 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="alter table t set tiflash replica 1"]
[2022/07/15 15:01:06.166 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 7, tp general"] [job="ID:73, Type:set tiflash replica, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.166 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.166 +08:00] [INFO] [table.go:1098] ["Set TiFlash replica pd rule for partitioned table"] [tableID=69]
[2022/07/15 15:01:06.166 +08:00] [INFO] [info.go:1067] [ConfigureTiFlashPDForPartitions] [tableID=69] [partID=70] [accel=false] [count=1]
[2022/07/15 15:01:06.166 +08:00] [INFO] [info.go:1067] [ConfigureTiFlashPDForPartitions] [tableID=69] [partID=71] [accel=false] [count=1]
[2022/07/15 15:01:06.166 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 7, tp general"] [job="ID:73, Type:set tiflash replica, State:synced, SchemaState:public, SchemaID:1, TableID:69, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.166 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.166 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=73]
[2022/07/15 15:01:06.166 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:06.166 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=35] [neededSchemaVersion=36] ["start time"=81.542µs] [phyTblIDs="[]"] [actionTypes="[]"]
[2022/07/15 15:01:06.166 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:74, Type:update tiflash replica status, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:2, start time: 2022-07-15 15:01:06.166 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:06.166 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:74, Type:update tiflash replica status, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:2, start time: 2022-07-15 15:01:06.166 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query=]
[2022/07/15 15:01:06.166 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 7, tp general"] [job="ID:74, Type:update tiflash replica status, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.166 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.166 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 7, tp general"] [job="ID:74, Type:update tiflash replica status, State:synced, SchemaState:public, SchemaID:1, TableID:69, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.166 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.167 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=74]
[2022/07/15 15:01:06.167 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:06.167 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=36] [neededSchemaVersion=37] ["start time"=67.208µs] [phyTblIDs="[]"] [actionTypes="[]"]
[2022/07/15 15:01:06.169 +08:00] [WARN] [charset.go:169] ["unable to get collation name from collation ID, return default charset and collation instead"] [ID=0] [stack="github.com/pingcap/tidb/parser/charset.GetCharsetInfoByID\n\t/Users/hongyunyan/Desktop/tidb/parser/charset/charset.go:172\ngithub.com/pingcap/tidb/store/mockstore/unistore/cophandler.fieldTypeFromPBColumn\n\t/Users/hongyunyan/Desktop/tidb/store/mockstore/unistore/cophandler/cop_handler.go:608\ngithub.com/pingcap/tidb/store/mockstore/unistore/cophandler.(*mppExecBuilder).buildMPPTableScan\n\t/Users/hongyunyan/Desktop/tidb/store/mockstore/unistore/cophandler/mpp.go:89\ngithub.com/pingcap/tidb/store/mockstore/unistore/cophandler.(*mppExecBuilder).buildMPPExecutor\n\t/Users/hongyunyan/Desktop/tidb/store/mockstore/unistore/cophandler/mpp.go:470\ngithub.com/pingcap/tidb/store/mockstore/unistore/cophandler.buildAndRunMPPExecutor\n\t/Users/hongyunyan/Desktop/tidb/store/mockstore/unistore/cophandler/cop_handler.go:184\ngithub.com/pingcap/tidb/store/mockstore/unistore/cophandler.handleCopDAGRequest\n\t/Users/hongyunyan/Desktop/tidb/store/mockstore/unistore/cophandler/cop_handler.go:144\ngithub.com/pingcap/tidb/store/mockstore/unistore/cophandler.HandleCopRequestWithMPPCtx\n\t/Users/hongyunyan/Desktop/tidb/store/mockstore/unistore/cophandler/cop_handler.go:71\ngithub.com/pingcap/tidb/store/mockstore/unistore/cophandler.HandleCopRequest\n\t/Users/hongyunyan/Desktop/tidb/store/mockstore/unistore/cophandler/cop_handler.go:59\ngithub.com/pingcap/tidb/store/mockstore/unistore/tikv.(*Server).Coprocessor\n\t/Users/hongyunyan/Desktop/tidb/store/mockstore/unistore/tikv/server.go:565\ngithub.com/pingcap/tidb/store/mockstore/unistore.(*RPCClient).SendRequest\n\t/Users/hongyunyan/Desktop/tidb/store/mockstore/unistore/rpc.go:246\ngithub.com/pingcap/tidb/store/mockstore.(*clientRedirector).SendRequest\n\t/Users/hongyunyan/Desktop/tidb/store/mockstore/redirector.go:72\ngithub.com/tikv/client-go/v2/internal/client.interceptedClient.SendRequest.func1\n\t/Users/hongyunyan/go/pkg/mod/github.com/tikv/client-go/v2@v2.0.1-0.20220627063500-947d923945fd/internal/client/client_interceptor.go:39\ngithub.com/pingcap/tidb/util/topsql/stmtstats.(*KvExecCounter).RPCInterceptor.func1.1\n\t/Users/hongyunyan/Desktop/tidb/util/topsql/stmtstats/kv_exec_count.go:57\ngithub.com/tikv/client-go/v2/internal/client.interceptedClient.SendRequest\n\t/Users/hongyunyan/go/pkg/mod/github.com/tikv/client-go/v2@v2.0.1-0.20220627063500-947d923945fd/internal/client/client_interceptor.go:40\ngithub.com/tikv/client-go/v2/internal/client.reqCollapse.SendRequest\n\t/Users/hongyunyan/go/pkg/mod/github.com/tikv/client-go/v2@v2.0.1-0.20220627063500-947d923945fd/internal/client/client_collapse.go:74\ngithub.com/tikv/client-go/v2/internal/locate.(*RegionRequestSender).sendReqToRegion\n\t/Users/hongyunyan/go/pkg/mod/github.com/tikv/client-go/v2@v2.0.1-0.20220627063500-947d923945fd/internal/locate/region_request.go:1180\ngithub.com/tikv/client-go/v2/internal/locate.(*RegionRequestSender).SendReqCtx\n\t/Users/hongyunyan/go/pkg/mod/github.com/tikv/client-go/v2@v2.0.1-0.20220627063500-947d923945fd/internal/locate/region_request.go:1015\ngithub.com/tikv/client-go/v2/txnkv/txnsnapshot.(*ClientHelper).SendReqCtx\n\t/Users/hongyunyan/go/pkg/mod/github.com/tikv/client-go/v2@v2.0.1-0.20220627063500-947d923945fd/txnkv/txnsnapshot/client_helper.go:146\ngithub.com/pingcap/tidb/store/copr.(*copIteratorWorker).handleTaskOnce\n\t/Users/hongyunyan/Desktop/tidb/store/copr/coprocessor.go:766\ngithub.com/pingcap/tidb/store/copr.(*copIteratorWorker).handleTask\n\t/Users/hongyunyan/Desktop/tidb/store/copr/coprocessor.go:677\ngithub.com/pingcap/tidb/store/copr.(*copIteratorWorker).run\n\t/Users/hongyunyan/Desktop/tidb/store/copr/coprocessor.go:419"]
[2022/07/15 15:01:06.169 +08:00] [WARN] [charset.go:169] ["unable to get collation name from collation ID, return default charset and collation instead"] [ID=0] [stack="github.com/pingcap/tidb/parser/charset.GetCharsetInfoByID\n\t/Users/hongyunyan/Desktop/tidb/parser/charset/charset.go:172\ngithub.com/pingcap/tidb/store/mockstore/unistore/cophandler.fieldTypeFromPBColumn\n\t/Users/hongyunyan/Desktop/tidb/store/mockstore/unistore/cophandler/cop_handler.go:608\ngithub.com/pingcap/tidb/store/mockstore/unistore/cophandler.(*mppExecBuilder).buildMPPTableScan\n\t/Users/hongyunyan/Desktop/tidb/store/mockstore/unistore/cophandler/mpp.go:89\ngithub.com/pingcap/tidb/store/mockstore/unistore/cophandler.(*mppExecBuilder).buildMPPExecutor\n\t/Users/hongyunyan/Desktop/tidb/store/mockstore/unistore/cophandler/mpp.go:470\ngithub.com/pingcap/tidb/store/mockstore/unistore/cophandler.buildAndRunMPPExecutor\n\t/Users/hongyunyan/Desktop/tidb/store/mockstore/unistore/cophandler/cop_handler.go:184\ngithub.com/pingcap/tidb/store/mockstore/unistore/cophandler.handleCopDAGRequest\n\t/Users/hongyunyan/Desktop/tidb/store/mockstore/unistore/cophandler/cop_handler.go:144\ngithub.com/pingcap/tidb/store/mockstore/unistore/cophandler.HandleCopRequestWithMPPCtx\n\t/Users/hongyunyan/Desktop/tidb/store/mockstore/unistore/cophandler/cop_handler.go:71\ngithub.com/pingcap/tidb/store/mockstore/unistore/cophandler.HandleCopRequest\n\t/Users/hongyunyan/Desktop/tidb/store/mockstore/unistore/cophandler/cop_handler.go:59\ngithub.com/pingcap/tidb/store/mockstore/unistore/tikv.(*Server).Coprocessor\n\t/Users/hongyunyan/Desktop/tidb/store/mockstore/unistore/tikv/server.go:565\ngithub.com/pingcap/tidb/store/mockstore/unistore.(*RPCClient).SendRequest\n\t/Users/hongyunyan/Desktop/tidb/store/mockstore/unistore/rpc.go:246\ngithub.com/pingcap/tidb/store/mockstore.(*clientRedirector).SendRequest\n\t/Users/hongyunyan/Desktop/tidb/store/mockstore/redirector.go:72\ngithub.com/tikv/client-go/v2/internal/client.interceptedClient.SendRequest.func1\n\t/Users/hongyunyan/go/pkg/mod/github.com/tikv/client-go/v2@v2.0.1-0.20220627063500-947d923945fd/internal/client/client_interceptor.go:39\ngithub.com/pingcap/tidb/util/topsql/stmtstats.(*KvExecCounter).RPCInterceptor.func1.1\n\t/Users/hongyunyan/Desktop/tidb/util/topsql/stmtstats/kv_exec_count.go:57\ngithub.com/tikv/client-go/v2/internal/client.interceptedClient.SendRequest\n\t/Users/hongyunyan/go/pkg/mod/github.com/tikv/client-go/v2@v2.0.1-0.20220627063500-947d923945fd/internal/client/client_interceptor.go:40\ngithub.com/tikv/client-go/v2/internal/client.reqCollapse.SendRequest\n\t/Users/hongyunyan/go/pkg/mod/github.com/tikv/client-go/v2@v2.0.1-0.20220627063500-947d923945fd/internal/client/client_collapse.go:74\ngithub.com/tikv/client-go/v2/internal/locate.(*RegionRequestSender).sendReqToRegion\n\t/Users/hongyunyan/go/pkg/mod/github.com/tikv/client-go/v2@v2.0.1-0.20220627063500-947d923945fd/internal/locate/region_request.go:1180\ngithub.com/tikv/client-go/v2/internal/locate.(*RegionRequestSender).SendReqCtx\n\t/Users/hongyunyan/go/pkg/mod/github.com/tikv/client-go/v2@v2.0.1-0.20220627063500-947d923945fd/internal/locate/region_request.go:1015\ngithub.com/tikv/client-go/v2/txnkv/txnsnapshot.(*ClientHelper).SendReqCtx\n\t/Users/hongyunyan/go/pkg/mod/github.com/tikv/client-go/v2@v2.0.1-0.20220627063500-947d923945fd/txnkv/txnsnapshot/client_helper.go:146\ngithub.com/pingcap/tidb/store/copr.(*copIteratorWorker).handleTaskOnce\n\t/Users/hongyunyan/Desktop/tidb/store/copr/coprocessor.go:766\ngithub.com/pingcap/tidb/store/copr.(*copIteratorWorker).handleTask\n\t/Users/hongyunyan/Desktop/tidb/store/copr/coprocessor.go:677\ngithub.com/pingcap/tidb/store/copr.(*copIteratorWorker).run\n\t/Users/hongyunyan/Desktop/tidb/store/copr/coprocessor.go:419"]
[2022/07/15 15:01:06.169 +08:00] [WARN] [charset.go:169] ["unable to get collation name from collation ID, return default charset and collation instead"] [ID=0] [stack="github.com/pingcap/tidb/parser/charset.GetCharsetInfoByID\n\t/Users/hongyunyan/Desktop/tidb/parser/charset/charset.go:172\ngithub.com/pingcap/tidb/store/mockstore/unistore/cophandler.fieldTypeFromPBColumn\n\t/Users/hongyunyan/Desktop/tidb/store/mockstore/unistore/cophandler/cop_handler.go:608\ngithub.com/pingcap/tidb/store/mockstore/unistore/cophandler.(*mppExecBuilder).buildMPPTableScan\n\t/Users/hongyunyan/Desktop/tidb/store/mockstore/unistore/cophandler/mpp.go:89\ngithub.com/pingcap/tidb/store/mockstore/unistore/cophandler.(*mppExecBuilder).buildMPPExecutor\n\t/Users/hongyunyan/Desktop/tidb/store/mockstore/unistore/cophandler/mpp.go:470\ngithub.com/pingcap/tidb/store/mockstore/unistore/cophandler.buildAndRunMPPExecutor\n\t/Users/hongyunyan/Desktop/tidb/store/mockstore/unistore/cophandler/cop_handler.go:184\ngithub.com/pingcap/tidb/store/mockstore/unistore/cophandler.handleCopDAGRequest\n\t/Users/hongyunyan/Desktop/tidb/store/mockstore/unistore/cophandler/cop_handler.go:144\ngithub.com/pingcap/tidb/store/mockstore/unistore/cophandler.HandleCopRequestWithMPPCtx\n\t/Users/hongyunyan/Desktop/tidb/store/mockstore/unistore/cophandler/cop_handler.go:71\ngithub.com/pingcap/tidb/store/mockstore/unistore/cophandler.HandleCopRequest\n\t/Users/hongyunyan/Desktop/tidb/store/mockstore/unistore/cophandler/cop_handler.go:59\ngithub.com/pingcap/tidb/store/mockstore/unistore/tikv.(*Server).Coprocessor\n\t/Users/hongyunyan/Desktop/tidb/store/mockstore/unistore/tikv/server.go:565\ngithub.com/pingcap/tidb/store/mockstore/unistore.(*RPCClient).SendRequest\n\t/Users/hongyunyan/Desktop/tidb/store/mockstore/unistore/rpc.go:246\ngithub.com/pingcap/tidb/store/mockstore.(*clientRedirector).SendRequest\n\t/Users/hongyunyan/Desktop/tidb/store/mockstore/redirector.go:72\ngithub.com/tikv/client-go/v2/internal/client.interceptedClient.SendRequest.func1\n\t/Users/hongyunyan/go/pkg/mod/github.com/tikv/client-go/v2@v2.0.1-0.20220627063500-947d923945fd/internal/client/client_interceptor.go:39\ngithub.com/pingcap/tidb/util/topsql/stmtstats.(*KvExecCounter).RPCInterceptor.func1.1\n\t/Users/hongyunyan/Desktop/tidb/util/topsql/stmtstats/kv_exec_count.go:57\ngithub.com/tikv/client-go/v2/internal/client.interceptedClient.SendRequest\n\t/Users/hongyunyan/go/pkg/mod/github.com/tikv/client-go/v2@v2.0.1-0.20220627063500-947d923945fd/internal/client/client_interceptor.go:40\ngithub.com/tikv/client-go/v2/internal/client.reqCollapse.SendRequest\n\t/Users/hongyunyan/go/pkg/mod/github.com/tikv/client-go/v2@v2.0.1-0.20220627063500-947d923945fd/internal/client/client_collapse.go:74\ngithub.com/tikv/client-go/v2/internal/locate.(*RegionRequestSender).sendReqToRegion\n\t/Users/hongyunyan/go/pkg/mod/github.com/tikv/client-go/v2@v2.0.1-0.20220627063500-947d923945fd/internal/locate/region_request.go:1180\ngithub.com/tikv/client-go/v2/internal/locate.(*RegionRequestSender).SendReqCtx\n\t/Users/hongyunyan/go/pkg/mod/github.com/tikv/client-go/v2@v2.0.1-0.20220627063500-947d923945fd/internal/locate/region_request.go:1015\ngithub.com/tikv/client-go/v2/txnkv/txnsnapshot.(*ClientHelper).SendReqCtx\n\t/Users/hongyunyan/go/pkg/mod/github.com/tikv/client-go/v2@v2.0.1-0.20220627063500-947d923945fd/txnkv/txnsnapshot/client_helper.go:146\ngithub.com/pingcap/tidb/store/copr.(*copIteratorWorker).handleTaskOnce\n\t/Users/hongyunyan/Desktop/tidb/store/copr/coprocessor.go:766\ngithub.com/pingcap/tidb/store/copr.(*copIteratorWorker).handleTask\n\t/Users/hongyunyan/Desktop/tidb/store/copr/coprocessor.go:677\ngithub.com/pingcap/tidb/store/copr.(*copIteratorWorker).run\n\t/Users/hongyunyan/Desktop/tidb/store/copr/coprocessor.go:419"]
[2022/07/15 15:01:06.169 +08:00] [WARN] [charset.go:169] ["unable to get collation name from collation ID, return default charset and collation instead"] [ID=0] [stack="github.com/pingcap/tidb/parser/charset.GetCharsetInfoByID\n\t/Users/hongyunyan/Desktop/tidb/parser/charset/charset.go:172\ngithub.com/pingcap/tidb/store/mockstore/unistore/cophandler.fieldTypeFromPBColumn\n\t/Users/hongyunyan/Desktop/tidb/store/mockstore/unistore/cophandler/cop_handler.go:608\ngithub.com/pingcap/tidb/store/mockstore/unistore/cophandler.(*mppExecBuilder).buildMPPTableScan\n\t/Users/hongyunyan/Desktop/tidb/store/mockstore/unistore/cophandler/mpp.go:89\ngithub.com/pingcap/tidb/store/mockstore/unistore/cophandler.(*mppExecBuilder).buildMPPExecutor\n\t/Users/hongyunyan/Desktop/tidb/store/mockstore/unistore/cophandler/mpp.go:470\ngithub.com/pingcap/tidb/store/mockstore/unistore/cophandler.buildAndRunMPPExecutor\n\t/Users/hongyunyan/Desktop/tidb/store/mockstore/unistore/cophandler/cop_handler.go:184\ngithub.com/pingcap/tidb/store/mockstore/unistore/cophandler.handleCopDAGRequest\n\t/Users/hongyunyan/Desktop/tidb/store/mockstore/unistore/cophandler/cop_handler.go:144\ngithub.com/pingcap/tidb/store/mockstore/unistore/cophandler.HandleCopRequestWithMPPCtx\n\t/Users/hongyunyan/Desktop/tidb/store/mockstore/unistore/cophandler/cop_handler.go:71\ngithub.com/pingcap/tidb/store/mockstore/unistore/cophandler.HandleCopRequest\n\t/Users/hongyunyan/Desktop/tidb/store/mockstore/unistore/cophandler/cop_handler.go:59\ngithub.com/pingcap/tidb/store/mockstore/unistore/tikv.(*Server).Coprocessor\n\t/Users/hongyunyan/Desktop/tidb/store/mockstore/unistore/tikv/server.go:565\ngithub.com/pingcap/tidb/store/mockstore/unistore.(*RPCClient).SendRequest\n\t/Users/hongyunyan/Desktop/tidb/store/mockstore/unistore/rpc.go:246\ngithub.com/pingcap/tidb/store/mockstore.(*clientRedirector).SendRequest\n\t/Users/hongyunyan/Desktop/tidb/store/mockstore/redirector.go:72\ngithub.com/tikv/client-go/v2/internal/client.interceptedClient.SendRequest.func1\n\t/Users/hongyunyan/go/pkg/mod/github.com/tikv/client-go/v2@v2.0.1-0.20220627063500-947d923945fd/internal/client/client_interceptor.go:39\ngithub.com/pingcap/tidb/util/topsql/stmtstats.(*KvExecCounter).RPCInterceptor.func1.1\n\t/Users/hongyunyan/Desktop/tidb/util/topsql/stmtstats/kv_exec_count.go:57\ngithub.com/tikv/client-go/v2/internal/client.interceptedClient.SendRequest\n\t/Users/hongyunyan/go/pkg/mod/github.com/tikv/client-go/v2@v2.0.1-0.20220627063500-947d923945fd/internal/client/client_interceptor.go:40\ngithub.com/tikv/client-go/v2/internal/client.reqCollapse.SendRequest\n\t/Users/hongyunyan/go/pkg/mod/github.com/tikv/client-go/v2@v2.0.1-0.20220627063500-947d923945fd/internal/client/client_collapse.go:74\ngithub.com/tikv/client-go/v2/internal/locate.(*RegionRequestSender).sendReqToRegion\n\t/Users/hongyunyan/go/pkg/mod/github.com/tikv/client-go/v2@v2.0.1-0.20220627063500-947d923945fd/internal/locate/region_request.go:1180\ngithub.com/tikv/client-go/v2/internal/locate.(*RegionRequestSender).SendReqCtx\n\t/Users/hongyunyan/go/pkg/mod/github.com/tikv/client-go/v2@v2.0.1-0.20220627063500-947d923945fd/internal/locate/region_request.go:1015\ngithub.com/tikv/client-go/v2/txnkv/txnsnapshot.(*ClientHelper).SendReqCtx\n\t/Users/hongyunyan/go/pkg/mod/github.com/tikv/client-go/v2@v2.0.1-0.20220627063500-947d923945fd/txnkv/txnsnapshot/client_helper.go:146\ngithub.com/pingcap/tidb/store/copr.(*copIteratorWorker).handleTaskOnce\n\t/Users/hongyunyan/Desktop/tidb/store/copr/coprocessor.go:766\ngithub.com/pingcap/tidb/store/copr.(*copIteratorWorker).handleTask\n\t/Users/hongyunyan/Desktop/tidb/store/copr/coprocessor.go:677\ngithub.com/pingcap/tidb/store/copr.(*copIteratorWorker).run\n\t/Users/hongyunyan/Desktop/tidb/store/copr/coprocessor.go:419"]
[2022/07/15 15:01:06.169 +08:00] [WARN] [charset.go:169] ["unable to get collation name from collation ID, return default charset and collation instead"] [ID=0] [stack="github.com/pingcap/tidb/parser/charset.GetCharsetInfoByID\n\t/Users/hongyunyan/Desktop/tidb/parser/charset/charset.go:172\ngithub.com/pingcap/tidb/store/mockstore/unistore/cophandler.fieldTypeFromPBColumn\n\t/Users/hongyunyan/Desktop/tidb/store/mockstore/unistore/cophandler/cop_handler.go:608\ngithub.com/pingcap/tidb/store/mockstore/unistore/cophandler.(*mppExecBuilder).buildMPPTableScan\n\t/Users/hongyunyan/Desktop/tidb/store/mockstore/unistore/cophandler/mpp.go:89\ngithub.com/pingcap/tidb/store/mockstore/unistore/cophandler.(*mppExecBuilder).buildMPPExecutor\n\t/Users/hongyunyan/Desktop/tidb/store/mockstore/unistore/cophandler/mpp.go:470\ngithub.com/pingcap/tidb/store/mockstore/unistore/cophandler.buildAndRunMPPExecutor\n\t/Users/hongyunyan/Desktop/tidb/store/mockstore/unistore/cophandler/cop_handler.go:184\ngithub.com/pingcap/tidb/store/mockstore/unistore/cophandler.handleCopDAGRequest\n\t/Users/hongyunyan/Desktop/tidb/store/mockstore/unistore/cophandler/cop_handler.go:144\ngithub.com/pingcap/tidb/store/mockstore/unistore/cophandler.HandleCopRequestWithMPPCtx\n\t/Users/hongyunyan/Desktop/tidb/store/mockstore/unistore/cophandler/cop_handler.go:71\ngithub.com/pingcap/tidb/store/mockstore/unistore/cophandler.HandleCopRequest\n\t/Users/hongyunyan/Desktop/tidb/store/mockstore/unistore/cophandler/cop_handler.go:59\ngithub.com/pingcap/tidb/store/mockstore/unistore/tikv.(*Server).Coprocessor\n\t/Users/hongyunyan/Desktop/tidb/store/mockstore/unistore/tikv/server.go:565\ngithub.com/pingcap/tidb/store/mockstore/unistore.(*RPCClient).SendRequest\n\t/Users/hongyunyan/Desktop/tidb/store/mockstore/unistore/rpc.go:246\ngithub.com/pingcap/tidb/store/mockstore.(*clientRedirector).SendRequest\n\t/Users/hongyunyan/Desktop/tidb/store/mockstore/redirector.go:72\ngithub.com/tikv/client-go/v2/internal/client.interceptedClient.SendRequest.func1\n\t/Users/hongyunyan/go/pkg/mod/github.com/tikv/client-go/v2@v2.0.1-0.20220627063500-947d923945fd/internal/client/client_interceptor.go:39\ngithub.com/pingcap/tidb/util/topsql/stmtstats.(*KvExecCounter).RPCInterceptor.func1.1\n\t/Users/hongyunyan/Desktop/tidb/util/topsql/stmtstats/kv_exec_count.go:57\ngithub.com/tikv/client-go/v2/internal/client.interceptedClient.SendRequest\n\t/Users/hongyunyan/go/pkg/mod/github.com/tikv/client-go/v2@v2.0.1-0.20220627063500-947d923945fd/internal/client/client_interceptor.go:40\ngithub.com/tikv/client-go/v2/internal/client.reqCollapse.SendRequest\n\t/Users/hongyunyan/go/pkg/mod/github.com/tikv/client-go/v2@v2.0.1-0.20220627063500-947d923945fd/internal/client/client_collapse.go:74\ngithub.com/tikv/client-go/v2/internal/locate.(*RegionRequestSender).sendReqToRegion\n\t/Users/hongyunyan/go/pkg/mod/github.com/tikv/client-go/v2@v2.0.1-0.20220627063500-947d923945fd/internal/locate/region_request.go:1180\ngithub.com/tikv/client-go/v2/internal/locate.(*RegionRequestSender).SendReqCtx\n\t/Users/hongyunyan/go/pkg/mod/github.com/tikv/client-go/v2@v2.0.1-0.20220627063500-947d923945fd/internal/locate/region_request.go:1015\ngithub.com/tikv/client-go/v2/txnkv/txnsnapshot.(*ClientHelper).SendReqCtx\n\t/Users/hongyunyan/go/pkg/mod/github.com/tikv/client-go/v2@v2.0.1-0.20220627063500-947d923945fd/txnkv/txnsnapshot/client_helper.go:146\ngithub.com/pingcap/tidb/store/copr.(*copIteratorWorker).handleTaskOnce\n\t/Users/hongyunyan/Desktop/tidb/store/copr/coprocessor.go:766\ngithub.com/pingcap/tidb/store/copr.(*copIteratorWorker).handleTask\n\t/Users/hongyunyan/Desktop/tidb/store/copr/coprocessor.go:677\ngithub.com/pingcap/tidb/store/copr.(*copIteratorWorker).run\n\t/Users/hongyunyan/Desktop/tidb/store/copr/coprocessor.go:419"]
[2022/07/15 15:01:06.169 +08:00] [WARN] [charset.go:169] ["unable to get collation name from collation ID, return default charset and collation instead"] [ID=0] [stack="github.com/pingcap/tidb/parser/charset.GetCharsetInfoByID\n\t/Users/hongyunyan/Desktop/tidb/parser/charset/charset.go:172\ngithub.com/pingcap/tidb/store/mockstore/unistore/cophandler.fieldTypeFromPBColumn\n\t/Users/hongyunyan/Desktop/tidb/store/mockstore/unistore/cophandler/cop_handler.go:608\ngithub.com/pingcap/tidb/store/mockstore/unistore/cophandler.(*mppExecBuilder).buildMPPTableScan\n\t/Users/hongyunyan/Desktop/tidb/store/mockstore/unistore/cophandler/mpp.go:89\ngithub.com/pingcap/tidb/store/mockstore/unistore/cophandler.(*mppExecBuilder).buildMPPExecutor\n\t/Users/hongyunyan/Desktop/tidb/store/mockstore/unistore/cophandler/mpp.go:470\ngithub.com/pingcap/tidb/store/mockstore/unistore/cophandler.buildAndRunMPPExecutor\n\t/Users/hongyunyan/Desktop/tidb/store/mockstore/unistore/cophandler/cop_handler.go:184\ngithub.com/pingcap/tidb/store/mockstore/unistore/cophandler.handleCopDAGRequest\n\t/Users/hongyunyan/Desktop/tidb/store/mockstore/unistore/cophandler/cop_handler.go:144\ngithub.com/pingcap/tidb/store/mockstore/unistore/cophandler.HandleCopRequestWithMPPCtx\n\t/Users/hongyunyan/Desktop/tidb/store/mockstore/unistore/cophandler/cop_handler.go:71\ngithub.com/pingcap/tidb/store/mockstore/unistore/cophandler.HandleCopRequest\n\t/Users/hongyunyan/Desktop/tidb/store/mockstore/unistore/cophandler/cop_handler.go:59\ngithub.com/pingcap/tidb/store/mockstore/unistore/tikv.(*Server).Coprocessor\n\t/Users/hongyunyan/Desktop/tidb/store/mockstore/unistore/tikv/server.go:565\ngithub.com/pingcap/tidb/store/mockstore/unistore.(*RPCClient).SendRequest\n\t/Users/hongyunyan/Desktop/tidb/store/mockstore/unistore/rpc.go:246\ngithub.com/pingcap/tidb/store/mockstore.(*clientRedirector).SendRequest\n\t/Users/hongyunyan/Desktop/tidb/store/mockstore/redirector.go:72\ngithub.com/tikv/client-go/v2/internal/client.interceptedClient.SendRequest.func1\n\t/Users/hongyunyan/go/pkg/mod/github.com/tikv/client-go/v2@v2.0.1-0.20220627063500-947d923945fd/internal/client/client_interceptor.go:39\ngithub.com/pingcap/tidb/util/topsql/stmtstats.(*KvExecCounter).RPCInterceptor.func1.1\n\t/Users/hongyunyan/Desktop/tidb/util/topsql/stmtstats/kv_exec_count.go:57\ngithub.com/tikv/client-go/v2/internal/client.interceptedClient.SendRequest\n\t/Users/hongyunyan/go/pkg/mod/github.com/tikv/client-go/v2@v2.0.1-0.20220627063500-947d923945fd/internal/client/client_interceptor.go:40\ngithub.com/tikv/client-go/v2/internal/client.reqCollapse.SendRequest\n\t/Users/hongyunyan/go/pkg/mod/github.com/tikv/client-go/v2@v2.0.1-0.20220627063500-947d923945fd/internal/client/client_collapse.go:74\ngithub.com/tikv/client-go/v2/internal/locate.(*RegionRequestSender).sendReqToRegion\n\t/Users/hongyunyan/go/pkg/mod/github.com/tikv/client-go/v2@v2.0.1-0.20220627063500-947d923945fd/internal/locate/region_request.go:1180\ngithub.com/tikv/client-go/v2/internal/locate.(*RegionRequestSender).SendReqCtx\n\t/Users/hongyunyan/go/pkg/mod/github.com/tikv/client-go/v2@v2.0.1-0.20220627063500-947d923945fd/internal/locate/region_request.go:1015\ngithub.com/tikv/client-go/v2/txnkv/txnsnapshot.(*ClientHelper).SendReqCtx\n\t/Users/hongyunyan/go/pkg/mod/github.com/tikv/client-go/v2@v2.0.1-0.20220627063500-947d923945fd/txnkv/txnsnapshot/client_helper.go:146\ngithub.com/pingcap/tidb/store/copr.(*copIteratorWorker).handleTaskOnce\n\t/Users/hongyunyan/Desktop/tidb/store/copr/coprocessor.go:766\ngithub.com/pingcap/tidb/store/copr.(*copIteratorWorker).handleTask\n\t/Users/hongyunyan/Desktop/tidb/store/copr/coprocessor.go:677\ngithub.com/pingcap/tidb/store/copr.(*copIteratorWorker).run\n\t/Users/hongyunyan/Desktop/tidb/store/copr/coprocessor.go:419"]
[2022/07/15 15:01:06.169 +08:00] [WARN] [charset.go:169] ["unable to get collation name from collation ID, return default charset and collation instead"] [ID=0] [stack="github.com/pingcap/tidb/parser/charset.GetCharsetInfoByID\n\t/Users/hongyunyan/Desktop/tidb/parser/charset/charset.go:172\ngithub.com/pingcap/tidb/store/mockstore/unistore/cophandler.fieldTypeFromPBColumn\n\t/Users/hongyunyan/Desktop/tidb/store/mockstore/unistore/cophandler/cop_handler.go:608\ngithub.com/pingcap/tidb/store/mockstore/unistore/cophandler.(*mppExecBuilder).buildMPPTableScan\n\t/Users/hongyunyan/Desktop/tidb/store/mockstore/unistore/cophandler/mpp.go:89\ngithub.com/pingcap/tidb/store/mockstore/unistore/cophandler.(*mppExecBuilder).buildMPPExecutor\n\t/Users/hongyunyan/Desktop/tidb/store/mockstore/unistore/cophandler/mpp.go:470\ngithub.com/pingcap/tidb/store/mockstore/unistore/cophandler.buildAndRunMPPExecutor\n\t/Users/hongyunyan/Desktop/tidb/store/mockstore/unistore/cophandler/cop_handler.go:184\ngithub.com/pingcap/tidb/store/mockstore/unistore/cophandler.handleCopDAGRequest\n\t/Users/hongyunyan/Desktop/tidb/store/mockstore/unistore/cophandler/cop_handler.go:144\ngithub.com/pingcap/tidb/store/mockstore/unistore/cophandler.HandleCopRequestWithMPPCtx\n\t/Users/hongyunyan/Desktop/tidb/store/mockstore/unistore/cophandler/cop_handler.go:71\ngithub.com/pingcap/tidb/store/mockstore/unistore/cophandler.HandleCopRequest\n\t/Users/hongyunyan/Desktop/tidb/store/mockstore/unistore/cophandler/cop_handler.go:59\ngithub.com/pingcap/tidb/store/mockstore/unistore/tikv.(*Server).Coprocessor\n\t/Users/hongyunyan/Desktop/tidb/store/mockstore/unistore/tikv/server.go:565\ngithub.com/pingcap/tidb/store/mockstore/unistore.(*RPCClient).SendRequest\n\t/Users/hongyunyan/Desktop/tidb/store/mockstore/unistore/rpc.go:246\ngithub.com/pingcap/tidb/store/mockstore.(*clientRedirector).SendRequest\n\t/Users/hongyunyan/Desktop/tidb/store/mockstore/redirector.go:72\ngithub.com/tikv/client-go/v2/internal/client.interceptedClient.SendRequest.func1\n\t/Users/hongyunyan/go/pkg/mod/github.com/tikv/client-go/v2@v2.0.1-0.20220627063500-947d923945fd/internal/client/client_interceptor.go:39\ngithub.com/pingcap/tidb/util/topsql/stmtstats.(*KvExecCounter).RPCInterceptor.func1.1\n\t/Users/hongyunyan/Desktop/tidb/util/topsql/stmtstats/kv_exec_count.go:57\ngithub.com/tikv/client-go/v2/internal/client.interceptedClient.SendRequest\n\t/Users/hongyunyan/go/pkg/mod/github.com/tikv/client-go/v2@v2.0.1-0.20220627063500-947d923945fd/internal/client/client_interceptor.go:40\ngithub.com/tikv/client-go/v2/internal/client.reqCollapse.SendRequest\n\t/Users/hongyunyan/go/pkg/mod/github.com/tikv/client-go/v2@v2.0.1-0.20220627063500-947d923945fd/internal/client/client_collapse.go:74\ngithub.com/tikv/client-go/v2/internal/locate.(*RegionRequestSender).sendReqToRegion\n\t/Users/hongyunyan/go/pkg/mod/github.com/tikv/client-go/v2@v2.0.1-0.20220627063500-947d923945fd/internal/locate/region_request.go:1180\ngithub.com/tikv/client-go/v2/internal/locate.(*RegionRequestSender).SendReqCtx\n\t/Users/hongyunyan/go/pkg/mod/github.com/tikv/client-go/v2@v2.0.1-0.20220627063500-947d923945fd/internal/locate/region_request.go:1015\ngithub.com/tikv/client-go/v2/txnkv/txnsnapshot.(*ClientHelper).SendReqCtx\n\t/Users/hongyunyan/go/pkg/mod/github.com/tikv/client-go/v2@v2.0.1-0.20220627063500-947d923945fd/txnkv/txnsnapshot/client_helper.go:146\ngithub.com/pingcap/tidb/store/copr.(*copIteratorWorker).handleTaskOnce\n\t/Users/hongyunyan/Desktop/tidb/store/copr/coprocessor.go:766\ngithub.com/pingcap/tidb/store/copr.(*copIteratorWorker).handleTask\n\t/Users/hongyunyan/Desktop/tidb/store/copr/coprocessor.go:677\ngithub.com/pingcap/tidb/store/copr.(*copIteratorWorker).run\n\t/Users/hongyunyan/Desktop/tidb/store/copr/coprocessor.go:419"]
[2022/07/15 15:01:06.169 +08:00] [WARN] [charset.go:169] ["unable to get collation name from collation ID, return default charset and collation instead"] [ID=0] [stack="github.com/pingcap/tidb/parser/charset.GetCharsetInfoByID\n\t/Users/hongyunyan/Desktop/tidb/parser/charset/charset.go:172\ngithub.com/pingcap/tidb/store/mockstore/unistore/cophandler.fieldTypeFromPBColumn\n\t/Users/hongyunyan/Desktop/tidb/store/mockstore/unistore/cophandler/cop_handler.go:608\ngithub.com/pingcap/tidb/store/mockstore/unistore/cophandler.(*mppExecBuilder).buildMPPTableScan\n\t/Users/hongyunyan/Desktop/tidb/store/mockstore/unistore/cophandler/mpp.go:89\ngithub.com/pingcap/tidb/store/mockstore/unistore/cophandler.(*mppExecBuilder).buildMPPExecutor\n\t/Users/hongyunyan/Desktop/tidb/store/mockstore/unistore/cophandler/mpp.go:470\ngithub.com/pingcap/tidb/store/mockstore/unistore/cophandler.buildAndRunMPPExecutor\n\t/Users/hongyunyan/Desktop/tidb/store/mockstore/unistore/cophandler/cop_handler.go:184\ngithub.com/pingcap/tidb/store/mockstore/unistore/cophandler.handleCopDAGRequest\n\t/Users/hongyunyan/Desktop/tidb/store/mockstore/unistore/cophandler/cop_handler.go:144\ngithub.com/pingcap/tidb/store/mockstore/unistore/cophandler.HandleCopRequestWithMPPCtx\n\t/Users/hongyunyan/Desktop/tidb/store/mockstore/unistore/cophandler/cop_handler.go:71\ngithub.com/pingcap/tidb/store/mockstore/unistore/cophandler.HandleCopRequest\n\t/Users/hongyunyan/Desktop/tidb/store/mockstore/unistore/cophandler/cop_handler.go:59\ngithub.com/pingcap/tidb/store/mockstore/unistore/tikv.(*Server).Coprocessor\n\t/Users/hongyunyan/Desktop/tidb/store/mockstore/unistore/tikv/server.go:565\ngithub.com/pingcap/tidb/store/mockstore/unistore.(*RPCClient).SendRequest\n\t/Users/hongyunyan/Desktop/tidb/store/mockstore/unistore/rpc.go:246\ngithub.com/pingcap/tidb/store/mockstore.(*clientRedirector).SendRequest\n\t/Users/hongyunyan/Desktop/tidb/store/mockstore/redirector.go:72\ngithub.com/tikv/client-go/v2/internal/client.interceptedClient.SendRequest.func1\n\t/Users/hongyunyan/go/pkg/mod/github.com/tikv/client-go/v2@v2.0.1-0.20220627063500-947d923945fd/internal/client/client_interceptor.go:39\ngithub.com/pingcap/tidb/util/topsql/stmtstats.(*KvExecCounter).RPCInterceptor.func1.1\n\t/Users/hongyunyan/Desktop/tidb/util/topsql/stmtstats/kv_exec_count.go:57\ngithub.com/tikv/client-go/v2/internal/client.interceptedClient.SendRequest\n\t/Users/hongyunyan/go/pkg/mod/github.com/tikv/client-go/v2@v2.0.1-0.20220627063500-947d923945fd/internal/client/client_interceptor.go:40\ngithub.com/tikv/client-go/v2/internal/client.reqCollapse.SendRequest\n\t/Users/hongyunyan/go/pkg/mod/github.com/tikv/client-go/v2@v2.0.1-0.20220627063500-947d923945fd/internal/client/client_collapse.go:74\ngithub.com/tikv/client-go/v2/internal/locate.(*RegionRequestSender).sendReqToRegion\n\t/Users/hongyunyan/go/pkg/mod/github.com/tikv/client-go/v2@v2.0.1-0.20220627063500-947d923945fd/internal/locate/region_request.go:1180\ngithub.com/tikv/client-go/v2/internal/locate.(*RegionRequestSender).SendReqCtx\n\t/Users/hongyunyan/go/pkg/mod/github.com/tikv/client-go/v2@v2.0.1-0.20220627063500-947d923945fd/internal/locate/region_request.go:1015\ngithub.com/tikv/client-go/v2/txnkv/txnsnapshot.(*ClientHelper).SendReqCtx\n\t/Users/hongyunyan/go/pkg/mod/github.com/tikv/client-go/v2@v2.0.1-0.20220627063500-947d923945fd/txnkv/txnsnapshot/client_helper.go:146\ngithub.com/pingcap/tidb/store/copr.(*copIteratorWorker).handleTaskOnce\n\t/Users/hongyunyan/Desktop/tidb/store/copr/coprocessor.go:766\ngithub.com/pingcap/tidb/store/copr.(*copIteratorWorker).handleTask\n\t/Users/hongyunyan/Desktop/tidb/store/copr/coprocessor.go:677\ngithub.com/pingcap/tidb/store/copr.(*copIteratorWorker).run\n\t/Users/hongyunyan/Desktop/tidb/store/copr/coprocessor.go:419"]
[2022/07/15 15:01:06.170 +08:00] [WARN] [charset.go:169] ["unable to get collation name from collation ID, return default charset and collation instead"] [ID=0] [stack="github.com/pingcap/tidb/parser/charset.GetCharsetInfoByID\n\t/Users/hongyunyan/Desktop/tidb/parser/charset/charset.go:172\ngithub.com/pingcap/tidb/store/mockstore/unistore/cophandler.fieldTypeFromPBColumn\n\t/Users/hongyunyan/Desktop/tidb/store/mockstore/unistore/cophandler/cop_handler.go:608\ngithub.com/pingcap/tidb/store/mockstore/unistore/cophandler.(*mppExecBuilder).buildMPPPartitionTableScan\n\t/Users/hongyunyan/Desktop/tidb/store/mockstore/unistore/cophandler/mpp.go:112\ngithub.com/pingcap/tidb/store/mockstore/unistore/cophandler.(*mppExecBuilder).buildMPPExecutor\n\t/Users/hongyunyan/Desktop/tidb/store/mockstore/unistore/cophandler/mpp.go:495\ngithub.com/pingcap/tidb/store/mockstore/unistore/cophandler.buildAndRunMPPExecutor\n\t/Users/hongyunyan/Desktop/tidb/store/mockstore/unistore/cophandler/cop_handler.go:184\ngithub.com/pingcap/tidb/store/mockstore/unistore/cophandler.handleCopDAGRequest\n\t/Users/hongyunyan/Desktop/tidb/store/mockstore/unistore/cophandler/cop_handler.go:144\ngithub.com/pingcap/tidb/store/mockstore/unistore/cophandler.HandleCopRequestWithMPPCtx\n\t/Users/hongyunyan/Desktop/tidb/store/mockstore/unistore/cophandler/cop_handler.go:71\ngithub.com/pingcap/tidb/store/mockstore/unistore/tikv.(*Server).BatchCoprocessor\n\t/Users/hongyunyan/Desktop/tidb/store/mockstore/unistore/tikv/server.go:619\ngithub.com/pingcap/tidb/store/mockstore/unistore.(*RPCClient).handleBatchCop\n\t/Users/hongyunyan/Desktop/tidb/store/mockstore/unistore/rpc.go:355\ngithub.com/pingcap/tidb/store/mockstore/unistore.(*RPCClient).SendRequest\n\t/Users/hongyunyan/Desktop/tidb/store/mockstore/unistore/rpc.go:261\ngithub.com/pingcap/tidb/store/mockstore.(*clientRedirector).SendRequest\n\t/Users/hongyunyan/Desktop/tidb/store/mockstore/redirector.go:72\ngithub.com/tikv/client-go/v2/internal/client.interceptedClient.SendRequest.func1\n\t/Users/hongyunyan/go/pkg/mod/github.com/tikv/client-go/v2@v2.0.1-0.20220627063500-947d923945fd/internal/client/client_interceptor.go:39\ngithub.com/pingcap/tidb/util/topsql/stmtstats.(*KvExecCounter).RPCInterceptor.func1.1\n\t/Users/hongyunyan/Desktop/tidb/util/topsql/stmtstats/kv_exec_count.go:57\ngithub.com/tikv/client-go/v2/internal/client.interceptedClient.SendRequest\n\t/Users/hongyunyan/go/pkg/mod/github.com/tikv/client-go/v2@v2.0.1-0.20220627063500-947d923945fd/internal/client/client_interceptor.go:40\ngithub.com/tikv/client-go/v2/internal/client.reqCollapse.SendRequest\n\t/Users/hongyunyan/go/pkg/mod/github.com/tikv/client-go/v2@v2.0.1-0.20220627063500-947d923945fd/internal/client/client_collapse.go:74\ngithub.com/pingcap/tidb/store/copr.(*tikvClient).SendRequest\n\t/Users/hongyunyan/Desktop/tidb/store/copr/store.go:69\ngithub.com/pingcap/tidb/store/copr.(*RegionBatchRequestSender).SendReqToAddr\n\t/Users/hongyunyan/Desktop/tidb/store/copr/batch_request_sender.go:76\ngithub.com/pingcap/tidb/store/copr.(*batchCopIterator).handleTaskOnce\n\t/Users/hongyunyan/Desktop/tidb/store/copr/batch_coprocessor.go:897\ngithub.com/pingcap/tidb/store/copr.(*batchCopIterator).handleTask\n\t/Users/hongyunyan/Desktop/tidb/store/copr/batch_coprocessor.go:822"]
[2022/07/15 15:01:06.170 +08:00] [WARN] [charset.go:169] ["unable to get collation name from collation ID, return default charset and collation instead"] [ID=0] [stack="github.com/pingcap/tidb/parser/charset.GetCharsetInfoByID\n\t/Users/hongyunyan/Desktop/tidb/parser/charset/charset.go:172\ngithub.com/pingcap/tidb/store/mockstore/unistore/cophandler.fieldTypeFromPBColumn\n\t/Users/hongyunyan/Desktop/tidb/store/mockstore/unistore/cophandler/cop_handler.go:608\ngithub.com/pingcap/tidb/store/mockstore/unistore/cophandler.(*mppExecBuilder).buildMPPPartitionTableScan\n\t/Users/hongyunyan/Desktop/tidb/store/mockstore/unistore/cophandler/mpp.go:112\ngithub.com/pingcap/tidb/store/mockstore/unistore/cophandler.(*mppExecBuilder).buildMPPExecutor\n\t/Users/hongyunyan/Desktop/tidb/store/mockstore/unistore/cophandler/mpp.go:495\ngithub.com/pingcap/tidb/store/mockstore/unistore/cophandler.buildAndRunMPPExecutor\n\t/Users/hongyunyan/Desktop/tidb/store/mockstore/unistore/cophandler/cop_handler.go:184\ngithub.com/pingcap/tidb/store/mockstore/unistore/cophandler.handleCopDAGRequest\n\t/Users/hongyunyan/Desktop/tidb/store/mockstore/unistore/cophandler/cop_handler.go:144\ngithub.com/pingcap/tidb/store/mockstore/unistore/cophandler.HandleCopRequestWithMPPCtx\n\t/Users/hongyunyan/Desktop/tidb/store/mockstore/unistore/cophandler/cop_handler.go:71\ngithub.com/pingcap/tidb/store/mockstore/unistore/tikv.(*Server).BatchCoprocessor\n\t/Users/hongyunyan/Desktop/tidb/store/mockstore/unistore/tikv/server.go:619\ngithub.com/pingcap/tidb/store/mockstore/unistore.(*RPCClient).handleBatchCop\n\t/Users/hongyunyan/Desktop/tidb/store/mockstore/unistore/rpc.go:355\ngithub.com/pingcap/tidb/store/mockstore/unistore.(*RPCClient).SendRequest\n\t/Users/hongyunyan/Desktop/tidb/store/mockstore/unistore/rpc.go:261\ngithub.com/pingcap/tidb/store/mockstore.(*clientRedirector).SendRequest\n\t/Users/hongyunyan/Desktop/tidb/store/mockstore/redirector.go:72\ngithub.com/tikv/client-go/v2/internal/client.interceptedClient.SendRequest.func1\n\t/Users/hongyunyan/go/pkg/mod/github.com/tikv/client-go/v2@v2.0.1-0.20220627063500-947d923945fd/internal/client/client_interceptor.go:39\ngithub.com/pingcap/tidb/util/topsql/stmtstats.(*KvExecCounter).RPCInterceptor.func1.1\n\t/Users/hongyunyan/Desktop/tidb/util/topsql/stmtstats/kv_exec_count.go:57\ngithub.com/tikv/client-go/v2/internal/client.interceptedClient.SendRequest\n\t/Users/hongyunyan/go/pkg/mod/github.com/tikv/client-go/v2@v2.0.1-0.20220627063500-947d923945fd/internal/client/client_interceptor.go:40\ngithub.com/tikv/client-go/v2/internal/client.reqCollapse.SendRequest\n\t/Users/hongyunyan/go/pkg/mod/github.com/tikv/client-go/v2@v2.0.1-0.20220627063500-947d923945fd/internal/client/client_collapse.go:74\ngithub.com/pingcap/tidb/store/copr.(*tikvClient).SendRequest\n\t/Users/hongyunyan/Desktop/tidb/store/copr/store.go:69\ngithub.com/pingcap/tidb/store/copr.(*RegionBatchRequestSender).SendReqToAddr\n\t/Users/hongyunyan/Desktop/tidb/store/copr/batch_request_sender.go:76\ngithub.com/pingcap/tidb/store/copr.(*batchCopIterator).handleTaskOnce\n\t/Users/hongyunyan/Desktop/tidb/store/copr/batch_coprocessor.go:897\ngithub.com/pingcap/tidb/store/copr.(*batchCopIterator).handleTask\n\t/Users/hongyunyan/Desktop/tidb/store/copr/batch_coprocessor.go:822"]
[2022/07/15 15:01:06.170 +08:00] [INFO] [ddl_worker.go:158] ["[ddl] DDL worker closed"] [worker="worker 7, tp general"] ["take time"=167ns]
[2022/07/15 15:01:06.170 +08:00] [INFO] [ddl_worker.go:158] ["[ddl] DDL worker closed"] [worker="worker 8, tp add index"] ["take time"=42ns]
[2022/07/15 15:01:06.170 +08:00] [INFO] [delete_range.go:148] ["[ddl] closing delRange"]
[2022/07/15 15:01:06.170 +08:00] [INFO] [session_pool.go:94] ["[ddl] closing sessionPool"]
[2022/07/15 15:01:06.170 +08:00] [INFO] [ddl.go:576] ["[ddl] DDL closed"] [ID=14181911-7944-4e76-8bab-76be4d1b5d34] ["take time"=37.417µs]
[2022/07/15 15:01:06.170 +08:00] [INFO] [ddl.go:464] ["[ddl] stop DDL"] [ID=14181911-7944-4e76-8bab-76be4d1b5d34]
[2022/07/15 15:01:06.170 +08:00] [INFO] [domain.go:498] ["topNSlowQueryLoop exited."]
[2022/07/15 15:01:06.170 +08:00] [INFO] [domain.go:1288] ["dumpFileGcChecker exited."]
[2022/07/15 15:01:06.170 +08:00] [INFO] [domain.go:1082] ["LoadSysVarCacheLoop exited."]
[2022/07/15 15:01:06.170 +08:00] [INFO] [domain.go:1032] ["loadPrivilegeInLoop exited."]
[2022/07/15 15:01:06.170 +08:00] [INFO] [domain.go:1203] ["handleEvolvePlanTasksLoop exited."]
[2022/07/15 15:01:06.170 +08:00] [INFO] [handle_hist.go:156] ["SubLoadWorker exited."]
[2022/07/15 15:01:06.170 +08:00] [INFO] [handle_hist.go:156] ["SubLoadWorker exited."]
[2022/07/15 15:01:06.170 +08:00] [INFO] [handle_hist.go:156] ["SubLoadWorker exited."]
[2022/07/15 15:01:06.170 +08:00] [INFO] [domain.go:1160] ["globalBindHandleWorkerLoop exited."]
[2022/07/15 15:01:06.170 +08:00] [INFO] [handle_hist.go:156] ["SubLoadWorker exited."]
[2022/07/15 15:01:06.170 +08:00] [INFO] [domain.go:552] ["globalConfigSyncerKeeper exited."]
[2022/07/15 15:01:06.170 +08:00] [INFO] [domain.go:527] ["infoSyncerKeeper exited."]
[2022/07/15 15:01:06.170 +08:00] [INFO] [handle_hist.go:156] ["SubLoadWorker exited."]
[2022/07/15 15:01:06.170 +08:00] [INFO] [domain.go:575] ["topologySyncerKeeper exited."]
[2022/07/15 15:01:06.170 +08:00] [INFO] [domain.go:733] ["domain closed"] ["take time"=114.333µs]
[2022/07/15 15:01:06.187 +08:00] [INFO] [db.go:567] ["Closing database"]
[2022/07/15 15:01:06.188 +08:00] [INFO] [db.go:592] ["Memtable flushed"]
[2022/07/15 15:01:06.188 +08:00] [INFO] [db.go:596] ["Compaction finished"]
[2022/07/15 15:01:06.188 +08:00] [INFO] [db.go:615] ["BlobManager finished"]
[2022/07/15 15:01:06.188 +08:00] [INFO] [db.go:619] ["ResourceManager finished"]
[2022/07/15 15:01:06.188 +08:00] [INFO] [db.go:625] ["Waiting for closer"]
[2022/07/15 15:01:06.279 +08:00] [INFO] [tidb.go:74] ["new domain"] [store=e03c068d-3a75-4af0-945d-8ef1aa4f74b5] ["ddl lease"=0s] ["stats lease"=-1ns] ["index usage sync lease"=0s]
[2022/07/15 15:01:06.280 +08:00] [INFO] [domain.go:178] ["full load InfoSchema success"] [currentSchemaVersion=0] [neededSchemaVersion=0] ["start time"=759.625µs]
[2022/07/15 15:01:06.280 +08:00] [INFO] [domain.go:449] ["full load and reset schema validator"]
[2022/07/15 15:01:06.280 +08:00] [INFO] [ddl.go:483] ["[ddl] start DDL"] [ID=39a5ea6c-36a3-410b-83d5-5ef56eeb5562] [runWorker=true]
[2022/07/15 15:01:06.280 +08:00] [INFO] [ddl.go:472] ["[ddl] start delRangeManager OK"] ["is a emulator"=true]
[2022/07/15 15:01:06.280 +08:00] [INFO] [tidb.go:268] ["rollbackTxn called due to ddl/autocommit failure"]
[2022/07/15 15:01:06.280 +08:00] [WARN] [session.go:1983] ["run statement failed"] [schemaVersion=0] [error="[schema:1049]Unknown database 'mysql'"] [errorVerbose="[schema:1049]Unknown database 'mysql'\ngithub.com/pingcap/errors.AddStack\n\t/Users/hongyunyan/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20211224045212-9687c2b0f87c/errors.go:174\ngithub.com/pingcap/errors.(*Error).GenWithStackByArgs\n\t/Users/hongyunyan/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20211224045212-9687c2b0f87c/normalize.go:164\ngithub.com/pingcap/tidb/executor.(*SimpleExec).executeUse\n\t/Users/hongyunyan/Desktop/tidb/executor/simple.go:571\ngithub.com/pingcap/tidb/executor.(*SimpleExec).Next\n\t/Users/hongyunyan/Desktop/tidb/executor/simple.go:131\ngithub.com/pingcap/tidb/executor.Next\n\t/Users/hongyunyan/Desktop/tidb/executor/executor.go:319\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelayExecutor\n\t/Users/hongyunyan/Desktop/tidb/executor/adapter.go:673\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelay\n\t/Users/hongyunyan/Desktop/tidb/executor/adapter.go:523\ngithub.com/pingcap/tidb/executor.(*ExecStmt).Exec\n\t/Users/hongyunyan/Desktop/tidb/executor/adapter.go:472\ngithub.com/pingcap/tidb/session.runStmt\n\t/Users/hongyunyan/Desktop/tidb/session/session.go:2114\ngithub.com/pingcap/tidb/session.(*session).ExecuteStmt\n\t/Users/hongyunyan/Desktop/tidb/session/session.go:1980\ngithub.com/pingcap/tidb/session.(*session).ExecuteInternal\n\t/Users/hongyunyan/Desktop/tidb/session/session.go:1495\ngithub.com/pingcap/tidb/session.checkBootstrapped\n\t/Users/hongyunyan/Desktop/tidb/session/bootstrap.go:728\ngithub.com/pingcap/tidb/session.bootstrap\n\t/Users/hongyunyan/Desktop/tidb/session/bootstrap.go:431\ngithub.com/pingcap/tidb/session.runInBootstrapSession\n\t/Users/hongyunyan/Desktop/tidb/session/session.go:2834\ngithub.com/pingcap/tidb/session.BootstrapSession\n\t/Users/hongyunyan/Desktop/tidb/session/session.go:2720\ngithub.com/pingcap/tidb/testkit.bootstrap\n\t/Users/hongyunyan/Desktop/tidb/testkit/mockstore.go:71\ngithub.com/pingcap/tidb/testkit.CreateMockStoreAndDomain\n\t/Users/hongyunyan/Desktop/tidb/testkit/mockstore.go:64\ngithub.com/pingcap/tidb/testkit.CreateMockStore\n\t/Users/hongyunyan/Desktop/tidb/testkit/mockstore.go:56\ngithub.com/pingcap/tidb/executor/tiflashtest.TestAggPushDownApplyAll\n\t/Users/hongyunyan/Desktop/tidb/executor/tiflashtest/tiflash_test.go:121\ntesting.tRunner\n\t/opt/homebrew/Cellar/go/1.18.3/libexec/src/testing/testing.go:1439\nruntime.goexit\n\t/opt/homebrew/Cellar/go/1.18.3/libexec/src/runtime/asm_arm64.s:1263"] [session="{\n  \"currDBName\": \"\",\n  \"id\": 0,\n  \"status\": 2,\n  \"strictMode\": true,\n  \"user\": null\n}"]
[2022/07/15 15:01:06.280 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=0] [cur_db=] [sql="CREATE DATABASE IF NOT EXISTS test"] [user=]
[2022/07/15 15:01:06.281 +08:00] [INFO] [ddl_worker.go:164] ["[ddl] start DDL worker"] [worker="worker 10, tp add index"]
[2022/07/15 15:01:06.281 +08:00] [INFO] [delete_range.go:158] ["[ddl] start delRange emulator"]
[2022/07/15 15:01:06.281 +08:00] [INFO] [ddl_worker.go:164] ["[ddl] start DDL worker"] [worker="worker 9, tp general"]
[2022/07/15 15:01:06.281 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:2, Type:create schema, State:queueing, SchemaState:none, SchemaID:1, TableID:0, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.281 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:06.281 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:2, Type:create schema, State:queueing, SchemaState:none, SchemaID:1, TableID:0, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.281 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE DATABASE IF NOT EXISTS test"]
[2022/07/15 15:01:06.281 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 9, tp general"] [job="ID:2, Type:create schema, State:queueing, SchemaState:none, SchemaID:1, TableID:0, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.281 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.281 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 9, tp general"] [job="ID:2, Type:create schema, State:synced, SchemaState:public, SchemaID:1, TableID:0, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.281 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.282 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=2]
[2022/07/15 15:01:06.282 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:06.282 +08:00] [INFO] [domain.go:178] ["full load InfoSchema success"] [currentSchemaVersion=0] [neededSchemaVersion=1] ["start time"=480.541µs]
[2022/07/15 15:01:06.282 +08:00] [INFO] [domain.go:449] ["full load and reset schema validator"]
[2022/07/15 15:01:06.282 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=1] [cur_db=] [sql="CREATE DATABASE IF NOT EXISTS `mysql`"] [user=]
[2022/07/15 15:01:06.282 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:4, Type:create schema, State:queueing, SchemaState:none, SchemaID:3, TableID:0, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.282 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:06.282 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:4, Type:create schema, State:queueing, SchemaState:none, SchemaID:3, TableID:0, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.282 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE DATABASE IF NOT EXISTS `mysql`"]
[2022/07/15 15:01:06.282 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 9, tp general"] [job="ID:4, Type:create schema, State:queueing, SchemaState:none, SchemaID:3, TableID:0, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.282 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.283 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 9, tp general"] [job="ID:4, Type:create schema, State:synced, SchemaState:public, SchemaID:3, TableID:0, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.282 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.283 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=4]
[2022/07/15 15:01:06.283 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:06.283 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=1] [neededSchemaVersion=2] ["start time"=15µs] [phyTblIDs="[]"] [actionTypes="[]"]
[2022/07/15 15:01:06.283 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=2] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.user (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tauthentication_string\tTEXT,\n\t\tplugin\t\t\t\t\tCHAR(64),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tProcess_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_db_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tSuper_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_user_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_slave_priv\t    \tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_client_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_role_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_role_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAccount_locked\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShutdown_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReload_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tFILE_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tConfig_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_Tablespace_Priv  ENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (Host, User));"] [user=]
[2022/07/15 15:01:06.283 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:6, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:5, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.283 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:06.283 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:6, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:5, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.283 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.user (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tauthentication_string\tTEXT,\n\t\tplugin\t\t\t\t\tCHAR(64),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tProcess_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_db_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tSuper_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_user_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_slave_priv\t    \tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_client_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_role_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_role_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAccount_locked\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShutdown_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReload_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tFILE_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tConfig_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_Tablespace_Priv  ENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (Host, User));"]
[2022/07/15 15:01:06.284 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 9, tp general"] [job="ID:6, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:5, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.283 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.285 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 9, tp general"] [job="ID:6, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:5, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.283 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.286 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=6]
[2022/07/15 15:01:06.286 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:06.286 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=2] [neededSchemaVersion=3] ["start time"=255.834µs] [phyTblIDs="[5]"] [actionTypes="[8]"]
[2022/07/15 15:01:06.286 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=3] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.global_priv (Host CHAR(255) NOT NULL DEFAULT '',User CHAR(80) NOT NULL DEFAULT '',Priv LONGTEXT NOT NULL DEFAULT '',PRIMARY KEY (Host, User))"] [user=]
[2022/07/15 15:01:06.286 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:8, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:7, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.286 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:06.286 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:8, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:7, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.286 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.global_priv (Host CHAR(255) NOT NULL DEFAULT '',User CHAR(80) NOT NULL DEFAULT '',Priv LONGTEXT NOT NULL DEFAULT '',PRIMARY KEY (Host, User))"]
[2022/07/15 15:01:06.286 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 9, tp general"] [job="ID:8, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:7, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.286 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.286 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 9, tp general"] [job="ID:8, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:7, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.286 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.287 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=8]
[2022/07/15 15:01:06.287 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:06.287 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=3] [neededSchemaVersion=4] ["start time"=48.333µs] [phyTblIDs="[7]"] [actionTypes="[8]"]
[2022/07/15 15:01:06.287 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=4] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.db (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tDB\t\t\t\t\t\tCHAR(64),\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv \t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (Host, DB, User));"] [user=]
[2022/07/15 15:01:06.287 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:10, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:9, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.287 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:06.287 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:10, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:9, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.287 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.db (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tDB\t\t\t\t\t\tCHAR(64),\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv \t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (Host, DB, User));"]
[2022/07/15 15:01:06.287 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 9, tp general"] [job="ID:10, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:9, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.287 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.288 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 9, tp general"] [job="ID:10, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:9, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.287 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.288 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=10]
[2022/07/15 15:01:06.288 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:06.289 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=4] [neededSchemaVersion=5] ["start time"=160.459µs] [phyTblIDs="[9]"] [actionTypes="[8]"]
[2022/07/15 15:01:06.289 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=5] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.tables_priv (\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64),\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64),\n\t\tGrantor\t\tCHAR(77),\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tTable_priv\tSET('Select','Insert','Update','Delete','Create','Drop','Grant','Index','Alter','Create View','Show View','Trigger','References'),\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name));"] [user=]
[2022/07/15 15:01:06.289 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:12, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:11, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.289 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:06.289 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:12, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:11, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.289 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.tables_priv (\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64),\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64),\n\t\tGrantor\t\tCHAR(77),\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tTable_priv\tSET('Select','Insert','Update','Delete','Create','Drop','Grant','Index','Alter','Create View','Show View','Trigger','References'),\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name));"]
[2022/07/15 15:01:06.289 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 9, tp general"] [job="ID:12, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:11, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.289 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.289 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 9, tp general"] [job="ID:12, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:11, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.289 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.290 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=12]
[2022/07/15 15:01:06.290 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:06.290 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=5] [neededSchemaVersion=6] ["start time"=84.875µs] [phyTblIDs="[11]"] [actionTypes="[8]"]
[2022/07/15 15:01:06.290 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=6] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.columns_priv(\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64),\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64),\n\t\tColumn_name\tCHAR(64),\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name, Column_name));"] [user=]
[2022/07/15 15:01:06.290 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:14, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:13, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.29 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:06.290 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:14, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:13, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.29 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.columns_priv(\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64),\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64),\n\t\tColumn_name\tCHAR(64),\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name, Column_name));"]
[2022/07/15 15:01:06.290 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 9, tp general"] [job="ID:14, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:13, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.29 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.290 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 9, tp general"] [job="ID:14, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:13, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.29 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.291 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=14]
[2022/07/15 15:01:06.291 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:06.291 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=6] [neededSchemaVersion=7] ["start time"=76.25µs] [phyTblIDs="[13]"] [actionTypes="[8]"]
[2022/07/15 15:01:06.291 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=7] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.GLOBAL_VARIABLES(\n\t\tVARIABLE_NAME  VARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(1024) DEFAULT NULL);"] [user=]
[2022/07/15 15:01:06.291 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:16, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:15, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.291 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:06.291 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:16, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:15, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.291 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.GLOBAL_VARIABLES(\n\t\tVARIABLE_NAME  VARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(1024) DEFAULT NULL);"]
[2022/07/15 15:01:06.291 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 9, tp general"] [job="ID:16, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:15, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.291 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.291 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 9, tp general"] [job="ID:16, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:15, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.291 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.291 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=16]
[2022/07/15 15:01:06.291 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:06.291 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=7] [neededSchemaVersion=8] ["start time"=41.333µs] [phyTblIDs="[15]"] [actionTypes="[8]"]
[2022/07/15 15:01:06.291 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=8] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb(\n\t\tVARIABLE_NAME  \tVARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE \tVARCHAR(1024) DEFAULT NULL,\n\t\tCOMMENT \t\tVARCHAR(1024));"] [user=]
[2022/07/15 15:01:06.292 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:18, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:17, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.292 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:06.292 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:18, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:17, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.292 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb(\n\t\tVARIABLE_NAME  \tVARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE \tVARCHAR(1024) DEFAULT NULL,\n\t\tCOMMENT \t\tVARCHAR(1024));"]
[2022/07/15 15:01:06.292 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 9, tp general"] [job="ID:18, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:17, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.292 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.292 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 9, tp general"] [job="ID:18, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:17, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.292 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.292 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=18]
[2022/07/15 15:01:06.292 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:06.292 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=8] [neededSchemaVersion=9] ["start time"=48.292µs] [phyTblIDs="[17]"] [actionTypes="[8]"]
[2022/07/15 15:01:06.292 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=9] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.help_topic (\n  \t\thelp_topic_id \t\tINT(10) UNSIGNED NOT NULL,\n  \t\tname \t\t\t\tCHAR(64) NOT NULL,\n  \t\thelp_category_id \tSMALLINT(5) UNSIGNED NOT NULL,\n  \t\tdescription \t\tTEXT NOT NULL,\n  \t\texample \t\t\tTEXT NOT NULL,\n  \t\turl \t\t\t\tTEXT NOT NULL,\n  \t\tPRIMARY KEY (help_topic_id) clustered,\n  \t\tUNIQUE KEY name (name)\n\t\t) ENGINE=InnoDB DEFAULT CHARSET=utf8 STATS_PERSISTENT=0 COMMENT='help topics';"] [user=]
[2022/07/15 15:01:06.292 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:20, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:19, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.292 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:06.292 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:20, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:19, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.292 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.help_topic (\n  \t\thelp_topic_id \t\tINT(10) UNSIGNED NOT NULL,\n  \t\tname \t\t\t\tCHAR(64) NOT NULL,\n  \t\thelp_category_id \tSMALLINT(5) UNSIGNED NOT NULL,\n  \t\tdescription \t\tTEXT NOT NULL,\n  \t\texample \t\t\tTEXT NOT NULL,\n  \t\turl \t\t\t\tTEXT NOT NULL,\n  \t\tPRIMARY KEY (help_topic_id) clustered,\n  \t\tUNIQUE KEY name (name)\n\t\t) ENGINE=InnoDB DEFAULT CHARSET=utf8 STATS_PERSISTENT=0 COMMENT='help topics';"]
[2022/07/15 15:01:06.292 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 9, tp general"] [job="ID:20, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:19, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.292 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.293 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 9, tp general"] [job="ID:20, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:19, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.292 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.293 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=20]
[2022/07/15 15:01:06.293 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:06.293 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=9] [neededSchemaVersion=10] ["start time"=65.666µs] [phyTblIDs="[19]"] [actionTypes="[8]"]
[2022/07/15 15:01:06.293 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=10] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_meta (\n\t\tversion \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\ttable_id \t\tBIGINT(64) NOT NULL,\n\t\tmodify_count\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcount \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tsnapshot        BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tINDEX idx_ver(version),\n\t\tUNIQUE INDEX tbl(table_id)\n\t);"] [user=]
[2022/07/15 15:01:06.293 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:22, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:21, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.293 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:06.293 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:22, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:21, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.293 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_meta (\n\t\tversion \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\ttable_id \t\tBIGINT(64) NOT NULL,\n\t\tmodify_count\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcount \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tsnapshot        BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tINDEX idx_ver(version),\n\t\tUNIQUE INDEX tbl(table_id)\n\t);"]
[2022/07/15 15:01:06.293 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 9, tp general"] [job="ID:22, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:21, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.293 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.294 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 9, tp general"] [job="ID:22, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:21, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.293 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.294 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=22]
[2022/07/15 15:01:06.294 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:06.294 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=10] [neededSchemaVersion=11] ["start time"=62.958µs] [phyTblIDs="[21]"] [actionTypes="[8]"]
[2022/07/15 15:01:06.294 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=11] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_histograms (\n\t\ttable_id \t\t\tBIGINT(64) NOT NULL,\n\t\tis_index \t\t\tTINYINT(2) NOT NULL,\n\t\thist_id \t\t\tBIGINT(64) NOT NULL,\n\t\tdistinct_count \t\tBIGINT(64) NOT NULL,\n\t\tnull_count \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\ttot_col_size \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tmodify_count \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tversion \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tcm_sketch \t\t\tBLOB(6291456),\n\t\tstats_ver \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tflag \t\t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcorrelation \t\tDOUBLE NOT NULL DEFAULT 0,\n\t\tlast_analyze_pos \tLONGBLOB DEFAULT NULL,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id)\n\t);"] [user=]
[2022/07/15 15:01:06.294 +08:00] [INFO] [ddl_api.go:999] ["Automatically convert BLOB(6291456) to MEDIUMBLOB"]
[2022/07/15 15:01:06.294 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:24, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:23, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.294 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:06.294 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:24, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:23, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.294 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_histograms (\n\t\ttable_id \t\t\tBIGINT(64) NOT NULL,\n\t\tis_index \t\t\tTINYINT(2) NOT NULL,\n\t\thist_id \t\t\tBIGINT(64) NOT NULL,\n\t\tdistinct_count \t\tBIGINT(64) NOT NULL,\n\t\tnull_count \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\ttot_col_size \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tmodify_count \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tversion \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tcm_sketch \t\t\tBLOB(6291456),\n\t\tstats_ver \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tflag \t\t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcorrelation \t\tDOUBLE NOT NULL DEFAULT 0,\n\t\tlast_analyze_pos \tLONGBLOB DEFAULT NULL,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id)\n\t);"]
[2022/07/15 15:01:06.294 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 9, tp general"] [job="ID:24, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:23, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.294 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.295 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 9, tp general"] [job="ID:24, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:23, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.294 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.295 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=24]
[2022/07/15 15:01:06.295 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:06.295 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=11] [neededSchemaVersion=12] ["start time"=105.875µs] [phyTblIDs="[23]"] [actionTypes="[8]"]
[2022/07/15 15:01:06.295 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=12] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_buckets (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tbucket_id \tBIGINT(64) NOT NULL,\n\t\tcount \t\tBIGINT(64) NOT NULL,\n\t\trepeats \tBIGINT(64) NOT NULL,\n\t\tupper_bound LONGBLOB NOT NULL,\n\t\tlower_bound LONGBLOB ,\n\t\tndv         BIGINT NOT NULL DEFAULT 0,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id, bucket_id)\n\t);"] [user=]
[2022/07/15 15:01:06.296 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:26, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:25, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.295 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:06.296 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:26, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:25, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.295 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_buckets (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tbucket_id \tBIGINT(64) NOT NULL,\n\t\tcount \t\tBIGINT(64) NOT NULL,\n\t\trepeats \tBIGINT(64) NOT NULL,\n\t\tupper_bound LONGBLOB NOT NULL,\n\t\tlower_bound LONGBLOB ,\n\t\tndv         BIGINT NOT NULL DEFAULT 0,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id, bucket_id)\n\t);"]
[2022/07/15 15:01:06.296 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 9, tp general"] [job="ID:26, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:25, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.295 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.296 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 9, tp general"] [job="ID:26, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:25, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.295 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.296 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=26]
[2022/07/15 15:01:06.296 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:06.297 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=12] [neededSchemaVersion=13] ["start time"=136µs] [phyTblIDs="[25]"] [actionTypes="[8]"]
[2022/07/15 15:01:06.297 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=13] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_index (job_id, element_id)\n\t);"] [user=]
[2022/07/15 15:01:06.297 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:28, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:27, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.297 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:06.297 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:28, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:27, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.297 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_index (job_id, element_id)\n\t);"]
[2022/07/15 15:01:06.297 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 9, tp general"] [job="ID:28, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:27, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.297 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.297 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 9, tp general"] [job="ID:28, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:27, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.297 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.297 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=28]
[2022/07/15 15:01:06.297 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:06.297 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=13] [neededSchemaVersion=14] ["start time"=62.5µs] [phyTblIDs="[27]"] [actionTypes="[8]"]
[2022/07/15 15:01:06.297 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=14] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range_done (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_done_index (job_id, element_id)\n\t);"] [user=]
[2022/07/15 15:01:06.298 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:30, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:29, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.297 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:06.298 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:30, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:29, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.297 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range_done (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_done_index (job_id, element_id)\n\t);"]
[2022/07/15 15:01:06.298 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 9, tp general"] [job="ID:30, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:29, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.297 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.298 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 9, tp general"] [job="ID:30, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:29, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.297 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.298 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=30]
[2022/07/15 15:01:06.298 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:06.298 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=14] [neededSchemaVersion=15] ["start time"=61.75µs] [phyTblIDs="[29]"] [actionTypes="[8]"]
[2022/07/15 15:01:06.298 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=15] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_feedback (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tfeedback \tBLOB NOT NULL,\n\t\tINDEX hist(table_id, is_index, hist_id)\n\t);"] [user=]
[2022/07/15 15:01:06.298 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:32, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:31, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.298 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:06.298 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:32, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:31, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.298 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_feedback (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tfeedback \tBLOB NOT NULL,\n\t\tINDEX hist(table_id, is_index, hist_id)\n\t);"]
[2022/07/15 15:01:06.298 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 9, tp general"] [job="ID:32, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:31, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.298 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.299 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 9, tp general"] [job="ID:32, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:31, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.298 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.299 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=32]
[2022/07/15 15:01:06.299 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:06.299 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=15] [neededSchemaVersion=16] ["start time"=59.958µs] [phyTblIDs="[31]"] [actionTypes="[8]"]
[2022/07/15 15:01:06.299 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=16] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.role_edges (\n\t\tFROM_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tFROM_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tWITH_ADMIN_OPTION \tENUM('N','Y') CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (FROM_HOST,FROM_USER,TO_HOST,TO_USER)\n\t);"] [user=]
[2022/07/15 15:01:06.299 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:34, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:33, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.299 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:06.299 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:34, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:33, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.299 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.role_edges (\n\t\tFROM_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tFROM_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tWITH_ADMIN_OPTION \tENUM('N','Y') CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (FROM_HOST,FROM_USER,TO_HOST,TO_USER)\n\t);"]
[2022/07/15 15:01:06.299 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 9, tp general"] [job="ID:34, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:33, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.299 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.300 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 9, tp general"] [job="ID:34, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:33, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.299 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.300 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=34]
[2022/07/15 15:01:06.300 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:06.300 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=16] [neededSchemaVersion=17] ["start time"=61.75µs] [phyTblIDs="[33]"] [actionTypes="[8]"]
[2022/07/15 15:01:06.300 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=17] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.default_roles (\n\t\tHOST \t\t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tUSER \t\t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tDEFAULT_ROLE_HOST \tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '%',\n\t\tDEFAULT_ROLE_USER \tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tPRIMARY KEY (HOST,USER,DEFAULT_ROLE_HOST,DEFAULT_ROLE_USER)\n\t)"] [user=]
[2022/07/15 15:01:06.300 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:36, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:35, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.3 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:06.300 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:36, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:35, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.3 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.default_roles (\n\t\tHOST \t\t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tUSER \t\t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tDEFAULT_ROLE_HOST \tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '%',\n\t\tDEFAULT_ROLE_USER \tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tPRIMARY KEY (HOST,USER,DEFAULT_ROLE_HOST,DEFAULT_ROLE_USER)\n\t)"]
[2022/07/15 15:01:06.300 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 9, tp general"] [job="ID:36, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:35, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.3 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.301 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 9, tp general"] [job="ID:36, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:35, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.3 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.301 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=36]
[2022/07/15 15:01:06.301 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:06.301 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=17] [neededSchemaVersion=18] ["start time"=57.209µs] [phyTblIDs="[35]"] [actionTypes="[8]"]
[2022/07/15 15:01:06.301 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=18] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.bind_info (\n\t\toriginal_sql TEXT NOT NULL,\n\t\tbind_sql TEXT NOT NULL,\n\t\tdefault_db TEXT NOT NULL,\n\t\tstatus TEXT NOT NULL,\n\t\tcreate_time TIMESTAMP(3) NOT NULL,\n\t\tupdate_time TIMESTAMP(3) NOT NULL,\n\t\tcharset TEXT NOT NULL,\n\t\tcollation TEXT NOT NULL,\n\t\tsource VARCHAR(10) NOT NULL DEFAULT 'unknown',\n\t\tINDEX sql_index(original_sql(700),default_db(68)) COMMENT \"accelerate the speed when add global binding query\",\n\t\tINDEX time_index(update_time) COMMENT \"accelerate the speed when querying with last update time\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"] [user=]
[2022/07/15 15:01:06.301 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:38, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:37, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.301 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:06.301 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:38, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:37, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.301 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.bind_info (\n\t\toriginal_sql TEXT NOT NULL,\n\t\tbind_sql TEXT NOT NULL,\n\t\tdefault_db TEXT NOT NULL,\n\t\tstatus TEXT NOT NULL,\n\t\tcreate_time TIMESTAMP(3) NOT NULL,\n\t\tupdate_time TIMESTAMP(3) NOT NULL,\n\t\tcharset TEXT NOT NULL,\n\t\tcollation TEXT NOT NULL,\n\t\tsource VARCHAR(10) NOT NULL DEFAULT 'unknown',\n\t\tINDEX sql_index(original_sql(700),default_db(68)) COMMENT \"accelerate the speed when add global binding query\",\n\t\tINDEX time_index(update_time) COMMENT \"accelerate the speed when querying with last update time\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"]
[2022/07/15 15:01:06.301 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 9, tp general"] [job="ID:38, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:37, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.301 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.302 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 9, tp general"] [job="ID:38, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:37, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.301 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.302 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=38]
[2022/07/15 15:01:06.302 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:06.302 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=18] [neededSchemaVersion=19] ["start time"=91.375µs] [phyTblIDs="[37]"] [actionTypes="[8]"]
[2022/07/15 15:01:06.302 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=19] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_top_n (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tcount \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"] [user=]
[2022/07/15 15:01:06.302 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:40, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:39, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.302 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:06.302 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:40, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:39, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.302 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_top_n (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tcount \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"]
[2022/07/15 15:01:06.302 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 9, tp general"] [job="ID:40, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:39, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.302 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.303 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 9, tp general"] [job="ID:40, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:39, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.302 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.303 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=40]
[2022/07/15 15:01:06.303 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:06.303 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=19] [neededSchemaVersion=20] ["start time"=60.208µs] [phyTblIDs="[39]"] [actionTypes="[8]"]
[2022/07/15 15:01:06.303 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=20] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.expr_pushdown_blacklist (\n\t\tname \t\tCHAR(100) NOT NULL,\n\t\tstore_type \tCHAR(100) NOT NULL DEFAULT 'tikv,tiflash,tidb',\n\t\treason \t\tVARCHAR(200)\n\t);"] [user=]
[2022/07/15 15:01:06.303 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:42, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:41, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.303 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:06.303 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:42, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:41, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.303 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.expr_pushdown_blacklist (\n\t\tname \t\tCHAR(100) NOT NULL,\n\t\tstore_type \tCHAR(100) NOT NULL DEFAULT 'tikv,tiflash,tidb',\n\t\treason \t\tVARCHAR(200)\n\t);"]
[2022/07/15 15:01:06.303 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 9, tp general"] [job="ID:42, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:41, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.303 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.303 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 9, tp general"] [job="ID:42, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:41, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.303 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.304 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=42]
[2022/07/15 15:01:06.304 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:06.304 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=20] [neededSchemaVersion=21] ["start time"=45.709µs] [phyTblIDs="[41]"] [actionTypes="[8]"]
[2022/07/15 15:01:06.304 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=21] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.opt_rule_blacklist (\n\t\tname \tCHAR(100) NOT NULL\n\t);"] [user=]
[2022/07/15 15:01:06.304 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:44, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:43, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.304 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:06.304 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:44, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:43, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.304 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.opt_rule_blacklist (\n\t\tname \tCHAR(100) NOT NULL\n\t);"]
[2022/07/15 15:01:06.304 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 9, tp general"] [job="ID:44, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:43, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.304 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.304 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 9, tp general"] [job="ID:44, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:43, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.304 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.304 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=44]
[2022/07/15 15:01:06.304 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:06.304 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=21] [neededSchemaVersion=22] ["start time"=32.959µs] [phyTblIDs="[43]"] [actionTypes="[8]"]
[2022/07/15 15:01:06.304 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=22] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_extended (\n\t\tname varchar(32) NOT NULL,\n\t\ttype tinyint(4) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tcolumn_ids varchar(32) NOT NULL,\n\t\tstats blob DEFAULT NULL,\n\t\tversion bigint(64) unsigned NOT NULL,\n\t\tstatus tinyint(4) NOT NULL,\n\t\tPRIMARY KEY(name, table_id),\n\t\tKEY idx_1 (table_id, status, version),\n\t\tKEY idx_2 (status, version)\n\t);"] [user=]
[2022/07/15 15:01:06.304 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:46, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:45, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.304 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:06.304 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:46, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:45, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.304 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_extended (\n\t\tname varchar(32) NOT NULL,\n\t\ttype tinyint(4) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tcolumn_ids varchar(32) NOT NULL,\n\t\tstats blob DEFAULT NULL,\n\t\tversion bigint(64) unsigned NOT NULL,\n\t\tstatus tinyint(4) NOT NULL,\n\t\tPRIMARY KEY(name, table_id),\n\t\tKEY idx_1 (table_id, status, version),\n\t\tKEY idx_2 (status, version)\n\t);"]
[2022/07/15 15:01:06.305 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 9, tp general"] [job="ID:46, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:45, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.304 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.305 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 9, tp general"] [job="ID:46, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:45, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.304 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.305 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=46]
[2022/07/15 15:01:06.305 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:06.305 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=22] [neededSchemaVersion=23] ["start time"=93.209µs] [phyTblIDs="[45]"] [actionTypes="[8]"]
[2022/07/15 15:01:06.305 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=23] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.schema_index_usage (\n\t\tTABLE_ID bigint(64),\n\t\tINDEX_ID bigint(21),\n\t\tQUERY_COUNT bigint(64),\n\t\tROWS_SELECTED bigint(64),\n\t\tLAST_USED_AT timestamp,\n\t\tPRIMARY KEY(TABLE_ID, INDEX_ID)\n\t);"] [user=]
[2022/07/15 15:01:06.305 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:48, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:47, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.305 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:06.305 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:48, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:47, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.305 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.schema_index_usage (\n\t\tTABLE_ID bigint(64),\n\t\tINDEX_ID bigint(21),\n\t\tQUERY_COUNT bigint(64),\n\t\tROWS_SELECTED bigint(64),\n\t\tLAST_USED_AT timestamp,\n\t\tPRIMARY KEY(TABLE_ID, INDEX_ID)\n\t);"]
[2022/07/15 15:01:06.306 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 9, tp general"] [job="ID:48, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:47, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.305 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.306 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 9, tp general"] [job="ID:48, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:47, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.305 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.306 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=48]
[2022/07/15 15:01:06.306 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:06.306 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=23] [neededSchemaVersion=24] ["start time"=63.375µs] [phyTblIDs="[47]"] [actionTypes="[8]"]
[2022/07/15 15:01:06.306 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=24] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_fm_sketch (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"] [user=]
[2022/07/15 15:01:06.306 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:50, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:49, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.306 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:06.306 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:50, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:49, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.306 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_fm_sketch (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"]
[2022/07/15 15:01:06.306 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 9, tp general"] [job="ID:50, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:49, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.306 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.307 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 9, tp general"] [job="ID:50, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:49, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.306 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.307 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=50]
[2022/07/15 15:01:06.307 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:06.307 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=24] [neededSchemaVersion=25] ["start time"=60.833µs] [phyTblIDs="[49]"] [actionTypes="[8]"]
[2022/07/15 15:01:06.307 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=25] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.global_grants (\n\t\tUSER char(32) NOT NULL DEFAULT '',\n\t\tHOST char(255) NOT NULL DEFAULT '',\n\t\tPRIV char(32) NOT NULL DEFAULT '',\n\t\tWITH_GRANT_OPTION enum('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (USER,HOST,PRIV)\n\t);"] [user=]
[2022/07/15 15:01:06.307 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:52, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:51, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.307 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:06.307 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:52, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:51, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.307 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.global_grants (\n\t\tUSER char(32) NOT NULL DEFAULT '',\n\t\tHOST char(255) NOT NULL DEFAULT '',\n\t\tPRIV char(32) NOT NULL DEFAULT '',\n\t\tWITH_GRANT_OPTION enum('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (USER,HOST,PRIV)\n\t);"]
[2022/07/15 15:01:06.307 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 9, tp general"] [job="ID:52, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:51, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.307 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.308 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 9, tp general"] [job="ID:52, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:51, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.307 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.308 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=52]
[2022/07/15 15:01:06.308 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:06.308 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=25] [neededSchemaVersion=26] ["start time"=57.125µs] [phyTblIDs="[51]"] [actionTypes="[8]"]
[2022/07/15 15:01:06.308 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=26] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.capture_plan_baselines_blacklist (\n\t\tid bigint(64) auto_increment,\n\t\tfilter_type varchar(32) NOT NULL COMMENT \"type of the filter, only db, table and frequency supported now\",\n\t\tfilter_value varchar(32) NOT NULL,\n\t\tkey idx(filter_type),\n\t\tprimary key(id)\n\t);"] [user=]
[2022/07/15 15:01:06.308 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:54, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:53, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.308 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:06.308 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:54, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:53, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.308 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.capture_plan_baselines_blacklist (\n\t\tid bigint(64) auto_increment,\n\t\tfilter_type varchar(32) NOT NULL COMMENT \"type of the filter, only db, table and frequency supported now\",\n\t\tfilter_value varchar(32) NOT NULL,\n\t\tkey idx(filter_type),\n\t\tprimary key(id)\n\t);"]
[2022/07/15 15:01:06.308 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 9, tp general"] [job="ID:54, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:53, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.308 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.308 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 9, tp general"] [job="ID:54, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:53, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.308 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.308 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=54]
[2022/07/15 15:01:06.308 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:06.309 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=26] [neededSchemaVersion=27] ["start time"=51.417µs] [phyTblIDs="[53]"] [actionTypes="[8]"]
[2022/07/15 15:01:06.309 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=27] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.column_stats_usage (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tcolumn_id BIGINT(64) NOT NULL,\n\t\tlast_used_at TIMESTAMP,\n\t\tlast_analyzed_at TIMESTAMP,\n\t\tPRIMARY KEY (table_id, column_id) CLUSTERED\n\t);"] [user=]
[2022/07/15 15:01:06.309 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:56, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:55, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.309 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:06.309 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:56, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:55, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.309 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.column_stats_usage (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tcolumn_id BIGINT(64) NOT NULL,\n\t\tlast_used_at TIMESTAMP,\n\t\tlast_analyzed_at TIMESTAMP,\n\t\tPRIMARY KEY (table_id, column_id) CLUSTERED\n\t);"]
[2022/07/15 15:01:06.309 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 9, tp general"] [job="ID:56, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:55, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.309 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.309 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 9, tp general"] [job="ID:56, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:55, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.309 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.309 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=56]
[2022/07/15 15:01:06.309 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:06.309 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=27] [neededSchemaVersion=28] ["start time"=58.25µs] [phyTblIDs="[55]"] [actionTypes="[8]"]
[2022/07/15 15:01:06.309 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=28] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.table_cache_meta (\n\t\ttid bigint(11) NOT NULL DEFAULT 0,\n\t\tlock_type enum('NONE','READ', 'INTEND', 'WRITE') NOT NULL DEFAULT 'NONE',\n\t\tlease bigint(20) NOT NULL DEFAULT 0,\n\t\toldReadLease bigint(20) NOT NULL DEFAULT 0,\n\t\tPRIMARY KEY (tid)\n\t);"] [user=]
[2022/07/15 15:01:06.309 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:58, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:57, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.309 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:06.310 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:58, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:57, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.309 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.table_cache_meta (\n\t\ttid bigint(11) NOT NULL DEFAULT 0,\n\t\tlock_type enum('NONE','READ', 'INTEND', 'WRITE') NOT NULL DEFAULT 'NONE',\n\t\tlease bigint(20) NOT NULL DEFAULT 0,\n\t\toldReadLease bigint(20) NOT NULL DEFAULT 0,\n\t\tPRIMARY KEY (tid)\n\t);"]
[2022/07/15 15:01:06.310 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 9, tp general"] [job="ID:58, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:57, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.309 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.310 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 9, tp general"] [job="ID:58, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:57, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.309 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.310 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=58]
[2022/07/15 15:01:06.310 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:06.310 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=28] [neededSchemaVersion=29] ["start time"=50.667µs] [phyTblIDs="[57]"] [actionTypes="[8]"]
[2022/07/15 15:01:06.310 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=29] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.analyze_options (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tsample_num BIGINT(64) NOT NULL DEFAULT 0,\n\t\tsample_rate DOUBLE NOT NULL DEFAULT -1,\n\t\tbuckets BIGINT(64) NOT NULL DEFAULT 0,\n\t\ttopn BIGINT(64) NOT NULL DEFAULT -1,\n\t\tcolumn_choice enum('DEFAULT','ALL','PREDICATE','LIST') NOT NULL DEFAULT 'DEFAULT',\n\t\tcolumn_ids TEXT(19372),\n\t\tPRIMARY KEY (table_id) CLUSTERED\n\t);"] [user=]
[2022/07/15 15:01:06.310 +08:00] [INFO] [ddl_api.go:999] ["Automatically convert BLOB(19372) to MEDIUMBLOB"]
[2022/07/15 15:01:06.310 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:60, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:59, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.31 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:06.310 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:60, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:59, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.31 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.analyze_options (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tsample_num BIGINT(64) NOT NULL DEFAULT 0,\n\t\tsample_rate DOUBLE NOT NULL DEFAULT -1,\n\t\tbuckets BIGINT(64) NOT NULL DEFAULT 0,\n\t\ttopn BIGINT(64) NOT NULL DEFAULT -1,\n\t\tcolumn_choice enum('DEFAULT','ALL','PREDICATE','LIST') NOT NULL DEFAULT 'DEFAULT',\n\t\tcolumn_ids TEXT(19372),\n\t\tPRIMARY KEY (table_id) CLUSTERED\n\t);"]
[2022/07/15 15:01:06.310 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 9, tp general"] [job="ID:60, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:59, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.31 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.311 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 9, tp general"] [job="ID:60, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:59, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.31 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.311 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=60]
[2022/07/15 15:01:06.311 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:06.311 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=29] [neededSchemaVersion=30] ["start time"=66.084µs] [phyTblIDs="[59]"] [actionTypes="[8]"]
[2022/07/15 15:01:06.311 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=30] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tstats_data longblob NOT NULL,\n\t\tseq_no bigint(64) NOT NULL comment 'sequence number of the gzipped data slice',\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version_seq (table_id, version, seq_no),\n\t\tKEY table_create_time (table_id, create_time, seq_no)\n\t);"] [user=]
[2022/07/15 15:01:06.311 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:62, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:61, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.311 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:06.311 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:62, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:61, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.311 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tstats_data longblob NOT NULL,\n\t\tseq_no bigint(64) NOT NULL comment 'sequence number of the gzipped data slice',\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version_seq (table_id, version, seq_no),\n\t\tKEY table_create_time (table_id, create_time, seq_no)\n\t);"]
[2022/07/15 15:01:06.311 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 9, tp general"] [job="ID:62, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:61, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.311 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.312 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 9, tp general"] [job="ID:62, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:61, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.311 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.312 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=62]
[2022/07/15 15:01:06.312 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:06.312 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=30] [neededSchemaVersion=31] ["start time"=73.417µs] [phyTblIDs="[61]"] [actionTypes="[8]"]
[2022/07/15 15:01:06.312 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=31] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_meta_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL,\n\t\tcount bigint(64) NOT NULL,\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version (table_id, version),\n\t\tKEY table_create_time (table_id, create_time)\n\t);"] [user=]
[2022/07/15 15:01:06.312 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:64, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:63, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.312 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:06.312 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:64, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:63, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.312 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_meta_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL,\n\t\tcount bigint(64) NOT NULL,\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version (table_id, version),\n\t\tKEY table_create_time (table_id, create_time)\n\t);"]
[2022/07/15 15:01:06.312 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 9, tp general"] [job="ID:64, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:63, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.312 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.313 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 9, tp general"] [job="ID:64, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:63, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.312 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.313 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=64]
[2022/07/15 15:01:06.313 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:06.313 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=31] [neededSchemaVersion=32] ["start time"=76µs] [phyTblIDs="[63]"] [actionTypes="[8]"]
[2022/07/15 15:01:06.313 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=32] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.analyze_jobs (\n\t\tid BIGINT(64) UNSIGNED NOT NULL AUTO_INCREMENT,\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\ttable_schema CHAR(64) NOT NULL DEFAULT '',\n\t\ttable_name CHAR(64) NOT NULL DEFAULT '',\n\t\tpartition_name CHAR(64) NOT NULL DEFAULT '',\n\t\tjob_info TEXT NOT NULL,\n\t\tprocessed_rows BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tstart_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tstate ENUM('pending', 'running', 'finished', 'failed') NOT NULL,\n\t\tfail_reason TEXT,\n\t\tinstance VARCHAR(512) NOT NULL comment 'address of the TiDB instance executing the analyze job',\n\t\tprocess_id BIGINT(64) UNSIGNED comment 'ID of the process executing the analyze job',\n\t\tPRIMARY KEY (id),\n\t\tKEY (update_time)\n\t);"] [user=]
[2022/07/15 15:01:06.313 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:66, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:65, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.313 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:06.313 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:66, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:65, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.313 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.analyze_jobs (\n\t\tid BIGINT(64) UNSIGNED NOT NULL AUTO_INCREMENT,\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\ttable_schema CHAR(64) NOT NULL DEFAULT '',\n\t\ttable_name CHAR(64) NOT NULL DEFAULT '',\n\t\tpartition_name CHAR(64) NOT NULL DEFAULT '',\n\t\tjob_info TEXT NOT NULL,\n\t\tprocessed_rows BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tstart_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tstate ENUM('pending', 'running', 'finished', 'failed') NOT NULL,\n\t\tfail_reason TEXT,\n\t\tinstance VARCHAR(512) NOT NULL comment 'address of the TiDB instance executing the analyze job',\n\t\tprocess_id BIGINT(64) UNSIGNED comment 'ID of the process executing the analyze job',\n\t\tPRIMARY KEY (id),\n\t\tKEY (update_time)\n\t);"]
[2022/07/15 15:01:06.313 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 9, tp general"] [job="ID:66, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:65, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.313 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.314 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 9, tp general"] [job="ID:66, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:65, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.313 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.314 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=66]
[2022/07/15 15:01:06.314 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:06.314 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=32] [neededSchemaVersion=33] ["start time"=111.875µs] [phyTblIDs="[65]"] [actionTypes="[8]"]
[2022/07/15 15:01:06.314 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=33] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.advisory_locks (\n\t\tlock_name VARCHAR(64) NOT NULL PRIMARY KEY\n\t);"] [user=]
[2022/07/15 15:01:06.314 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:68, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:67, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.314 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:06.314 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:68, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:67, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.314 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.advisory_locks (\n\t\tlock_name VARCHAR(64) NOT NULL PRIMARY KEY\n\t);"]
[2022/07/15 15:01:06.314 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 9, tp general"] [job="ID:68, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:67, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.314 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.315 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 9, tp general"] [job="ID:68, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:67, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.314 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.315 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=68]
[2022/07/15 15:01:06.315 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:06.315 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=33] [neededSchemaVersion=34] ["start time"=45.042µs] [phyTblIDs="[67]"] [actionTypes="[8]"]
[2022/07/15 15:01:06.321 +08:00] [INFO] [bootstrap.go:448] ["bootstrap successful"] ["take time"=40.444042ms]
[2022/07/15 15:01:06.321 +08:00] [INFO] [ddl_worker.go:158] ["[ddl] DDL worker closed"] [worker="worker 9, tp general"] ["take time"=208ns]
[2022/07/15 15:01:06.321 +08:00] [INFO] [ddl_worker.go:158] ["[ddl] DDL worker closed"] [worker="worker 10, tp add index"] ["take time"=73.25µs]
[2022/07/15 15:01:06.321 +08:00] [INFO] [delete_range.go:148] ["[ddl] closing delRange"]
[2022/07/15 15:01:06.321 +08:00] [INFO] [session_pool.go:94] ["[ddl] closing sessionPool"]
[2022/07/15 15:01:06.321 +08:00] [INFO] [ddl.go:576] ["[ddl] DDL closed"] [ID=39a5ea6c-36a3-410b-83d5-5ef56eeb5562] ["take time"=145.375µs]
[2022/07/15 15:01:06.321 +08:00] [INFO] [ddl.go:464] ["[ddl] stop DDL"] [ID=39a5ea6c-36a3-410b-83d5-5ef56eeb5562]
[2022/07/15 15:01:06.321 +08:00] [INFO] [domain.go:498] ["topNSlowQueryLoop exited."]
[2022/07/15 15:01:06.321 +08:00] [INFO] [domain.go:575] ["topologySyncerKeeper exited."]
[2022/07/15 15:01:06.321 +08:00] [INFO] [domain.go:527] ["infoSyncerKeeper exited."]
[2022/07/15 15:01:06.321 +08:00] [INFO] [domain.go:552] ["globalConfigSyncerKeeper exited."]
[2022/07/15 15:01:06.321 +08:00] [INFO] [domain.go:733] ["domain closed"] ["take time"=198.666µs]
[2022/07/15 15:01:06.321 +08:00] [INFO] [tidb.go:74] ["new domain"] [store=e03c068d-3a75-4af0-945d-8ef1aa4f74b5] ["ddl lease"=0s] ["stats lease"=-1ns] ["index usage sync lease"=0s]
[2022/07/15 15:01:06.323 +08:00] [INFO] [domain.go:178] ["full load InfoSchema success"] [currentSchemaVersion=0] [neededSchemaVersion=34] ["start time"=2.398917ms]
[2022/07/15 15:01:06.323 +08:00] [INFO] [domain.go:449] ["full load and reset schema validator"]
[2022/07/15 15:01:06.323 +08:00] [INFO] [ddl.go:483] ["[ddl] start DDL"] [ID=518895f6-3a64-4ce9-87b2-2f3bf0cd8e39] [runWorker=true]
[2022/07/15 15:01:06.324 +08:00] [INFO] [ddl.go:472] ["[ddl] start delRangeManager OK"] ["is a emulator"=true]
[2022/07/15 15:01:06.324 +08:00] [INFO] [delete_range.go:158] ["[ddl] start delRange emulator"]
[2022/07/15 15:01:06.324 +08:00] [INFO] [ddl_worker.go:164] ["[ddl] start DDL worker"] [worker="worker 11, tp general"]
[2022/07/15 15:01:06.324 +08:00] [INFO] [ddl_worker.go:164] ["[ddl] start DDL worker"] [worker="worker 12, tp add index"]
[2022/07/15 15:01:06.324 +08:00] [WARN] [sysvar_cache.go:53] ["sysvar cache is empty, triggering rebuild"]
[2022/07/15 15:01:06.328 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=3] [schemaVersion=34] [cur_db=test] [sql="drop table if exists foo"] [user=]
[2022/07/15 15:01:06.328 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=3] [schemaVersion=34] [cur_db=test] [sql="drop table if exists bar"] [user=]
[2022/07/15 15:01:06.328 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=3] [schemaVersion=34] [cur_db=test] [sql="create table foo(a int, b int)"] [user=]
[2022/07/15 15:01:06.328 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:70, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.328 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:06.328 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:70, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.328 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="create table foo(a int, b int)"]
[2022/07/15 15:01:06.328 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 11, tp general"] [job="ID:70, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.328 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.329 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 11, tp general"] [job="ID:70, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:69, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.328 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.329 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=70]
[2022/07/15 15:01:06.329 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:06.329 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=34] [neededSchemaVersion=35] ["start time"=41.792µs] [phyTblIDs="[69]"] [actionTypes="[8]"]
[2022/07/15 15:01:06.329 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=3] [schemaVersion=35] [cur_db=test] [sql="create table bar(a double not null, b decimal(65,0) not null)"] [user=]
[2022/07/15 15:01:06.329 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:72, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:71, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.329 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:06.329 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:72, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:71, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.329 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="create table bar(a double not null, b decimal(65,0) not null)"]
[2022/07/15 15:01:06.329 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 11, tp general"] [job="ID:72, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:71, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.329 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.329 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 11, tp general"] [job="ID:72, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:71, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.329 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.329 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=72]
[2022/07/15 15:01:06.329 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:06.330 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=35] [neededSchemaVersion=36] ["start time"=36.917µs] [phyTblIDs="[71]"] [actionTypes="[8]"]
[2022/07/15 15:01:06.330 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=3] [schemaVersion=36] [cur_db=test] [sql="alter table foo set tiflash replica 1"] [user=]
[2022/07/15 15:01:06.330 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:73, Type:set tiflash replica, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.33 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:06.330 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:73, Type:set tiflash replica, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.33 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="alter table foo set tiflash replica 1"]
[2022/07/15 15:01:06.330 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 11, tp general"] [job="ID:73, Type:set tiflash replica, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.33 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.330 +08:00] [INFO] [table.go:1109] ["Set TiFlash replica pd rule"] [tableID=69]
[2022/07/15 15:01:06.330 +08:00] [INFO] [info.go:1051] [ConfigureTiFlashPDForTable] [tableID=69] [count=1]
[2022/07/15 15:01:06.330 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 11, tp general"] [job="ID:73, Type:set tiflash replica, State:synced, SchemaState:public, SchemaID:1, TableID:69, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.33 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.330 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=73]
[2022/07/15 15:01:06.330 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:06.330 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=36] [neededSchemaVersion=37] ["start time"=39.292µs] [phyTblIDs="[]"] [actionTypes="[]"]
[2022/07/15 15:01:06.330 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=3] [schemaVersion=37] [cur_db=test] [sql="alter table bar set tiflash replica 1"] [user=]
[2022/07/15 15:01:06.330 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:74, Type:set tiflash replica, State:queueing, SchemaState:none, SchemaID:1, TableID:71, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.33 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:06.330 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:74, Type:set tiflash replica, State:queueing, SchemaState:none, SchemaID:1, TableID:71, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.33 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="alter table bar set tiflash replica 1"]
[2022/07/15 15:01:06.330 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 11, tp general"] [job="ID:74, Type:set tiflash replica, State:queueing, SchemaState:none, SchemaID:1, TableID:71, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.33 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.330 +08:00] [INFO] [table.go:1109] ["Set TiFlash replica pd rule"] [tableID=71]
[2022/07/15 15:01:06.330 +08:00] [INFO] [info.go:1051] [ConfigureTiFlashPDForTable] [tableID=71] [count=1]
[2022/07/15 15:01:06.330 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 11, tp general"] [job="ID:74, Type:set tiflash replica, State:synced, SchemaState:public, SchemaID:1, TableID:71, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.33 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.331 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=74]
[2022/07/15 15:01:06.331 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:06.331 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=37] [neededSchemaVersion=38] ["start time"=37.125µs] [phyTblIDs="[]"] [actionTypes="[]"]
[2022/07/15 15:01:06.331 +08:00] [WARN] [2pc.go:1806] ["schemaLeaseChecker is not set for this transaction"] [sessionID=3] [startTS=434600271237873667] [checkTS=434600271237873668]
[2022/07/15 15:01:06.331 +08:00] [WARN] [2pc.go:1806] ["schemaLeaseChecker is not set for this transaction"] [sessionID=3] [startTS=434600271237873671] [checkTS=434600271237873672]
[2022/07/15 15:01:06.332 +08:00] [INFO] [ddl_worker.go:158] ["[ddl] DDL worker closed"] [worker="worker 11, tp general"] ["take time"=125ns]
[2022/07/15 15:01:06.332 +08:00] [INFO] [ddl_worker.go:158] ["[ddl] DDL worker closed"] [worker="worker 12, tp add index"] ["take time"=41ns]
[2022/07/15 15:01:06.332 +08:00] [INFO] [delete_range.go:148] ["[ddl] closing delRange"]
[2022/07/15 15:01:06.332 +08:00] [INFO] [session_pool.go:94] ["[ddl] closing sessionPool"]
[2022/07/15 15:01:06.332 +08:00] [INFO] [ddl.go:576] ["[ddl] DDL closed"] [ID=518895f6-3a64-4ce9-87b2-2f3bf0cd8e39] ["take time"=36.875µs]
[2022/07/15 15:01:06.332 +08:00] [INFO] [ddl.go:464] ["[ddl] stop DDL"] [ID=518895f6-3a64-4ce9-87b2-2f3bf0cd8e39]
[2022/07/15 15:01:06.332 +08:00] [INFO] [domain.go:498] ["topNSlowQueryLoop exited."]
[2022/07/15 15:01:06.332 +08:00] [INFO] [domain.go:1288] ["dumpFileGcChecker exited."]
[2022/07/15 15:01:06.332 +08:00] [INFO] [handle_hist.go:156] ["SubLoadWorker exited."]
[2022/07/15 15:01:06.332 +08:00] [INFO] [domain.go:1203] ["handleEvolvePlanTasksLoop exited."]
[2022/07/15 15:01:06.332 +08:00] [INFO] [domain.go:1032] ["loadPrivilegeInLoop exited."]
[2022/07/15 15:01:06.332 +08:00] [INFO] [domain.go:1160] ["globalBindHandleWorkerLoop exited."]
[2022/07/15 15:01:06.332 +08:00] [INFO] [handle_hist.go:156] ["SubLoadWorker exited."]
[2022/07/15 15:01:06.332 +08:00] [INFO] [handle_hist.go:156] ["SubLoadWorker exited."]
[2022/07/15 15:01:06.332 +08:00] [INFO] [handle_hist.go:156] ["SubLoadWorker exited."]
[2022/07/15 15:01:06.332 +08:00] [INFO] [domain.go:552] ["globalConfigSyncerKeeper exited."]
[2022/07/15 15:01:06.332 +08:00] [INFO] [handle_hist.go:156] ["SubLoadWorker exited."]
[2022/07/15 15:01:06.332 +08:00] [INFO] [domain.go:575] ["topologySyncerKeeper exited."]
[2022/07/15 15:01:06.332 +08:00] [INFO] [domain.go:1082] ["LoadSysVarCacheLoop exited."]
[2022/07/15 15:01:06.332 +08:00] [INFO] [domain.go:527] ["infoSyncerKeeper exited."]
[2022/07/15 15:01:06.332 +08:00] [INFO] [domain.go:733] ["domain closed"] ["take time"=121.791µs]
[2022/07/15 15:01:06.350 +08:00] [INFO] [db.go:567] ["Closing database"]
[2022/07/15 15:01:06.350 +08:00] [INFO] [db.go:592] ["Memtable flushed"]
[2022/07/15 15:01:06.351 +08:00] [INFO] [db.go:596] ["Compaction finished"]
[2022/07/15 15:01:06.351 +08:00] [INFO] [db.go:615] ["BlobManager finished"]
[2022/07/15 15:01:06.351 +08:00] [INFO] [db.go:619] ["ResourceManager finished"]
[2022/07/15 15:01:06.351 +08:00] [INFO] [db.go:625] ["Waiting for closer"]
[2022/07/15 15:01:06.428 +08:00] [INFO] [tidb.go:74] ["new domain"] [store=ffc02395-3358-4802-acc1-4eaeee8c4ec2] ["ddl lease"=0s] ["stats lease"=-1ns] ["index usage sync lease"=0s]
[2022/07/15 15:01:06.429 +08:00] [INFO] [domain.go:178] ["full load InfoSchema success"] [currentSchemaVersion=0] [neededSchemaVersion=0] ["start time"=489.833µs]
[2022/07/15 15:01:06.429 +08:00] [INFO] [domain.go:449] ["full load and reset schema validator"]
[2022/07/15 15:01:06.429 +08:00] [INFO] [ddl.go:483] ["[ddl] start DDL"] [ID=62598ca2-71b6-4ccf-b969-c05913ffd6c6] [runWorker=true]
[2022/07/15 15:01:06.429 +08:00] [INFO] [ddl.go:472] ["[ddl] start delRangeManager OK"] ["is a emulator"=true]
[2022/07/15 15:01:06.429 +08:00] [INFO] [delete_range.go:158] ["[ddl] start delRange emulator"]
[2022/07/15 15:01:06.429 +08:00] [INFO] [ddl_worker.go:164] ["[ddl] start DDL worker"] [worker="worker 13, tp general"]
[2022/07/15 15:01:06.429 +08:00] [INFO] [ddl_worker.go:164] ["[ddl] start DDL worker"] [worker="worker 14, tp add index"]
[2022/07/15 15:01:06.429 +08:00] [INFO] [tidb.go:268] ["rollbackTxn called due to ddl/autocommit failure"]
[2022/07/15 15:01:06.429 +08:00] [WARN] [session.go:1983] ["run statement failed"] [schemaVersion=0] [error="[schema:1049]Unknown database 'mysql'"] [errorVerbose="[schema:1049]Unknown database 'mysql'\ngithub.com/pingcap/errors.AddStack\n\t/Users/hongyunyan/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20211224045212-9687c2b0f87c/errors.go:174\ngithub.com/pingcap/errors.(*Error).GenWithStackByArgs\n\t/Users/hongyunyan/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20211224045212-9687c2b0f87c/normalize.go:164\ngithub.com/pingcap/tidb/executor.(*SimpleExec).executeUse\n\t/Users/hongyunyan/Desktop/tidb/executor/simple.go:571\ngithub.com/pingcap/tidb/executor.(*SimpleExec).Next\n\t/Users/hongyunyan/Desktop/tidb/executor/simple.go:131\ngithub.com/pingcap/tidb/executor.Next\n\t/Users/hongyunyan/Desktop/tidb/executor/executor.go:319\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelayExecutor\n\t/Users/hongyunyan/Desktop/tidb/executor/adapter.go:673\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelay\n\t/Users/hongyunyan/Desktop/tidb/executor/adapter.go:523\ngithub.com/pingcap/tidb/executor.(*ExecStmt).Exec\n\t/Users/hongyunyan/Desktop/tidb/executor/adapter.go:472\ngithub.com/pingcap/tidb/session.runStmt\n\t/Users/hongyunyan/Desktop/tidb/session/session.go:2114\ngithub.com/pingcap/tidb/session.(*session).ExecuteStmt\n\t/Users/hongyunyan/Desktop/tidb/session/session.go:1980\ngithub.com/pingcap/tidb/session.(*session).ExecuteInternal\n\t/Users/hongyunyan/Desktop/tidb/session/session.go:1495\ngithub.com/pingcap/tidb/session.checkBootstrapped\n\t/Users/hongyunyan/Desktop/tidb/session/bootstrap.go:728\ngithub.com/pingcap/tidb/session.bootstrap\n\t/Users/hongyunyan/Desktop/tidb/session/bootstrap.go:431\ngithub.com/pingcap/tidb/session.runInBootstrapSession\n\t/Users/hongyunyan/Desktop/tidb/session/session.go:2834\ngithub.com/pingcap/tidb/session.BootstrapSession\n\t/Users/hongyunyan/Desktop/tidb/session/session.go:2720\ngithub.com/pingcap/tidb/testkit.bootstrap\n\t/Users/hongyunyan/Desktop/tidb/testkit/mockstore.go:71\ngithub.com/pingcap/tidb/testkit.CreateMockStoreAndDomain\n\t/Users/hongyunyan/Desktop/tidb/testkit/mockstore.go:64\ngithub.com/pingcap/tidb/testkit.CreateMockStore\n\t/Users/hongyunyan/Desktop/tidb/testkit/mockstore.go:56\ngithub.com/pingcap/tidb/executor/tiflashtest.TestReadUnsigedPK\n\t/Users/hongyunyan/Desktop/tidb/executor/tiflashtest/tiflash_test.go:142\ntesting.tRunner\n\t/opt/homebrew/Cellar/go/1.18.3/libexec/src/testing/testing.go:1439\nruntime.goexit\n\t/opt/homebrew/Cellar/go/1.18.3/libexec/src/runtime/asm_arm64.s:1263"] [session="{\n  \"currDBName\": \"\",\n  \"id\": 0,\n  \"status\": 2,\n  \"strictMode\": true,\n  \"user\": null\n}"]
[2022/07/15 15:01:06.429 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=0] [cur_db=] [sql="CREATE DATABASE IF NOT EXISTS test"] [user=]
[2022/07/15 15:01:06.430 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:2, Type:create schema, State:queueing, SchemaState:none, SchemaID:1, TableID:0, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.43 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:06.430 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:2, Type:create schema, State:queueing, SchemaState:none, SchemaID:1, TableID:0, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.43 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE DATABASE IF NOT EXISTS test"]
[2022/07/15 15:01:06.430 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 13, tp general"] [job="ID:2, Type:create schema, State:queueing, SchemaState:none, SchemaID:1, TableID:0, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.43 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.430 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 13, tp general"] [job="ID:2, Type:create schema, State:synced, SchemaState:public, SchemaID:1, TableID:0, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.43 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.430 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=2]
[2022/07/15 15:01:06.430 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:06.430 +08:00] [INFO] [domain.go:178] ["full load InfoSchema success"] [currentSchemaVersion=0] [neededSchemaVersion=1] ["start time"=391.75µs]
[2022/07/15 15:01:06.430 +08:00] [INFO] [domain.go:449] ["full load and reset schema validator"]
[2022/07/15 15:01:06.430 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=1] [cur_db=] [sql="CREATE DATABASE IF NOT EXISTS `mysql`"] [user=]
[2022/07/15 15:01:06.431 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:4, Type:create schema, State:queueing, SchemaState:none, SchemaID:3, TableID:0, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.431 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:06.431 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:4, Type:create schema, State:queueing, SchemaState:none, SchemaID:3, TableID:0, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.431 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE DATABASE IF NOT EXISTS `mysql`"]
[2022/07/15 15:01:06.431 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 13, tp general"] [job="ID:4, Type:create schema, State:queueing, SchemaState:none, SchemaID:3, TableID:0, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.431 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.431 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 13, tp general"] [job="ID:4, Type:create schema, State:synced, SchemaState:public, SchemaID:3, TableID:0, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.431 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.431 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=4]
[2022/07/15 15:01:06.431 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:06.431 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=1] [neededSchemaVersion=2] ["start time"=16.167µs] [phyTblIDs="[]"] [actionTypes="[]"]
[2022/07/15 15:01:06.431 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=2] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.user (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tauthentication_string\tTEXT,\n\t\tplugin\t\t\t\t\tCHAR(64),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tProcess_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_db_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tSuper_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_user_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_slave_priv\t    \tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_client_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_role_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_role_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAccount_locked\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShutdown_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReload_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tFILE_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tConfig_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_Tablespace_Priv  ENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (Host, User));"] [user=]
[2022/07/15 15:01:06.431 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:6, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:5, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.431 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:06.431 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:6, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:5, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.431 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.user (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tauthentication_string\tTEXT,\n\t\tplugin\t\t\t\t\tCHAR(64),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tProcess_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_db_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tSuper_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_user_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_slave_priv\t    \tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_client_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_role_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_role_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAccount_locked\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShutdown_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReload_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tFILE_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tConfig_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_Tablespace_Priv  ENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (Host, User));"]
[2022/07/15 15:01:06.432 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 13, tp general"] [job="ID:6, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:5, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.431 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.433 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 13, tp general"] [job="ID:6, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:5, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.431 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.434 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=6]
[2022/07/15 15:01:06.434 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:06.434 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=2] [neededSchemaVersion=3] ["start time"=256.125µs] [phyTblIDs="[5]"] [actionTypes="[8]"]
[2022/07/15 15:01:06.434 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=3] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.global_priv (Host CHAR(255) NOT NULL DEFAULT '',User CHAR(80) NOT NULL DEFAULT '',Priv LONGTEXT NOT NULL DEFAULT '',PRIMARY KEY (Host, User))"] [user=]
[2022/07/15 15:01:06.434 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:8, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:7, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.434 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:06.434 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:8, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:7, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.434 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.global_priv (Host CHAR(255) NOT NULL DEFAULT '',User CHAR(80) NOT NULL DEFAULT '',Priv LONGTEXT NOT NULL DEFAULT '',PRIMARY KEY (Host, User))"]
[2022/07/15 15:01:06.434 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 13, tp general"] [job="ID:8, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:7, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.434 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.434 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 13, tp general"] [job="ID:8, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:7, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.434 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.435 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=8]
[2022/07/15 15:01:06.435 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:06.435 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=3] [neededSchemaVersion=4] ["start time"=50.333µs] [phyTblIDs="[7]"] [actionTypes="[8]"]
[2022/07/15 15:01:06.435 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=4] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.db (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tDB\t\t\t\t\t\tCHAR(64),\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv \t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (Host, DB, User));"] [user=]
[2022/07/15 15:01:06.435 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:10, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:9, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.435 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:06.435 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:10, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:9, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.435 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.db (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tDB\t\t\t\t\t\tCHAR(64),\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv \t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (Host, DB, User));"]
[2022/07/15 15:01:06.435 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 13, tp general"] [job="ID:10, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:9, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.435 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.436 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 13, tp general"] [job="ID:10, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:9, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.435 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.437 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=10]
[2022/07/15 15:01:06.437 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:06.437 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=4] [neededSchemaVersion=5] ["start time"=163.958µs] [phyTblIDs="[9]"] [actionTypes="[8]"]
[2022/07/15 15:01:06.437 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=5] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.tables_priv (\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64),\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64),\n\t\tGrantor\t\tCHAR(77),\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tTable_priv\tSET('Select','Insert','Update','Delete','Create','Drop','Grant','Index','Alter','Create View','Show View','Trigger','References'),\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name));"] [user=]
[2022/07/15 15:01:06.437 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:12, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:11, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.437 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:06.437 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:12, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:11, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.437 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.tables_priv (\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64),\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64),\n\t\tGrantor\t\tCHAR(77),\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tTable_priv\tSET('Select','Insert','Update','Delete','Create','Drop','Grant','Index','Alter','Create View','Show View','Trigger','References'),\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name));"]
[2022/07/15 15:01:06.437 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 13, tp general"] [job="ID:12, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:11, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.437 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.438 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 13, tp general"] [job="ID:12, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:11, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.437 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.438 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=12]
[2022/07/15 15:01:06.438 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:06.438 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=5] [neededSchemaVersion=6] ["start time"=90µs] [phyTblIDs="[11]"] [actionTypes="[8]"]
[2022/07/15 15:01:06.438 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=6] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.columns_priv(\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64),\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64),\n\t\tColumn_name\tCHAR(64),\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name, Column_name));"] [user=]
[2022/07/15 15:01:06.438 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:14, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:13, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.438 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:06.438 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:14, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:13, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.438 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.columns_priv(\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64),\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64),\n\t\tColumn_name\tCHAR(64),\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name, Column_name));"]
[2022/07/15 15:01:06.438 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 13, tp general"] [job="ID:14, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:13, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.438 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.439 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 13, tp general"] [job="ID:14, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:13, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.438 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.439 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=14]
[2022/07/15 15:01:06.439 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:06.439 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=6] [neededSchemaVersion=7] ["start time"=93.042µs] [phyTblIDs="[13]"] [actionTypes="[8]"]
[2022/07/15 15:01:06.439 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=7] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.GLOBAL_VARIABLES(\n\t\tVARIABLE_NAME  VARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(1024) DEFAULT NULL);"] [user=]
[2022/07/15 15:01:06.439 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:16, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:15, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.439 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:06.439 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:16, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:15, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.439 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.GLOBAL_VARIABLES(\n\t\tVARIABLE_NAME  VARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(1024) DEFAULT NULL);"]
[2022/07/15 15:01:06.439 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 13, tp general"] [job="ID:16, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:15, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.439 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.439 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 13, tp general"] [job="ID:16, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:15, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.439 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.439 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=16]
[2022/07/15 15:01:06.439 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:06.439 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=7] [neededSchemaVersion=8] ["start time"=41.625µs] [phyTblIDs="[15]"] [actionTypes="[8]"]
[2022/07/15 15:01:06.440 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=8] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb(\n\t\tVARIABLE_NAME  \tVARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE \tVARCHAR(1024) DEFAULT NULL,\n\t\tCOMMENT \t\tVARCHAR(1024));"] [user=]
[2022/07/15 15:01:06.440 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:18, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:17, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.44 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:06.440 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:18, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:17, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.44 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb(\n\t\tVARIABLE_NAME  \tVARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE \tVARCHAR(1024) DEFAULT NULL,\n\t\tCOMMENT \t\tVARCHAR(1024));"]
[2022/07/15 15:01:06.440 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 13, tp general"] [job="ID:18, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:17, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.44 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.440 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 13, tp general"] [job="ID:18, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:17, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.44 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.440 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=18]
[2022/07/15 15:01:06.440 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:06.440 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=8] [neededSchemaVersion=9] ["start time"=47.583µs] [phyTblIDs="[17]"] [actionTypes="[8]"]
[2022/07/15 15:01:06.440 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=9] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.help_topic (\n  \t\thelp_topic_id \t\tINT(10) UNSIGNED NOT NULL,\n  \t\tname \t\t\t\tCHAR(64) NOT NULL,\n  \t\thelp_category_id \tSMALLINT(5) UNSIGNED NOT NULL,\n  \t\tdescription \t\tTEXT NOT NULL,\n  \t\texample \t\t\tTEXT NOT NULL,\n  \t\turl \t\t\t\tTEXT NOT NULL,\n  \t\tPRIMARY KEY (help_topic_id) clustered,\n  \t\tUNIQUE KEY name (name)\n\t\t) ENGINE=InnoDB DEFAULT CHARSET=utf8 STATS_PERSISTENT=0 COMMENT='help topics';"] [user=]
[2022/07/15 15:01:06.441 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:20, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:19, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.44 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:06.441 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:20, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:19, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.44 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.help_topic (\n  \t\thelp_topic_id \t\tINT(10) UNSIGNED NOT NULL,\n  \t\tname \t\t\t\tCHAR(64) NOT NULL,\n  \t\thelp_category_id \tSMALLINT(5) UNSIGNED NOT NULL,\n  \t\tdescription \t\tTEXT NOT NULL,\n  \t\texample \t\t\tTEXT NOT NULL,\n  \t\turl \t\t\t\tTEXT NOT NULL,\n  \t\tPRIMARY KEY (help_topic_id) clustered,\n  \t\tUNIQUE KEY name (name)\n\t\t) ENGINE=InnoDB DEFAULT CHARSET=utf8 STATS_PERSISTENT=0 COMMENT='help topics';"]
[2022/07/15 15:01:06.441 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 13, tp general"] [job="ID:20, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:19, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.44 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.441 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 13, tp general"] [job="ID:20, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:19, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.44 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.441 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=20]
[2022/07/15 15:01:06.441 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:06.441 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=9] [neededSchemaVersion=10] ["start time"=73.833µs] [phyTblIDs="[19]"] [actionTypes="[8]"]
[2022/07/15 15:01:06.441 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=10] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_meta (\n\t\tversion \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\ttable_id \t\tBIGINT(64) NOT NULL,\n\t\tmodify_count\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcount \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tsnapshot        BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tINDEX idx_ver(version),\n\t\tUNIQUE INDEX tbl(table_id)\n\t);"] [user=]
[2022/07/15 15:01:06.442 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:22, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:21, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.441 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:06.442 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:22, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:21, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.441 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_meta (\n\t\tversion \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\ttable_id \t\tBIGINT(64) NOT NULL,\n\t\tmodify_count\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcount \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tsnapshot        BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tINDEX idx_ver(version),\n\t\tUNIQUE INDEX tbl(table_id)\n\t);"]
[2022/07/15 15:01:06.442 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 13, tp general"] [job="ID:22, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:21, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.441 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.442 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 13, tp general"] [job="ID:22, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:21, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.441 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.442 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=22]
[2022/07/15 15:01:06.442 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:06.442 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=10] [neededSchemaVersion=11] ["start time"=69.208µs] [phyTblIDs="[21]"] [actionTypes="[8]"]
[2022/07/15 15:01:06.442 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=11] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_histograms (\n\t\ttable_id \t\t\tBIGINT(64) NOT NULL,\n\t\tis_index \t\t\tTINYINT(2) NOT NULL,\n\t\thist_id \t\t\tBIGINT(64) NOT NULL,\n\t\tdistinct_count \t\tBIGINT(64) NOT NULL,\n\t\tnull_count \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\ttot_col_size \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tmodify_count \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tversion \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tcm_sketch \t\t\tBLOB(6291456),\n\t\tstats_ver \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tflag \t\t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcorrelation \t\tDOUBLE NOT NULL DEFAULT 0,\n\t\tlast_analyze_pos \tLONGBLOB DEFAULT NULL,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id)\n\t);"] [user=]
[2022/07/15 15:01:06.442 +08:00] [INFO] [ddl_api.go:999] ["Automatically convert BLOB(6291456) to MEDIUMBLOB"]
[2022/07/15 15:01:06.443 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:24, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:23, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.442 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:06.443 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:24, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:23, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.442 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_histograms (\n\t\ttable_id \t\t\tBIGINT(64) NOT NULL,\n\t\tis_index \t\t\tTINYINT(2) NOT NULL,\n\t\thist_id \t\t\tBIGINT(64) NOT NULL,\n\t\tdistinct_count \t\tBIGINT(64) NOT NULL,\n\t\tnull_count \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\ttot_col_size \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tmodify_count \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tversion \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tcm_sketch \t\t\tBLOB(6291456),\n\t\tstats_ver \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tflag \t\t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcorrelation \t\tDOUBLE NOT NULL DEFAULT 0,\n\t\tlast_analyze_pos \tLONGBLOB DEFAULT NULL,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id)\n\t);"]
[2022/07/15 15:01:06.443 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 13, tp general"] [job="ID:24, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:23, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.442 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.443 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 13, tp general"] [job="ID:24, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:23, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.442 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.444 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=24]
[2022/07/15 15:01:06.444 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:06.444 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=11] [neededSchemaVersion=12] ["start time"=102.167µs] [phyTblIDs="[23]"] [actionTypes="[8]"]
[2022/07/15 15:01:06.444 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=12] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_buckets (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tbucket_id \tBIGINT(64) NOT NULL,\n\t\tcount \t\tBIGINT(64) NOT NULL,\n\t\trepeats \tBIGINT(64) NOT NULL,\n\t\tupper_bound LONGBLOB NOT NULL,\n\t\tlower_bound LONGBLOB ,\n\t\tndv         BIGINT NOT NULL DEFAULT 0,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id, bucket_id)\n\t);"] [user=]
[2022/07/15 15:01:06.444 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:26, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:25, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.444 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:06.444 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:26, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:25, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.444 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_buckets (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tbucket_id \tBIGINT(64) NOT NULL,\n\t\tcount \t\tBIGINT(64) NOT NULL,\n\t\trepeats \tBIGINT(64) NOT NULL,\n\t\tupper_bound LONGBLOB NOT NULL,\n\t\tlower_bound LONGBLOB ,\n\t\tndv         BIGINT NOT NULL DEFAULT 0,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id, bucket_id)\n\t);"]
[2022/07/15 15:01:06.444 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 13, tp general"] [job="ID:26, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:25, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.444 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.445 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 13, tp general"] [job="ID:26, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:25, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.444 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.445 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=26]
[2022/07/15 15:01:06.445 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:06.445 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=12] [neededSchemaVersion=13] ["start time"=81.291µs] [phyTblIDs="[25]"] [actionTypes="[8]"]
[2022/07/15 15:01:06.445 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=13] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_index (job_id, element_id)\n\t);"] [user=]
[2022/07/15 15:01:06.445 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:28, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:27, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.445 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:06.445 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:28, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:27, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.445 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_index (job_id, element_id)\n\t);"]
[2022/07/15 15:01:06.445 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 13, tp general"] [job="ID:28, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:27, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.445 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.446 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 13, tp general"] [job="ID:28, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:27, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.445 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.446 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=28]
[2022/07/15 15:01:06.446 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:06.446 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=13] [neededSchemaVersion=14] ["start time"=60.375µs] [phyTblIDs="[27]"] [actionTypes="[8]"]
[2022/07/15 15:01:06.446 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=14] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range_done (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_done_index (job_id, element_id)\n\t);"] [user=]
[2022/07/15 15:01:06.446 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:30, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:29, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.446 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:06.446 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:30, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:29, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.446 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range_done (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_done_index (job_id, element_id)\n\t);"]
[2022/07/15 15:01:06.446 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 13, tp general"] [job="ID:30, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:29, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.446 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.446 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 13, tp general"] [job="ID:30, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:29, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.446 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.447 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=30]
[2022/07/15 15:01:06.447 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:06.447 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=14] [neededSchemaVersion=15] ["start time"=61.25µs] [phyTblIDs="[29]"] [actionTypes="[8]"]
[2022/07/15 15:01:06.447 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=15] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_feedback (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tfeedback \tBLOB NOT NULL,\n\t\tINDEX hist(table_id, is_index, hist_id)\n\t);"] [user=]
[2022/07/15 15:01:06.447 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:32, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:31, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.447 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:06.447 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:32, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:31, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.447 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_feedback (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tfeedback \tBLOB NOT NULL,\n\t\tINDEX hist(table_id, is_index, hist_id)\n\t);"]
[2022/07/15 15:01:06.447 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 13, tp general"] [job="ID:32, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:31, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.447 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.447 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 13, tp general"] [job="ID:32, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:31, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.447 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.447 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=32]
[2022/07/15 15:01:06.447 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:06.447 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=15] [neededSchemaVersion=16] ["start time"=61µs] [phyTblIDs="[31]"] [actionTypes="[8]"]
[2022/07/15 15:01:06.448 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=16] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.role_edges (\n\t\tFROM_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tFROM_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tWITH_ADMIN_OPTION \tENUM('N','Y') CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (FROM_HOST,FROM_USER,TO_HOST,TO_USER)\n\t);"] [user=]
[2022/07/15 15:01:06.448 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:34, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:33, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.448 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:06.448 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:34, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:33, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.448 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.role_edges (\n\t\tFROM_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tFROM_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tWITH_ADMIN_OPTION \tENUM('N','Y') CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (FROM_HOST,FROM_USER,TO_HOST,TO_USER)\n\t);"]
[2022/07/15 15:01:06.448 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 13, tp general"] [job="ID:34, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:33, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.448 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.448 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 13, tp general"] [job="ID:34, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:33, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.448 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.448 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=34]
[2022/07/15 15:01:06.448 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:06.448 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=16] [neededSchemaVersion=17] ["start time"=60.542µs] [phyTblIDs="[33]"] [actionTypes="[8]"]
[2022/07/15 15:01:06.448 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=17] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.default_roles (\n\t\tHOST \t\t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tUSER \t\t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tDEFAULT_ROLE_HOST \tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '%',\n\t\tDEFAULT_ROLE_USER \tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tPRIMARY KEY (HOST,USER,DEFAULT_ROLE_HOST,DEFAULT_ROLE_USER)\n\t)"] [user=]
[2022/07/15 15:01:06.449 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:36, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:35, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.448 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:06.449 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:36, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:35, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.448 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.default_roles (\n\t\tHOST \t\t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tUSER \t\t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tDEFAULT_ROLE_HOST \tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '%',\n\t\tDEFAULT_ROLE_USER \tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tPRIMARY KEY (HOST,USER,DEFAULT_ROLE_HOST,DEFAULT_ROLE_USER)\n\t)"]
[2022/07/15 15:01:06.449 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 13, tp general"] [job="ID:36, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:35, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.448 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.449 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 13, tp general"] [job="ID:36, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:35, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.448 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.449 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=36]
[2022/07/15 15:01:06.449 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:06.449 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=17] [neededSchemaVersion=18] ["start time"=58.75µs] [phyTblIDs="[35]"] [actionTypes="[8]"]
[2022/07/15 15:01:06.449 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=18] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.bind_info (\n\t\toriginal_sql TEXT NOT NULL,\n\t\tbind_sql TEXT NOT NULL,\n\t\tdefault_db TEXT NOT NULL,\n\t\tstatus TEXT NOT NULL,\n\t\tcreate_time TIMESTAMP(3) NOT NULL,\n\t\tupdate_time TIMESTAMP(3) NOT NULL,\n\t\tcharset TEXT NOT NULL,\n\t\tcollation TEXT NOT NULL,\n\t\tsource VARCHAR(10) NOT NULL DEFAULT 'unknown',\n\t\tINDEX sql_index(original_sql(700),default_db(68)) COMMENT \"accelerate the speed when add global binding query\",\n\t\tINDEX time_index(update_time) COMMENT \"accelerate the speed when querying with last update time\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"] [user=]
[2022/07/15 15:01:06.449 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:38, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:37, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.449 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:06.449 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:38, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:37, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.449 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.bind_info (\n\t\toriginal_sql TEXT NOT NULL,\n\t\tbind_sql TEXT NOT NULL,\n\t\tdefault_db TEXT NOT NULL,\n\t\tstatus TEXT NOT NULL,\n\t\tcreate_time TIMESTAMP(3) NOT NULL,\n\t\tupdate_time TIMESTAMP(3) NOT NULL,\n\t\tcharset TEXT NOT NULL,\n\t\tcollation TEXT NOT NULL,\n\t\tsource VARCHAR(10) NOT NULL DEFAULT 'unknown',\n\t\tINDEX sql_index(original_sql(700),default_db(68)) COMMENT \"accelerate the speed when add global binding query\",\n\t\tINDEX time_index(update_time) COMMENT \"accelerate the speed when querying with last update time\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"]
[2022/07/15 15:01:06.450 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 13, tp general"] [job="ID:38, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:37, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.449 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.450 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 13, tp general"] [job="ID:38, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:37, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.449 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.450 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=38]
[2022/07/15 15:01:06.450 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:06.450 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=18] [neededSchemaVersion=19] ["start time"=115.75µs] [phyTblIDs="[37]"] [actionTypes="[8]"]
[2022/07/15 15:01:06.451 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=19] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_top_n (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tcount \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"] [user=]
[2022/07/15 15:01:06.451 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:40, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:39, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.451 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:06.451 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:40, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:39, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.451 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_top_n (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tcount \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"]
[2022/07/15 15:01:06.451 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 13, tp general"] [job="ID:40, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:39, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.451 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.451 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 13, tp general"] [job="ID:40, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:39, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.451 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.451 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=40]
[2022/07/15 15:01:06.451 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:06.452 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=19] [neededSchemaVersion=20] ["start time"=65.084µs] [phyTblIDs="[39]"] [actionTypes="[8]"]
[2022/07/15 15:01:06.452 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=20] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.expr_pushdown_blacklist (\n\t\tname \t\tCHAR(100) NOT NULL,\n\t\tstore_type \tCHAR(100) NOT NULL DEFAULT 'tikv,tiflash,tidb',\n\t\treason \t\tVARCHAR(200)\n\t);"] [user=]
[2022/07/15 15:01:06.452 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:42, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:41, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.452 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:06.452 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:42, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:41, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.452 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.expr_pushdown_blacklist (\n\t\tname \t\tCHAR(100) NOT NULL,\n\t\tstore_type \tCHAR(100) NOT NULL DEFAULT 'tikv,tiflash,tidb',\n\t\treason \t\tVARCHAR(200)\n\t);"]
[2022/07/15 15:01:06.452 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 13, tp general"] [job="ID:42, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:41, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.452 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.452 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 13, tp general"] [job="ID:42, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:41, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.452 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.452 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=42]
[2022/07/15 15:01:06.452 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:06.452 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=20] [neededSchemaVersion=21] ["start time"=42.333µs] [phyTblIDs="[41]"] [actionTypes="[8]"]
[2022/07/15 15:01:06.452 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=21] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.opt_rule_blacklist (\n\t\tname \tCHAR(100) NOT NULL\n\t);"] [user=]
[2022/07/15 15:01:06.452 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:44, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:43, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.452 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:06.452 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:44, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:43, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.452 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.opt_rule_blacklist (\n\t\tname \tCHAR(100) NOT NULL\n\t);"]
[2022/07/15 15:01:06.452 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 13, tp general"] [job="ID:44, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:43, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.452 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.454 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 13, tp general"] [job="ID:44, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:43, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.452 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.454 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=44]
[2022/07/15 15:01:06.454 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:06.454 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=21] [neededSchemaVersion=22] ["start time"=43.75µs] [phyTblIDs="[43]"] [actionTypes="[8]"]
[2022/07/15 15:01:06.455 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=22] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_extended (\n\t\tname varchar(32) NOT NULL,\n\t\ttype tinyint(4) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tcolumn_ids varchar(32) NOT NULL,\n\t\tstats blob DEFAULT NULL,\n\t\tversion bigint(64) unsigned NOT NULL,\n\t\tstatus tinyint(4) NOT NULL,\n\t\tPRIMARY KEY(name, table_id),\n\t\tKEY idx_1 (table_id, status, version),\n\t\tKEY idx_2 (status, version)\n\t);"] [user=]
[2022/07/15 15:01:06.455 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:46, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:45, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.455 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:06.455 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:46, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:45, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.455 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_extended (\n\t\tname varchar(32) NOT NULL,\n\t\ttype tinyint(4) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tcolumn_ids varchar(32) NOT NULL,\n\t\tstats blob DEFAULT NULL,\n\t\tversion bigint(64) unsigned NOT NULL,\n\t\tstatus tinyint(4) NOT NULL,\n\t\tPRIMARY KEY(name, table_id),\n\t\tKEY idx_1 (table_id, status, version),\n\t\tKEY idx_2 (status, version)\n\t);"]
[2022/07/15 15:01:06.455 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 13, tp general"] [job="ID:46, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:45, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.455 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.455 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 13, tp general"] [job="ID:46, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:45, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.455 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.456 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=46]
[2022/07/15 15:01:06.456 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:06.456 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=22] [neededSchemaVersion=23] ["start time"=93.083µs] [phyTblIDs="[45]"] [actionTypes="[8]"]
[2022/07/15 15:01:06.456 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=23] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.schema_index_usage (\n\t\tTABLE_ID bigint(64),\n\t\tINDEX_ID bigint(21),\n\t\tQUERY_COUNT bigint(64),\n\t\tROWS_SELECTED bigint(64),\n\t\tLAST_USED_AT timestamp,\n\t\tPRIMARY KEY(TABLE_ID, INDEX_ID)\n\t);"] [user=]
[2022/07/15 15:01:06.456 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:48, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:47, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.456 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:06.456 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:48, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:47, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.456 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.schema_index_usage (\n\t\tTABLE_ID bigint(64),\n\t\tINDEX_ID bigint(21),\n\t\tQUERY_COUNT bigint(64),\n\t\tROWS_SELECTED bigint(64),\n\t\tLAST_USED_AT timestamp,\n\t\tPRIMARY KEY(TABLE_ID, INDEX_ID)\n\t);"]
[2022/07/15 15:01:06.456 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 13, tp general"] [job="ID:48, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:47, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.456 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.457 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 13, tp general"] [job="ID:48, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:47, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.456 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.457 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=48]
[2022/07/15 15:01:06.457 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:06.457 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=23] [neededSchemaVersion=24] ["start time"=61.667µs] [phyTblIDs="[47]"] [actionTypes="[8]"]
[2022/07/15 15:01:06.457 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=24] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_fm_sketch (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"] [user=]
[2022/07/15 15:01:06.457 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:50, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:49, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.457 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:06.457 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:50, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:49, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.457 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_fm_sketch (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"]
[2022/07/15 15:01:06.457 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 13, tp general"] [job="ID:50, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:49, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.457 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.458 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 13, tp general"] [job="ID:50, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:49, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.457 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.458 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=50]
[2022/07/15 15:01:06.458 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:06.458 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=24] [neededSchemaVersion=25] ["start time"=57.5µs] [phyTblIDs="[49]"] [actionTypes="[8]"]
[2022/07/15 15:01:06.458 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=25] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.global_grants (\n\t\tUSER char(32) NOT NULL DEFAULT '',\n\t\tHOST char(255) NOT NULL DEFAULT '',\n\t\tPRIV char(32) NOT NULL DEFAULT '',\n\t\tWITH_GRANT_OPTION enum('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (USER,HOST,PRIV)\n\t);"] [user=]
[2022/07/15 15:01:06.458 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:52, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:51, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.458 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:06.458 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:52, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:51, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.458 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.global_grants (\n\t\tUSER char(32) NOT NULL DEFAULT '',\n\t\tHOST char(255) NOT NULL DEFAULT '',\n\t\tPRIV char(32) NOT NULL DEFAULT '',\n\t\tWITH_GRANT_OPTION enum('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (USER,HOST,PRIV)\n\t);"]
[2022/07/15 15:01:06.458 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 13, tp general"] [job="ID:52, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:51, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.458 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.458 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 13, tp general"] [job="ID:52, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:51, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.458 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.459 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=52]
[2022/07/15 15:01:06.459 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:06.459 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=25] [neededSchemaVersion=26] ["start time"=59.375µs] [phyTblIDs="[51]"] [actionTypes="[8]"]
[2022/07/15 15:01:06.459 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=26] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.capture_plan_baselines_blacklist (\n\t\tid bigint(64) auto_increment,\n\t\tfilter_type varchar(32) NOT NULL COMMENT \"type of the filter, only db, table and frequency supported now\",\n\t\tfilter_value varchar(32) NOT NULL,\n\t\tkey idx(filter_type),\n\t\tprimary key(id)\n\t);"] [user=]
[2022/07/15 15:01:06.459 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:54, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:53, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.459 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:06.459 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:54, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:53, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.459 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.capture_plan_baselines_blacklist (\n\t\tid bigint(64) auto_increment,\n\t\tfilter_type varchar(32) NOT NULL COMMENT \"type of the filter, only db, table and frequency supported now\",\n\t\tfilter_value varchar(32) NOT NULL,\n\t\tkey idx(filter_type),\n\t\tprimary key(id)\n\t);"]
[2022/07/15 15:01:06.459 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 13, tp general"] [job="ID:54, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:53, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.459 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.459 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 13, tp general"] [job="ID:54, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:53, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.459 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.459 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=54]
[2022/07/15 15:01:06.459 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:06.460 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=26] [neededSchemaVersion=27] ["start time"=52.583µs] [phyTblIDs="[53]"] [actionTypes="[8]"]
[2022/07/15 15:01:06.460 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=27] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.column_stats_usage (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tcolumn_id BIGINT(64) NOT NULL,\n\t\tlast_used_at TIMESTAMP,\n\t\tlast_analyzed_at TIMESTAMP,\n\t\tPRIMARY KEY (table_id, column_id) CLUSTERED\n\t);"] [user=]
[2022/07/15 15:01:06.460 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:56, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:55, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.46 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:06.460 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:56, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:55, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.46 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.column_stats_usage (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tcolumn_id BIGINT(64) NOT NULL,\n\t\tlast_used_at TIMESTAMP,\n\t\tlast_analyzed_at TIMESTAMP,\n\t\tPRIMARY KEY (table_id, column_id) CLUSTERED\n\t);"]
[2022/07/15 15:01:06.460 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 13, tp general"] [job="ID:56, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:55, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.46 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.460 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 13, tp general"] [job="ID:56, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:55, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.46 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.460 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=56]
[2022/07/15 15:01:06.460 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:06.460 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=27] [neededSchemaVersion=28] ["start time"=58.958µs] [phyTblIDs="[55]"] [actionTypes="[8]"]
[2022/07/15 15:01:06.460 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=28] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.table_cache_meta (\n\t\ttid bigint(11) NOT NULL DEFAULT 0,\n\t\tlock_type enum('NONE','READ', 'INTEND', 'WRITE') NOT NULL DEFAULT 'NONE',\n\t\tlease bigint(20) NOT NULL DEFAULT 0,\n\t\toldReadLease bigint(20) NOT NULL DEFAULT 0,\n\t\tPRIMARY KEY (tid)\n\t);"] [user=]
[2022/07/15 15:01:06.461 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:58, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:57, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.46 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:06.461 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:58, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:57, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.46 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.table_cache_meta (\n\t\ttid bigint(11) NOT NULL DEFAULT 0,\n\t\tlock_type enum('NONE','READ', 'INTEND', 'WRITE') NOT NULL DEFAULT 'NONE',\n\t\tlease bigint(20) NOT NULL DEFAULT 0,\n\t\toldReadLease bigint(20) NOT NULL DEFAULT 0,\n\t\tPRIMARY KEY (tid)\n\t);"]
[2022/07/15 15:01:06.461 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 13, tp general"] [job="ID:58, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:57, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.46 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.461 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 13, tp general"] [job="ID:58, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:57, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.46 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.461 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=58]
[2022/07/15 15:01:06.461 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:06.461 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=28] [neededSchemaVersion=29] ["start time"=55.166µs] [phyTblIDs="[57]"] [actionTypes="[8]"]
[2022/07/15 15:01:06.461 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=29] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.analyze_options (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tsample_num BIGINT(64) NOT NULL DEFAULT 0,\n\t\tsample_rate DOUBLE NOT NULL DEFAULT -1,\n\t\tbuckets BIGINT(64) NOT NULL DEFAULT 0,\n\t\ttopn BIGINT(64) NOT NULL DEFAULT -1,\n\t\tcolumn_choice enum('DEFAULT','ALL','PREDICATE','LIST') NOT NULL DEFAULT 'DEFAULT',\n\t\tcolumn_ids TEXT(19372),\n\t\tPRIMARY KEY (table_id) CLUSTERED\n\t);"] [user=]
[2022/07/15 15:01:06.461 +08:00] [INFO] [ddl_api.go:999] ["Automatically convert BLOB(19372) to MEDIUMBLOB"]
[2022/07/15 15:01:06.461 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:60, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:59, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.461 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:06.461 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:60, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:59, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.461 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.analyze_options (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tsample_num BIGINT(64) NOT NULL DEFAULT 0,\n\t\tsample_rate DOUBLE NOT NULL DEFAULT -1,\n\t\tbuckets BIGINT(64) NOT NULL DEFAULT 0,\n\t\ttopn BIGINT(64) NOT NULL DEFAULT -1,\n\t\tcolumn_choice enum('DEFAULT','ALL','PREDICATE','LIST') NOT NULL DEFAULT 'DEFAULT',\n\t\tcolumn_ids TEXT(19372),\n\t\tPRIMARY KEY (table_id) CLUSTERED\n\t);"]
[2022/07/15 15:01:06.461 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 13, tp general"] [job="ID:60, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:59, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.461 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.462 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 13, tp general"] [job="ID:60, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:59, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.461 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.462 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=60]
[2022/07/15 15:01:06.462 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:06.462 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=29] [neededSchemaVersion=30] ["start time"=76.791µs] [phyTblIDs="[59]"] [actionTypes="[8]"]
[2022/07/15 15:01:06.462 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=30] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tstats_data longblob NOT NULL,\n\t\tseq_no bigint(64) NOT NULL comment 'sequence number of the gzipped data slice',\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version_seq (table_id, version, seq_no),\n\t\tKEY table_create_time (table_id, create_time, seq_no)\n\t);"] [user=]
[2022/07/15 15:01:06.462 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:62, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:61, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.462 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:06.462 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:62, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:61, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.462 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tstats_data longblob NOT NULL,\n\t\tseq_no bigint(64) NOT NULL comment 'sequence number of the gzipped data slice',\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version_seq (table_id, version, seq_no),\n\t\tKEY table_create_time (table_id, create_time, seq_no)\n\t);"]
[2022/07/15 15:01:06.462 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 13, tp general"] [job="ID:62, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:61, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.462 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.463 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 13, tp general"] [job="ID:62, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:61, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.462 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.463 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=62]
[2022/07/15 15:01:06.463 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:06.463 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=30] [neededSchemaVersion=31] ["start time"=76.5µs] [phyTblIDs="[61]"] [actionTypes="[8]"]
[2022/07/15 15:01:06.463 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=31] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_meta_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL,\n\t\tcount bigint(64) NOT NULL,\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version (table_id, version),\n\t\tKEY table_create_time (table_id, create_time)\n\t);"] [user=]
[2022/07/15 15:01:06.463 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:64, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:63, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.463 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:06.463 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:64, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:63, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.463 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_meta_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL,\n\t\tcount bigint(64) NOT NULL,\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version (table_id, version),\n\t\tKEY table_create_time (table_id, create_time)\n\t);"]
[2022/07/15 15:01:06.463 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 13, tp general"] [job="ID:64, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:63, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.463 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.464 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 13, tp general"] [job="ID:64, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:63, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.463 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.464 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=64]
[2022/07/15 15:01:06.464 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:06.464 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=31] [neededSchemaVersion=32] ["start time"=76.083µs] [phyTblIDs="[63]"] [actionTypes="[8]"]
[2022/07/15 15:01:06.464 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=32] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.analyze_jobs (\n\t\tid BIGINT(64) UNSIGNED NOT NULL AUTO_INCREMENT,\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\ttable_schema CHAR(64) NOT NULL DEFAULT '',\n\t\ttable_name CHAR(64) NOT NULL DEFAULT '',\n\t\tpartition_name CHAR(64) NOT NULL DEFAULT '',\n\t\tjob_info TEXT NOT NULL,\n\t\tprocessed_rows BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tstart_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tstate ENUM('pending', 'running', 'finished', 'failed') NOT NULL,\n\t\tfail_reason TEXT,\n\t\tinstance VARCHAR(512) NOT NULL comment 'address of the TiDB instance executing the analyze job',\n\t\tprocess_id BIGINT(64) UNSIGNED comment 'ID of the process executing the analyze job',\n\t\tPRIMARY KEY (id),\n\t\tKEY (update_time)\n\t);"] [user=]
[2022/07/15 15:01:06.464 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:66, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:65, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.464 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:06.464 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:66, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:65, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.464 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.analyze_jobs (\n\t\tid BIGINT(64) UNSIGNED NOT NULL AUTO_INCREMENT,\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\ttable_schema CHAR(64) NOT NULL DEFAULT '',\n\t\ttable_name CHAR(64) NOT NULL DEFAULT '',\n\t\tpartition_name CHAR(64) NOT NULL DEFAULT '',\n\t\tjob_info TEXT NOT NULL,\n\t\tprocessed_rows BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tstart_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tstate ENUM('pending', 'running', 'finished', 'failed') NOT NULL,\n\t\tfail_reason TEXT,\n\t\tinstance VARCHAR(512) NOT NULL comment 'address of the TiDB instance executing the analyze job',\n\t\tprocess_id BIGINT(64) UNSIGNED comment 'ID of the process executing the analyze job',\n\t\tPRIMARY KEY (id),\n\t\tKEY (update_time)\n\t);"]
[2022/07/15 15:01:06.464 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 13, tp general"] [job="ID:66, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:65, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.464 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.465 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 13, tp general"] [job="ID:66, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:65, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.464 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.465 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=66]
[2022/07/15 15:01:06.465 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:06.465 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=32] [neededSchemaVersion=33] ["start time"=118.166µs] [phyTblIDs="[65]"] [actionTypes="[8]"]
[2022/07/15 15:01:06.465 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=33] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.advisory_locks (\n\t\tlock_name VARCHAR(64) NOT NULL PRIMARY KEY\n\t);"] [user=]
[2022/07/15 15:01:06.466 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:68, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:67, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.465 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:06.466 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:68, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:67, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.465 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.advisory_locks (\n\t\tlock_name VARCHAR(64) NOT NULL PRIMARY KEY\n\t);"]
[2022/07/15 15:01:06.466 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 13, tp general"] [job="ID:68, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:67, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.465 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.466 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 13, tp general"] [job="ID:68, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:67, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.465 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.466 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=68]
[2022/07/15 15:01:06.466 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:06.466 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=33] [neededSchemaVersion=34] ["start time"=40.042µs] [phyTblIDs="[67]"] [actionTypes="[8]"]
[2022/07/15 15:01:06.472 +08:00] [INFO] [bootstrap.go:448] ["bootstrap successful"] ["take time"=42.388292ms]
[2022/07/15 15:01:06.472 +08:00] [INFO] [ddl_worker.go:158] ["[ddl] DDL worker closed"] [worker="worker 13, tp general"] ["take time"=83ns]
[2022/07/15 15:01:06.472 +08:00] [INFO] [ddl_worker.go:158] ["[ddl] DDL worker closed"] [worker="worker 14, tp add index"] ["take time"=9.417µs]
[2022/07/15 15:01:06.472 +08:00] [INFO] [delete_range.go:148] ["[ddl] closing delRange"]
[2022/07/15 15:01:06.472 +08:00] [INFO] [session_pool.go:94] ["[ddl] closing sessionPool"]
[2022/07/15 15:01:06.472 +08:00] [INFO] [ddl.go:576] ["[ddl] DDL closed"] [ID=62598ca2-71b6-4ccf-b969-c05913ffd6c6] ["take time"=71.541µs]
[2022/07/15 15:01:06.472 +08:00] [INFO] [ddl.go:464] ["[ddl] stop DDL"] [ID=62598ca2-71b6-4ccf-b969-c05913ffd6c6]
[2022/07/15 15:01:06.472 +08:00] [INFO] [domain.go:498] ["topNSlowQueryLoop exited."]
[2022/07/15 15:01:06.472 +08:00] [INFO] [domain.go:527] ["infoSyncerKeeper exited."]
[2022/07/15 15:01:06.472 +08:00] [INFO] [domain.go:552] ["globalConfigSyncerKeeper exited."]
[2022/07/15 15:01:06.472 +08:00] [INFO] [domain.go:575] ["topologySyncerKeeper exited."]
[2022/07/15 15:01:06.472 +08:00] [INFO] [domain.go:733] ["domain closed"] ["take time"=117.791µs]
[2022/07/15 15:01:06.472 +08:00] [INFO] [tidb.go:74] ["new domain"] [store=ffc02395-3358-4802-acc1-4eaeee8c4ec2] ["ddl lease"=0s] ["stats lease"=-1ns] ["index usage sync lease"=0s]
[2022/07/15 15:01:06.474 +08:00] [INFO] [domain.go:178] ["full load InfoSchema success"] [currentSchemaVersion=0] [neededSchemaVersion=34] ["start time"=2.434209ms]
[2022/07/15 15:01:06.474 +08:00] [INFO] [domain.go:449] ["full load and reset schema validator"]
[2022/07/15 15:01:06.474 +08:00] [INFO] [ddl.go:483] ["[ddl] start DDL"] [ID=a03ac230-6547-4ce1-814c-87d31d4c46a7] [runWorker=true]
[2022/07/15 15:01:06.475 +08:00] [INFO] [ddl.go:472] ["[ddl] start delRangeManager OK"] ["is a emulator"=true]
[2022/07/15 15:01:06.475 +08:00] [INFO] [delete_range.go:158] ["[ddl] start delRange emulator"]
[2022/07/15 15:01:06.475 +08:00] [INFO] [ddl_worker.go:164] ["[ddl] start DDL worker"] [worker="worker 16, tp add index"]
[2022/07/15 15:01:06.475 +08:00] [INFO] [ddl_worker.go:164] ["[ddl] start DDL worker"] [worker="worker 15, tp general"]
[2022/07/15 15:01:06.475 +08:00] [WARN] [sysvar_cache.go:53] ["sysvar cache is empty, triggering rebuild"]
[2022/07/15 15:01:06.479 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=4] [schemaVersion=34] [cur_db=test] [sql="drop table if exists t"] [user=]
[2022/07/15 15:01:06.479 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=4] [schemaVersion=34] [cur_db=test] [sql="drop table if exists t1"] [user=]
[2022/07/15 15:01:06.479 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=4] [schemaVersion=34] [cur_db=test] [sql="create table t(a bigint unsigned not null primary key, b int not null)"] [user=]
[2022/07/15 15:01:06.479 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:70, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.479 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:06.479 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:70, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.479 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="create table t(a bigint unsigned not null primary key, b int not null)"]
[2022/07/15 15:01:06.480 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 15, tp general"] [job="ID:70, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.479 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.480 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 15, tp general"] [job="ID:70, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:69, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.479 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.480 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=70]
[2022/07/15 15:01:06.480 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:06.480 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=34] [neededSchemaVersion=35] ["start time"=48.375µs] [phyTblIDs="[69]"] [actionTypes="[8]"]
[2022/07/15 15:01:06.480 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=4] [schemaVersion=35] [cur_db=test] [sql="alter table t set tiflash replica 1"] [user=]
[2022/07/15 15:01:06.480 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:71, Type:set tiflash replica, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.48 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:06.480 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:71, Type:set tiflash replica, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.48 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="alter table t set tiflash replica 1"]
[2022/07/15 15:01:06.480 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 15, tp general"] [job="ID:71, Type:set tiflash replica, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.48 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.480 +08:00] [INFO] [table.go:1109] ["Set TiFlash replica pd rule"] [tableID=69]
[2022/07/15 15:01:06.480 +08:00] [INFO] [info.go:1051] [ConfigureTiFlashPDForTable] [tableID=69] [count=1]
[2022/07/15 15:01:06.480 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 15, tp general"] [job="ID:71, Type:set tiflash replica, State:synced, SchemaState:public, SchemaID:1, TableID:69, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.48 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.481 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=71]
[2022/07/15 15:01:06.481 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:06.481 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=35] [neededSchemaVersion=36] ["start time"=37.792µs] [phyTblIDs="[]"] [actionTypes="[]"]
[2022/07/15 15:01:06.481 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:72, Type:update tiflash replica status, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:2, start time: 2022-07-15 15:01:06.481 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:06.481 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:72, Type:update tiflash replica status, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:2, start time: 2022-07-15 15:01:06.481 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query=]
[2022/07/15 15:01:06.481 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 15, tp general"] [job="ID:72, Type:update tiflash replica status, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.481 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.481 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 15, tp general"] [job="ID:72, Type:update tiflash replica status, State:synced, SchemaState:public, SchemaID:1, TableID:69, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.481 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.481 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=72]
[2022/07/15 15:01:06.481 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:06.481 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=36] [neededSchemaVersion=37] ["start time"=35.958µs] [phyTblIDs="[]"] [actionTypes="[]"]
[2022/07/15 15:01:06.482 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=4] [schemaVersion=37] [cur_db=test] [sql="create table t1(a bigint unsigned not null primary key, b int not null)"] [user=]
[2022/07/15 15:01:06.482 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:74, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:73, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.482 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:06.482 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:74, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:73, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.482 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="create table t1(a bigint unsigned not null primary key, b int not null)"]
[2022/07/15 15:01:06.482 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 15, tp general"] [job="ID:74, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:73, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.482 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.482 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 15, tp general"] [job="ID:74, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:73, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.482 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.482 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=74]
[2022/07/15 15:01:06.482 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:06.482 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=37] [neededSchemaVersion=38] ["start time"=48.334µs] [phyTblIDs="[73]"] [actionTypes="[8]"]
[2022/07/15 15:01:06.482 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=4] [schemaVersion=38] [cur_db=test] [sql="alter table t1 set tiflash replica 1"] [user=]
[2022/07/15 15:01:06.482 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:75, Type:set tiflash replica, State:queueing, SchemaState:none, SchemaID:1, TableID:73, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.482 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:06.482 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:75, Type:set tiflash replica, State:queueing, SchemaState:none, SchemaID:1, TableID:73, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:06.482 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="alter table t1 set tiflash replica 1"]
[2022/07/15 15:01:06.483 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 15, tp general"] [job="ID:75, Type:set tiflash replica, State:queueing, SchemaState:none, SchemaID:1, TableID:73, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.482 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.483 +08:00] [INFO] [table.go:1109] ["Set TiFlash replica pd rule"] [tableID=73]
[2022/07/15 15:01:06.483 +08:00] [INFO] [info.go:1051] [ConfigureTiFlashPDForTable] [tableID=73] [count=1]
[2022/07/15 15:01:06.483 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 15, tp general"] [job="ID:75, Type:set tiflash replica, State:synced, SchemaState:public, SchemaID:1, TableID:73, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.482 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.483 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=75]
[2022/07/15 15:01:06.483 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:06.483 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=38] [neededSchemaVersion=39] ["start time"=40.375µs] [phyTblIDs="[]"] [actionTypes="[]"]
[2022/07/15 15:01:06.483 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:76, Type:update tiflash replica status, State:queueing, SchemaState:none, SchemaID:1, TableID:73, RowCount:0, ArgLen:2, start time: 2022-07-15 15:01:06.483 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:06.483 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:76, Type:update tiflash replica status, State:queueing, SchemaState:none, SchemaID:1, TableID:73, RowCount:0, ArgLen:2, start time: 2022-07-15 15:01:06.483 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query=]
[2022/07/15 15:01:06.483 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 15, tp general"] [job="ID:76, Type:update tiflash replica status, State:queueing, SchemaState:none, SchemaID:1, TableID:73, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.483 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.483 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 15, tp general"] [job="ID:76, Type:update tiflash replica status, State:synced, SchemaState:public, SchemaID:1, TableID:73, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:06.483 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:06.483 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=76]
[2022/07/15 15:01:06.483 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:06.483 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=39] [neededSchemaVersion=40] ["start time"=37.583µs] [phyTblIDs="[]"] [actionTypes="[]"]
[2022/07/15 15:01:06.484 +08:00] [INFO] [fragment.go:77] ["Mpp will generate tasks"] [plan=RightHashJoin{Recv()->Table(t)}(test.t1.a,test.t.a)->HashAgg->Send()]
[2022/07/15 15:01:06.484 +08:00] [INFO] [batch_coprocessor.go:325] ["detecting available mpp stores"]
[2022/07/15 15:01:06.484 +08:00] [WARN] [batch_coprocessor.go:359] ["Store is not ready"] ["store address"=tiflash1] ["err message"="not support this request type MPPAlive"]
[2022/07/15 15:01:06.484 +08:00] [WARN] [batch_coprocessor.go:359] ["Store is not ready"] ["store address"=tiflash0] ["err message"="not support this request type MPPAlive"]
[2022/07/15 15:01:06.484 +08:00] [WARN] [batch_coprocessor.go:400] ["Meet regions that don't have an available store. Give up balancing"]
[2022/07/15 15:01:06.484 +08:00] [INFO] [batch_coprocessor.go:325] ["detecting available mpp stores"]
[2022/07/15 15:01:06.484 +08:00] [WARN] [batch_coprocessor.go:400] ["Meet regions that don't have an available store. Give up balancing"]
[2022/07/15 15:01:06.484 +08:00] [INFO] [mpp_gather.go:80] ["Dispatch mpp task"] [timestamp=434600271277981704] [ID=1] [address=tiflash0] [plan="Table(t1)->Send(2, )"]
[2022/07/15 15:01:06.484 +08:00] [INFO] [mpp_gather.go:80] ["Dispatch mpp task"] [timestamp=434600271277981704] [ID=2] [address=tiflash0] [plan="RightHashJoin{Recv(1, )->Table(t)}(test.t1.a,test.t.a)->HashAgg->Send(-1, )"]
[2022/07/15 15:01:07.485 +08:00] [WARN] [adapter.go:1067] ["# Txn_start_ts: 434600271277981704\n# Conn_ID: 4\n# Query_time: 1.000901541\n# Parse_time: 0.000019333\n# Compile_time: 0.000240833\n# Rewrite_time: 0.000043208\n# Optimize_time: 0.00017975\n# Wait_TS: 0.000002166\n# Cop_time: 1.000160167 Request_count: 1\n# DB: test\n# Is_internal: false\n# Digest: eef68dc0a7a943f8b012666c1e1e0930019146e078ed2cdbd760bfd80d767b62\n# Stats: t1:pseudo,t:pseudo\n# Num_cop_tasks: 1\n# Cop_proc_avg: 0 Cop_proc_addr: tiflash0\n# Cop_wait_avg: 0 Cop_wait_addr: tiflash0\n# Mem_max: 10100\n# Prepared: false\n# Plan_from_cache: false\n# Plan_from_binding: false\n# Has_more_results: false\n# KV_total: 0\n# PD_total: 0\n# Backoff_total: 0\n# Write_sql_response_total: 0\n# Result_rows: 1\n# Succ: true\n# IsExplicitTxn: false\n# Plan: tidb_decode_plan('pAeIMAk2XzM0CTAJMQlmdW5jczpjb3VudChDb2x1bW4jNiktPkMJC6g1CTEJdGltZToxcywgbG9vcHM6MiwgcGFydGlhbF93b3JrZXI6e3dhbGxfCSfwPC4wMDAyOTQ4MzRzLCBjb25jdXJyZW5jeTo1LCB0YXNrX251bToxLCB0b3Rfd2FpdDo1LjAwMTMwMzk2cywFFiBleGVjOjMwwrUNEAVYCSYsMzg0MTZzLCBtYXg6CWoMNzA3OQGbCHA5NTISABR9LCBmaW5mowAQMzEyNTQBOaajABA5MDMzMw2UBaQUMTguMDQzSqgAEDQwOTc1MqcABDg2BREZpgURVH0JOS44NiBLQglOL0EKMQkzMV8zNgkhlVBkYXRhOkV4Y2hhbmdlU2VuZGVyXzNWjAEMY29wXyFZCDogeyFbBCAxKR9AIDBzLCBwcm9jX2tleXM6IDAhjnBwcl9jYWNoZV9oaXRfcmF0aW86IDAuMDB9CU4vQQEEEAoyCTQ5BWoQXzEJMQkRgkxUeXBlOiBQYXNzVGhyb3VnaAkwCQEvAQQcCjMJNl8xMgkJMi5OAgAxWUcB1gEtAQQcCjQJMTdfMzMJMpgyNTAwCWlubmVyIGpvaW4sIGVxdWFsOltlcSh0ZXN0LnQxLmEsIHQFCwwuYSldLnoAGDUJNDhfMjEJSRAwMDAwCS4eAAA2AcsEMjAdHjbPACBCcm9hZGNhc3QuNQAYNwk0M18xOR01qHRhYmxlOnQxLCBrZWVwIG9yZGVyOmZhbHNlLCBzdGF0czpwc2V1ZG8JMAkB3gEEAZkIM18yLRQFmQ1GrkUA')\n# Plan_digest: f73b5f0f773253e7dafe631b2b106c6dbe52caadc1eed038f713bc348b7ca54d\nuse test;\nselect count(*) from t1 , t where t1.a = t.a;"]
[2022/07/15 15:01:07.486 +08:00] [INFO] [fragment.go:77] ["Mpp will generate tasks"] [plan=RightHashJoin{Recv()->Table(t)}(test.t1.a,test.t.a)->HashAgg->Send()]
[2022/07/15 15:01:07.486 +08:00] [INFO] [batch_coprocessor.go:325] ["detecting available mpp stores"]
[2022/07/15 15:01:07.486 +08:00] [WARN] [batch_coprocessor.go:359] ["Store is not ready"] ["store address"=tiflash1] ["err message"="not support this request type MPPAlive"]
[2022/07/15 15:01:07.486 +08:00] [WARN] [batch_coprocessor.go:359] ["Store is not ready"] ["store address"=tiflash0] ["err message"="not support this request type MPPAlive"]
[2022/07/15 15:01:07.486 +08:00] [WARN] [batch_coprocessor.go:400] ["Meet regions that don't have an available store. Give up balancing"]
[2022/07/15 15:01:07.486 +08:00] [INFO] [batch_coprocessor.go:325] ["detecting available mpp stores"]
[2022/07/15 15:01:07.487 +08:00] [WARN] [batch_coprocessor.go:400] ["Meet regions that don't have an available store. Give up balancing"]
[2022/07/15 15:01:07.487 +08:00] [INFO] [mpp_gather.go:80] ["Dispatch mpp task"] [timestamp=434600271540649984] [ID=1] [address=tiflash0] [plan="Table(t1)->Send(2, )"]
[2022/07/15 15:01:07.487 +08:00] [INFO] [mpp_gather.go:80] ["Dispatch mpp task"] [timestamp=434600271540649984] [ID=2] [address=tiflash0] [plan="RightHashJoin{Recv(1, )->Table(t)}(test.t1.a,test.t.a)->HashAgg->Send(-1, )"]
[2022/07/15 15:01:08.488 +08:00] [WARN] [adapter.go:1067] ["# Txn_start_ts: 434600271540649984\n# Conn_ID: 4\n# Query_time: 1.002643917\n# Parse_time: 0.000193959\n# Compile_time: 0.000687625\n# Rewrite_time: 0.00018575\n# Optimize_time: 0.000379959\n# Wait_TS: 0.000011459\n# Cop_time: 1.000968292 Request_count: 1\n# DB: test\n# Is_internal: false\n# Digest: 6526f6ad78f6c4aa6e373f2f58275c86cd0c6111d5282e4f7b12e6309a61a1e9\n# Stats: t:pseudo,t1:pseudo\n# Num_cop_tasks: 1\n# Cop_proc_avg: 0 Cop_proc_addr: tiflash0\n# Cop_wait_avg: 0 Cop_wait_addr: tiflash0\n# Mem_max: 10100\n# Prepared: false\n# Plan_from_cache: false\n# Plan_from_binding: false\n# Has_more_results: false\n# KV_total: 0\n# PD_total: 0\n# Backoff_total: 0\n# Write_sql_response_total: 0\n# Result_rows: 1\n# Succ: true\n# IsExplicitTxn: false\n# Plan: tidb_decode_plan('7weIMAk2XzM0CTAJMQlmdW5jczpjb3VudChDb2x1bW4jNiktPkMJC6g1CTEJdGltZToxcywgbG9vcHM6MiwgcGFydGlhbF93b3JrZXI6e3dhbGxfCSfwTy4wMDEwNzE1cywgY29uY3VycmVuY3k6NSwgdGFza19udW06MSwgdG90X3dhaXQ6NS4wMDUwNDQyMDhzLCB0b3RfZXhlYzoxNy41NDHCtXMsBSsFWwkrDDY5MTIBXQxtYXg6CW0EMzEJPQhwOTUyEgAUfSwgZmluaqYAEDgzOTE3rqgAGDI0MzI0OXMuqAAUNi43OTLCRqgAEDI2Mjg3NqgABDU5CRIZqAkSVH0JOS44NiBLQglOL0EKMQkzMV8zNgkhm1RkYXRhOkV4Y2hhbmdlU2VuZGVyXzM1UpIBDGNvcF8hYQg6IHshYwggMSwlIkAgMHMsIHByb2Nfa2V5czogMCGWcHByX2NhY2hlX2hpdF9yYXRpbzogMC4wMH0JTi9BAQQQCjIJNDkFahBfMQkxCRGCTFR5cGU6IFBhc3NUaHJvdWdoCTAJAS8BBBwKMwk2XzEyCQkyLlQCADFZTQHWAS0BBBwKNAkxN18zMwUyoDMxMy43NQlpbm5lciBqb2luLCBlcXVhbDpbZXEodGVzdC50MS5hLCB0BQsMLmEpXS57ABg1CTQ4XzIxBUoMMjUxCS4cAAA2AcoEMjAVHDbMACBCcm9hZGNhc3QuMwAYNwk0NF8xORUz8E90YWJsZTp0MSwgcmFuZ2U6WzAsMV0sICgyLDkyMjMzNzIwMzY4NTQ3NzU4MDApLCBrZWVwIG9yZGVyOmZhbHNlLCBzdGF0czpwc2V1ZG8JMDkDADUBagAyKTUBuQ1q/mkARmkA')\n# Plan_digest: 220d925a8af69d026ab9b8b350abdef0a09a4b4fc02e766af01f073ccbbfcdfa\nselect count(*) from t1 , t where t1.a = t.a and ((t1.a < 9223372036854775800 and t1.a > 2) or (t1.a <= 1 and t1.a > -1));"]
[2022/07/15 15:01:08.488 +08:00] [INFO] [ddl_worker.go:158] ["[ddl] DDL worker closed"] [worker="worker 16, tp add index"] ["take time"=3.542µs]
[2022/07/15 15:01:08.488 +08:00] [INFO] [ddl_worker.go:158] ["[ddl] DDL worker closed"] [worker="worker 15, tp general"] ["take time"=42ns]
[2022/07/15 15:01:08.488 +08:00] [INFO] [delete_range.go:148] ["[ddl] closing delRange"]
[2022/07/15 15:01:08.488 +08:00] [INFO] [session_pool.go:94] ["[ddl] closing sessionPool"]
[2022/07/15 15:01:08.488 +08:00] [INFO] [ddl.go:576] ["[ddl] DDL closed"] [ID=a03ac230-6547-4ce1-814c-87d31d4c46a7] ["take time"=112.042µs]
[2022/07/15 15:01:08.488 +08:00] [INFO] [ddl.go:464] ["[ddl] stop DDL"] [ID=a03ac230-6547-4ce1-814c-87d31d4c46a7]
[2022/07/15 15:01:08.488 +08:00] [INFO] [domain.go:498] ["topNSlowQueryLoop exited."]
[2022/07/15 15:01:08.488 +08:00] [INFO] [domain.go:1288] ["dumpFileGcChecker exited."]
[2022/07/15 15:01:08.488 +08:00] [INFO] [domain.go:1032] ["loadPrivilegeInLoop exited."]
[2022/07/15 15:01:08.488 +08:00] [INFO] [domain.go:1082] ["LoadSysVarCacheLoop exited."]
[2022/07/15 15:01:08.488 +08:00] [INFO] [domain.go:1203] ["handleEvolvePlanTasksLoop exited."]
[2022/07/15 15:01:08.488 +08:00] [INFO] [domain.go:1160] ["globalBindHandleWorkerLoop exited."]
[2022/07/15 15:01:08.488 +08:00] [INFO] [domain.go:527] ["infoSyncerKeeper exited."]
[2022/07/15 15:01:08.488 +08:00] [INFO] [handle_hist.go:156] ["SubLoadWorker exited."]
[2022/07/15 15:01:08.488 +08:00] [INFO] [handle_hist.go:156] ["SubLoadWorker exited."]
[2022/07/15 15:01:08.488 +08:00] [INFO] [handle_hist.go:156] ["SubLoadWorker exited."]
[2022/07/15 15:01:08.488 +08:00] [INFO] [domain.go:552] ["globalConfigSyncerKeeper exited."]
[2022/07/15 15:01:08.488 +08:00] [INFO] [handle_hist.go:156] ["SubLoadWorker exited."]
[2022/07/15 15:01:08.488 +08:00] [INFO] [domain.go:575] ["topologySyncerKeeper exited."]
[2022/07/15 15:01:08.488 +08:00] [INFO] [domain.go:733] ["domain closed"] ["take time"=250.625µs]
[2022/07/15 15:01:08.488 +08:00] [INFO] [handle_hist.go:156] ["SubLoadWorker exited."]
[2022/07/15 15:01:08.508 +08:00] [INFO] [db.go:567] ["Closing database"]
[2022/07/15 15:01:08.508 +08:00] [INFO] [db.go:592] ["Memtable flushed"]
[2022/07/15 15:01:08.508 +08:00] [INFO] [db.go:596] ["Compaction finished"]
[2022/07/15 15:01:08.508 +08:00] [INFO] [db.go:615] ["BlobManager finished"]
[2022/07/15 15:01:08.508 +08:00] [INFO] [db.go:619] ["ResourceManager finished"]
[2022/07/15 15:01:08.508 +08:00] [INFO] [db.go:625] ["Waiting for closer"]
[2022/07/15 15:01:08.586 +08:00] [INFO] [tidb.go:74] ["new domain"] [store=316192b9-1e37-498d-979d-3831c589280d] ["ddl lease"=0s] ["stats lease"=-1ns] ["index usage sync lease"=0s]
[2022/07/15 15:01:08.587 +08:00] [INFO] [domain.go:178] ["full load InfoSchema success"] [currentSchemaVersion=0] [neededSchemaVersion=0] ["start time"=527.583µs]
[2022/07/15 15:01:08.587 +08:00] [INFO] [domain.go:449] ["full load and reset schema validator"]
[2022/07/15 15:01:08.587 +08:00] [INFO] [ddl.go:483] ["[ddl] start DDL"] [ID=e4d4abad-4331-4e1f-b5ed-f72b5df5f62b] [runWorker=true]
[2022/07/15 15:01:08.587 +08:00] [INFO] [ddl.go:472] ["[ddl] start delRangeManager OK"] ["is a emulator"=true]
[2022/07/15 15:01:08.587 +08:00] [INFO] [delete_range.go:158] ["[ddl] start delRange emulator"]
[2022/07/15 15:01:08.587 +08:00] [INFO] [ddl_worker.go:164] ["[ddl] start DDL worker"] [worker="worker 17, tp general"]
[2022/07/15 15:01:08.587 +08:00] [INFO] [ddl_worker.go:164] ["[ddl] start DDL worker"] [worker="worker 18, tp add index"]
[2022/07/15 15:01:08.587 +08:00] [INFO] [tidb.go:268] ["rollbackTxn called due to ddl/autocommit failure"]
[2022/07/15 15:01:08.587 +08:00] [WARN] [session.go:1983] ["run statement failed"] [schemaVersion=0] [error="[schema:1049]Unknown database 'mysql'"] [errorVerbose="[schema:1049]Unknown database 'mysql'\ngithub.com/pingcap/errors.AddStack\n\t/Users/hongyunyan/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20211224045212-9687c2b0f87c/errors.go:174\ngithub.com/pingcap/errors.(*Error).GenWithStackByArgs\n\t/Users/hongyunyan/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20211224045212-9687c2b0f87c/normalize.go:164\ngithub.com/pingcap/tidb/executor.(*SimpleExec).executeUse\n\t/Users/hongyunyan/Desktop/tidb/executor/simple.go:571\ngithub.com/pingcap/tidb/executor.(*SimpleExec).Next\n\t/Users/hongyunyan/Desktop/tidb/executor/simple.go:131\ngithub.com/pingcap/tidb/executor.Next\n\t/Users/hongyunyan/Desktop/tidb/executor/executor.go:319\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelayExecutor\n\t/Users/hongyunyan/Desktop/tidb/executor/adapter.go:673\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelay\n\t/Users/hongyunyan/Desktop/tidb/executor/adapter.go:523\ngithub.com/pingcap/tidb/executor.(*ExecStmt).Exec\n\t/Users/hongyunyan/Desktop/tidb/executor/adapter.go:472\ngithub.com/pingcap/tidb/session.runStmt\n\t/Users/hongyunyan/Desktop/tidb/session/session.go:2114\ngithub.com/pingcap/tidb/session.(*session).ExecuteStmt\n\t/Users/hongyunyan/Desktop/tidb/session/session.go:1980\ngithub.com/pingcap/tidb/session.(*session).ExecuteInternal\n\t/Users/hongyunyan/Desktop/tidb/session/session.go:1495\ngithub.com/pingcap/tidb/session.checkBootstrapped\n\t/Users/hongyunyan/Desktop/tidb/session/bootstrap.go:728\ngithub.com/pingcap/tidb/session.bootstrap\n\t/Users/hongyunyan/Desktop/tidb/session/bootstrap.go:431\ngithub.com/pingcap/tidb/session.runInBootstrapSession\n\t/Users/hongyunyan/Desktop/tidb/session/session.go:2834\ngithub.com/pingcap/tidb/session.BootstrapSession\n\t/Users/hongyunyan/Desktop/tidb/session/session.go:2720\ngithub.com/pingcap/tidb/testkit.bootstrap\n\t/Users/hongyunyan/Desktop/tidb/testkit/mockstore.go:71\ngithub.com/pingcap/tidb/testkit.CreateMockStoreAndDomain\n\t/Users/hongyunyan/Desktop/tidb/testkit/mockstore.go:64\ngithub.com/pingcap/tidb/testkit.CreateMockStore\n\t/Users/hongyunyan/Desktop/tidb/testkit/mockstore.go:56\ngithub.com/pingcap/tidb/executor/tiflashtest.TestJoinRace\n\t/Users/hongyunyan/Desktop/tidb/executor/tiflashtest/tiflash_test.go:182\ntesting.tRunner\n\t/opt/homebrew/Cellar/go/1.18.3/libexec/src/testing/testing.go:1439\nruntime.goexit\n\t/opt/homebrew/Cellar/go/1.18.3/libexec/src/runtime/asm_arm64.s:1263"] [session="{\n  \"currDBName\": \"\",\n  \"id\": 0,\n  \"status\": 2,\n  \"strictMode\": true,\n  \"user\": null\n}"]
[2022/07/15 15:01:08.587 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=0] [cur_db=] [sql="CREATE DATABASE IF NOT EXISTS test"] [user=]
[2022/07/15 15:01:08.587 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:2, Type:create schema, State:queueing, SchemaState:none, SchemaID:1, TableID:0, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:08.587 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:08.587 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:2, Type:create schema, State:queueing, SchemaState:none, SchemaID:1, TableID:0, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:08.587 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE DATABASE IF NOT EXISTS test"]
[2022/07/15 15:01:08.587 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 17, tp general"] [job="ID:2, Type:create schema, State:queueing, SchemaState:none, SchemaID:1, TableID:0, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:08.587 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:08.588 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 17, tp general"] [job="ID:2, Type:create schema, State:synced, SchemaState:public, SchemaID:1, TableID:0, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:08.587 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:08.588 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=2]
[2022/07/15 15:01:08.588 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:08.588 +08:00] [INFO] [domain.go:178] ["full load InfoSchema success"] [currentSchemaVersion=0] [neededSchemaVersion=1] ["start time"=433.084µs]
[2022/07/15 15:01:08.588 +08:00] [INFO] [domain.go:449] ["full load and reset schema validator"]
[2022/07/15 15:01:08.588 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=1] [cur_db=] [sql="CREATE DATABASE IF NOT EXISTS `mysql`"] [user=]
[2022/07/15 15:01:08.588 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:4, Type:create schema, State:queueing, SchemaState:none, SchemaID:3, TableID:0, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:08.588 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:08.588 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:4, Type:create schema, State:queueing, SchemaState:none, SchemaID:3, TableID:0, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:08.588 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE DATABASE IF NOT EXISTS `mysql`"]
[2022/07/15 15:01:08.588 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 17, tp general"] [job="ID:4, Type:create schema, State:queueing, SchemaState:none, SchemaID:3, TableID:0, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:08.588 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:08.589 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 17, tp general"] [job="ID:4, Type:create schema, State:synced, SchemaState:public, SchemaID:3, TableID:0, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:08.588 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:08.589 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=4]
[2022/07/15 15:01:08.589 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:08.589 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=1] [neededSchemaVersion=2] ["start time"=17.625µs] [phyTblIDs="[]"] [actionTypes="[]"]
[2022/07/15 15:01:08.589 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=2] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.user (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tauthentication_string\tTEXT,\n\t\tplugin\t\t\t\t\tCHAR(64),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tProcess_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_db_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tSuper_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_user_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_slave_priv\t    \tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_client_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_role_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_role_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAccount_locked\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShutdown_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReload_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tFILE_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tConfig_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_Tablespace_Priv  ENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (Host, User));"] [user=]
[2022/07/15 15:01:08.589 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:6, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:5, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:08.589 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:08.589 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:6, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:5, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:08.589 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.user (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tauthentication_string\tTEXT,\n\t\tplugin\t\t\t\t\tCHAR(64),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tProcess_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_db_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tSuper_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_user_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_slave_priv\t    \tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_client_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_role_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_role_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAccount_locked\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShutdown_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReload_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tFILE_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tConfig_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_Tablespace_Priv  ENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (Host, User));"]
[2022/07/15 15:01:08.590 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 17, tp general"] [job="ID:6, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:5, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:08.589 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:08.591 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 17, tp general"] [job="ID:6, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:5, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:08.589 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:08.592 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=6]
[2022/07/15 15:01:08.592 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:08.592 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=2] [neededSchemaVersion=3] ["start time"=273.25µs] [phyTblIDs="[5]"] [actionTypes="[8]"]
[2022/07/15 15:01:08.592 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=3] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.global_priv (Host CHAR(255) NOT NULL DEFAULT '',User CHAR(80) NOT NULL DEFAULT '',Priv LONGTEXT NOT NULL DEFAULT '',PRIMARY KEY (Host, User))"] [user=]
[2022/07/15 15:01:08.592 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:8, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:7, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:08.592 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:08.592 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:8, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:7, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:08.592 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.global_priv (Host CHAR(255) NOT NULL DEFAULT '',User CHAR(80) NOT NULL DEFAULT '',Priv LONGTEXT NOT NULL DEFAULT '',PRIMARY KEY (Host, User))"]
[2022/07/15 15:01:08.593 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 17, tp general"] [job="ID:8, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:7, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:08.592 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:08.593 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 17, tp general"] [job="ID:8, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:7, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:08.592 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:08.593 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=8]
[2022/07/15 15:01:08.593 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:08.593 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=3] [neededSchemaVersion=4] ["start time"=69.167µs] [phyTblIDs="[7]"] [actionTypes="[8]"]
[2022/07/15 15:01:08.593 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=4] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.db (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tDB\t\t\t\t\t\tCHAR(64),\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv \t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (Host, DB, User));"] [user=]
[2022/07/15 15:01:08.594 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:10, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:9, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:08.593 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:08.594 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:10, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:9, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:08.593 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.db (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tDB\t\t\t\t\t\tCHAR(64),\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv \t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (Host, DB, User));"]
[2022/07/15 15:01:08.594 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 17, tp general"] [job="ID:10, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:9, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:08.593 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:08.595 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 17, tp general"] [job="ID:10, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:9, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:08.593 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:08.595 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=10]
[2022/07/15 15:01:08.595 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:08.596 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=4] [neededSchemaVersion=5] ["start time"=183.416µs] [phyTblIDs="[9]"] [actionTypes="[8]"]
[2022/07/15 15:01:08.596 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=5] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.tables_priv (\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64),\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64),\n\t\tGrantor\t\tCHAR(77),\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tTable_priv\tSET('Select','Insert','Update','Delete','Create','Drop','Grant','Index','Alter','Create View','Show View','Trigger','References'),\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name));"] [user=]
[2022/07/15 15:01:08.596 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:12, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:11, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:08.596 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:08.596 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:12, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:11, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:08.596 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.tables_priv (\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64),\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64),\n\t\tGrantor\t\tCHAR(77),\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tTable_priv\tSET('Select','Insert','Update','Delete','Create','Drop','Grant','Index','Alter','Create View','Show View','Trigger','References'),\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name));"]
[2022/07/15 15:01:08.596 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 17, tp general"] [job="ID:12, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:11, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:08.596 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:08.597 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 17, tp general"] [job="ID:12, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:11, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:08.596 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:08.597 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=12]
[2022/07/15 15:01:08.597 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:08.597 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=5] [neededSchemaVersion=6] ["start time"=87.833µs] [phyTblIDs="[11]"] [actionTypes="[8]"]
[2022/07/15 15:01:08.597 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=6] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.columns_priv(\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64),\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64),\n\t\tColumn_name\tCHAR(64),\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name, Column_name));"] [user=]
[2022/07/15 15:01:08.597 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:14, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:13, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:08.597 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:08.597 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:14, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:13, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:08.597 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.columns_priv(\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64),\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64),\n\t\tColumn_name\tCHAR(64),\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name, Column_name));"]
[2022/07/15 15:01:08.597 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 17, tp general"] [job="ID:14, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:13, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:08.597 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:08.598 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 17, tp general"] [job="ID:14, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:13, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:08.597 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:08.598 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=14]
[2022/07/15 15:01:08.598 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:08.598 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=6] [neededSchemaVersion=7] ["start time"=86.167µs] [phyTblIDs="[13]"] [actionTypes="[8]"]
[2022/07/15 15:01:08.598 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=7] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.GLOBAL_VARIABLES(\n\t\tVARIABLE_NAME  VARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(1024) DEFAULT NULL);"] [user=]
[2022/07/15 15:01:08.598 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:16, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:15, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:08.598 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:08.598 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:16, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:15, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:08.598 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.GLOBAL_VARIABLES(\n\t\tVARIABLE_NAME  VARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(1024) DEFAULT NULL);"]
[2022/07/15 15:01:08.598 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 17, tp general"] [job="ID:16, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:15, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:08.598 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:08.599 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 17, tp general"] [job="ID:16, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:15, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:08.598 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:08.599 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=16]
[2022/07/15 15:01:08.599 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:08.599 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=7] [neededSchemaVersion=8] ["start time"=42.458µs] [phyTblIDs="[15]"] [actionTypes="[8]"]
[2022/07/15 15:01:08.599 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=8] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb(\n\t\tVARIABLE_NAME  \tVARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE \tVARCHAR(1024) DEFAULT NULL,\n\t\tCOMMENT \t\tVARCHAR(1024));"] [user=]
[2022/07/15 15:01:08.599 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:18, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:17, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:08.599 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:08.599 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:18, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:17, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:08.599 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb(\n\t\tVARIABLE_NAME  \tVARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE \tVARCHAR(1024) DEFAULT NULL,\n\t\tCOMMENT \t\tVARCHAR(1024));"]
[2022/07/15 15:01:08.599 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 17, tp general"] [job="ID:18, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:17, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:08.599 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:08.599 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 17, tp general"] [job="ID:18, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:17, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:08.599 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:08.600 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=18]
[2022/07/15 15:01:08.600 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:08.600 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=8] [neededSchemaVersion=9] ["start time"=49.625µs] [phyTblIDs="[17]"] [actionTypes="[8]"]
[2022/07/15 15:01:08.600 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=9] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.help_topic (\n  \t\thelp_topic_id \t\tINT(10) UNSIGNED NOT NULL,\n  \t\tname \t\t\t\tCHAR(64) NOT NULL,\n  \t\thelp_category_id \tSMALLINT(5) UNSIGNED NOT NULL,\n  \t\tdescription \t\tTEXT NOT NULL,\n  \t\texample \t\t\tTEXT NOT NULL,\n  \t\turl \t\t\t\tTEXT NOT NULL,\n  \t\tPRIMARY KEY (help_topic_id) clustered,\n  \t\tUNIQUE KEY name (name)\n\t\t) ENGINE=InnoDB DEFAULT CHARSET=utf8 STATS_PERSISTENT=0 COMMENT='help topics';"] [user=]
[2022/07/15 15:01:08.600 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:20, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:19, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:08.6 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:08.600 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:20, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:19, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:08.6 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.help_topic (\n  \t\thelp_topic_id \t\tINT(10) UNSIGNED NOT NULL,\n  \t\tname \t\t\t\tCHAR(64) NOT NULL,\n  \t\thelp_category_id \tSMALLINT(5) UNSIGNED NOT NULL,\n  \t\tdescription \t\tTEXT NOT NULL,\n  \t\texample \t\t\tTEXT NOT NULL,\n  \t\turl \t\t\t\tTEXT NOT NULL,\n  \t\tPRIMARY KEY (help_topic_id) clustered,\n  \t\tUNIQUE KEY name (name)\n\t\t) ENGINE=InnoDB DEFAULT CHARSET=utf8 STATS_PERSISTENT=0 COMMENT='help topics';"]
[2022/07/15 15:01:08.600 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 17, tp general"] [job="ID:20, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:19, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:08.6 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:08.600 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 17, tp general"] [job="ID:20, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:19, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:08.6 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:08.601 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=20]
[2022/07/15 15:01:08.601 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:08.601 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=9] [neededSchemaVersion=10] ["start time"=69.166µs] [phyTblIDs="[19]"] [actionTypes="[8]"]
[2022/07/15 15:01:08.601 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=10] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_meta (\n\t\tversion \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\ttable_id \t\tBIGINT(64) NOT NULL,\n\t\tmodify_count\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcount \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tsnapshot        BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tINDEX idx_ver(version),\n\t\tUNIQUE INDEX tbl(table_id)\n\t);"] [user=]
[2022/07/15 15:01:08.601 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:22, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:21, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:08.601 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:08.601 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:22, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:21, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:08.601 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_meta (\n\t\tversion \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\ttable_id \t\tBIGINT(64) NOT NULL,\n\t\tmodify_count\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcount \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tsnapshot        BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tINDEX idx_ver(version),\n\t\tUNIQUE INDEX tbl(table_id)\n\t);"]
[2022/07/15 15:01:08.601 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 17, tp general"] [job="ID:22, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:21, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:08.601 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:08.601 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 17, tp general"] [job="ID:22, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:21, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:08.601 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:08.602 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=22]
[2022/07/15 15:01:08.602 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:08.602 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=10] [neededSchemaVersion=11] ["start time"=69.334µs] [phyTblIDs="[21]"] [actionTypes="[8]"]
[2022/07/15 15:01:08.602 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=11] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_histograms (\n\t\ttable_id \t\t\tBIGINT(64) NOT NULL,\n\t\tis_index \t\t\tTINYINT(2) NOT NULL,\n\t\thist_id \t\t\tBIGINT(64) NOT NULL,\n\t\tdistinct_count \t\tBIGINT(64) NOT NULL,\n\t\tnull_count \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\ttot_col_size \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tmodify_count \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tversion \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tcm_sketch \t\t\tBLOB(6291456),\n\t\tstats_ver \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tflag \t\t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcorrelation \t\tDOUBLE NOT NULL DEFAULT 0,\n\t\tlast_analyze_pos \tLONGBLOB DEFAULT NULL,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id)\n\t);"] [user=]
[2022/07/15 15:01:08.602 +08:00] [INFO] [ddl_api.go:999] ["Automatically convert BLOB(6291456) to MEDIUMBLOB"]
[2022/07/15 15:01:08.602 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:24, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:23, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:08.602 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:08.602 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:24, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:23, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:08.602 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_histograms (\n\t\ttable_id \t\t\tBIGINT(64) NOT NULL,\n\t\tis_index \t\t\tTINYINT(2) NOT NULL,\n\t\thist_id \t\t\tBIGINT(64) NOT NULL,\n\t\tdistinct_count \t\tBIGINT(64) NOT NULL,\n\t\tnull_count \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\ttot_col_size \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tmodify_count \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tversion \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tcm_sketch \t\t\tBLOB(6291456),\n\t\tstats_ver \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tflag \t\t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcorrelation \t\tDOUBLE NOT NULL DEFAULT 0,\n\t\tlast_analyze_pos \tLONGBLOB DEFAULT NULL,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id)\n\t);"]
[2022/07/15 15:01:08.602 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 17, tp general"] [job="ID:24, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:23, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:08.602 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:08.603 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 17, tp general"] [job="ID:24, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:23, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:08.602 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:08.603 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=24]
[2022/07/15 15:01:08.603 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:08.603 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=11] [neededSchemaVersion=12] ["start time"=116.167µs] [phyTblIDs="[23]"] [actionTypes="[8]"]
[2022/07/15 15:01:08.603 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=12] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_buckets (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tbucket_id \tBIGINT(64) NOT NULL,\n\t\tcount \t\tBIGINT(64) NOT NULL,\n\t\trepeats \tBIGINT(64) NOT NULL,\n\t\tupper_bound LONGBLOB NOT NULL,\n\t\tlower_bound LONGBLOB ,\n\t\tndv         BIGINT NOT NULL DEFAULT 0,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id, bucket_id)\n\t);"] [user=]
[2022/07/15 15:01:08.603 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:26, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:25, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:08.603 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:08.603 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:26, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:25, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:08.603 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_buckets (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tbucket_id \tBIGINT(64) NOT NULL,\n\t\tcount \t\tBIGINT(64) NOT NULL,\n\t\trepeats \tBIGINT(64) NOT NULL,\n\t\tupper_bound LONGBLOB NOT NULL,\n\t\tlower_bound LONGBLOB ,\n\t\tndv         BIGINT NOT NULL DEFAULT 0,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id, bucket_id)\n\t);"]
[2022/07/15 15:01:08.604 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 17, tp general"] [job="ID:26, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:25, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:08.603 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:08.604 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 17, tp general"] [job="ID:26, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:25, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:08.603 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:08.604 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=26]
[2022/07/15 15:01:08.604 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:08.604 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=12] [neededSchemaVersion=13] ["start time"=86.709µs] [phyTblIDs="[25]"] [actionTypes="[8]"]
[2022/07/15 15:01:08.604 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=13] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_index (job_id, element_id)\n\t);"] [user=]
[2022/07/15 15:01:08.605 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:28, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:27, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:08.605 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:08.605 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:28, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:27, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:08.605 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_index (job_id, element_id)\n\t);"]
[2022/07/15 15:01:08.605 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 17, tp general"] [job="ID:28, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:27, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:08.605 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:08.605 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 17, tp general"] [job="ID:28, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:27, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:08.605 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:08.605 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=28]
[2022/07/15 15:01:08.605 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:08.605 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=13] [neededSchemaVersion=14] ["start time"=64.75µs] [phyTblIDs="[27]"] [actionTypes="[8]"]
[2022/07/15 15:01:08.605 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=14] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range_done (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_done_index (job_id, element_id)\n\t);"] [user=]
[2022/07/15 15:01:08.606 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:30, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:29, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:08.606 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:08.606 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:30, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:29, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:08.606 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range_done (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_done_index (job_id, element_id)\n\t);"]
[2022/07/15 15:01:08.606 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 17, tp general"] [job="ID:30, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:29, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:08.606 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:08.606 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 17, tp general"] [job="ID:30, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:29, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:08.606 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:08.606 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=30]
[2022/07/15 15:01:08.606 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:08.606 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=14] [neededSchemaVersion=15] ["start time"=66.542µs] [phyTblIDs="[29]"] [actionTypes="[8]"]
[2022/07/15 15:01:08.606 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=15] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_feedback (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tfeedback \tBLOB NOT NULL,\n\t\tINDEX hist(table_id, is_index, hist_id)\n\t);"] [user=]
[2022/07/15 15:01:08.607 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:32, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:31, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:08.606 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:08.607 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:32, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:31, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:08.606 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_feedback (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tfeedback \tBLOB NOT NULL,\n\t\tINDEX hist(table_id, is_index, hist_id)\n\t);"]
[2022/07/15 15:01:08.607 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 17, tp general"] [job="ID:32, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:31, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:08.606 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:08.607 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 17, tp general"] [job="ID:32, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:31, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:08.606 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:08.607 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=32]
[2022/07/15 15:01:08.607 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:08.607 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=15] [neededSchemaVersion=16] ["start time"=57.583µs] [phyTblIDs="[31]"] [actionTypes="[8]"]
[2022/07/15 15:01:08.607 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=16] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.role_edges (\n\t\tFROM_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tFROM_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tWITH_ADMIN_OPTION \tENUM('N','Y') CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (FROM_HOST,FROM_USER,TO_HOST,TO_USER)\n\t);"] [user=]
[2022/07/15 15:01:08.607 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:34, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:33, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:08.607 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:08.607 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:34, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:33, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:08.607 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.role_edges (\n\t\tFROM_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tFROM_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tWITH_ADMIN_OPTION \tENUM('N','Y') CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (FROM_HOST,FROM_USER,TO_HOST,TO_USER)\n\t);"]
[2022/07/15 15:01:08.608 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 17, tp general"] [job="ID:34, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:33, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:08.607 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:08.608 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 17, tp general"] [job="ID:34, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:33, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:08.607 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:08.608 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=34]
[2022/07/15 15:01:08.608 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:08.608 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=16] [neededSchemaVersion=17] ["start time"=65.375µs] [phyTblIDs="[33]"] [actionTypes="[8]"]
[2022/07/15 15:01:08.608 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=17] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.default_roles (\n\t\tHOST \t\t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tUSER \t\t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tDEFAULT_ROLE_HOST \tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '%',\n\t\tDEFAULT_ROLE_USER \tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tPRIMARY KEY (HOST,USER,DEFAULT_ROLE_HOST,DEFAULT_ROLE_USER)\n\t)"] [user=]
[2022/07/15 15:01:08.609 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:36, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:35, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:08.608 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:08.609 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:36, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:35, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:08.608 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.default_roles (\n\t\tHOST \t\t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tUSER \t\t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tDEFAULT_ROLE_HOST \tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '%',\n\t\tDEFAULT_ROLE_USER \tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tPRIMARY KEY (HOST,USER,DEFAULT_ROLE_HOST,DEFAULT_ROLE_USER)\n\t)"]
[2022/07/15 15:01:08.609 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 17, tp general"] [job="ID:36, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:35, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:08.608 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:08.609 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 17, tp general"] [job="ID:36, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:35, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:08.608 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:08.609 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=36]
[2022/07/15 15:01:08.609 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:08.609 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=17] [neededSchemaVersion=18] ["start time"=69.291µs] [phyTblIDs="[35]"] [actionTypes="[8]"]
[2022/07/15 15:01:08.609 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=18] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.bind_info (\n\t\toriginal_sql TEXT NOT NULL,\n\t\tbind_sql TEXT NOT NULL,\n\t\tdefault_db TEXT NOT NULL,\n\t\tstatus TEXT NOT NULL,\n\t\tcreate_time TIMESTAMP(3) NOT NULL,\n\t\tupdate_time TIMESTAMP(3) NOT NULL,\n\t\tcharset TEXT NOT NULL,\n\t\tcollation TEXT NOT NULL,\n\t\tsource VARCHAR(10) NOT NULL DEFAULT 'unknown',\n\t\tINDEX sql_index(original_sql(700),default_db(68)) COMMENT \"accelerate the speed when add global binding query\",\n\t\tINDEX time_index(update_time) COMMENT \"accelerate the speed when querying with last update time\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"] [user=]
[2022/07/15 15:01:08.610 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:38, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:37, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:08.609 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:08.610 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:38, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:37, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:08.609 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.bind_info (\n\t\toriginal_sql TEXT NOT NULL,\n\t\tbind_sql TEXT NOT NULL,\n\t\tdefault_db TEXT NOT NULL,\n\t\tstatus TEXT NOT NULL,\n\t\tcreate_time TIMESTAMP(3) NOT NULL,\n\t\tupdate_time TIMESTAMP(3) NOT NULL,\n\t\tcharset TEXT NOT NULL,\n\t\tcollation TEXT NOT NULL,\n\t\tsource VARCHAR(10) NOT NULL DEFAULT 'unknown',\n\t\tINDEX sql_index(original_sql(700),default_db(68)) COMMENT \"accelerate the speed when add global binding query\",\n\t\tINDEX time_index(update_time) COMMENT \"accelerate the speed when querying with last update time\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"]
[2022/07/15 15:01:08.610 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 17, tp general"] [job="ID:38, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:37, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:08.609 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:08.610 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 17, tp general"] [job="ID:38, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:37, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:08.609 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:08.610 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=38]
[2022/07/15 15:01:08.610 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:08.611 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=18] [neededSchemaVersion=19] ["start time"=96µs] [phyTblIDs="[37]"] [actionTypes="[8]"]
[2022/07/15 15:01:08.611 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=19] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_top_n (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tcount \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"] [user=]
[2022/07/15 15:01:08.611 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:40, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:39, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:08.611 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:08.611 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:40, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:39, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:08.611 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_top_n (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tcount \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"]
[2022/07/15 15:01:08.611 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 17, tp general"] [job="ID:40, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:39, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:08.611 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:08.611 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 17, tp general"] [job="ID:40, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:39, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:08.611 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:08.612 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=40]
[2022/07/15 15:01:08.612 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:08.612 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=19] [neededSchemaVersion=20] ["start time"=66.042µs] [phyTblIDs="[39]"] [actionTypes="[8]"]
[2022/07/15 15:01:08.612 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=20] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.expr_pushdown_blacklist (\n\t\tname \t\tCHAR(100) NOT NULL,\n\t\tstore_type \tCHAR(100) NOT NULL DEFAULT 'tikv,tiflash,tidb',\n\t\treason \t\tVARCHAR(200)\n\t);"] [user=]
[2022/07/15 15:01:08.612 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:42, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:41, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:08.612 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:08.612 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:42, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:41, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:08.612 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.expr_pushdown_blacklist (\n\t\tname \t\tCHAR(100) NOT NULL,\n\t\tstore_type \tCHAR(100) NOT NULL DEFAULT 'tikv,tiflash,tidb',\n\t\treason \t\tVARCHAR(200)\n\t);"]
[2022/07/15 15:01:08.612 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 17, tp general"] [job="ID:42, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:41, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:08.612 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:08.612 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 17, tp general"] [job="ID:42, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:41, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:08.612 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:08.612 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=42]
[2022/07/15 15:01:08.612 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:08.612 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=20] [neededSchemaVersion=21] ["start time"=44.792µs] [phyTblIDs="[41]"] [actionTypes="[8]"]
[2022/07/15 15:01:08.613 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=21] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.opt_rule_blacklist (\n\t\tname \tCHAR(100) NOT NULL\n\t);"] [user=]
[2022/07/15 15:01:08.613 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:44, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:43, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:08.613 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:08.613 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:44, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:43, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:08.613 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.opt_rule_blacklist (\n\t\tname \tCHAR(100) NOT NULL\n\t);"]
[2022/07/15 15:01:08.613 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 17, tp general"] [job="ID:44, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:43, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:08.613 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:08.613 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 17, tp general"] [job="ID:44, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:43, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:08.613 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:08.613 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=44]
[2022/07/15 15:01:08.613 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:08.613 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=21] [neededSchemaVersion=22] ["start time"=31.542µs] [phyTblIDs="[43]"] [actionTypes="[8]"]
[2022/07/15 15:01:08.613 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=22] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_extended (\n\t\tname varchar(32) NOT NULL,\n\t\ttype tinyint(4) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tcolumn_ids varchar(32) NOT NULL,\n\t\tstats blob DEFAULT NULL,\n\t\tversion bigint(64) unsigned NOT NULL,\n\t\tstatus tinyint(4) NOT NULL,\n\t\tPRIMARY KEY(name, table_id),\n\t\tKEY idx_1 (table_id, status, version),\n\t\tKEY idx_2 (status, version)\n\t);"] [user=]
[2022/07/15 15:01:08.613 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:46, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:45, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:08.613 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:08.613 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:46, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:45, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:08.613 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_extended (\n\t\tname varchar(32) NOT NULL,\n\t\ttype tinyint(4) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tcolumn_ids varchar(32) NOT NULL,\n\t\tstats blob DEFAULT NULL,\n\t\tversion bigint(64) unsigned NOT NULL,\n\t\tstatus tinyint(4) NOT NULL,\n\t\tPRIMARY KEY(name, table_id),\n\t\tKEY idx_1 (table_id, status, version),\n\t\tKEY idx_2 (status, version)\n\t);"]
[2022/07/15 15:01:08.613 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 17, tp general"] [job="ID:46, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:45, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:08.613 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:08.614 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 17, tp general"] [job="ID:46, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:45, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:08.613 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:08.614 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=46]
[2022/07/15 15:01:08.614 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:08.614 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=22] [neededSchemaVersion=23] ["start time"=84.458µs] [phyTblIDs="[45]"] [actionTypes="[8]"]
[2022/07/15 15:01:08.614 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=23] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.schema_index_usage (\n\t\tTABLE_ID bigint(64),\n\t\tINDEX_ID bigint(21),\n\t\tQUERY_COUNT bigint(64),\n\t\tROWS_SELECTED bigint(64),\n\t\tLAST_USED_AT timestamp,\n\t\tPRIMARY KEY(TABLE_ID, INDEX_ID)\n\t);"] [user=]
[2022/07/15 15:01:08.614 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:48, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:47, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:08.614 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:08.614 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:48, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:47, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:08.614 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.schema_index_usage (\n\t\tTABLE_ID bigint(64),\n\t\tINDEX_ID bigint(21),\n\t\tQUERY_COUNT bigint(64),\n\t\tROWS_SELECTED bigint(64),\n\t\tLAST_USED_AT timestamp,\n\t\tPRIMARY KEY(TABLE_ID, INDEX_ID)\n\t);"]
[2022/07/15 15:01:08.614 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 17, tp general"] [job="ID:48, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:47, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:08.614 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:08.615 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 17, tp general"] [job="ID:48, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:47, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:08.614 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:08.615 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=48]
[2022/07/15 15:01:08.615 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:08.615 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=23] [neededSchemaVersion=24] ["start time"=61.709µs] [phyTblIDs="[47]"] [actionTypes="[8]"]
[2022/07/15 15:01:08.615 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=24] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_fm_sketch (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"] [user=]
[2022/07/15 15:01:08.615 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:50, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:49, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:08.615 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:08.615 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:50, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:49, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:08.615 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_fm_sketch (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"]
[2022/07/15 15:01:08.615 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 17, tp general"] [job="ID:50, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:49, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:08.615 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:08.616 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 17, tp general"] [job="ID:50, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:49, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:08.615 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:08.616 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=50]
[2022/07/15 15:01:08.616 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:08.616 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=24] [neededSchemaVersion=25] ["start time"=60.375µs] [phyTblIDs="[49]"] [actionTypes="[8]"]
[2022/07/15 15:01:08.616 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=25] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.global_grants (\n\t\tUSER char(32) NOT NULL DEFAULT '',\n\t\tHOST char(255) NOT NULL DEFAULT '',\n\t\tPRIV char(32) NOT NULL DEFAULT '',\n\t\tWITH_GRANT_OPTION enum('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (USER,HOST,PRIV)\n\t);"] [user=]
[2022/07/15 15:01:08.616 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:52, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:51, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:08.616 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:08.616 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:52, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:51, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:08.616 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.global_grants (\n\t\tUSER char(32) NOT NULL DEFAULT '',\n\t\tHOST char(255) NOT NULL DEFAULT '',\n\t\tPRIV char(32) NOT NULL DEFAULT '',\n\t\tWITH_GRANT_OPTION enum('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (USER,HOST,PRIV)\n\t);"]
[2022/07/15 15:01:08.616 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 17, tp general"] [job="ID:52, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:51, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:08.616 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:08.616 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 17, tp general"] [job="ID:52, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:51, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:08.616 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:08.617 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=52]
[2022/07/15 15:01:08.617 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:08.617 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=25] [neededSchemaVersion=26] ["start time"=59.542µs] [phyTblIDs="[51]"] [actionTypes="[8]"]
[2022/07/15 15:01:08.617 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=26] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.capture_plan_baselines_blacklist (\n\t\tid bigint(64) auto_increment,\n\t\tfilter_type varchar(32) NOT NULL COMMENT \"type of the filter, only db, table and frequency supported now\",\n\t\tfilter_value varchar(32) NOT NULL,\n\t\tkey idx(filter_type),\n\t\tprimary key(id)\n\t);"] [user=]
[2022/07/15 15:01:08.617 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:54, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:53, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:08.617 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:08.617 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:54, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:53, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:08.617 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.capture_plan_baselines_blacklist (\n\t\tid bigint(64) auto_increment,\n\t\tfilter_type varchar(32) NOT NULL COMMENT \"type of the filter, only db, table and frequency supported now\",\n\t\tfilter_value varchar(32) NOT NULL,\n\t\tkey idx(filter_type),\n\t\tprimary key(id)\n\t);"]
[2022/07/15 15:01:08.617 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 17, tp general"] [job="ID:54, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:53, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:08.617 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:08.617 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 17, tp general"] [job="ID:54, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:53, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:08.617 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:08.617 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=54]
[2022/07/15 15:01:08.617 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:08.617 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=26] [neededSchemaVersion=27] ["start time"=58.959µs] [phyTblIDs="[53]"] [actionTypes="[8]"]
[2022/07/15 15:01:08.617 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=27] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.column_stats_usage (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tcolumn_id BIGINT(64) NOT NULL,\n\t\tlast_used_at TIMESTAMP,\n\t\tlast_analyzed_at TIMESTAMP,\n\t\tPRIMARY KEY (table_id, column_id) CLUSTERED\n\t);"] [user=]
[2022/07/15 15:01:08.618 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:56, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:55, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:08.618 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:08.618 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:56, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:55, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:08.618 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.column_stats_usage (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tcolumn_id BIGINT(64) NOT NULL,\n\t\tlast_used_at TIMESTAMP,\n\t\tlast_analyzed_at TIMESTAMP,\n\t\tPRIMARY KEY (table_id, column_id) CLUSTERED\n\t);"]
[2022/07/15 15:01:08.618 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 17, tp general"] [job="ID:56, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:55, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:08.618 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:08.618 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 17, tp general"] [job="ID:56, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:55, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:08.618 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:08.618 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=56]
[2022/07/15 15:01:08.618 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:08.618 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=27] [neededSchemaVersion=28] ["start time"=58.875µs] [phyTblIDs="[55]"] [actionTypes="[8]"]
[2022/07/15 15:01:08.618 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=28] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.table_cache_meta (\n\t\ttid bigint(11) NOT NULL DEFAULT 0,\n\t\tlock_type enum('NONE','READ', 'INTEND', 'WRITE') NOT NULL DEFAULT 'NONE',\n\t\tlease bigint(20) NOT NULL DEFAULT 0,\n\t\toldReadLease bigint(20) NOT NULL DEFAULT 0,\n\t\tPRIMARY KEY (tid)\n\t);"] [user=]
[2022/07/15 15:01:08.618 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:58, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:57, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:08.618 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:08.618 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:58, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:57, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:08.618 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.table_cache_meta (\n\t\ttid bigint(11) NOT NULL DEFAULT 0,\n\t\tlock_type enum('NONE','READ', 'INTEND', 'WRITE') NOT NULL DEFAULT 'NONE',\n\t\tlease bigint(20) NOT NULL DEFAULT 0,\n\t\toldReadLease bigint(20) NOT NULL DEFAULT 0,\n\t\tPRIMARY KEY (tid)\n\t);"]
[2022/07/15 15:01:08.619 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 17, tp general"] [job="ID:58, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:57, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:08.618 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:08.619 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 17, tp general"] [job="ID:58, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:57, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:08.618 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:08.619 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=58]
[2022/07/15 15:01:08.619 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:08.619 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=28] [neededSchemaVersion=29] ["start time"=60.792µs] [phyTblIDs="[57]"] [actionTypes="[8]"]
[2022/07/15 15:01:08.619 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=29] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.analyze_options (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tsample_num BIGINT(64) NOT NULL DEFAULT 0,\n\t\tsample_rate DOUBLE NOT NULL DEFAULT -1,\n\t\tbuckets BIGINT(64) NOT NULL DEFAULT 0,\n\t\ttopn BIGINT(64) NOT NULL DEFAULT -1,\n\t\tcolumn_choice enum('DEFAULT','ALL','PREDICATE','LIST') NOT NULL DEFAULT 'DEFAULT',\n\t\tcolumn_ids TEXT(19372),\n\t\tPRIMARY KEY (table_id) CLUSTERED\n\t);"] [user=]
[2022/07/15 15:01:08.619 +08:00] [INFO] [ddl_api.go:999] ["Automatically convert BLOB(19372) to MEDIUMBLOB"]
[2022/07/15 15:01:08.619 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:60, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:59, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:08.619 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:08.619 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:60, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:59, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:08.619 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.analyze_options (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tsample_num BIGINT(64) NOT NULL DEFAULT 0,\n\t\tsample_rate DOUBLE NOT NULL DEFAULT -1,\n\t\tbuckets BIGINT(64) NOT NULL DEFAULT 0,\n\t\ttopn BIGINT(64) NOT NULL DEFAULT -1,\n\t\tcolumn_choice enum('DEFAULT','ALL','PREDICATE','LIST') NOT NULL DEFAULT 'DEFAULT',\n\t\tcolumn_ids TEXT(19372),\n\t\tPRIMARY KEY (table_id) CLUSTERED\n\t);"]
[2022/07/15 15:01:08.619 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 17, tp general"] [job="ID:60, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:59, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:08.619 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:08.620 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 17, tp general"] [job="ID:60, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:59, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:08.619 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:08.620 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=60]
[2022/07/15 15:01:08.620 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:08.620 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=29] [neededSchemaVersion=30] ["start time"=66.125µs] [phyTblIDs="[59]"] [actionTypes="[8]"]
[2022/07/15 15:01:08.620 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=30] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tstats_data longblob NOT NULL,\n\t\tseq_no bigint(64) NOT NULL comment 'sequence number of the gzipped data slice',\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version_seq (table_id, version, seq_no),\n\t\tKEY table_create_time (table_id, create_time, seq_no)\n\t);"] [user=]
[2022/07/15 15:01:08.620 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:62, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:61, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:08.62 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:08.620 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:62, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:61, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:08.62 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tstats_data longblob NOT NULL,\n\t\tseq_no bigint(64) NOT NULL comment 'sequence number of the gzipped data slice',\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version_seq (table_id, version, seq_no),\n\t\tKEY table_create_time (table_id, create_time, seq_no)\n\t);"]
[2022/07/15 15:01:08.620 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 17, tp general"] [job="ID:62, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:61, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:08.62 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:08.621 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 17, tp general"] [job="ID:62, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:61, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:08.62 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:08.621 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=62]
[2022/07/15 15:01:08.621 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:08.621 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=30] [neededSchemaVersion=31] ["start time"=75.167µs] [phyTblIDs="[61]"] [actionTypes="[8]"]
[2022/07/15 15:01:08.621 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=31] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_meta_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL,\n\t\tcount bigint(64) NOT NULL,\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version (table_id, version),\n\t\tKEY table_create_time (table_id, create_time)\n\t);"] [user=]
[2022/07/15 15:01:08.621 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:64, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:63, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:08.621 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:08.621 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:64, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:63, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:08.621 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_meta_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL,\n\t\tcount bigint(64) NOT NULL,\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version (table_id, version),\n\t\tKEY table_create_time (table_id, create_time)\n\t);"]
[2022/07/15 15:01:08.621 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 17, tp general"] [job="ID:64, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:63, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:08.621 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:08.622 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 17, tp general"] [job="ID:64, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:63, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:08.621 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:08.622 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=64]
[2022/07/15 15:01:08.622 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:08.622 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=31] [neededSchemaVersion=32] ["start time"=73.208µs] [phyTblIDs="[63]"] [actionTypes="[8]"]
[2022/07/15 15:01:08.622 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=32] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.analyze_jobs (\n\t\tid BIGINT(64) UNSIGNED NOT NULL AUTO_INCREMENT,\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\ttable_schema CHAR(64) NOT NULL DEFAULT '',\n\t\ttable_name CHAR(64) NOT NULL DEFAULT '',\n\t\tpartition_name CHAR(64) NOT NULL DEFAULT '',\n\t\tjob_info TEXT NOT NULL,\n\t\tprocessed_rows BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tstart_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tstate ENUM('pending', 'running', 'finished', 'failed') NOT NULL,\n\t\tfail_reason TEXT,\n\t\tinstance VARCHAR(512) NOT NULL comment 'address of the TiDB instance executing the analyze job',\n\t\tprocess_id BIGINT(64) UNSIGNED comment 'ID of the process executing the analyze job',\n\t\tPRIMARY KEY (id),\n\t\tKEY (update_time)\n\t);"] [user=]
[2022/07/15 15:01:08.622 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:66, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:65, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:08.622 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:08.622 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:66, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:65, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:08.622 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.analyze_jobs (\n\t\tid BIGINT(64) UNSIGNED NOT NULL AUTO_INCREMENT,\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\ttable_schema CHAR(64) NOT NULL DEFAULT '',\n\t\ttable_name CHAR(64) NOT NULL DEFAULT '',\n\t\tpartition_name CHAR(64) NOT NULL DEFAULT '',\n\t\tjob_info TEXT NOT NULL,\n\t\tprocessed_rows BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tstart_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tstate ENUM('pending', 'running', 'finished', 'failed') NOT NULL,\n\t\tfail_reason TEXT,\n\t\tinstance VARCHAR(512) NOT NULL comment 'address of the TiDB instance executing the analyze job',\n\t\tprocess_id BIGINT(64) UNSIGNED comment 'ID of the process executing the analyze job',\n\t\tPRIMARY KEY (id),\n\t\tKEY (update_time)\n\t);"]
[2022/07/15 15:01:08.622 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 17, tp general"] [job="ID:66, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:65, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:08.622 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:08.623 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 17, tp general"] [job="ID:66, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:65, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:08.622 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:08.623 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=66]
[2022/07/15 15:01:08.623 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:08.623 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=32] [neededSchemaVersion=33] ["start time"=108.791µs] [phyTblIDs="[65]"] [actionTypes="[8]"]
[2022/07/15 15:01:08.623 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=33] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.advisory_locks (\n\t\tlock_name VARCHAR(64) NOT NULL PRIMARY KEY\n\t);"] [user=]
[2022/07/15 15:01:08.624 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:68, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:67, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:08.623 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:08.624 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:68, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:67, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:08.623 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.advisory_locks (\n\t\tlock_name VARCHAR(64) NOT NULL PRIMARY KEY\n\t);"]
[2022/07/15 15:01:08.624 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 17, tp general"] [job="ID:68, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:67, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:08.623 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:08.624 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 17, tp general"] [job="ID:68, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:67, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:08.623 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:08.624 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=68]
[2022/07/15 15:01:08.624 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:08.624 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=33] [neededSchemaVersion=34] ["start time"=37.458µs] [phyTblIDs="[67]"] [actionTypes="[8]"]
[2022/07/15 15:01:08.631 +08:00] [INFO] [bootstrap.go:448] ["bootstrap successful"] ["take time"=43.946875ms]
[2022/07/15 15:01:08.631 +08:00] [INFO] [ddl_worker.go:158] ["[ddl] DDL worker closed"] [worker="worker 17, tp general"] ["take time"=1.083µs]
[2022/07/15 15:01:08.631 +08:00] [INFO] [ddl_worker.go:158] ["[ddl] DDL worker closed"] [worker="worker 18, tp add index"] ["take time"=250ns]
[2022/07/15 15:01:08.631 +08:00] [INFO] [delete_range.go:148] ["[ddl] closing delRange"]
[2022/07/15 15:01:08.631 +08:00] [INFO] [session_pool.go:94] ["[ddl] closing sessionPool"]
[2022/07/15 15:01:08.631 +08:00] [INFO] [ddl.go:576] ["[ddl] DDL closed"] [ID=e4d4abad-4331-4e1f-b5ed-f72b5df5f62b] ["take time"=98.667µs]
[2022/07/15 15:01:08.631 +08:00] [INFO] [ddl.go:464] ["[ddl] stop DDL"] [ID=e4d4abad-4331-4e1f-b5ed-f72b5df5f62b]
[2022/07/15 15:01:08.631 +08:00] [INFO] [domain.go:498] ["topNSlowQueryLoop exited."]
[2022/07/15 15:01:08.631 +08:00] [INFO] [domain.go:575] ["topologySyncerKeeper exited."]
[2022/07/15 15:01:08.632 +08:00] [INFO] [domain.go:527] ["infoSyncerKeeper exited."]
[2022/07/15 15:01:08.632 +08:00] [INFO] [domain.go:552] ["globalConfigSyncerKeeper exited."]
[2022/07/15 15:01:08.632 +08:00] [INFO] [domain.go:733] ["domain closed"] ["take time"=160.167µs]
[2022/07/15 15:01:08.632 +08:00] [INFO] [tidb.go:74] ["new domain"] [store=316192b9-1e37-498d-979d-3831c589280d] ["ddl lease"=0s] ["stats lease"=-1ns] ["index usage sync lease"=0s]
[2022/07/15 15:01:08.634 +08:00] [INFO] [domain.go:178] ["full load InfoSchema success"] [currentSchemaVersion=0] [neededSchemaVersion=34] ["start time"=2.41625ms]
[2022/07/15 15:01:08.634 +08:00] [INFO] [domain.go:449] ["full load and reset schema validator"]
[2022/07/15 15:01:08.634 +08:00] [INFO] [ddl.go:483] ["[ddl] start DDL"] [ID=1aeb86eb-4282-460f-8f61-de446ad5e275] [runWorker=true]
[2022/07/15 15:01:08.634 +08:00] [INFO] [ddl.go:472] ["[ddl] start delRangeManager OK"] ["is a emulator"=true]
[2022/07/15 15:01:08.634 +08:00] [INFO] [delete_range.go:158] ["[ddl] start delRange emulator"]
[2022/07/15 15:01:08.634 +08:00] [INFO] [ddl_worker.go:164] ["[ddl] start DDL worker"] [worker="worker 19, tp general"]
[2022/07/15 15:01:08.634 +08:00] [INFO] [ddl_worker.go:164] ["[ddl] start DDL worker"] [worker="worker 20, tp add index"]
[2022/07/15 15:01:08.635 +08:00] [WARN] [sysvar_cache.go:53] ["sysvar cache is empty, triggering rebuild"]
[2022/07/15 15:01:08.638 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=5] [schemaVersion=34] [cur_db=test] [sql="drop table if exists t"] [user=]
[2022/07/15 15:01:08.638 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=5] [schemaVersion=34] [cur_db=test] [sql="create table t(a int not null, b int not null)"] [user=]
[2022/07/15 15:01:08.639 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:70, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:08.639 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:08.639 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:70, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:08.639 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="create table t(a int not null, b int not null)"]
[2022/07/15 15:01:08.639 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 19, tp general"] [job="ID:70, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:08.639 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:08.639 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 19, tp general"] [job="ID:70, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:69, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:08.639 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:08.639 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=70]
[2022/07/15 15:01:08.639 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:08.639 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=34] [neededSchemaVersion=35] ["start time"=53.417µs] [phyTblIDs="[69]"] [actionTypes="[8]"]
[2022/07/15 15:01:08.639 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=5] [schemaVersion=35] [cur_db=test] [sql="alter table t set tiflash replica 1"] [user=]
[2022/07/15 15:01:08.639 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:71, Type:set tiflash replica, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:08.639 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:08.639 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:71, Type:set tiflash replica, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:08.639 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="alter table t set tiflash replica 1"]
[2022/07/15 15:01:08.639 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 19, tp general"] [job="ID:71, Type:set tiflash replica, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:08.639 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:08.639 +08:00] [INFO] [table.go:1109] ["Set TiFlash replica pd rule"] [tableID=69]
[2022/07/15 15:01:08.640 +08:00] [INFO] [info.go:1051] [ConfigureTiFlashPDForTable] [tableID=69] [count=1]
[2022/07/15 15:01:08.640 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 19, tp general"] [job="ID:71, Type:set tiflash replica, State:synced, SchemaState:public, SchemaID:1, TableID:69, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:08.639 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:08.640 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=71]
[2022/07/15 15:01:08.640 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:08.640 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=35] [neededSchemaVersion=36] ["start time"=48.125µs] [phyTblIDs="[]"] [actionTypes="[]"]
[2022/07/15 15:01:08.640 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:72, Type:update tiflash replica status, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:2, start time: 2022-07-15 15:01:08.64 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:08.640 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:72, Type:update tiflash replica status, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:2, start time: 2022-07-15 15:01:08.64 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query=]
[2022/07/15 15:01:08.640 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 19, tp general"] [job="ID:72, Type:update tiflash replica status, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:08.64 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:08.640 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 19, tp general"] [job="ID:72, Type:update tiflash replica status, State:synced, SchemaState:public, SchemaID:1, TableID:69, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:08.64 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:08.640 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=72]
[2022/07/15 15:01:08.640 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:08.641 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=36] [neededSchemaVersion=37] ["start time"=39.291µs] [phyTblIDs="[]"] [actionTypes="[]"]
[2022/07/15 15:01:08.641 +08:00] [WARN] [2pc.go:1806] ["schemaLeaseChecker is not set for this transaction"] [sessionID=5] [startTS=434600271843426305] [checkTS=434600271843426306]
[2022/07/15 15:01:08.642 +08:00] [INFO] [fragment.go:77] ["Mpp will generate tasks"] [plan=Recv()->HashAgg->Projection->Send()]
[2022/07/15 15:01:08.642 +08:00] [INFO] [batch_coprocessor.go:325] ["detecting available mpp stores"]
[2022/07/15 15:01:08.642 +08:00] [WARN] [batch_coprocessor.go:359] ["Store is not ready"] ["store address"=tiflash1] ["err message"="not support this request type MPPAlive"]
[2022/07/15 15:01:08.642 +08:00] [WARN] [batch_coprocessor.go:359] ["Store is not ready"] ["store address"=tiflash0] ["err message"="not support this request type MPPAlive"]
[2022/07/15 15:01:08.642 +08:00] [WARN] [batch_coprocessor.go:400] ["Meet regions that don't have an available store. Give up balancing"]
[2022/07/15 15:01:08.642 +08:00] [INFO] [mpp_gather.go:80] ["Dispatch mpp task"] [timestamp=434600271843688455] [ID=1] [address=tiflash0] [plan="Table(t)->Send(2, )"]
[2022/07/15 15:01:08.642 +08:00] [INFO] [mpp_gather.go:80] ["Dispatch mpp task"] [timestamp=434600271843688455] [ID=2] [address=tiflash0] [plan="Recv(1, )->HashAgg->Projection->Send(-1, )"]
[2022/07/15 15:01:08.642 +08:00] [INFO] [fragment.go:77] ["Mpp will generate tasks"] [plan=Recv()->HashAgg->Projection->Send()]
[2022/07/15 15:01:08.642 +08:00] [INFO] [batch_coprocessor.go:325] ["detecting available mpp stores"]
[2022/07/15 15:01:08.642 +08:00] [WARN] [batch_coprocessor.go:400] ["Meet regions that don't have an available store. Give up balancing"]
[2022/07/15 15:01:08.642 +08:00] [INFO] [mpp_gather.go:80] ["Dispatch mpp task"] [timestamp=434600271843688455] [ID=3] [address=tiflash0] [plan="Table(t)->Send(4, )"]
[2022/07/15 15:01:08.643 +08:00] [INFO] [mpp_gather.go:80] ["Dispatch mpp task"] [timestamp=434600271843688455] [ID=4] [address=tiflash0] [plan="Recv(3, )->HashAgg->Projection->Send(-1, )"]
[2022/07/15 15:01:09.644 +08:00] [WARN] [adapter.go:1067] ["# Txn_start_ts: 434600271843688455\n# Conn_ID: 5\n# Query_time: 1.00154725\n# Parse_time: 0.000094125\n# Compile_time: 0.000241125\n# Rewrite_time: 0.000058833\n# Optimize_time: 0.00015\n# Wait_TS: 0.000001708\n# Cop_time: 2.001274834 Request_count: 2\n# DB: test\n# Is_internal: false\n# Digest: c156a0a5cc3225458d10827445065fb0a89cea24529301b4890d65976a62e32f\n# Stats: t:pseudo\n# Num_cop_tasks: 2\n# Cop_proc_avg: 0 Cop_proc_p90: 0 Cop_proc_max: 0 Cop_proc_addr: tiflash0\n# Cop_wait_avg: 0 Cop_wait_p90: 0 Cop_wait_max: 0 Cop_wait_addr: tiflash0\n# Mem_max: 16024\n# Prepared: false\n# Plan_from_cache: false\n# Plan_from_binding: false\n# Has_more_results: false\n# KV_total: 0\n# PD_total: 0\n# Backoff_total: 0\n# Write_sql_response_total: 0\n# Result_rows: 1\n# Succ: true\n# IsExplicitTxn: false\n# Plan: tidb_decode_plan('6QzwkDAJNl8xNgkwCTEJZnVuY3M6Y291bnQoMSktPkNvbHVtbiM5CTEJdGltZToxcywgbG9vcHM6MiwgcGFydGlhbF93b3JrZXI6e3dhbGxfdGltZToxLjAwMDg0NzQxNnMsIGNvbmN1cnJlbmN5OjUsIHRhc2tfbnVtOjEsIHRvdF93YWl0OjUuMDA0MTUzMzMzcywFFzRleGVjOjYuOTE2wrVzLAUTBVxINS4wMDQxNjIxMjRzLCBtYXg6MQVuJDMzNzVzLCBwOTUuEQAUfSwgZmluaqUAGDc1NzA5cyyqpQAMODg5MQHXCHRvdAmlCDguNUqjAAgyMDAJkhmjEDQzMjA4MqQACRJofQk2LjE4IEtCCU4vQQoxCTE3XzIwCTAJNjQwBQFsCUNBUlRFU0lBTiBpbm5lciBqb2luLCBvdGhlcgG5HGQ6Z3QoQ29sIasINCwgDQoQOCkJNgklMzK2AVhidWlsZF9oYXNoX3RhYmxlOnt0b3RhbAUlEGZldGNoBQoFJlw6MjQuM8K1c30sIHByb2JlOntjb25jdXI5ywU6IXcF5QHbBSgMNDcuNyUTCVEcNXN9CTkuNDYB4rgwIEJ5dGVzCjIJMzFfMzgJMAk4MDAwCWRhdGE6RXhjaGFuZ2VTZW5kZXJfMzcJNErBAEBjb3BfdGFzazoge251bTogMUkGBCAwCX8gY19rZXlzOiAwIdRwcHJfY2FjaGVfaGl0X3JhdGlvOiAwLjAwfQlOL0EBBCwKMwk0OV8zNwkxXzEJihGFTFR5cGU6IFBhc3NUaHJvdWdoCTAJATIBBBgKNAkzXzM2GTUtcwA0LiQAFDUJNl8yNRkkSGdyb3VwIGJ5OnRlc3QudC5iLCAubwMNFgBheXYyTgAUNgk0OF8zCU8AMUEWAAkubAAANwXGADQFbQkeNscAEEhhc2hQYa8QdGlvbiwFDzQgQ29sczogW25hbWU6IA1+AGIhNTRsbGF0ZTogYmluYXJ5XS5nABg4CTQzXzMzHWdJQ4B0LCBrZWVwIG9yZGVyOmZhbHNlLCBzdGF0czpwc2V1ZG8uRQAl+gQ2NW76AQQ2NP76AZ76AQA2KTRFhDYzAWr6AQA2KQIFNS36QclBGgEEJfoENTIlJgUkwvoBMk4AJfoANglPKdwuTgEl+gQ2MQVtCR42xwD++gEu+gEENjAdZ8r6AQ==')\n# Plan_digest: 22c80ff9dd60b3977a2065179295b9381e4bbac222343454ef5a5dd727698c61\nuse test;\nselect count(*) from (select count(a) x from t group by b) t1 join (select count(a) x from t group by b) t2 on t1.x > t2.x;"]
[2022/07/15 15:01:09.644 +08:00] [INFO] [ddl_worker.go:158] ["[ddl] DDL worker closed"] [worker="worker 19, tp general"] ["take time"=125ns]
[2022/07/15 15:01:09.644 +08:00] [INFO] [ddl_worker.go:158] ["[ddl] DDL worker closed"] [worker="worker 20, tp add index"] ["take time"=41ns]
[2022/07/15 15:01:09.644 +08:00] [INFO] [delete_range.go:148] ["[ddl] closing delRange"]
[2022/07/15 15:01:09.644 +08:00] [INFO] [session_pool.go:94] ["[ddl] closing sessionPool"]
[2022/07/15 15:01:09.644 +08:00] [INFO] [ddl.go:576] ["[ddl] DDL closed"] [ID=1aeb86eb-4282-460f-8f61-de446ad5e275] ["take time"=41.667µs]
[2022/07/15 15:01:09.644 +08:00] [INFO] [ddl.go:464] ["[ddl] stop DDL"] [ID=1aeb86eb-4282-460f-8f61-de446ad5e275]
[2022/07/15 15:01:09.644 +08:00] [INFO] [domain.go:498] ["topNSlowQueryLoop exited."]
[2022/07/15 15:01:09.644 +08:00] [INFO] [domain.go:1082] ["LoadSysVarCacheLoop exited."]
[2022/07/15 15:01:09.644 +08:00] [INFO] [handle_hist.go:156] ["SubLoadWorker exited."]
[2022/07/15 15:01:09.644 +08:00] [INFO] [domain.go:1032] ["loadPrivilegeInLoop exited."]
[2022/07/15 15:01:09.644 +08:00] [INFO] [handle_hist.go:156] ["SubLoadWorker exited."]
[2022/07/15 15:01:09.644 +08:00] [INFO] [handle_hist.go:156] ["SubLoadWorker exited."]
[2022/07/15 15:01:09.644 +08:00] [INFO] [handle_hist.go:156] ["SubLoadWorker exited."]
[2022/07/15 15:01:09.644 +08:00] [INFO] [domain.go:1288] ["dumpFileGcChecker exited."]
[2022/07/15 15:01:09.644 +08:00] [INFO] [handle_hist.go:156] ["SubLoadWorker exited."]
[2022/07/15 15:01:09.644 +08:00] [INFO] [domain.go:1203] ["handleEvolvePlanTasksLoop exited."]
[2022/07/15 15:01:09.644 +08:00] [INFO] [domain.go:1160] ["globalBindHandleWorkerLoop exited."]
[2022/07/15 15:01:09.644 +08:00] [INFO] [domain.go:575] ["topologySyncerKeeper exited."]
[2022/07/15 15:01:09.644 +08:00] [INFO] [domain.go:527] ["infoSyncerKeeper exited."]
[2022/07/15 15:01:09.644 +08:00] [INFO] [domain.go:552] ["globalConfigSyncerKeeper exited."]
[2022/07/15 15:01:09.644 +08:00] [INFO] [domain.go:733] ["domain closed"] ["take time"=155.375µs]
[2022/07/15 15:01:09.663 +08:00] [INFO] [db.go:567] ["Closing database"]
[2022/07/15 15:01:09.663 +08:00] [INFO] [db.go:592] ["Memtable flushed"]
[2022/07/15 15:01:09.663 +08:00] [INFO] [db.go:596] ["Compaction finished"]
[2022/07/15 15:01:09.663 +08:00] [INFO] [db.go:615] ["BlobManager finished"]
[2022/07/15 15:01:09.663 +08:00] [INFO] [db.go:619] ["ResourceManager finished"]
[2022/07/15 15:01:09.663 +08:00] [INFO] [db.go:625] ["Waiting for closer"]
[2022/07/15 15:01:09.741 +08:00] [INFO] [tidb.go:74] ["new domain"] [store=12df2716-3094-4026-aafc-203c652e7972] ["ddl lease"=0s] ["stats lease"=-1ns] ["index usage sync lease"=0s]
[2022/07/15 15:01:09.742 +08:00] [INFO] [domain.go:178] ["full load InfoSchema success"] [currentSchemaVersion=0] [neededSchemaVersion=0] ["start time"=499µs]
[2022/07/15 15:01:09.742 +08:00] [INFO] [domain.go:449] ["full load and reset schema validator"]
[2022/07/15 15:01:09.742 +08:00] [INFO] [ddl.go:483] ["[ddl] start DDL"] [ID=8414b80e-1b61-4abe-9de5-96f0cdbeea69] [runWorker=true]
[2022/07/15 15:01:09.742 +08:00] [INFO] [ddl.go:472] ["[ddl] start delRangeManager OK"] ["is a emulator"=true]
[2022/07/15 15:01:09.742 +08:00] [INFO] [ddl_worker.go:164] ["[ddl] start DDL worker"] [worker="worker 22, tp add index"]
[2022/07/15 15:01:09.742 +08:00] [INFO] [delete_range.go:158] ["[ddl] start delRange emulator"]
[2022/07/15 15:01:09.742 +08:00] [INFO] [ddl_worker.go:164] ["[ddl] start DDL worker"] [worker="worker 21, tp general"]
[2022/07/15 15:01:09.742 +08:00] [INFO] [tidb.go:268] ["rollbackTxn called due to ddl/autocommit failure"]
[2022/07/15 15:01:09.742 +08:00] [WARN] [session.go:1983] ["run statement failed"] [schemaVersion=0] [error="[schema:1049]Unknown database 'mysql'"] [errorVerbose="[schema:1049]Unknown database 'mysql'\ngithub.com/pingcap/errors.AddStack\n\t/Users/hongyunyan/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20211224045212-9687c2b0f87c/errors.go:174\ngithub.com/pingcap/errors.(*Error).GenWithStackByArgs\n\t/Users/hongyunyan/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20211224045212-9687c2b0f87c/normalize.go:164\ngithub.com/pingcap/tidb/executor.(*SimpleExec).executeUse\n\t/Users/hongyunyan/Desktop/tidb/executor/simple.go:571\ngithub.com/pingcap/tidb/executor.(*SimpleExec).Next\n\t/Users/hongyunyan/Desktop/tidb/executor/simple.go:131\ngithub.com/pingcap/tidb/executor.Next\n\t/Users/hongyunyan/Desktop/tidb/executor/executor.go:319\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelayExecutor\n\t/Users/hongyunyan/Desktop/tidb/executor/adapter.go:673\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelay\n\t/Users/hongyunyan/Desktop/tidb/executor/adapter.go:523\ngithub.com/pingcap/tidb/executor.(*ExecStmt).Exec\n\t/Users/hongyunyan/Desktop/tidb/executor/adapter.go:472\ngithub.com/pingcap/tidb/session.runStmt\n\t/Users/hongyunyan/Desktop/tidb/session/session.go:2114\ngithub.com/pingcap/tidb/session.(*session).ExecuteStmt\n\t/Users/hongyunyan/Desktop/tidb/session/session.go:1980\ngithub.com/pingcap/tidb/session.(*session).ExecuteInternal\n\t/Users/hongyunyan/Desktop/tidb/session/session.go:1495\ngithub.com/pingcap/tidb/session.checkBootstrapped\n\t/Users/hongyunyan/Desktop/tidb/session/bootstrap.go:728\ngithub.com/pingcap/tidb/session.bootstrap\n\t/Users/hongyunyan/Desktop/tidb/session/bootstrap.go:431\ngithub.com/pingcap/tidb/session.runInBootstrapSession\n\t/Users/hongyunyan/Desktop/tidb/session/session.go:2834\ngithub.com/pingcap/tidb/session.BootstrapSession\n\t/Users/hongyunyan/Desktop/tidb/session/session.go:2720\ngithub.com/pingcap/tidb/testkit.bootstrap\n\t/Users/hongyunyan/Desktop/tidb/testkit/mockstore.go:71\ngithub.com/pingcap/tidb/testkit.CreateMockStoreAndDomain\n\t/Users/hongyunyan/Desktop/tidb/testkit/mockstore.go:64\ngithub.com/pingcap/tidb/testkit.CreateMockStore\n\t/Users/hongyunyan/Desktop/tidb/testkit/mockstore.go:56\ngithub.com/pingcap/tidb/executor/tiflashtest.TestMppExecution\n\t/Users/hongyunyan/Desktop/tidb/executor/tiflashtest/tiflash_test.go:215\ntesting.tRunner\n\t/opt/homebrew/Cellar/go/1.18.3/libexec/src/testing/testing.go:1439\nruntime.goexit\n\t/opt/homebrew/Cellar/go/1.18.3/libexec/src/runtime/asm_arm64.s:1263"] [session="{\n  \"currDBName\": \"\",\n  \"id\": 0,\n  \"status\": 2,\n  \"strictMode\": true,\n  \"user\": null\n}"]
[2022/07/15 15:01:09.742 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=0] [cur_db=] [sql="CREATE DATABASE IF NOT EXISTS test"] [user=]
[2022/07/15 15:01:09.742 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:2, Type:create schema, State:queueing, SchemaState:none, SchemaID:1, TableID:0, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:09.742 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:09.742 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:2, Type:create schema, State:queueing, SchemaState:none, SchemaID:1, TableID:0, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:09.742 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE DATABASE IF NOT EXISTS test"]
[2022/07/15 15:01:09.742 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 21, tp general"] [job="ID:2, Type:create schema, State:queueing, SchemaState:none, SchemaID:1, TableID:0, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:09.742 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:09.742 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 21, tp general"] [job="ID:2, Type:create schema, State:synced, SchemaState:public, SchemaID:1, TableID:0, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:09.742 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:09.743 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=2]
[2022/07/15 15:01:09.743 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:09.743 +08:00] [INFO] [domain.go:178] ["full load InfoSchema success"] [currentSchemaVersion=0] [neededSchemaVersion=1] ["start time"=399.042µs]
[2022/07/15 15:01:09.743 +08:00] [INFO] [domain.go:449] ["full load and reset schema validator"]
[2022/07/15 15:01:09.743 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=1] [cur_db=] [sql="CREATE DATABASE IF NOT EXISTS `mysql`"] [user=]
[2022/07/15 15:01:09.743 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:4, Type:create schema, State:queueing, SchemaState:none, SchemaID:3, TableID:0, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:09.743 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:09.743 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:4, Type:create schema, State:queueing, SchemaState:none, SchemaID:3, TableID:0, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:09.743 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE DATABASE IF NOT EXISTS `mysql`"]
[2022/07/15 15:01:09.743 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 21, tp general"] [job="ID:4, Type:create schema, State:queueing, SchemaState:none, SchemaID:3, TableID:0, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:09.743 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:09.743 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 21, tp general"] [job="ID:4, Type:create schema, State:synced, SchemaState:public, SchemaID:3, TableID:0, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:09.743 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:09.743 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=4]
[2022/07/15 15:01:09.744 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:09.744 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=1] [neededSchemaVersion=2] ["start time"=15.959µs] [phyTblIDs="[]"] [actionTypes="[]"]
[2022/07/15 15:01:09.744 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=2] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.user (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tauthentication_string\tTEXT,\n\t\tplugin\t\t\t\t\tCHAR(64),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tProcess_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_db_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tSuper_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_user_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_slave_priv\t    \tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_client_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_role_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_role_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAccount_locked\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShutdown_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReload_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tFILE_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tConfig_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_Tablespace_Priv  ENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (Host, User));"] [user=]
[2022/07/15 15:01:09.744 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:6, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:5, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:09.744 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:09.744 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:6, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:5, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:09.744 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.user (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tauthentication_string\tTEXT,\n\t\tplugin\t\t\t\t\tCHAR(64),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tProcess_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_db_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tSuper_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_user_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_slave_priv\t    \tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_client_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_role_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_role_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAccount_locked\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShutdown_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReload_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tFILE_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tConfig_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_Tablespace_Priv  ENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (Host, User));"]
[2022/07/15 15:01:09.745 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 21, tp general"] [job="ID:6, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:5, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:09.744 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:09.746 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 21, tp general"] [job="ID:6, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:5, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:09.744 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:09.747 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=6]
[2022/07/15 15:01:09.747 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:09.747 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=2] [neededSchemaVersion=3] ["start time"=269.75µs] [phyTblIDs="[5]"] [actionTypes="[8]"]
[2022/07/15 15:01:09.747 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=3] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.global_priv (Host CHAR(255) NOT NULL DEFAULT '',User CHAR(80) NOT NULL DEFAULT '',Priv LONGTEXT NOT NULL DEFAULT '',PRIMARY KEY (Host, User))"] [user=]
[2022/07/15 15:01:09.747 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:8, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:7, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:09.747 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:09.747 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:8, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:7, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:09.747 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.global_priv (Host CHAR(255) NOT NULL DEFAULT '',User CHAR(80) NOT NULL DEFAULT '',Priv LONGTEXT NOT NULL DEFAULT '',PRIMARY KEY (Host, User))"]
[2022/07/15 15:01:09.747 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 21, tp general"] [job="ID:8, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:7, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:09.747 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:09.748 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 21, tp general"] [job="ID:8, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:7, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:09.747 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:09.748 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=8]
[2022/07/15 15:01:09.748 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:09.748 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=3] [neededSchemaVersion=4] ["start time"=49.958µs] [phyTblIDs="[7]"] [actionTypes="[8]"]
[2022/07/15 15:01:09.748 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=4] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.db (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tDB\t\t\t\t\t\tCHAR(64),\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv \t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (Host, DB, User));"] [user=]
[2022/07/15 15:01:09.748 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:10, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:9, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:09.748 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:09.748 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:10, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:9, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:09.748 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.db (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tDB\t\t\t\t\t\tCHAR(64),\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv \t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (Host, DB, User));"]
[2022/07/15 15:01:09.748 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 21, tp general"] [job="ID:10, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:9, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:09.748 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:09.749 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 21, tp general"] [job="ID:10, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:9, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:09.748 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:09.750 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=10]
[2022/07/15 15:01:09.750 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:09.750 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=4] [neededSchemaVersion=5] ["start time"=162.666µs] [phyTblIDs="[9]"] [actionTypes="[8]"]
[2022/07/15 15:01:09.750 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=5] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.tables_priv (\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64),\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64),\n\t\tGrantor\t\tCHAR(77),\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tTable_priv\tSET('Select','Insert','Update','Delete','Create','Drop','Grant','Index','Alter','Create View','Show View','Trigger','References'),\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name));"] [user=]
[2022/07/15 15:01:09.750 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:12, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:11, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:09.75 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:09.750 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:12, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:11, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:09.75 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.tables_priv (\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64),\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64),\n\t\tGrantor\t\tCHAR(77),\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tTable_priv\tSET('Select','Insert','Update','Delete','Create','Drop','Grant','Index','Alter','Create View','Show View','Trigger','References'),\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name));"]
[2022/07/15 15:01:09.750 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 21, tp general"] [job="ID:12, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:11, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:09.75 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:09.751 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 21, tp general"] [job="ID:12, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:11, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:09.75 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:09.751 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=12]
[2022/07/15 15:01:09.751 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:09.751 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=5] [neededSchemaVersion=6] ["start time"=83.541µs] [phyTblIDs="[11]"] [actionTypes="[8]"]
[2022/07/15 15:01:09.751 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=6] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.columns_priv(\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64),\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64),\n\t\tColumn_name\tCHAR(64),\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name, Column_name));"] [user=]
[2022/07/15 15:01:09.751 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:14, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:13, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:09.751 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:09.751 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:14, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:13, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:09.751 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.columns_priv(\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64),\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64),\n\t\tColumn_name\tCHAR(64),\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name, Column_name));"]
[2022/07/15 15:01:09.751 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 21, tp general"] [job="ID:14, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:13, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:09.751 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:09.752 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 21, tp general"] [job="ID:14, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:13, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:09.751 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:09.752 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=14]
[2022/07/15 15:01:09.752 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:09.752 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=6] [neededSchemaVersion=7] ["start time"=78.042µs] [phyTblIDs="[13]"] [actionTypes="[8]"]
[2022/07/15 15:01:09.752 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=7] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.GLOBAL_VARIABLES(\n\t\tVARIABLE_NAME  VARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(1024) DEFAULT NULL);"] [user=]
[2022/07/15 15:01:09.752 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:16, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:15, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:09.752 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:09.752 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:16, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:15, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:09.752 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.GLOBAL_VARIABLES(\n\t\tVARIABLE_NAME  VARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(1024) DEFAULT NULL);"]
[2022/07/15 15:01:09.752 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 21, tp general"] [job="ID:16, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:15, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:09.752 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:09.752 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 21, tp general"] [job="ID:16, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:15, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:09.752 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:09.753 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=16]
[2022/07/15 15:01:09.753 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:09.753 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=7] [neededSchemaVersion=8] ["start time"=45.5µs] [phyTblIDs="[15]"] [actionTypes="[8]"]
[2022/07/15 15:01:09.753 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=8] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb(\n\t\tVARIABLE_NAME  \tVARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE \tVARCHAR(1024) DEFAULT NULL,\n\t\tCOMMENT \t\tVARCHAR(1024));"] [user=]
[2022/07/15 15:01:09.753 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:18, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:17, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:09.753 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:09.753 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:18, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:17, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:09.753 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb(\n\t\tVARIABLE_NAME  \tVARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE \tVARCHAR(1024) DEFAULT NULL,\n\t\tCOMMENT \t\tVARCHAR(1024));"]
[2022/07/15 15:01:09.753 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 21, tp general"] [job="ID:18, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:17, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:09.753 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:09.753 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 21, tp general"] [job="ID:18, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:17, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:09.753 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:09.753 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=18]
[2022/07/15 15:01:09.753 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:09.753 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=8] [neededSchemaVersion=9] ["start time"=48µs] [phyTblIDs="[17]"] [actionTypes="[8]"]
[2022/07/15 15:01:09.753 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=9] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.help_topic (\n  \t\thelp_topic_id \t\tINT(10) UNSIGNED NOT NULL,\n  \t\tname \t\t\t\tCHAR(64) NOT NULL,\n  \t\thelp_category_id \tSMALLINT(5) UNSIGNED NOT NULL,\n  \t\tdescription \t\tTEXT NOT NULL,\n  \t\texample \t\t\tTEXT NOT NULL,\n  \t\turl \t\t\t\tTEXT NOT NULL,\n  \t\tPRIMARY KEY (help_topic_id) clustered,\n  \t\tUNIQUE KEY name (name)\n\t\t) ENGINE=InnoDB DEFAULT CHARSET=utf8 STATS_PERSISTENT=0 COMMENT='help topics';"] [user=]
[2022/07/15 15:01:09.754 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:20, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:19, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:09.754 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:09.754 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:20, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:19, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:09.754 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.help_topic (\n  \t\thelp_topic_id \t\tINT(10) UNSIGNED NOT NULL,\n  \t\tname \t\t\t\tCHAR(64) NOT NULL,\n  \t\thelp_category_id \tSMALLINT(5) UNSIGNED NOT NULL,\n  \t\tdescription \t\tTEXT NOT NULL,\n  \t\texample \t\t\tTEXT NOT NULL,\n  \t\turl \t\t\t\tTEXT NOT NULL,\n  \t\tPRIMARY KEY (help_topic_id) clustered,\n  \t\tUNIQUE KEY name (name)\n\t\t) ENGINE=InnoDB DEFAULT CHARSET=utf8 STATS_PERSISTENT=0 COMMENT='help topics';"]
[2022/07/15 15:01:09.754 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 21, tp general"] [job="ID:20, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:19, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:09.754 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:09.754 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 21, tp general"] [job="ID:20, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:19, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:09.754 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:09.754 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=20]
[2022/07/15 15:01:09.754 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:09.754 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=9] [neededSchemaVersion=10] ["start time"=69.084µs] [phyTblIDs="[19]"] [actionTypes="[8]"]
[2022/07/15 15:01:09.754 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=10] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_meta (\n\t\tversion \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\ttable_id \t\tBIGINT(64) NOT NULL,\n\t\tmodify_count\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcount \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tsnapshot        BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tINDEX idx_ver(version),\n\t\tUNIQUE INDEX tbl(table_id)\n\t);"] [user=]
[2022/07/15 15:01:09.755 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:22, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:21, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:09.754 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:09.755 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:22, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:21, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:09.754 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_meta (\n\t\tversion \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\ttable_id \t\tBIGINT(64) NOT NULL,\n\t\tmodify_count\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcount \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tsnapshot        BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tINDEX idx_ver(version),\n\t\tUNIQUE INDEX tbl(table_id)\n\t);"]
[2022/07/15 15:01:09.755 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 21, tp general"] [job="ID:22, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:21, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:09.754 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:09.755 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 21, tp general"] [job="ID:22, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:21, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:09.754 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:09.755 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=22]
[2022/07/15 15:01:09.755 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:09.755 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=10] [neededSchemaVersion=11] ["start time"=65.792µs] [phyTblIDs="[21]"] [actionTypes="[8]"]
[2022/07/15 15:01:09.755 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=11] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_histograms (\n\t\ttable_id \t\t\tBIGINT(64) NOT NULL,\n\t\tis_index \t\t\tTINYINT(2) NOT NULL,\n\t\thist_id \t\t\tBIGINT(64) NOT NULL,\n\t\tdistinct_count \t\tBIGINT(64) NOT NULL,\n\t\tnull_count \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\ttot_col_size \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tmodify_count \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tversion \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tcm_sketch \t\t\tBLOB(6291456),\n\t\tstats_ver \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tflag \t\t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcorrelation \t\tDOUBLE NOT NULL DEFAULT 0,\n\t\tlast_analyze_pos \tLONGBLOB DEFAULT NULL,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id)\n\t);"] [user=]
[2022/07/15 15:01:09.755 +08:00] [INFO] [ddl_api.go:999] ["Automatically convert BLOB(6291456) to MEDIUMBLOB"]
[2022/07/15 15:01:09.755 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:24, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:23, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:09.755 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:09.755 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:24, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:23, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:09.755 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_histograms (\n\t\ttable_id \t\t\tBIGINT(64) NOT NULL,\n\t\tis_index \t\t\tTINYINT(2) NOT NULL,\n\t\thist_id \t\t\tBIGINT(64) NOT NULL,\n\t\tdistinct_count \t\tBIGINT(64) NOT NULL,\n\t\tnull_count \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\ttot_col_size \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tmodify_count \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tversion \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tcm_sketch \t\t\tBLOB(6291456),\n\t\tstats_ver \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tflag \t\t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcorrelation \t\tDOUBLE NOT NULL DEFAULT 0,\n\t\tlast_analyze_pos \tLONGBLOB DEFAULT NULL,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id)\n\t);"]
[2022/07/15 15:01:09.756 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 21, tp general"] [job="ID:24, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:23, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:09.755 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:09.756 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 21, tp general"] [job="ID:24, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:23, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:09.755 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:09.757 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=24]
[2022/07/15 15:01:09.757 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:09.757 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=11] [neededSchemaVersion=12] ["start time"=104.667µs] [phyTblIDs="[23]"] [actionTypes="[8]"]
[2022/07/15 15:01:09.757 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=12] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_buckets (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tbucket_id \tBIGINT(64) NOT NULL,\n\t\tcount \t\tBIGINT(64) NOT NULL,\n\t\trepeats \tBIGINT(64) NOT NULL,\n\t\tupper_bound LONGBLOB NOT NULL,\n\t\tlower_bound LONGBLOB ,\n\t\tndv         BIGINT NOT NULL DEFAULT 0,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id, bucket_id)\n\t);"] [user=]
[2022/07/15 15:01:09.757 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:26, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:25, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:09.757 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:09.757 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:26, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:25, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:09.757 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_buckets (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tbucket_id \tBIGINT(64) NOT NULL,\n\t\tcount \t\tBIGINT(64) NOT NULL,\n\t\trepeats \tBIGINT(64) NOT NULL,\n\t\tupper_bound LONGBLOB NOT NULL,\n\t\tlower_bound LONGBLOB ,\n\t\tndv         BIGINT NOT NULL DEFAULT 0,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id, bucket_id)\n\t);"]
[2022/07/15 15:01:09.757 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 21, tp general"] [job="ID:26, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:25, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:09.757 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:09.757 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 21, tp general"] [job="ID:26, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:25, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:09.757 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:09.758 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=26]
[2022/07/15 15:01:09.758 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:09.758 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=12] [neededSchemaVersion=13] ["start time"=83.375µs] [phyTblIDs="[25]"] [actionTypes="[8]"]
[2022/07/15 15:01:09.758 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=13] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_index (job_id, element_id)\n\t);"] [user=]
[2022/07/15 15:01:09.758 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:28, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:27, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:09.758 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:09.758 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:28, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:27, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:09.758 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_index (job_id, element_id)\n\t);"]
[2022/07/15 15:01:09.758 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 21, tp general"] [job="ID:28, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:27, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:09.758 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:09.758 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 21, tp general"] [job="ID:28, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:27, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:09.758 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:09.759 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=28]
[2022/07/15 15:01:09.759 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:09.759 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=13] [neededSchemaVersion=14] ["start time"=60.292µs] [phyTblIDs="[27]"] [actionTypes="[8]"]
[2022/07/15 15:01:09.759 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=14] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range_done (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_done_index (job_id, element_id)\n\t);"] [user=]
[2022/07/15 15:01:09.759 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:30, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:29, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:09.759 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:09.759 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:30, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:29, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:09.759 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range_done (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_done_index (job_id, element_id)\n\t);"]
[2022/07/15 15:01:09.759 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 21, tp general"] [job="ID:30, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:29, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:09.759 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:09.759 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 21, tp general"] [job="ID:30, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:29, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:09.759 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:09.759 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=30]
[2022/07/15 15:01:09.759 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:09.759 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=14] [neededSchemaVersion=15] ["start time"=63.375µs] [phyTblIDs="[29]"] [actionTypes="[8]"]
[2022/07/15 15:01:09.760 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=15] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_feedback (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tfeedback \tBLOB NOT NULL,\n\t\tINDEX hist(table_id, is_index, hist_id)\n\t);"] [user=]
[2022/07/15 15:01:09.760 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:32, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:31, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:09.76 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:09.760 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:32, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:31, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:09.76 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_feedback (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tfeedback \tBLOB NOT NULL,\n\t\tINDEX hist(table_id, is_index, hist_id)\n\t);"]
[2022/07/15 15:01:09.760 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 21, tp general"] [job="ID:32, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:31, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:09.76 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:09.760 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 21, tp general"] [job="ID:32, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:31, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:09.76 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:09.760 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=32]
[2022/07/15 15:01:09.760 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:09.760 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=15] [neededSchemaVersion=16] ["start time"=54.958µs] [phyTblIDs="[31]"] [actionTypes="[8]"]
[2022/07/15 15:01:09.760 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=16] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.role_edges (\n\t\tFROM_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tFROM_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tWITH_ADMIN_OPTION \tENUM('N','Y') CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (FROM_HOST,FROM_USER,TO_HOST,TO_USER)\n\t);"] [user=]
[2022/07/15 15:01:09.760 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:34, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:33, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:09.76 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:09.760 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:34, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:33, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:09.76 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.role_edges (\n\t\tFROM_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tFROM_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tWITH_ADMIN_OPTION \tENUM('N','Y') CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (FROM_HOST,FROM_USER,TO_HOST,TO_USER)\n\t);"]
[2022/07/15 15:01:09.761 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 21, tp general"] [job="ID:34, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:33, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:09.76 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:09.761 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 21, tp general"] [job="ID:34, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:33, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:09.76 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:09.761 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=34]
[2022/07/15 15:01:09.761 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:09.761 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=16] [neededSchemaVersion=17] ["start time"=66.417µs] [phyTblIDs="[33]"] [actionTypes="[8]"]
[2022/07/15 15:01:09.761 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=17] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.default_roles (\n\t\tHOST \t\t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tUSER \t\t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tDEFAULT_ROLE_HOST \tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '%',\n\t\tDEFAULT_ROLE_USER \tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tPRIMARY KEY (HOST,USER,DEFAULT_ROLE_HOST,DEFAULT_ROLE_USER)\n\t)"] [user=]
[2022/07/15 15:01:09.761 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:36, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:35, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:09.761 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:09.761 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:36, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:35, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:09.761 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.default_roles (\n\t\tHOST \t\t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tUSER \t\t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tDEFAULT_ROLE_HOST \tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '%',\n\t\tDEFAULT_ROLE_USER \tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tPRIMARY KEY (HOST,USER,DEFAULT_ROLE_HOST,DEFAULT_ROLE_USER)\n\t)"]
[2022/07/15 15:01:09.761 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 21, tp general"] [job="ID:36, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:35, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:09.761 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:09.762 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 21, tp general"] [job="ID:36, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:35, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:09.761 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:09.762 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=36]
[2022/07/15 15:01:09.762 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:09.762 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=17] [neededSchemaVersion=18] ["start time"=61µs] [phyTblIDs="[35]"] [actionTypes="[8]"]
[2022/07/15 15:01:09.762 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=18] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.bind_info (\n\t\toriginal_sql TEXT NOT NULL,\n\t\tbind_sql TEXT NOT NULL,\n\t\tdefault_db TEXT NOT NULL,\n\t\tstatus TEXT NOT NULL,\n\t\tcreate_time TIMESTAMP(3) NOT NULL,\n\t\tupdate_time TIMESTAMP(3) NOT NULL,\n\t\tcharset TEXT NOT NULL,\n\t\tcollation TEXT NOT NULL,\n\t\tsource VARCHAR(10) NOT NULL DEFAULT 'unknown',\n\t\tINDEX sql_index(original_sql(700),default_db(68)) COMMENT \"accelerate the speed when add global binding query\",\n\t\tINDEX time_index(update_time) COMMENT \"accelerate the speed when querying with last update time\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"] [user=]
[2022/07/15 15:01:09.762 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:38, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:37, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:09.762 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:09.762 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:38, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:37, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:09.762 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.bind_info (\n\t\toriginal_sql TEXT NOT NULL,\n\t\tbind_sql TEXT NOT NULL,\n\t\tdefault_db TEXT NOT NULL,\n\t\tstatus TEXT NOT NULL,\n\t\tcreate_time TIMESTAMP(3) NOT NULL,\n\t\tupdate_time TIMESTAMP(3) NOT NULL,\n\t\tcharset TEXT NOT NULL,\n\t\tcollation TEXT NOT NULL,\n\t\tsource VARCHAR(10) NOT NULL DEFAULT 'unknown',\n\t\tINDEX sql_index(original_sql(700),default_db(68)) COMMENT \"accelerate the speed when add global binding query\",\n\t\tINDEX time_index(update_time) COMMENT \"accelerate the speed when querying with last update time\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"]
[2022/07/15 15:01:09.762 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 21, tp general"] [job="ID:38, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:37, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:09.762 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:09.763 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 21, tp general"] [job="ID:38, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:37, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:09.762 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:09.763 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=38]
[2022/07/15 15:01:09.763 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:09.763 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=18] [neededSchemaVersion=19] ["start time"=89.208µs] [phyTblIDs="[37]"] [actionTypes="[8]"]
[2022/07/15 15:01:09.763 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=19] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_top_n (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tcount \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"] [user=]
[2022/07/15 15:01:09.764 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:40, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:39, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:09.764 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:09.764 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:40, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:39, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:09.764 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_top_n (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tcount \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"]
[2022/07/15 15:01:09.764 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 21, tp general"] [job="ID:40, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:39, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:09.764 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:09.764 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 21, tp general"] [job="ID:40, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:39, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:09.764 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:09.764 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=40]
[2022/07/15 15:01:09.764 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:09.765 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=19] [neededSchemaVersion=20] ["start time"=64.792µs] [phyTblIDs="[39]"] [actionTypes="[8]"]
[2022/07/15 15:01:09.765 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=20] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.expr_pushdown_blacklist (\n\t\tname \t\tCHAR(100) NOT NULL,\n\t\tstore_type \tCHAR(100) NOT NULL DEFAULT 'tikv,tiflash,tidb',\n\t\treason \t\tVARCHAR(200)\n\t);"] [user=]
[2022/07/15 15:01:09.765 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:42, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:41, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:09.765 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:09.765 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:42, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:41, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:09.765 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.expr_pushdown_blacklist (\n\t\tname \t\tCHAR(100) NOT NULL,\n\t\tstore_type \tCHAR(100) NOT NULL DEFAULT 'tikv,tiflash,tidb',\n\t\treason \t\tVARCHAR(200)\n\t);"]
[2022/07/15 15:01:09.765 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 21, tp general"] [job="ID:42, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:41, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:09.765 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:09.765 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 21, tp general"] [job="ID:42, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:41, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:09.765 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:09.765 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=42]
[2022/07/15 15:01:09.765 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:09.765 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=20] [neededSchemaVersion=21] ["start time"=49.083µs] [phyTblIDs="[41]"] [actionTypes="[8]"]
[2022/07/15 15:01:09.765 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=21] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.opt_rule_blacklist (\n\t\tname \tCHAR(100) NOT NULL\n\t);"] [user=]
[2022/07/15 15:01:09.765 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:44, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:43, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:09.765 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:09.765 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:44, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:43, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:09.765 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.opt_rule_blacklist (\n\t\tname \tCHAR(100) NOT NULL\n\t);"]
[2022/07/15 15:01:09.765 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 21, tp general"] [job="ID:44, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:43, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:09.765 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:09.766 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 21, tp general"] [job="ID:44, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:43, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:09.765 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:09.766 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=44]
[2022/07/15 15:01:09.766 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:09.766 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=21] [neededSchemaVersion=22] ["start time"=41.25µs] [phyTblIDs="[43]"] [actionTypes="[8]"]
[2022/07/15 15:01:09.766 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=22] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_extended (\n\t\tname varchar(32) NOT NULL,\n\t\ttype tinyint(4) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tcolumn_ids varchar(32) NOT NULL,\n\t\tstats blob DEFAULT NULL,\n\t\tversion bigint(64) unsigned NOT NULL,\n\t\tstatus tinyint(4) NOT NULL,\n\t\tPRIMARY KEY(name, table_id),\n\t\tKEY idx_1 (table_id, status, version),\n\t\tKEY idx_2 (status, version)\n\t);"] [user=]
[2022/07/15 15:01:09.766 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:46, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:45, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:09.766 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:09.766 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:46, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:45, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:09.766 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_extended (\n\t\tname varchar(32) NOT NULL,\n\t\ttype tinyint(4) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tcolumn_ids varchar(32) NOT NULL,\n\t\tstats blob DEFAULT NULL,\n\t\tversion bigint(64) unsigned NOT NULL,\n\t\tstatus tinyint(4) NOT NULL,\n\t\tPRIMARY KEY(name, table_id),\n\t\tKEY idx_1 (table_id, status, version),\n\t\tKEY idx_2 (status, version)\n\t);"]
[2022/07/15 15:01:09.766 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 21, tp general"] [job="ID:46, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:45, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:09.766 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:09.767 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 21, tp general"] [job="ID:46, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:45, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:09.766 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:09.767 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=46]
[2022/07/15 15:01:09.767 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:09.767 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=22] [neededSchemaVersion=23] ["start time"=84.459µs] [phyTblIDs="[45]"] [actionTypes="[8]"]
[2022/07/15 15:01:09.767 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=23] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.schema_index_usage (\n\t\tTABLE_ID bigint(64),\n\t\tINDEX_ID bigint(21),\n\t\tQUERY_COUNT bigint(64),\n\t\tROWS_SELECTED bigint(64),\n\t\tLAST_USED_AT timestamp,\n\t\tPRIMARY KEY(TABLE_ID, INDEX_ID)\n\t);"] [user=]
[2022/07/15 15:01:09.767 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:48, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:47, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:09.767 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:09.767 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:48, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:47, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:09.767 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.schema_index_usage (\n\t\tTABLE_ID bigint(64),\n\t\tINDEX_ID bigint(21),\n\t\tQUERY_COUNT bigint(64),\n\t\tROWS_SELECTED bigint(64),\n\t\tLAST_USED_AT timestamp,\n\t\tPRIMARY KEY(TABLE_ID, INDEX_ID)\n\t);"]
[2022/07/15 15:01:09.767 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 21, tp general"] [job="ID:48, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:47, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:09.767 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:09.768 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 21, tp general"] [job="ID:48, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:47, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:09.767 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:09.768 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=48]
[2022/07/15 15:01:09.768 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:09.768 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=23] [neededSchemaVersion=24] ["start time"=64.209µs] [phyTblIDs="[47]"] [actionTypes="[8]"]
[2022/07/15 15:01:09.768 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=24] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_fm_sketch (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"] [user=]
[2022/07/15 15:01:09.768 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:50, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:49, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:09.768 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:09.768 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:50, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:49, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:09.768 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_fm_sketch (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"]
[2022/07/15 15:01:09.768 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 21, tp general"] [job="ID:50, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:49, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:09.768 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:09.768 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 21, tp general"] [job="ID:50, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:49, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:09.768 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:09.768 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=50]
[2022/07/15 15:01:09.768 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:09.769 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=24] [neededSchemaVersion=25] ["start time"=57.042µs] [phyTblIDs="[49]"] [actionTypes="[8]"]
[2022/07/15 15:01:09.769 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=25] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.global_grants (\n\t\tUSER char(32) NOT NULL DEFAULT '',\n\t\tHOST char(255) NOT NULL DEFAULT '',\n\t\tPRIV char(32) NOT NULL DEFAULT '',\n\t\tWITH_GRANT_OPTION enum('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (USER,HOST,PRIV)\n\t);"] [user=]
[2022/07/15 15:01:09.769 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:52, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:51, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:09.769 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:09.769 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:52, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:51, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:09.769 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.global_grants (\n\t\tUSER char(32) NOT NULL DEFAULT '',\n\t\tHOST char(255) NOT NULL DEFAULT '',\n\t\tPRIV char(32) NOT NULL DEFAULT '',\n\t\tWITH_GRANT_OPTION enum('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (USER,HOST,PRIV)\n\t);"]
[2022/07/15 15:01:09.769 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 21, tp general"] [job="ID:52, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:51, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:09.769 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:09.769 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 21, tp general"] [job="ID:52, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:51, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:09.769 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:09.769 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=52]
[2022/07/15 15:01:09.769 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:09.769 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=25] [neededSchemaVersion=26] ["start time"=60.5µs] [phyTblIDs="[51]"] [actionTypes="[8]"]
[2022/07/15 15:01:09.769 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=26] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.capture_plan_baselines_blacklist (\n\t\tid bigint(64) auto_increment,\n\t\tfilter_type varchar(32) NOT NULL COMMENT \"type of the filter, only db, table and frequency supported now\",\n\t\tfilter_value varchar(32) NOT NULL,\n\t\tkey idx(filter_type),\n\t\tprimary key(id)\n\t);"] [user=]
[2022/07/15 15:01:09.770 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:54, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:53, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:09.769 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:09.770 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:54, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:53, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:09.769 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.capture_plan_baselines_blacklist (\n\t\tid bigint(64) auto_increment,\n\t\tfilter_type varchar(32) NOT NULL COMMENT \"type of the filter, only db, table and frequency supported now\",\n\t\tfilter_value varchar(32) NOT NULL,\n\t\tkey idx(filter_type),\n\t\tprimary key(id)\n\t);"]
[2022/07/15 15:01:09.770 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 21, tp general"] [job="ID:54, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:53, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:09.769 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:09.770 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 21, tp general"] [job="ID:54, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:53, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:09.769 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:09.770 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=54]
[2022/07/15 15:01:09.770 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:09.770 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=26] [neededSchemaVersion=27] ["start time"=51.208µs] [phyTblIDs="[53]"] [actionTypes="[8]"]
[2022/07/15 15:01:09.770 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=27] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.column_stats_usage (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tcolumn_id BIGINT(64) NOT NULL,\n\t\tlast_used_at TIMESTAMP,\n\t\tlast_analyzed_at TIMESTAMP,\n\t\tPRIMARY KEY (table_id, column_id) CLUSTERED\n\t);"] [user=]
[2022/07/15 15:01:09.770 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:56, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:55, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:09.77 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:09.770 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:56, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:55, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:09.77 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.column_stats_usage (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tcolumn_id BIGINT(64) NOT NULL,\n\t\tlast_used_at TIMESTAMP,\n\t\tlast_analyzed_at TIMESTAMP,\n\t\tPRIMARY KEY (table_id, column_id) CLUSTERED\n\t);"]
[2022/07/15 15:01:09.770 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 21, tp general"] [job="ID:56, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:55, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:09.77 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:09.771 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 21, tp general"] [job="ID:56, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:55, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:09.77 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:09.771 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=56]
[2022/07/15 15:01:09.771 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:09.771 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=27] [neededSchemaVersion=28] ["start time"=55.125µs] [phyTblIDs="[55]"] [actionTypes="[8]"]
[2022/07/15 15:01:09.771 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=28] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.table_cache_meta (\n\t\ttid bigint(11) NOT NULL DEFAULT 0,\n\t\tlock_type enum('NONE','READ', 'INTEND', 'WRITE') NOT NULL DEFAULT 'NONE',\n\t\tlease bigint(20) NOT NULL DEFAULT 0,\n\t\toldReadLease bigint(20) NOT NULL DEFAULT 0,\n\t\tPRIMARY KEY (tid)\n\t);"] [user=]
[2022/07/15 15:01:09.771 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:58, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:57, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:09.771 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:09.771 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:58, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:57, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:09.771 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.table_cache_meta (\n\t\ttid bigint(11) NOT NULL DEFAULT 0,\n\t\tlock_type enum('NONE','READ', 'INTEND', 'WRITE') NOT NULL DEFAULT 'NONE',\n\t\tlease bigint(20) NOT NULL DEFAULT 0,\n\t\toldReadLease bigint(20) NOT NULL DEFAULT 0,\n\t\tPRIMARY KEY (tid)\n\t);"]
[2022/07/15 15:01:09.771 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 21, tp general"] [job="ID:58, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:57, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:09.771 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:09.771 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 21, tp general"] [job="ID:58, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:57, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:09.771 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:09.772 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=58]
[2022/07/15 15:01:09.772 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:09.772 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=28] [neededSchemaVersion=29] ["start time"=51.583µs] [phyTblIDs="[57]"] [actionTypes="[8]"]
[2022/07/15 15:01:09.772 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=29] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.analyze_options (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tsample_num BIGINT(64) NOT NULL DEFAULT 0,\n\t\tsample_rate DOUBLE NOT NULL DEFAULT -1,\n\t\tbuckets BIGINT(64) NOT NULL DEFAULT 0,\n\t\ttopn BIGINT(64) NOT NULL DEFAULT -1,\n\t\tcolumn_choice enum('DEFAULT','ALL','PREDICATE','LIST') NOT NULL DEFAULT 'DEFAULT',\n\t\tcolumn_ids TEXT(19372),\n\t\tPRIMARY KEY (table_id) CLUSTERED\n\t);"] [user=]
[2022/07/15 15:01:09.772 +08:00] [INFO] [ddl_api.go:999] ["Automatically convert BLOB(19372) to MEDIUMBLOB"]
[2022/07/15 15:01:09.772 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:60, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:59, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:09.772 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:09.772 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:60, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:59, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:09.772 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.analyze_options (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tsample_num BIGINT(64) NOT NULL DEFAULT 0,\n\t\tsample_rate DOUBLE NOT NULL DEFAULT -1,\n\t\tbuckets BIGINT(64) NOT NULL DEFAULT 0,\n\t\ttopn BIGINT(64) NOT NULL DEFAULT -1,\n\t\tcolumn_choice enum('DEFAULT','ALL','PREDICATE','LIST') NOT NULL DEFAULT 'DEFAULT',\n\t\tcolumn_ids TEXT(19372),\n\t\tPRIMARY KEY (table_id) CLUSTERED\n\t);"]
[2022/07/15 15:01:09.772 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 21, tp general"] [job="ID:60, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:59, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:09.772 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:09.772 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 21, tp general"] [job="ID:60, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:59, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:09.772 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:09.772 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=60]
[2022/07/15 15:01:09.772 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:09.773 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=29] [neededSchemaVersion=30] ["start time"=68.333µs] [phyTblIDs="[59]"] [actionTypes="[8]"]
[2022/07/15 15:01:09.773 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=30] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tstats_data longblob NOT NULL,\n\t\tseq_no bigint(64) NOT NULL comment 'sequence number of the gzipped data slice',\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version_seq (table_id, version, seq_no),\n\t\tKEY table_create_time (table_id, create_time, seq_no)\n\t);"] [user=]
[2022/07/15 15:01:09.773 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:62, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:61, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:09.773 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:09.773 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:62, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:61, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:09.773 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tstats_data longblob NOT NULL,\n\t\tseq_no bigint(64) NOT NULL comment 'sequence number of the gzipped data slice',\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version_seq (table_id, version, seq_no),\n\t\tKEY table_create_time (table_id, create_time, seq_no)\n\t);"]
[2022/07/15 15:01:09.773 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 21, tp general"] [job="ID:62, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:61, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:09.773 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:09.773 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 21, tp general"] [job="ID:62, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:61, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:09.773 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:09.774 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=62]
[2022/07/15 15:01:09.774 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:09.774 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=30] [neededSchemaVersion=31] ["start time"=82.708µs] [phyTblIDs="[61]"] [actionTypes="[8]"]
[2022/07/15 15:01:09.774 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=31] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_meta_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL,\n\t\tcount bigint(64) NOT NULL,\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version (table_id, version),\n\t\tKEY table_create_time (table_id, create_time)\n\t);"] [user=]
[2022/07/15 15:01:09.774 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:64, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:63, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:09.774 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:09.774 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:64, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:63, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:09.774 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_meta_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL,\n\t\tcount bigint(64) NOT NULL,\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version (table_id, version),\n\t\tKEY table_create_time (table_id, create_time)\n\t);"]
[2022/07/15 15:01:09.774 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 21, tp general"] [job="ID:64, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:63, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:09.774 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:09.775 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 21, tp general"] [job="ID:64, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:63, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:09.774 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:09.775 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=64]
[2022/07/15 15:01:09.775 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:09.775 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=31] [neededSchemaVersion=32] ["start time"=77.25µs] [phyTblIDs="[63]"] [actionTypes="[8]"]
[2022/07/15 15:01:09.775 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=32] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.analyze_jobs (\n\t\tid BIGINT(64) UNSIGNED NOT NULL AUTO_INCREMENT,\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\ttable_schema CHAR(64) NOT NULL DEFAULT '',\n\t\ttable_name CHAR(64) NOT NULL DEFAULT '',\n\t\tpartition_name CHAR(64) NOT NULL DEFAULT '',\n\t\tjob_info TEXT NOT NULL,\n\t\tprocessed_rows BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tstart_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tstate ENUM('pending', 'running', 'finished', 'failed') NOT NULL,\n\t\tfail_reason TEXT,\n\t\tinstance VARCHAR(512) NOT NULL comment 'address of the TiDB instance executing the analyze job',\n\t\tprocess_id BIGINT(64) UNSIGNED comment 'ID of the process executing the analyze job',\n\t\tPRIMARY KEY (id),\n\t\tKEY (update_time)\n\t);"] [user=]
[2022/07/15 15:01:09.775 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:66, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:65, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:09.775 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:09.775 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:66, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:65, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:09.775 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.analyze_jobs (\n\t\tid BIGINT(64) UNSIGNED NOT NULL AUTO_INCREMENT,\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\ttable_schema CHAR(64) NOT NULL DEFAULT '',\n\t\ttable_name CHAR(64) NOT NULL DEFAULT '',\n\t\tpartition_name CHAR(64) NOT NULL DEFAULT '',\n\t\tjob_info TEXT NOT NULL,\n\t\tprocessed_rows BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tstart_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tstate ENUM('pending', 'running', 'finished', 'failed') NOT NULL,\n\t\tfail_reason TEXT,\n\t\tinstance VARCHAR(512) NOT NULL comment 'address of the TiDB instance executing the analyze job',\n\t\tprocess_id BIGINT(64) UNSIGNED comment 'ID of the process executing the analyze job',\n\t\tPRIMARY KEY (id),\n\t\tKEY (update_time)\n\t);"]
[2022/07/15 15:01:09.776 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 21, tp general"] [job="ID:66, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:65, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:09.775 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:09.776 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 21, tp general"] [job="ID:66, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:65, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:09.775 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:09.777 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=66]
[2022/07/15 15:01:09.777 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:09.777 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=32] [neededSchemaVersion=33] ["start time"=116.625µs] [phyTblIDs="[65]"] [actionTypes="[8]"]
[2022/07/15 15:01:09.777 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=33] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.advisory_locks (\n\t\tlock_name VARCHAR(64) NOT NULL PRIMARY KEY\n\t);"] [user=]
[2022/07/15 15:01:09.777 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:68, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:67, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:09.777 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:09.777 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:68, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:67, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:09.777 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.advisory_locks (\n\t\tlock_name VARCHAR(64) NOT NULL PRIMARY KEY\n\t);"]
[2022/07/15 15:01:09.777 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 21, tp general"] [job="ID:68, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:67, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:09.777 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:09.777 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 21, tp general"] [job="ID:68, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:67, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:09.777 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:09.777 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=68]
[2022/07/15 15:01:09.777 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:09.777 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=33] [neededSchemaVersion=34] ["start time"=45.709µs] [phyTblIDs="[67]"] [actionTypes="[8]"]
[2022/07/15 15:01:09.783 +08:00] [INFO] [bootstrap.go:448] ["bootstrap successful"] ["take time"=41.3465ms]
[2022/07/15 15:01:09.783 +08:00] [INFO] [ddl_worker.go:158] ["[ddl] DDL worker closed"] [worker="worker 21, tp general"] ["take time"=83ns]
[2022/07/15 15:01:09.783 +08:00] [INFO] [ddl_worker.go:158] ["[ddl] DDL worker closed"] [worker="worker 22, tp add index"] ["take time"=42ns]
[2022/07/15 15:01:09.783 +08:00] [INFO] [delete_range.go:148] ["[ddl] closing delRange"]
[2022/07/15 15:01:09.783 +08:00] [INFO] [session_pool.go:94] ["[ddl] closing sessionPool"]
[2022/07/15 15:01:09.783 +08:00] [INFO] [ddl.go:576] ["[ddl] DDL closed"] [ID=8414b80e-1b61-4abe-9de5-96f0cdbeea69] ["take time"=72.791µs]
[2022/07/15 15:01:09.783 +08:00] [INFO] [ddl.go:464] ["[ddl] stop DDL"] [ID=8414b80e-1b61-4abe-9de5-96f0cdbeea69]
[2022/07/15 15:01:09.783 +08:00] [INFO] [domain.go:498] ["topNSlowQueryLoop exited."]
[2022/07/15 15:01:09.783 +08:00] [INFO] [domain.go:552] ["globalConfigSyncerKeeper exited."]
[2022/07/15 15:01:09.783 +08:00] [INFO] [domain.go:527] ["infoSyncerKeeper exited."]
[2022/07/15 15:01:09.784 +08:00] [INFO] [domain.go:575] ["topologySyncerKeeper exited."]
[2022/07/15 15:01:09.784 +08:00] [INFO] [domain.go:733] ["domain closed"] ["take time"=286.584µs]
[2022/07/15 15:01:09.784 +08:00] [INFO] [tidb.go:74] ["new domain"] [store=12df2716-3094-4026-aafc-203c652e7972] ["ddl lease"=0s] ["stats lease"=-1ns] ["index usage sync lease"=0s]
[2022/07/15 15:01:09.786 +08:00] [INFO] [domain.go:178] ["full load InfoSchema success"] [currentSchemaVersion=0] [neededSchemaVersion=34] ["start time"=2.343875ms]
[2022/07/15 15:01:09.786 +08:00] [INFO] [domain.go:449] ["full load and reset schema validator"]
[2022/07/15 15:01:09.786 +08:00] [INFO] [ddl.go:483] ["[ddl] start DDL"] [ID=e86c55a9-4672-4302-ac54-c44c68dff0b6] [runWorker=true]
[2022/07/15 15:01:09.786 +08:00] [INFO] [ddl.go:472] ["[ddl] start delRangeManager OK"] ["is a emulator"=true]
[2022/07/15 15:01:09.786 +08:00] [INFO] [delete_range.go:158] ["[ddl] start delRange emulator"]
[2022/07/15 15:01:09.786 +08:00] [INFO] [ddl_worker.go:164] ["[ddl] start DDL worker"] [worker="worker 24, tp add index"]
[2022/07/15 15:01:09.786 +08:00] [INFO] [ddl_worker.go:164] ["[ddl] start DDL worker"] [worker="worker 23, tp general"]
[2022/07/15 15:01:09.787 +08:00] [WARN] [sysvar_cache.go:53] ["sysvar cache is empty, triggering rebuild"]
[2022/07/15 15:01:09.792 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=6] [schemaVersion=34] [cur_db=test] [sql="drop table if exists t"] [user=]
[2022/07/15 15:01:09.792 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=6] [schemaVersion=34] [cur_db=test] [sql="create table t(a int not null primary key, b int not null)"] [user=]
[2022/07/15 15:01:09.792 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:70, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:09.792 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:09.792 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:70, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:09.792 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="create table t(a int not null primary key, b int not null)"]
[2022/07/15 15:01:09.792 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 23, tp general"] [job="ID:70, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:09.792 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:09.793 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 23, tp general"] [job="ID:70, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:69, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:09.792 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:09.793 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=70]
[2022/07/15 15:01:09.793 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:09.793 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=34] [neededSchemaVersion=35] ["start time"=41.084µs] [phyTblIDs="[69]"] [actionTypes="[8]"]
[2022/07/15 15:01:09.793 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=6] [schemaVersion=35] [cur_db=test] [sql="alter table t set tiflash replica 1"] [user=]
[2022/07/15 15:01:09.793 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:71, Type:set tiflash replica, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:09.793 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:09.793 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:71, Type:set tiflash replica, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:09.793 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="alter table t set tiflash replica 1"]
[2022/07/15 15:01:09.793 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 23, tp general"] [job="ID:71, Type:set tiflash replica, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:09.793 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:09.793 +08:00] [INFO] [table.go:1109] ["Set TiFlash replica pd rule"] [tableID=69]
[2022/07/15 15:01:09.793 +08:00] [INFO] [info.go:1051] [ConfigureTiFlashPDForTable] [tableID=69] [count=1]
[2022/07/15 15:01:09.793 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 23, tp general"] [job="ID:71, Type:set tiflash replica, State:synced, SchemaState:public, SchemaID:1, TableID:69, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:09.793 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:09.793 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=71]
[2022/07/15 15:01:09.793 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:09.794 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=35] [neededSchemaVersion=36] ["start time"=38µs] [phyTblIDs="[]"] [actionTypes="[]"]
[2022/07/15 15:01:09.794 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:72, Type:update tiflash replica status, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:2, start time: 2022-07-15 15:01:09.794 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:09.794 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:72, Type:update tiflash replica status, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:2, start time: 2022-07-15 15:01:09.794 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query=]
[2022/07/15 15:01:09.794 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 23, tp general"] [job="ID:72, Type:update tiflash replica status, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:09.794 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:09.794 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 23, tp general"] [job="ID:72, Type:update tiflash replica status, State:synced, SchemaState:public, SchemaID:1, TableID:69, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:09.794 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:09.794 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=72]
[2022/07/15 15:01:09.794 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:09.794 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=36] [neededSchemaVersion=37] ["start time"=39.792µs] [phyTblIDs="[]"] [actionTypes="[]"]
[2022/07/15 15:01:09.794 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=6] [schemaVersion=37] [cur_db=test] [sql="create table t1(a int primary key, b int not null)"] [user=]
[2022/07/15 15:01:09.794 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:74, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:73, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:09.794 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:09.794 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:74, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:73, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:09.794 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="create table t1(a int primary key, b int not null)"]
[2022/07/15 15:01:09.794 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 23, tp general"] [job="ID:74, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:73, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:09.794 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:09.795 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 23, tp general"] [job="ID:74, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:73, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:09.794 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:09.795 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=74]
[2022/07/15 15:01:09.795 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:09.795 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=37] [neededSchemaVersion=38] ["start time"=37.167µs] [phyTblIDs="[73]"] [actionTypes="[8]"]
[2022/07/15 15:01:09.795 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=6] [schemaVersion=38] [cur_db=test] [sql="alter table t1 set tiflash replica 1"] [user=]
[2022/07/15 15:01:09.795 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:75, Type:set tiflash replica, State:queueing, SchemaState:none, SchemaID:1, TableID:73, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:09.795 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:09.795 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:75, Type:set tiflash replica, State:queueing, SchemaState:none, SchemaID:1, TableID:73, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:09.795 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="alter table t1 set tiflash replica 1"]
[2022/07/15 15:01:09.795 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 23, tp general"] [job="ID:75, Type:set tiflash replica, State:queueing, SchemaState:none, SchemaID:1, TableID:73, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:09.795 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:09.795 +08:00] [INFO] [table.go:1109] ["Set TiFlash replica pd rule"] [tableID=73]
[2022/07/15 15:01:09.795 +08:00] [INFO] [info.go:1051] [ConfigureTiFlashPDForTable] [tableID=73] [count=1]
[2022/07/15 15:01:09.795 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 23, tp general"] [job="ID:75, Type:set tiflash replica, State:synced, SchemaState:public, SchemaID:1, TableID:73, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:09.795 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:09.795 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=75]
[2022/07/15 15:01:09.795 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:09.795 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=38] [neededSchemaVersion=39] ["start time"=36.583µs] [phyTblIDs="[]"] [actionTypes="[]"]
[2022/07/15 15:01:09.795 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:76, Type:update tiflash replica status, State:queueing, SchemaState:none, SchemaID:1, TableID:73, RowCount:0, ArgLen:2, start time: 2022-07-15 15:01:09.795 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:09.795 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:76, Type:update tiflash replica status, State:queueing, SchemaState:none, SchemaID:1, TableID:73, RowCount:0, ArgLen:2, start time: 2022-07-15 15:01:09.795 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query=]
[2022/07/15 15:01:09.795 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 23, tp general"] [job="ID:76, Type:update tiflash replica status, State:queueing, SchemaState:none, SchemaID:1, TableID:73, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:09.795 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:09.796 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 23, tp general"] [job="ID:76, Type:update tiflash replica status, State:synced, SchemaState:public, SchemaID:1, TableID:73, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:09.795 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:09.796 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=76]
[2022/07/15 15:01:09.796 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:09.796 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=39] [neededSchemaVersion=40] ["start time"=34.541µs] [phyTblIDs="[]"] [actionTypes="[]"]
[2022/07/15 15:01:09.796 +08:00] [INFO] [fragment.go:77] ["Mpp will generate tasks"] [plan=RightHashJoin{Recv()->Table(t)}(test.t1.a,test.t.a)->HashAgg->Send()]
[2022/07/15 15:01:09.796 +08:00] [INFO] [batch_coprocessor.go:325] ["detecting available mpp stores"]
[2022/07/15 15:01:09.796 +08:00] [WARN] [batch_coprocessor.go:359] ["Store is not ready"] ["store address"=tiflash1] ["err message"="not support this request type MPPAlive"]
[2022/07/15 15:01:09.796 +08:00] [WARN] [batch_coprocessor.go:359] ["Store is not ready"] ["store address"=tiflash0] ["err message"="not support this request type MPPAlive"]
[2022/07/15 15:01:09.796 +08:00] [WARN] [batch_coprocessor.go:400] ["Meet regions that don't have an available store. Give up balancing"]
[2022/07/15 15:01:09.796 +08:00] [INFO] [batch_coprocessor.go:325] ["detecting available mpp stores"]
[2022/07/15 15:01:09.796 +08:00] [WARN] [batch_coprocessor.go:400] ["Meet regions that don't have an available store. Give up balancing"]
[2022/07/15 15:01:09.796 +08:00] [INFO] [mpp_gather.go:80] ["Dispatch mpp task"] [timestamp=434600272146202636] [ID=1] [address=tiflash0] [plan="Table(t1)->Send(2, )"]
[2022/07/15 15:01:09.796 +08:00] [INFO] [mpp_gather.go:80] ["Dispatch mpp task"] [timestamp=434600272146202636] [ID=2] [address=tiflash0] [plan="RightHashJoin{Recv(1, )->Table(t)}(test.t1.a,test.t.a)->HashAgg->Send(-1, )"]
[2022/07/15 15:01:10.797 +08:00] [WARN] [adapter.go:1067] ["# Txn_start_ts: 434600272146202636\n# Conn_ID: 6\n# Query_time: 1.000745292\n# Parse_time: 0.000014667\n# Compile_time: 0.000173333\n# Rewrite_time: 0.000042292\n# Optimize_time: 0.00011425\n# Wait_TS: 0.000002042\n# Cop_time: 1.000283417 Request_count: 1\n# DB: test\n# Is_internal: false\n# Digest: eef68dc0a7a943f8b012666c1e1e0930019146e078ed2cdbd760bfd80d767b62\n# Stats: t1:pseudo,t:pseudo\n# Num_cop_tasks: 1\n# Cop_proc_avg: 0 Cop_proc_addr: tiflash0\n# Cop_wait_avg: 0 Cop_wait_addr: tiflash0\n# Mem_max: 10100\n# Prepared: false\n# Plan_from_cache: false\n# Plan_from_binding: false\n# Has_more_results: false\n# KV_total: 0\n# PD_total: 0\n# Backoff_total: 0\n# Write_sql_response_total: 0\n# Result_rows: 1\n# Succ: true\n# IsExplicitTxn: false\n# Plan: tidb_decode_plan('qQeIMAk2XzM0CTAJMQlmdW5jczpjb3VudChDb2x1bW4jNiktPkMJC6g1CTEJdGltZToxcywgbG9vcHM6MiwgcGFydGlhbF93b3JrZXI6e3dhbGxfCSfgLjAwMDMzMTVzLCBjb25jdXJyZW5jeTo1LCB0YXNrX251bToxLCB0b3Rfd2FpdDo1LjAwMTUzMTEyATJEdG90X2V4ZWM6OS42NjfCtXMsBRMFWgkqLDQ1NDk5cywgbWF4OglsDDIzMzcBPAhwOTUyEgAUfSwgZmlubqUADDk2NjeupwAINjMwCTIVpxQxNi4wMDFKqAAUNjQ4MDg0MqgABDMyCRIZqAkSVH0JOS44NiBLQglOL0EKMQkzMV8zNgkhmlRkYXRhOkV4Y2hhbmdlU2VuZGVyXzM1UpEBDGNvcF8hYAg6IHshYgQgMSkiQCAwcywgcHJvY19rZXlzOiAwIZVwcHJfY2FjaGVfaGl0X3JhdGlvOiAwLjAwfQlOL0EBBBAKMgk0OQVqEF8xCTEJEYJMVHlwZTogUGFzc1Rocm91Z2gJMAkBLwEEHAozCTZfMTIJCTIuUwIAMVlMAdYBLQEEHAo0CTE3XzMzCTKYMjUwMAlpbm5lciBqb2luLCBlcXVhbDpbZXEodGVzdC50MS5hLCB0BQsMLmEpXS56ABg1CTQ4XzIxCUkQMDAwMAkuHgAANgHLBDIwHR42zwAgQnJvYWRjYXN0LjUAGDcJNDNfMTkdNah0YWJsZTp0MSwga2VlcCBvcmRlcjpmYWxzZSwgc3RhdHM6cHNldWRvCTAJAd4BBAGZCDNfMi0UBZkNRq5FAA==')\n# Plan_digest: f73b5f0f773253e7dafe631b2b106c6dbe52caadc1eed038f713bc348b7ca54d\nuse test;\nselect count(*) from t1 , t where t1.a = t.a;"]
[2022/07/15 15:01:10.797 +08:00] [INFO] [fragment.go:77] ["Mpp will generate tasks"] [plan=RightHashJoin{Recv()->Table(t)}(test.t1.a,test.t.a)->HashAgg->Send()]
[2022/07/15 15:01:10.797 +08:00] [INFO] [batch_coprocessor.go:325] ["detecting available mpp stores"]
[2022/07/15 15:01:10.797 +08:00] [WARN] [batch_coprocessor.go:359] ["Store is not ready"] ["store address"=tiflash1] ["err message"="not support this request type MPPAlive"]
[2022/07/15 15:01:10.797 +08:00] [WARN] [batch_coprocessor.go:359] ["Store is not ready"] ["store address"=tiflash0] ["err message"="not support this request type MPPAlive"]
[2022/07/15 15:01:10.797 +08:00] [WARN] [batch_coprocessor.go:400] ["Meet regions that don't have an available store. Give up balancing"]
[2022/07/15 15:01:10.797 +08:00] [INFO] [batch_coprocessor.go:325] ["detecting available mpp stores"]
[2022/07/15 15:01:10.797 +08:00] [WARN] [batch_coprocessor.go:400] ["Meet regions that don't have an available store. Give up balancing"]
[2022/07/15 15:01:10.797 +08:00] [INFO] [mpp_gather.go:80] ["Dispatch mpp task"] [timestamp=434600272408608768] [ID=1] [address=tiflash0] [plan="Table(t1)->Send(2, )"]
[2022/07/15 15:01:10.798 +08:00] [INFO] [mpp_gather.go:80] ["Dispatch mpp task"] [timestamp=434600272408608768] [ID=2] [address=tiflash0] [plan="RightHashJoin{Recv(1, )->Table(t)}(test.t1.a,test.t.a)->HashAgg->Send(-1, )"]
[2022/07/15 15:01:11.798 +08:00] [WARN] [adapter.go:1067] ["# Txn_start_ts: 434600272408608768\n# Conn_ID: 6\n# Query_time: 1.000663209\n# Parse_time: 0.000045042\n# Compile_time: 0.000259625\n# Rewrite_time: 0.000067084\n# Optimize_time: 0.000140542\n# Wait_TS: 0.000005\n# Cop_time: 1.000013333 Request_count: 1\n# DB: test\n# Is_internal: false\n# Digest: eef68dc0a7a943f8b012666c1e1e0930019146e078ed2cdbd760bfd80d767b62\n# Stats: t1:pseudo,t:pseudo\n# Num_cop_tasks: 1\n# Cop_proc_avg: 0 Cop_proc_addr: tiflash0\n# Cop_wait_avg: 0 Cop_wait_addr: tiflash0\n# Mem_max: 10100\n# Prepared: false\n# Plan_from_cache: false\n# Plan_from_binding: false\n# Has_more_results: false\n# KV_total: 0\n# PD_total: 0\n# Backoff_total: 0\n# Write_sql_response_total: 0\n# Result_rows: 1\n# Succ: true\n# IsExplicitTxn: false\n# Plan: tidb_decode_plan('qQeIMAk2XzM0CTAJMQlmdW5jczpjb3VudChDb2x1bW4jNiktPkMJC6g1CTEJdGltZToxcywgbG9vcHM6MiwgcGFydGlhbF93b3JrZXI6e3dhbGxfCSfwTy4wMDAwNjIwODNzLCBjb25jdXJyZW5jeTo1LCB0YXNrX251bToxLCB0b3Rfd2FpdDo1LjAwMDE5ODcwN3MsIHRvdF9leGVjOjguOTU4wrVzCRMFXAUqMDIxMTg3NXMsIG1heDoJbgw0NjgzAW4IcDk1MhIAFH0sIGZpbmqnABA1ODIwOa6nABgyMDU2NjhzCZQAZQGnFDEyLjQxN1KoAAg5NTg6qAAJuR2nARFUfQk5Ljg2IEtCCU4vQQoxCTMxXzM2CSGaUGRhdGE6RXhjaGFuZ2VTZW5kZXJfM1aRAQxjb3BfIV4IOiB7IWAEIDEpIEAgMHMsIHByb2Nfa2V5czogMCGTcHByX2NhY2hlX2hpdF9yYXRpbzogMC4wMH0JTi9BAQQQCjIJNDkFahBfMQkxCRGCTFR5cGU6IFBhc3NUaHJvdWdoCTAJAS8BBBwKMwk2XzEyCQkyAGZdUwAxWUwB1gEtAQQcCjQJMTdfMzMJMpgyNTAwCWlubmVyIGpvaW4sIGVxdWFsOltlcSh0ZXN0LnQxLmEsIHQFCwwuYSldLnoAGDUJNDhfMjEJSUF9AAkuHgAANgHLBDIwHR42zwAgQnJvYWRjYXN0LjUAGDcJNDNfMTkdNah0YWJsZTp0MSwga2VlcCBvcmRlcjpmYWxzZSwgc3RhdHM6cHNldWRvCTAJAd4BBAGZCDNfMi0UBZkNRq5FAA==')\n# Plan_digest: f73b5f0f773253e7dafe631b2b106c6dbe52caadc1eed038f713bc348b7ca54d\nselect count(*) from t1 , t where t1.a = t.a;"]
[2022/07/15 15:01:11.798 +08:00] [INFO] [fragment.go:77] ["Mpp will generate tasks"] [plan=RightHashJoin{Recv()->Table(t)}(test.t1.a,test.t.a)->HashAgg->Send()]
[2022/07/15 15:01:11.798 +08:00] [INFO] [batch_coprocessor.go:325] ["detecting available mpp stores"]
[2022/07/15 15:01:11.798 +08:00] [WARN] [batch_coprocessor.go:359] ["Store is not ready"] ["store address"=tiflash0] ["err message"="not support this request type MPPAlive"]
[2022/07/15 15:01:11.798 +08:00] [WARN] [batch_coprocessor.go:359] ["Store is not ready"] ["store address"=tiflash1] ["err message"="not support this request type MPPAlive"]
[2022/07/15 15:01:11.798 +08:00] [WARN] [batch_coprocessor.go:400] ["Meet regions that don't have an available store. Give up balancing"]
[2022/07/15 15:01:11.798 +08:00] [INFO] [batch_coprocessor.go:325] ["detecting available mpp stores"]
[2022/07/15 15:01:11.798 +08:00] [WARN] [batch_coprocessor.go:400] ["Meet regions that don't have an available store. Give up balancing"]
[2022/07/15 15:01:11.798 +08:00] [INFO] [mpp_gather.go:80] ["Dispatch mpp task"] [timestamp=434600272671014912] [ID=1] [address=tiflash0] [plan="Table(t1)->Send(2, )"]
[2022/07/15 15:01:11.798 +08:00] [INFO] [mpp_gather.go:80] ["Dispatch mpp task"] [timestamp=434600272671014912] [ID=2] [address=tiflash0] [plan="RightHashJoin{Recv(1, )->Table(t)}(test.t1.a,test.t.a)->HashAgg->Send(-1, )"]
[2022/07/15 15:01:12.799 +08:00] [WARN] [adapter.go:1067] ["# Txn_start_ts: 434600272671014912\n# Conn_ID: 6\n# Query_time: 1.001132125\n# Parse_time: 0.0000525\n# Compile_time: 0.000231459\n# Rewrite_time: 0.00005425\n# Optimize_time: 0.000126417\n# Wait_TS: 0.00000725\n# Cop_time: 1.000477167 Request_count: 1\n# DB: test\n# Is_internal: false\n# Digest: eef68dc0a7a943f8b012666c1e1e0930019146e078ed2cdbd760bfd80d767b62\n# Stats: t1:pseudo,t:pseudo\n# Num_cop_tasks: 1\n# Cop_proc_avg: 0 Cop_proc_addr: tiflash0\n# Cop_wait_avg: 0 Cop_wait_addr: tiflash0\n# Mem_max: 10100\n# Prepared: false\n# Plan_from_cache: false\n# Plan_from_binding: false\n# Has_more_results: false\n# KV_total: 0\n# PD_total: 0\n# Backoff_total: 0\n# Write_sql_response_total: 0\n# Result_rows: 1\n# Succ: true\n# IsExplicitTxn: false\n# Plan: tidb_decode_plan('qQeIMAk2XzM0CTAJMQlmdW5jczpjb3VudChDb2x1bW4jNiktPkMJC6g1CTEJdGltZToxcywgbG9vcHM6MiwgcGFydGlhbF93b3JrZXI6e3dhbGxfCSfwTy4wMDA1MTYyNXMsIGNvbmN1cnJlbmN5OjUsIHRhc2tfbnVtOjEsIHRvdF93YWl0OjUuMDAyNDI2MjA3cywgdG90X2V4ZWM6OC4xMjXCtXMsBRMFWwA1BSosMzc1NDJzLCBtYXg6BW0sNDk1OTU4cywgcDk1MhIAFH0sIGZpbmqmABA0NjMzNLKnAAw5ODU0IQkBvihleGVjOjUuMTY3wkanABQ1MDUyMDYupwAMNTA0NDanAA0SVH0JOS44NiBLQglOL0EKMQkzMV8zNgkhmlBkYXRhOkV4Y2hhbmdlU2VuZGVyXzNWkQEoY29wX3Rhc2s6IHshYQQgMSkhBCAwIRgocm9jX2tleXM6IDAhlHBwcl9jYWNoZV9oaXRfcmF0aW86IDAuMDB9CU4vQQEEEAoyCTQ5BWoQXzEJMQkRgkxUeXBlOiBQYXNzVGhyb3VnaAkwCQEvAQQcCjMJNl8xMgkJMi5TAgAxWUwB1gEtAQQcCjQJMTdfMzMJMpgyNTAwCWlubmVyIGpvaW4sIGVxdWFsOltlcSh0ZXN0LnQxLmEsIHQFCwwuYSldLnoAGDUJNDhfMjEJSRAwMDAwCS4eAAA2AcsEMjAdHjbPACBCcm9hZGNhc3QuNQAYNwk0M18xOR01qHRhYmxlOnQxLCBrZWVwIG9yZGVyOmZhbHNlLCBzdGF0czpwc2V1ZG8JMAkB3gEEAZkIM18yLRQFmQ1GrkUA')\n# Plan_digest: f73b5f0f773253e7dafe631b2b106c6dbe52caadc1eed038f713bc348b7ca54d\nselect count(*) from t1 , t where t1.a = t.a;"]
[2022/07/15 15:01:12.799 +08:00] [INFO] [fragment.go:77] ["Mpp will generate tasks"] [plan=RightHashJoin{Recv()->Table(t)}(test.t1.a,test.t.a)->HashAgg->Send()]
[2022/07/15 15:01:12.799 +08:00] [INFO] [batch_coprocessor.go:325] ["detecting available mpp stores"]
[2022/07/15 15:01:12.799 +08:00] [WARN] [batch_coprocessor.go:359] ["Store is not ready"] ["store address"=tiflash0] ["err message"="not support this request type MPPAlive"]
[2022/07/15 15:01:12.799 +08:00] [WARN] [batch_coprocessor.go:359] ["Store is not ready"] ["store address"=tiflash1] ["err message"="not support this request type MPPAlive"]
[2022/07/15 15:01:12.799 +08:00] [WARN] [batch_coprocessor.go:400] ["Meet regions that don't have an available store. Give up balancing"]
[2022/07/15 15:01:12.800 +08:00] [INFO] [batch_coprocessor.go:325] ["detecting available mpp stores"]
[2022/07/15 15:01:12.800 +08:00] [WARN] [batch_coprocessor.go:400] ["Meet regions that don't have an available store. Give up balancing"]
[2022/07/15 15:01:12.800 +08:00] [INFO] [mpp_gather.go:80] ["Dispatch mpp task"] [timestamp=434600272933421056] [ID=1] [address=tiflash0] [plan="Table(t1)->Send(2, )"]
[2022/07/15 15:01:12.800 +08:00] [INFO] [mpp_gather.go:80] ["Dispatch mpp task"] [timestamp=434600272933421056] [ID=2] [address=tiflash0] [plan="RightHashJoin{Recv(1, )->Table(t)}(test.t1.a,test.t.a)->HashAgg->Send(-1, )"]
[2022/07/15 15:01:13.800 +08:00] [WARN] [adapter.go:1067] ["# Txn_start_ts: 434600272933421056\n# Conn_ID: 6\n# Query_time: 1.000801459\n# Parse_time: 0.000029375\n# Compile_time: 0.000206\n# Rewrite_time: 0.000048334\n# Optimize_time: 0.000116458\n# Wait_TS: 0.000004459\n# Cop_time: 1.000232333 Request_count: 1\n# DB: test\n# Is_internal: false\n# Digest: eef68dc0a7a943f8b012666c1e1e0930019146e078ed2cdbd760bfd80d767b62\n# Stats: t:pseudo,t1:pseudo\n# Num_cop_tasks: 1\n# Cop_proc_avg: 0 Cop_proc_addr: tiflash0\n# Cop_wait_avg: 0 Cop_wait_addr: tiflash0\n# Mem_max: 10100\n# Prepared: false\n# Plan_from_cache: false\n# Plan_from_binding: false\n# Has_more_results: false\n# KV_total: 0\n# PD_total: 0\n# Backoff_total: 0\n# Write_sql_response_total: 0\n# Result_rows: 1\n# Succ: true\n# IsExplicitTxn: false\n# Plan: tidb_decode_plan('qgeIMAk2XzM0CTAJMQlmdW5jczpjb3VudChDb2x1bW4jNiktPkMJC6g1CTEJdGltZToxcywgbG9vcHM6MiwgcGFydGlhbF93b3JrZXI6e3dhbGxfCSfwTy4wMDAyNzQ1NDJzLCBjb25jdXJyZW5jeTo1LCB0YXNrX251bToxLCB0b3Rfd2FpdDo1LjAwMTI2ODE2NnMsIHRvdF9leGVjOjguNzXCtXMsBSkFWwkpDDc5NDEBKQxtYXg6CW0ENTYJbQhwOTUyEgAUfSwgZmluZqYAFDMwMjQxN66mABgzMzY5MTVzHaYYMTcuMTY3wkaoABwzNTU4NzRzLB2oBDg0PqgACRJUfQk5Ljg2IEtCCU4vQQoxCTMxXzM2CSGbUGRhdGE6RXhjaGFuZ2VTZW5kZXJfM1aSAQxjb3BfIV8IOiB7IWEEIDEJekAgMHMsIHByb2Nfa2V5czogMCGUcHByX2NhY2hlX2hpdF9yYXRpbzogMC4wMH0JTi9BAQQQCjIJNDkFahBfMQkxCRGCTFR5cGU6IFBhc3NUaHJvdWdoCTAJAS8BBBwKMwk2XzEyCQkyLlQCADFZTQHWAS0BBBwKNAkxN18zMwkymDI1MDAJaW5uZXIgam9pbiwgZXF1YWw6W2VxKHRlc3QudDEuYSwgdAULDC5hKV0uegAYNQk0OF8yMQlJEDAwMDAJLh4AADYBywQyMB0eNs8AIEJyb2FkY2FzdC41ABg3CTQzXzE5HTWodGFibGU6dDEsIGtlZXAgb3JkZXI6ZmFsc2UsIHN0YXRzOnBzZXVkbwkwCQHeAQQBmQgzXzItFAWZDUauRQA=')\n# Plan_digest: f73b5f0f773253e7dafe631b2b106c6dbe52caadc1eed038f713bc348b7ca54d\nselect count(*) from t1 , t where t1.a = t.a;"]
[2022/07/15 15:01:13.800 +08:00] [INFO] [fragment.go:77] ["Mpp will generate tasks"] [plan=RightHashJoin{Recv()->Table(t)}(test.t1.a,test.t.a)->HashAgg->Send()]
[2022/07/15 15:01:13.800 +08:00] [INFO] [batch_coprocessor.go:325] ["detecting available mpp stores"]
[2022/07/15 15:01:13.800 +08:00] [WARN] [batch_coprocessor.go:359] ["Store is not ready"] ["store address"=tiflash1] ["err message"="not support this request type MPPAlive"]
[2022/07/15 15:01:13.801 +08:00] [WARN] [batch_coprocessor.go:359] ["Store is not ready"] ["store address"=tiflash0] ["err message"="not support this request type MPPAlive"]
[2022/07/15 15:01:13.801 +08:00] [WARN] [batch_coprocessor.go:400] ["Meet regions that don't have an available store. Give up balancing"]
[2022/07/15 15:01:13.801 +08:00] [INFO] [batch_coprocessor.go:325] ["detecting available mpp stores"]
[2022/07/15 15:01:13.801 +08:00] [WARN] [batch_coprocessor.go:400] ["Meet regions that don't have an available store. Give up balancing"]
[2022/07/15 15:01:13.801 +08:00] [INFO] [mpp_gather.go:80] ["Dispatch mpp task"] [timestamp=434600273195827200] [ID=1] [address=tiflash0] [plan="Table(t1)->Send(2, )"]
[2022/07/15 15:01:13.801 +08:00] [INFO] [mpp_gather.go:80] ["Dispatch mpp task"] [timestamp=434600273195827200] [ID=2] [address=tiflash0] [plan="RightHashJoin{Recv(1, )->Table(t)}(test.t1.a,test.t.a)->HashAgg->Send(-1, )"]
[2022/07/15 15:01:14.801 +08:00] [WARN] [adapter.go:1067] ["# Txn_start_ts: 434600273195827200\n# Conn_ID: 6\n# Query_time: 1.000800375\n# Parse_time: 0.0000385\n# Compile_time: 0.000246084\n# Rewrite_time: 0.000059083\n# Optimize_time: 0.0001365\n# Wait_TS: 0.0000055\n# Cop_time: 1.00011275 Request_count: 1\n# DB: test\n# Is_internal: false\n# Digest: eef68dc0a7a943f8b012666c1e1e0930019146e078ed2cdbd760bfd80d767b62\n# Stats: t:pseudo,t1:pseudo\n# Num_cop_tasks: 1\n# Cop_proc_avg: 0 Cop_proc_addr: tiflash0\n# Cop_wait_avg: 0 Cop_wait_addr: tiflash0\n# Mem_max: 10100\n# Prepared: false\n# Plan_from_cache: false\n# Plan_from_binding: false\n# Has_more_results: false\n# KV_total: 0\n# PD_total: 0\n# Backoff_total: 0\n# Write_sql_response_total: 0\n# Result_rows: 1\n# Succ: true\n# IsExplicitTxn: false\n# Plan: tidb_decode_plan('qQeIMAk2XzM0CTAJMQlmdW5jczpjb3VudChDb2x1bW4jNiktPkMJC6g1CTEJdGltZToxcywgbG9vcHM6MiwgcGFydGlhbF93b3JrZXI6e3dhbGxfCSfwUi4wMDAxNjUyMDhzLCBjb25jdXJyZW5jeTo1LCB0YXNrX251bToxLCB0b3Rfd2FpdDo1LjAwMDY1NjYyNHMsIHRvdF9leGVjOjEwLjU4M8K1cywgARQFXQkrJDcxNXMsIG1heDoJbSg0MzQxNnMsIHA5NTISABR9LCBmaW5qpgAINzk3AUqipQAQODE2NDUB1wGRAGUBpRwyMS4zNzbCtUKlABA4NDAyNSEzGacMNzAxMgFvGacJEsh9CTkuODYgS0IJTi9BCjEJMzFfMzYJMAkxCWRhdGE6RXhjaGFuZ2VTZW5kZXJfMzUJMQklDQFeNZEoY29wX3Rhc2s6IHshYAQgMSkhBCAwIRgocm9jX2tleXM6IDAhk3Bwcl9jYWNoZV9oaXRfcmF0aW86IDAuMDB9CU4vQQEEEAoyCTQ5BWoQXzEJMQkRgkxUeXBlOiBQYXNzVGhyb3VnaAkwCQEvAQQcCjMJNl8xMgkJMi5TAgAxWUwB1gEtAQQcCjQJMTdfMzMJMpgyNTAwCWlubmVyIGpvaW4sIGVxdWFsOltlcSh0ZXN0LnQxLmEsIHQFCwwuYSldLnoAGDUJNDhfMjEJSRAwMDAwCS4eAAA2AcsEMjAdHjbPACBCcm9hZGNhc3QuNQAYNwk0M18xOR01qHRhYmxlOnQxLCBrZWVwIG9yZGVyOmZhbHNlLCBzdGF0czpwc2V1ZG8JMAkB3gEEAZkIM18yLRQFmQ1GrkUA')\n# Plan_digest: f73b5f0f773253e7dafe631b2b106c6dbe52caadc1eed038f713bc348b7ca54d\nselect count(*) from t1 , t where t1.a = t.a;"]
[2022/07/15 15:01:14.801 +08:00] [INFO] [fragment.go:77] ["Mpp will generate tasks"] [plan=RightHashJoin{Recv()->Table(t)}(test.t1.a,test.t.a)->HashAgg->Send()]
[2022/07/15 15:01:14.801 +08:00] [INFO] [batch_coprocessor.go:325] ["detecting available mpp stores"]
[2022/07/15 15:01:14.801 +08:00] [WARN] [batch_coprocessor.go:359] ["Store is not ready"] ["store address"=tiflash1] ["err message"="not support this request type MPPAlive"]
[2022/07/15 15:01:14.801 +08:00] [WARN] [batch_coprocessor.go:359] ["Store is not ready"] ["store address"=tiflash0] ["err message"="not support this request type MPPAlive"]
[2022/07/15 15:01:14.801 +08:00] [WARN] [batch_coprocessor.go:400] ["Meet regions that don't have an available store. Give up balancing"]
[2022/07/15 15:01:14.801 +08:00] [INFO] [batch_coprocessor.go:325] ["detecting available mpp stores"]
[2022/07/15 15:01:14.802 +08:00] [WARN] [batch_coprocessor.go:400] ["Meet regions that don't have an available store. Give up balancing"]
[2022/07/15 15:01:14.802 +08:00] [INFO] [mpp_gather.go:80] ["Dispatch mpp task"] [timestamp=434600273458233344] [ID=1] [address=tiflash0] [plan="Table(t1)->Send(2, )"]
[2022/07/15 15:01:14.802 +08:00] [INFO] [mpp_gather.go:80] ["Dispatch mpp task"] [timestamp=434600273458233344] [ID=2] [address=tiflash0] [plan="RightHashJoin{Recv(1, )->Table(t)}(test.t1.a,test.t.a)->HashAgg->Send(-1, )"]
[2022/07/15 15:01:15.803 +08:00] [WARN] [adapter.go:1067] ["# Txn_start_ts: 434600273458233344\n# Conn_ID: 6\n# Query_time: 1.001407167\n# Parse_time: 0.000042667\n# Compile_time: 0.000232\n# Rewrite_time: 0.000054542\n# Optimize_time: 0.0001275\n# Wait_TS: 0.000006291\n# Cop_time: 1.000751375 Request_count: 1\n# DB: test\n# Is_internal: false\n# Digest: eef68dc0a7a943f8b012666c1e1e0930019146e078ed2cdbd760bfd80d767b62\n# Stats: t1:pseudo,t:pseudo\n# Num_cop_tasks: 1\n# Cop_proc_avg: 0 Cop_proc_addr: tiflash0\n# Cop_wait_avg: 0 Cop_wait_addr: tiflash0\n# Mem_max: 10100\n# Prepared: false\n# Plan_from_cache: false\n# Plan_from_binding: false\n# Has_more_results: false\n# KV_total: 0\n# PD_total: 0\n# Backoff_total: 0\n# Write_sql_response_total: 0\n# Result_rows: 1\n# Succ: true\n# IsExplicitTxn: false\n# Plan: tidb_decode_plan('qAeIMAk2XzM0CTAJMQlmdW5jczpjb3VudChDb2x1bW4jNiktPkMJC6g1CTEJdGltZToxcywgbG9vcHM6MiwgcGFydGlhbF93b3JrZXI6e3dhbGxfCSfwTy4wMDA3OTEzNzVzLCBjb25jdXJyZW5jeTo1LCB0YXNrX251bToxLCB0b3Rfd2FpdDo1LjAwMzg3MzE2NnMsIHRvdF9leGVjOjcuNcK1cywgAREFWgkoLDgyOTE3cywgbWF4OglsBDc3CRIIcDk1MhIAFH0sIGZpbmalAAw4MDYzuqUAEDkzOTYyDZQAZQmlEDcwOMK1DRMZpxA5MDI2MiEBGacYODMyMDlzLB2nCRJUfQk5Ljg2IEtCCU4vQQoxCTMxXzM2CSGZUGRhdGE6RXhjaGFuZ2VTZW5kZXJfM1aQAShjb3BfdGFzazogeyFfBCAxKSEEIDABcShyb2Nfa2V5czogMCGScHByX2NhY2hlX2hpdF9yYXRpbzogMC4wMH0JTi9BAQQQCjIJNDkFahBfMQkxCRGCTFR5cGU6IFBhc3NUaHJvdWdoCTAJAS8BBBwKMwk2XzEyCQkyLlICADFZSwHWAS0BBBwKNAkxN18zMwkymDI1MDAJaW5uZXIgam9pbiwgZXF1YWw6W2VxKHRlc3QudDEuYSwgdAULDC5hKV0uegAYNQk0OF8yMQlJEDAwMDAJLh4AADYBywQyMB0eNs8AIEJyb2FkY2FzdC41ABg3CTQzXzE5HTWodGFibGU6dDEsIGtlZXAgb3JkZXI6ZmFsc2UsIHN0YXRzOnBzZXVkbwkwCQHeAQQBmQgzXzItFAWZDUauRQA=')\n# Plan_digest: f73b5f0f773253e7dafe631b2b106c6dbe52caadc1eed038f713bc348b7ca54d\nselect count(*) from t1 , t where t1.a = t.a;"]
[2022/07/15 15:01:15.803 +08:00] [INFO] [fragment.go:77] ["Mpp will generate tasks"] [plan=RightHashJoin{Recv()->Table(t)}(test.t1.a,test.t.a)->HashAgg->Send()]
[2022/07/15 15:01:15.803 +08:00] [INFO] [batch_coprocessor.go:325] ["detecting available mpp stores"]
[2022/07/15 15:01:15.804 +08:00] [WARN] [batch_coprocessor.go:359] ["Store is not ready"] ["store address"=tiflash1] ["err message"="not support this request type MPPAlive"]
[2022/07/15 15:01:15.804 +08:00] [WARN] [batch_coprocessor.go:359] ["Store is not ready"] ["store address"=tiflash0] ["err message"="not support this request type MPPAlive"]
[2022/07/15 15:01:15.804 +08:00] [WARN] [batch_coprocessor.go:400] ["Meet regions that don't have an available store. Give up balancing"]
[2022/07/15 15:01:15.804 +08:00] [INFO] [batch_coprocessor.go:325] ["detecting available mpp stores"]
[2022/07/15 15:01:15.804 +08:00] [WARN] [batch_coprocessor.go:400] ["Meet regions that don't have an available store. Give up balancing"]
[2022/07/15 15:01:15.804 +08:00] [INFO] [mpp_gather.go:80] ["Dispatch mpp task"] [timestamp=434600273720901632] [ID=1] [address=tiflash0] [plan="Table(t1)->Send(2, )"]
[2022/07/15 15:01:15.804 +08:00] [INFO] [mpp_gather.go:80] ["Dispatch mpp task"] [timestamp=434600273720901632] [ID=2] [address=tiflash0] [plan="RightHashJoin{Recv(1, )->Table(t)}(test.t1.a,test.t.a)->HashAgg->Send(-1, )"]
[2022/07/15 15:01:16.805 +08:00] [WARN] [adapter.go:1067] ["# Txn_start_ts: 434600273720901632\n# Conn_ID: 6\n# Query_time: 1.002608999\n# Parse_time: 0.000027791\n# Compile_time: 0.0003295\n# Rewrite_time: 0.000044417\n# Optimize_time: 0.000249667\n# Wait_TS: 0.000006125\n# Cop_time: 1.001089375 Request_count: 1\n# DB: test\n# Is_internal: false\n# Digest: eef68dc0a7a943f8b012666c1e1e0930019146e078ed2cdbd760bfd80d767b62\n# Stats: t1:pseudo,t:pseudo\n# Num_cop_tasks: 1\n# Cop_proc_avg: 0 Cop_proc_addr: tiflash0\n# Cop_wait_avg: 0 Cop_wait_addr: tiflash0\n# Mem_max: 10100\n# Prepared: false\n# Plan_from_cache: false\n# Plan_from_binding: false\n# Has_more_results: false\n# KV_total: 0\n# PD_total: 0\n# Backoff_total: 0\n# Write_sql_response_total: 0\n# Result_rows: 1\n# Succ: true\n# IsExplicitTxn: false\n# Plan: tidb_decode_plan('qQeIMAk2XzM0CTAJMQlmdW5jczpjb3VudChDb2x1bW4jNiktPkMJC6g1CTEJdGltZToxcywgbG9vcHM6MiwgcGFydGlhbF93b3JrZXI6e3dhbGxfCSfwTy4wMDExNjAxMjVzLCBjb25jdXJyZW5jeTo1LCB0YXNrX251bToxLCB0b3Rfd2FpdDo1LjAwNTY0NDgzM3MsIHRvdF9leGVjOjguMjA5wrVzCRMFXAkqLDU4NzQ5cywgbWF4OgluCDQ4NwFtCHA5NS4RABR9LCBmaW5qpQAQNzEwNDKupQAYNTcyMzc4cwmSAGUBpRQxMC4yOTJKpgAUNTg0NDE2MqYADDMyNzkhRRmnCRJUfQk5Ljg2IEtCCU4vQQoxCTMxXzM2CSGaVGRhdGE6RXhjaGFuZ2VTZW5kZXJfMzVSkQEMY29wXyFeCDogeyFgBCAxKSBAIDBzLCBwcm9jX2tleXM6IDAhk3Bwcl9jYWNoZV9oaXRfcmF0aW86IDAuMDB9CU4vQQEEEAoyCTQ5BWoQXzEJMQkRgkxUeXBlOiBQYXNzVGhyb3VnaAkwCQEvAQQcCjMJNl8xMgkJMi5TAgAxWUwB1gEtAQQcCjQJMTdfMzMJMpgyNTAwCWlubmVyIGpvaW4sIGVxdWFsOltlcSh0ZXN0LnQxLmEsIHQFCwwuYSldLnoAGDUJNDhfMjEJSRAwMDAwCS4eAAA2AcsEMjAdHjbPACBCcm9hZGNhc3QuNQAYNwk0M18xOR01qHRhYmxlOnQxLCBrZWVwIG9yZGVyOmZhbHNlLCBzdGF0czpwc2V1ZG8JMAkB3gEEAZkIM18yLRQFmQ1GrkUA')\n# Plan_digest: f73b5f0f773253e7dafe631b2b106c6dbe52caadc1eed038f713bc348b7ca54d\nselect count(*) from t1 , t where t1.a = t.a;"]
[2022/07/15 15:01:16.806 +08:00] [INFO] [fragment.go:77] ["Mpp will generate tasks"] [plan=RightHashJoin{Recv()->Table(t)}(test.t1.a,test.t.a)->HashAgg->Send()]
[2022/07/15 15:01:16.806 +08:00] [INFO] [batch_coprocessor.go:325] ["detecting available mpp stores"]
[2022/07/15 15:01:16.806 +08:00] [WARN] [batch_coprocessor.go:359] ["Store is not ready"] ["store address"=tiflash0] ["err message"="not support this request type MPPAlive"]
[2022/07/15 15:01:16.806 +08:00] [WARN] [batch_coprocessor.go:359] ["Store is not ready"] ["store address"=tiflash1] ["err message"="not support this request type MPPAlive"]
[2022/07/15 15:01:16.806 +08:00] [WARN] [batch_coprocessor.go:400] ["Meet regions that don't have an available store. Give up balancing"]
[2022/07/15 15:01:16.806 +08:00] [INFO] [batch_coprocessor.go:325] ["detecting available mpp stores"]
[2022/07/15 15:01:16.806 +08:00] [WARN] [batch_coprocessor.go:400] ["Meet regions that don't have an available store. Give up balancing"]
[2022/07/15 15:01:16.806 +08:00] [INFO] [mpp_gather.go:80] ["Dispatch mpp task"] [timestamp=434600273983832064] [ID=1] [address=tiflash0] [plan="Table(t1)->Send(2, )"]
[2022/07/15 15:01:16.806 +08:00] [INFO] [mpp_gather.go:80] ["Dispatch mpp task"] [timestamp=434600273983832064] [ID=2] [address=tiflash0] [plan="RightHashJoin{Recv(1, )->Table(t)}(test.t1.a,test.t.a)->HashAgg->Send(-1, )"]
[2022/07/15 15:01:17.807 +08:00] [WARN] [adapter.go:1067] ["# Txn_start_ts: 434600273983832064\n# Conn_ID: 6\n# Query_time: 1.001704041\n# Parse_time: 0.000054708\n# Compile_time: 0.00028325\n# Rewrite_time: 0.00005775\n# Optimize_time: 0.000171667\n# Wait_TS: 0.000005\n# Cop_time: 1.00101075 Request_count: 1\n# DB: test\n# Is_internal: false\n# Digest: eef68dc0a7a943f8b012666c1e1e0930019146e078ed2cdbd760bfd80d767b62\n# Stats: t1:pseudo,t:pseudo\n# Num_cop_tasks: 1\n# Cop_proc_avg: 0 Cop_proc_addr: tiflash0\n# Cop_wait_avg: 0 Cop_wait_addr: tiflash0\n# Mem_max: 10100\n# Prepared: false\n# Plan_from_cache: false\n# Plan_from_binding: false\n# Has_more_results: false\n# KV_total: 0\n# PD_total: 0\n# Backoff_total: 0\n# Write_sql_response_total: 0\n# Result_rows: 1\n# Succ: true\n# IsExplicitTxn: false\n# Plan: tidb_decode_plan('pQeIMAk2XzM0CTAJMQlmdW5jczpjb3VudChDb2x1bW4jNiktPkMJC6g1CTEJdGltZToxcywgbG9vcHM6MiwgcGFydGlhbF93b3JrZXI6e3dhbGxfCSfwTy4wMDEwODQ5MTdzLCBjb25jdXJyZW5jeTo1LCB0YXNrX251bToxLCB0b3Rfd2FpdDo1LjAwNTI5NjM3NXMsIHRvdF9leGVjOjguNDU4wrVzCRMFXAUqEDMwNzQ1AVwMbWF4OgluBDYyAToIcDk1HRAYfSwgZmluYWajAAw5ODA0AdSiowAYMzQ1ODcycwmQAGUBoxQxNC4zMzROpAAENjEJlBmkBDc4OqUABRFUfQk5Ljg2IEtCCU4vQQoxCTMxXzM2CSGWUGRhdGE6RXhjaGFuZ2VTZW5kZXJfM1aNAQxjb3BfIVoIOiB7IVwIIDEsBXhAIDBzLCBwcm9jX2tleXM6IDAhj3Bwcl9jYWNoZV9oaXRfcmF0aW86IDAuMDB9CU4vQQEEEAoyCTQ5BWoQXzEJMQkRgkxUeXBlOiBQYXNzVGhyb3VnaAkwCQEvAQQcCjMJNl8xMgkJMi5PAgAxWUgB1gEtAQQcCjQJMTdfMzMJMpgyNTAwCWlubmVyIGpvaW4sIGVxdWFsOltlcSh0ZXN0LnQxLmEsIHQFCwwuYSldLnoAGDUJNDhfMjEJSRAwMDAwCS4eAAA2AcsEMjAdHjbPACBCcm9hZGNhc3QuNQAYNwk0M18xOR01qHRhYmxlOnQxLCBrZWVwIG9yZGVyOmZhbHNlLCBzdGF0czpwc2V1ZG8JMAkB3gEEAZkIM18yLRQFmQ1GrkUA')\n# Plan_digest: f73b5f0f773253e7dafe631b2b106c6dbe52caadc1eed038f713bc348b7ca54d\nselect count(*) from t1 , t where t1.a = t.a;"]
[2022/07/15 15:01:17.808 +08:00] [INFO] [fragment.go:77] ["Mpp will generate tasks"] [plan=RightHashJoin{Recv()->Table(t)}(test.t1.a,test.t.a)->HashAgg->Send()]
[2022/07/15 15:01:17.808 +08:00] [INFO] [batch_coprocessor.go:325] ["detecting available mpp stores"]
[2022/07/15 15:01:17.808 +08:00] [WARN] [batch_coprocessor.go:359] ["Store is not ready"] ["store address"=tiflash1] ["err message"="not support this request type MPPAlive"]
[2022/07/15 15:01:17.808 +08:00] [WARN] [batch_coprocessor.go:359] ["Store is not ready"] ["store address"=tiflash0] ["err message"="not support this request type MPPAlive"]
[2022/07/15 15:01:17.808 +08:00] [WARN] [batch_coprocessor.go:400] ["Meet regions that don't have an available store. Give up balancing"]
[2022/07/15 15:01:17.808 +08:00] [INFO] [batch_coprocessor.go:325] ["detecting available mpp stores"]
[2022/07/15 15:01:17.808 +08:00] [WARN] [batch_coprocessor.go:400] ["Meet regions that don't have an available store. Give up balancing"]
[2022/07/15 15:01:17.808 +08:00] [INFO] [mpp_gather.go:80] ["Dispatch mpp task"] [timestamp=434600274246500352] [ID=1] [address=tiflash0] [plan="Table(t1)->Send(2, )"]
[2022/07/15 15:01:17.808 +08:00] [INFO] [mpp_gather.go:80] ["Dispatch mpp task"] [timestamp=434600274246500352] [ID=2] [address=tiflash0] [plan="RightHashJoin{Recv(1, )->Table(t)}(test.t1.a,test.t.a)->HashAgg->Send(-1, )"]
[2022/07/15 15:01:18.808 +08:00] [WARN] [adapter.go:1067] ["# Txn_start_ts: 434600274246500352\n# Conn_ID: 6\n# Query_time: 1.001126416\n# Parse_time: 0.000044458\n# Compile_time: 0.000243208\n# Rewrite_time: 0.000052917\n# Optimize_time: 0.000140917\n# Wait_TS: 0.00000575\n# Cop_time: 1.000494709 Request_count: 1\n# DB: test\n# Is_internal: false\n# Digest: eef68dc0a7a943f8b012666c1e1e0930019146e078ed2cdbd760bfd80d767b62\n# Stats: t:pseudo,t1:pseudo\n# Num_cop_tasks: 1\n# Cop_proc_avg: 0 Cop_proc_addr: tiflash0\n# Cop_wait_avg: 0 Cop_wait_addr: tiflash0\n# Mem_max: 10100\n# Prepared: false\n# Plan_from_cache: false\n# Plan_from_binding: false\n# Has_more_results: false\n# KV_total: 0\n# PD_total: 0\n# Backoff_total: 0\n# Write_sql_response_total: 0\n# Result_rows: 1\n# Succ: true\n# IsExplicitTxn: false\n# Plan: tidb_decode_plan('pweIMAk2XzM0CTAJMQlmdW5jczpjb3VudChDb2x1bW4jNiktPkMJC6g1CTEJdGltZToxcywgbG9vcHM6MiwgcGFydGlhbF93b3JrZXI6e3dhbGxfCSfwTy4wMDA1NTA1cywgY29uY3VycmVuY3k6NSwgdGFza19udW06MSwgdG90X3dhaXQ6NS4wMDI2NDYzMzRzLCB0b3RfZXhlYzo4Ljg3NcK1cywgARMFWgkqBDU5AVoMbWF4OglqKDM1ODMzcywgcDk1MhIAFH0sIGZpbmqjAAQ2MAk5pqUADDk2MzcypQAQMTYuMTJOpgAcNzE0NDU4cywdqBA0NzY2NjKoAAkSVH0JOS44NiBLQglOL0EKMQkzMV8zNgkhmFBkYXRhOkV4Y2hhbmdlU2VuZGVyXzNWjwEoY29wX3Rhc2s6IHshYAQgMQl6BCAwAXEocm9jX2tleXM6IDAhk3Bwcl9jYWNoZV9oaXRfcmF0aW86IDAuMDB9CU4vQQEEEAoyCTQ5BWoQXzEJMQkRgkxUeXBlOiBQYXNzVGhyb3VnaAkwCQEvAQQcCjMJNl8xMgkJMi5RAgAxWUoB1gEtAQQcCjQJMTdfMzMJMpgyNTAwCWlubmVyIGpvaW4sIGVxdWFsOltlcSh0ZXN0LnQxLmEsIHQFCwwuYSldLnoAGDUJNDhfMjEJSRAwMDAwCS4eAAA2AcsEMjAdHjbPACBCcm9hZGNhc3QuNQAYNwk0M18xOR01qHRhYmxlOnQxLCBrZWVwIG9yZGVyOmZhbHNlLCBzdGF0czpwc2V1ZG8JMAkB3gEEAZkIM18yLRQFmQ1GrkUA')\n# Plan_digest: f73b5f0f773253e7dafe631b2b106c6dbe52caadc1eed038f713bc348b7ca54d\nselect count(*) from t1 , t where t1.a = t.a;"]
[2022/07/15 15:01:18.809 +08:00] [INFO] [fragment.go:77] ["Mpp will generate tasks"] [plan=RightHashJoin{Recv()->Table(t)}(test.t1.a,test.t.a)->HashAgg->Send()]
[2022/07/15 15:01:18.809 +08:00] [INFO] [batch_coprocessor.go:325] ["detecting available mpp stores"]
[2022/07/15 15:01:18.809 +08:00] [WARN] [batch_coprocessor.go:359] ["Store is not ready"] ["store address"=tiflash1] ["err message"="not support this request type MPPAlive"]
[2022/07/15 15:01:18.809 +08:00] [WARN] [batch_coprocessor.go:359] ["Store is not ready"] ["store address"=tiflash0] ["err message"="not support this request type MPPAlive"]
[2022/07/15 15:01:18.809 +08:00] [WARN] [batch_coprocessor.go:400] ["Meet regions that don't have an available store. Give up balancing"]
[2022/07/15 15:01:18.809 +08:00] [INFO] [batch_coprocessor.go:325] ["detecting available mpp stores"]
[2022/07/15 15:01:18.809 +08:00] [WARN] [batch_coprocessor.go:400] ["Meet regions that don't have an available store. Give up balancing"]
[2022/07/15 15:01:18.809 +08:00] [INFO] [mpp_gather.go:80] ["Dispatch mpp task"] [timestamp=434600274508906496] [ID=1] [address=tiflash0] [plan="Table(t1)->Send(2, )"]
[2022/07/15 15:01:18.809 +08:00] [INFO] [mpp_gather.go:80] ["Dispatch mpp task"] [timestamp=434600274508906496] [ID=2] [address=tiflash0] [plan="RightHashJoin{Recv(1, )->Table(t)}(test.t1.a,test.t.a)->HashAgg->Send(-1, )"]
[2022/07/15 15:01:19.810 +08:00] [WARN] [adapter.go:1067] ["# Txn_start_ts: 434600274508906496\n# Conn_ID: 6\n# Query_time: 1.000935542\n# Parse_time: 0.000041542\n# Compile_time: 0.000230459\n# Rewrite_time: 0.000055\n# Optimize_time: 0.000125417\n# Wait_TS: 0.000007041\n# Cop_time: 1.000205209 Request_count: 1\n# DB: test\n# Is_internal: false\n# Digest: eef68dc0a7a943f8b012666c1e1e0930019146e078ed2cdbd760bfd80d767b62\n# Stats: t1:pseudo,t:pseudo\n# Num_cop_tasks: 1\n# Cop_proc_avg: 0 Cop_proc_addr: tiflash0\n# Cop_wait_avg: 0 Cop_wait_addr: tiflash0\n# Mem_max: 10100\n# Prepared: false\n# Plan_from_cache: false\n# Plan_from_binding: false\n# Has_more_results: false\n# KV_total: 0\n# PD_total: 0\n# Backoff_total: 0\n# Write_sql_response_total: 0\n# Result_rows: 1\n# Succ: true\n# IsExplicitTxn: false\n# Plan: tidb_decode_plan('qweIMAk2XzM0CTAJMQlmdW5jczpjb3VudChDb2x1bW4jNiktPkMJC6g1CTEJdGltZToxcywgbG9vcHM6MiwgcGFydGlhbF93b3JrZXI6e3dhbGxfCSfwTy4wMDAyNTgxNjdzLCBjb25jdXJyZW5jeTo1LCB0YXNrX251bToxLCB0b3Rfd2FpdDo1LjAwMTE1NjEyNXMsIHRvdF9leGVjOjkuOTU4wrVzCRMFXAkqLDcwNDU4cywgbWF4OgluDDM5ODcBPAhwOTUyEgAUfSwgZmluaqcACDg2NranABgyMzczNzNzCZQAZQGnFDE2LjgzM0qoABAyNTYxNjaoAAw2NjkxIRYZqAkSVH0JOS44NiBLQglOL0EKMQkzMV8zNgkhnGhkYXRhOkV4Y2hhbmdlU2VuZGVyXzM1CTEJdGk+kwEMY29wXyFgCDogeyFiBCAxKSJAIDBzLCBwcm9jX2tleXM6IDAhlXBwcl9jYWNoZV9oaXRfcmF0aW86IDAuMDB9CU4vQQEEEAoyCTQ5BWoQXzEJMQkRgkxUeXBlOiBQYXNzVGhyb3VnaAkwCQEvAQQcCjMJNl8xMgkJMi5VAgQxKVVOAdYBLQEEHAo0CTE3XzMzCTKYMjUwMAlpbm5lciBqb2luLCBlcXVhbDpbZXEodGVzdC50MS5hLCB0BQsMLmEpXS56ABg1CTQ4XzIxCUkQMDAwMAkuHgAANgHLBDIwHR42zwAgQnJvYWRjYXN0LjUAGDcJNDNfMTkdNah0YWJsZTp0MSwga2VlcCBvcmRlcjpmYWxzZSwgc3RhdHM6cHNldWRvCTAJAd4BBAGZCDNfMi0UBZkNRq5FAA==')\n# Plan_digest: f73b5f0f773253e7dafe631b2b106c6dbe52caadc1eed038f713bc348b7ca54d\nselect count(*) from t1 , t where t1.a = t.a;"]
[2022/07/15 15:01:19.810 +08:00] [INFO] [fragment.go:77] ["Mpp will generate tasks"] [plan=RightHashJoin{Recv()->Table(t)}(test.t1.a,test.t.a)->HashAgg->Send()]
[2022/07/15 15:01:19.810 +08:00] [INFO] [batch_coprocessor.go:325] ["detecting available mpp stores"]
[2022/07/15 15:01:19.810 +08:00] [WARN] [batch_coprocessor.go:359] ["Store is not ready"] ["store address"=tiflash1] ["err message"="not support this request type MPPAlive"]
[2022/07/15 15:01:19.810 +08:00] [WARN] [batch_coprocessor.go:359] ["Store is not ready"] ["store address"=tiflash0] ["err message"="not support this request type MPPAlive"]
[2022/07/15 15:01:19.810 +08:00] [WARN] [batch_coprocessor.go:400] ["Meet regions that don't have an available store. Give up balancing"]
[2022/07/15 15:01:19.810 +08:00] [INFO] [batch_coprocessor.go:325] ["detecting available mpp stores"]
[2022/07/15 15:01:19.810 +08:00] [WARN] [batch_coprocessor.go:400] ["Meet regions that don't have an available store. Give up balancing"]
[2022/07/15 15:01:19.810 +08:00] [INFO] [mpp_gather.go:80] ["Dispatch mpp task"] [timestamp=434600274771312640] [ID=1] [address=tiflash0] [plan="Table(t1)->Send(2, )"]
[2022/07/15 15:01:19.810 +08:00] [INFO] [mpp_gather.go:80] ["Dispatch mpp task"] [timestamp=434600274771312640] [ID=2] [address=tiflash0] [plan="RightHashJoin{Recv(1, )->Table(t)}(test.t1.a,test.t.a)->HashAgg->Send(-1, )"]
[2022/07/15 15:01:20.810 +08:00] [WARN] [adapter.go:1067] ["# Txn_start_ts: 434600274771312640\n# Conn_ID: 6\n# Query_time: 1.000765751\n# Parse_time: 0.000042834\n# Compile_time: 0.000228167\n# Rewrite_time: 0.000052625\n# Optimize_time: 0.000122625\n# Wait_TS: 0.000006458\n# Cop_time: 1.00010825 Request_count: 1\n# DB: test\n# Is_internal: false\n# Digest: eef68dc0a7a943f8b012666c1e1e0930019146e078ed2cdbd760bfd80d767b62\n# Stats: t1:pseudo,t:pseudo\n# Num_cop_tasks: 1\n# Cop_proc_avg: 0 Cop_proc_addr: tiflash0\n# Cop_wait_avg: 0 Cop_wait_addr: tiflash0\n# Mem_max: 10100\n# Prepared: false\n# Plan_from_cache: false\n# Plan_from_binding: false\n# Has_more_results: false\n# KV_total: 0\n# PD_total: 0\n# Backoff_total: 0\n# Write_sql_response_total: 0\n# Result_rows: 1\n# Succ: true\n# IsExplicitTxn: false\n# Plan: tidb_decode_plan('qAeIMAk2XzM0CTAJMQlmdW5jczpjb3VudChDb2x1bW4jNiktPkMJC6g1CTEJdGltZToxcywgbG9vcHM6MiwgcGFydGlhbF93b3JrZXI6e3dhbGxfCSfwTC4wMDAxNDk4NzVzLCBjb25jdXJyZW5jeTo1LCB0YXNrX251bToxLCB0b3Rfd2FpdDo1LjAwMDY1NjA4NnMsIHRvdF9leGVjOjEwwrVzCRAFWQknLDY4OTU3cywgbWF4OglrKDM2NTgzcywgcDk1MhIAFH0sIGZpbmqkAAw2MjEysqQAGDcxNzI5MnMJlABlBaQQMS43OTFKqAAUNzMwNTg0MqgAEDQ5NzA4MqgACRJUfQk5Ljg2IEtCCU4vQQoxCTMxXzM2CSGZVGRhdGE6RXhjaGFuZ2VTZW5kZXJfMzVSkAEoY29wX3Rhc2s6IHshXwQgMSkiBCAwAXEocm9jX2tleXM6IDAhknBwcl9jYWNoZV9oaXRfcmF0aW86IDAuMDB9CU4vQQEEEAoyCTQ5BWoQXzEJMQkRgkxUeXBlOiBQYXNzVGhyb3VnaAkwCQEvAQQcCjMJNl8xMgkJMi5SAgAxWUsB1gEtAQQcCjQJMTdfMzMJMpgyNTAwCWlubmVyIGpvaW4sIGVxdWFsOltlcSh0ZXN0LnQxLmEsIHQFCwwuYSldLnoAGDUJNDhfMjEJSRAwMDAwCS4eAAA2AcsEMjAdHjbPACBCcm9hZGNhc3QuNQAYNwk0M18xOR01qHRhYmxlOnQxLCBrZWVwIG9yZGVyOmZhbHNlLCBzdGF0czpwc2V1ZG8JMAkB3gEEAZkIM18yLRQFmQ1GrkUA')\n# Plan_digest: f73b5f0f773253e7dafe631b2b106c6dbe52caadc1eed038f713bc348b7ca54d\nselect count(*) from t1 , t where t1.a = t.a;"]
[2022/07/15 15:01:20.812 +08:00] [INFO] [fragment.go:77] ["Mpp will generate tasks"] [plan=RightHashJoin{Recv()->Table(t)}(test.t1.a,test.t.a)->HashAgg->Send()]
[2022/07/15 15:01:20.812 +08:00] [INFO] [batch_coprocessor.go:325] ["detecting available mpp stores"]
[2022/07/15 15:01:20.812 +08:00] [WARN] [batch_coprocessor.go:359] ["Store is not ready"] ["store address"=tiflash1] ["err message"="not support this request type MPPAlive"]
[2022/07/15 15:01:20.812 +08:00] [WARN] [batch_coprocessor.go:359] ["Store is not ready"] ["store address"=tiflash0] ["err message"="not support this request type MPPAlive"]
[2022/07/15 15:01:20.812 +08:00] [WARN] [batch_coprocessor.go:400] ["Meet regions that don't have an available store. Give up balancing"]
[2022/07/15 15:01:20.812 +08:00] [INFO] [batch_coprocessor.go:325] ["detecting available mpp stores"]
[2022/07/15 15:01:20.812 +08:00] [WARN] [batch_coprocessor.go:400] ["Meet regions that don't have an available store. Give up balancing"]
[2022/07/15 15:01:20.812 +08:00] [INFO] [mpp_gather.go:80] ["Dispatch mpp task"] [timestamp=434600275033980928] [ID=1] [address=tiflash0] [plan="Table(t1)->Send(2, )"]
[2022/07/15 15:01:20.812 +08:00] [INFO] [mpp_gather.go:80] ["Dispatch mpp task"] [timestamp=434600275033980928] [ID=2] [address=tiflash0] [plan="RightHashJoin{Recv(1, )->Table(t)}(test.t1.a,test.t.a)->HashAgg->Send(-1, )"]
[2022/07/15 15:01:21.813 +08:00] [WARN] [adapter.go:1067] ["# Txn_start_ts: 434600275033980928\n# Conn_ID: 6\n# Query_time: 1.001049293\n# Parse_time: 0.000042584\n# Compile_time: 0.000228084\n# Rewrite_time: 0.000052416\n# Optimize_time: 0.000125875\n# Wait_TS: 0.000005958\n# Cop_time: 1.000451583 Request_count: 1\n# DB: test\n# Is_internal: false\n# Digest: eef68dc0a7a943f8b012666c1e1e0930019146e078ed2cdbd760bfd80d767b62\n# Stats: t1:pseudo,t:pseudo\n# Num_cop_tasks: 1\n# Cop_proc_avg: 0 Cop_proc_addr: tiflash0\n# Cop_wait_avg: 0 Cop_wait_addr: tiflash0\n# Mem_max: 10100\n# Prepared: false\n# Plan_from_cache: false\n# Plan_from_binding: false\n# Has_more_results: false\n# KV_total: 0\n# PD_total: 0\n# Backoff_total: 0\n# Write_sql_response_total: 0\n# Result_rows: 1\n# Succ: true\n# IsExplicitTxn: false\n# Plan: tidb_decode_plan('pweIMAk2XzM0CTAJMQlmdW5jczpjb3VudChDb2x1bW4jNiktPkMJC6g1CTEJdGltZToxcywgbG9vcHM6MiwgcGFydGlhbF93b3JrZXI6e3dhbGxfCSfwTy4wMDA0OTU5NTlzLCBjb25jdXJyZW5jeTo1LCB0YXNrX251bToxLCB0b3Rfd2FpdDo1LjAwMjM3NDA0NXMsIHRvdF9leGVjOjkuNDE2wrVzCRMFXAkqDDg1ODMBjRBtYXg6MQVuKDc4NjY2cywgcDk1MhIAFH0sIGZpbmanABQ1MDY5NTiupwAYNDIzMjk0cwmUAGUBpxQxMC43NTFKqAAcNDM1NTgzcywdqAQ5MAHiGaYBEFR9CTkuODYgS0IJTi9BCjEJMzFfMzYJIZhQZGF0YTpFeGNoYW5nZVNlbmRlcl8zVo8BKGNvcF90YXNrOiB7IV4EIDEJdgQgMCEVKHJvY19rZXlzOiAwIZFwcHJfY2FjaGVfaGl0X3JhdGlvOiAwLjAwfQlOL0EBBBAKMgk0OQVqEF8xCTEJEYJMVHlwZTogUGFzc1Rocm91Z2gJMAkBLwEEHAozCTZfMTIJCTIuUQIAMVlKAdYBLQEEHAo0CTE3XzMzCTKYMjUwMAlpbm5lciBqb2luLCBlcXVhbDpbZXEodGVzdC50MS5hLCB0BQsMLmEpXS56ABg1CTQ4XzIxCUkQMDAwMAkuHgAANgHLBDIwHR42zwAgQnJvYWRjYXN0LjUAGDcJNDNfMTkdNah0YWJsZTp0MSwga2VlcCBvcmRlcjpmYWxzZSwgc3RhdHM6cHNldWRvCTAJAd4BBAGZCDNfMi0UBZkNRq5FAA==')\n# Plan_digest: f73b5f0f773253e7dafe631b2b106c6dbe52caadc1eed038f713bc348b7ca54d\nselect count(*) from t1 , t where t1.a = t.a;"]
[2022/07/15 15:01:21.813 +08:00] [INFO] [fragment.go:77] ["Mpp will generate tasks"] [plan=RightHashJoin{Recv()->Table(t)}(test.t1.a,test.t.a)->HashAgg->Send()]
[2022/07/15 15:01:21.813 +08:00] [INFO] [batch_coprocessor.go:325] ["detecting available mpp stores"]
[2022/07/15 15:01:21.813 +08:00] [WARN] [batch_coprocessor.go:359] ["Store is not ready"] ["store address"=tiflash1] ["err message"="not support this request type MPPAlive"]
[2022/07/15 15:01:21.813 +08:00] [WARN] [batch_coprocessor.go:359] ["Store is not ready"] ["store address"=tiflash0] ["err message"="not support this request type MPPAlive"]
[2022/07/15 15:01:21.813 +08:00] [WARN] [batch_coprocessor.go:400] ["Meet regions that don't have an available store. Give up balancing"]
[2022/07/15 15:01:21.813 +08:00] [INFO] [batch_coprocessor.go:325] ["detecting available mpp stores"]
[2022/07/15 15:01:21.813 +08:00] [WARN] [batch_coprocessor.go:400] ["Meet regions that don't have an available store. Give up balancing"]
[2022/07/15 15:01:21.813 +08:00] [INFO] [mpp_gather.go:80] ["Dispatch mpp task"] [timestamp=434600275296387072] [ID=1] [address=tiflash0] [plan="Table(t1)->Send(2, )"]
[2022/07/15 15:01:21.813 +08:00] [INFO] [mpp_gather.go:80] ["Dispatch mpp task"] [timestamp=434600275296387072] [ID=2] [address=tiflash0] [plan="RightHashJoin{Recv(1, )->Table(t)}(test.t1.a,test.t.a)->HashAgg->Send(-1, )"]
[2022/07/15 15:01:22.814 +08:00] [WARN] [adapter.go:1067] ["# Txn_start_ts: 434600275296387072\n# Conn_ID: 6\n# Query_time: 1.001267\n# Parse_time: 0.000024542\n# Compile_time: 0.000190166\n# Rewrite_time: 0.000039375\n# Optimize_time: 0.000119583\n# Wait_TS: 0.000002833\n# Cop_time: 1.000635125 Request_count: 1\n# DB: test\n# Is_internal: false\n# Digest: eef68dc0a7a943f8b012666c1e1e0930019146e078ed2cdbd760bfd80d767b62\n# Stats: t1:pseudo,t:pseudo\n# Num_cop_tasks: 1\n# Cop_proc_avg: 0 Cop_proc_addr: tiflash0\n# Cop_wait_avg: 0 Cop_wait_addr: tiflash0\n# Mem_max: 10100\n# Prepared: false\n# Plan_from_cache: false\n# Plan_from_binding: false\n# Has_more_results: false\n# KV_total: 0\n# PD_total: 0\n# Backoff_total: 0\n# Write_sql_response_total: 0\n# Result_rows: 1\n# Succ: true\n# IsExplicitTxn: false\n# Plan: tidb_decode_plan('qAeIMAk2XzM0CTAJMQlmdW5jczpjb3VudChDb2x1bW4jNiktPkMJC6g1CTEJdGltZToxcywgbG9vcHM6MiwgcGFydGlhbF93b3JrZXI6e3dhbGxfCSfoLjAwMDc3MzQ1OHMsIGNvbmN1cnJlbmN5OjUsIHRhc2tfbnVtOjEsIHRvdF93YWl0OjUuMDAzNjMzOTUBMkB0b3RfZXhlYzoxNC41wrVzLAUSBVsJKSw1MTk1OXMsIG1heDoJbSg1NTEyNXMsIHA5NTISABh9LCBmaW5hYqYADDgwMDQFS6KmABA4MzM5MQFrGaYQOS40MTZKqAAIODU5ASkZpgQ3OAnhGaYJElR9CTkuODYgS0IJTi9BCjEJMzFfMzYJIZlUZGF0YTpFeGNoYW5nZVNlbmRlcl8zNVKQAShjb3BfdGFzazogeyFfBCAxKSAEIDAhFyhyb2Nfa2V5czogMCGScHByX2NhY2hlX2hpdF9yYXRpbzogMC4wMH0JTi9BAQQQCjIJNDkFahBfMQkxCRGCTFR5cGU6IFBhc3NUaHJvdWdoCTAJAS8BBBwKMwk2XzEyCQkyLlICADFZSwHWAS0BBBwKNAkxN18zMwkymDI1MDAJaW5uZXIgam9pbiwgZXF1YWw6W2VxKHRlc3QudDEuYSwgdAULDC5hKV0uegAYNQk0OF8yMQlJEDAwMDAJLh4AADYBywQyMB0eNs8AIEJyb2FkY2FzdC41ABg3CTQzXzE5HTWodGFibGU6dDEsIGtlZXAgb3JkZXI6ZmFsc2UsIHN0YXRzOnBzZXVkbwkwCQHeAQQBmQgzXzItFAWZDUauRQA=')\n# Plan_digest: f73b5f0f773253e7dafe631b2b106c6dbe52caadc1eed038f713bc348b7ca54d\nselect count(*) from t1 , t where t1.a = t.a;"]
[2022/07/15 15:01:22.815 +08:00] [INFO] [fragment.go:77] ["Mpp will generate tasks"] [plan=RightHashJoin{Recv()->Table(t)}(test.t1.a,test.t.a)->HashAgg->Send()]
[2022/07/15 15:01:22.815 +08:00] [INFO] [batch_coprocessor.go:325] ["detecting available mpp stores"]
[2022/07/15 15:01:22.815 +08:00] [WARN] [batch_coprocessor.go:359] ["Store is not ready"] ["store address"=tiflash1] ["err message"="not support this request type MPPAlive"]
[2022/07/15 15:01:22.815 +08:00] [WARN] [batch_coprocessor.go:359] ["Store is not ready"] ["store address"=tiflash0] ["err message"="not support this request type MPPAlive"]
[2022/07/15 15:01:22.815 +08:00] [WARN] [batch_coprocessor.go:400] ["Meet regions that don't have an available store. Give up balancing"]
[2022/07/15 15:01:22.815 +08:00] [INFO] [batch_coprocessor.go:325] ["detecting available mpp stores"]
[2022/07/15 15:01:22.815 +08:00] [WARN] [batch_coprocessor.go:400] ["Meet regions that don't have an available store. Give up balancing"]
[2022/07/15 15:01:22.815 +08:00] [INFO] [mpp_gather.go:80] ["Dispatch mpp task"] [timestamp=434600275559055360] [ID=1] [address=tiflash0] [plan="Table(t1)->Send(2, )"]
[2022/07/15 15:01:22.815 +08:00] [INFO] [mpp_gather.go:80] ["Dispatch mpp task"] [timestamp=434600275559055360] [ID=2] [address=tiflash0] [plan="RightHashJoin{Recv(1, )->Table(t)}(test.t1.a,test.t.a)->HashAgg->Send(-1, )"]
[2022/07/15 15:01:23.816 +08:00] [WARN] [adapter.go:1067] ["# Txn_start_ts: 434600275559055360\n# Conn_ID: 6\n# Query_time: 1.001883916\n# Parse_time: 0.000069208\n# Compile_time: 0.000341667\n# Rewrite_time: 0.00008375\n# Optimize_time: 0.0001815\n# Wait_TS: 0.000011333\n# Cop_time: 1.000964833 Request_count: 1\n# DB: test\n# Is_internal: false\n# Digest: eef68dc0a7a943f8b012666c1e1e0930019146e078ed2cdbd760bfd80d767b62\n# Stats: t1:pseudo,t:pseudo\n# Num_cop_tasks: 1\n# Cop_proc_avg: 0 Cop_proc_addr: tiflash0\n# Cop_wait_avg: 0 Cop_wait_addr: tiflash0\n# Mem_max: 10100\n# Prepared: false\n# Plan_from_cache: false\n# Plan_from_binding: false\n# Has_more_results: false\n# KV_total: 0\n# PD_total: 0\n# Backoff_total: 0\n# Write_sql_response_total: 0\n# Result_rows: 1\n# Succ: true\n# IsExplicitTxn: false\n# Plan: tidb_decode_plan('qAeIMAk2XzM0CTAJMQlmdW5jczpjb3VudChDb2x1bW4jNiktPkMJC6g1CTEJdGltZToxcywgbG9vcHM6MiwgcGFydGlhbF93b3JrZXI6e3dhbGxfCSfwTC4wMDEwODdzLCBjb25jdXJyZW5jeTo1LCB0YXNrX251bToxLCB0b3Rfd2FpdDo1LjAwNTA0Mzk1OHMsIHRvdF9leGVjOjEwLjQ1OcK1DRQFWgA1BSssNTczMzNzLCBtYXg6CWwMNjA1NAGdCHA5NTISABR9LCBmaW5mpQAUMTAwNzA5rqgAEDMzMjk2DZMAZQGnHDIyLjcwN8K1DRQZpxQzNTkxMjQypwAIODA4BbkZpwkSVH0JOS44NiBLQglOL0EKMQkzMV8zNgkhmVBkYXRhOkV4Y2hhbmdlU2VuZGVyXzNWkAEMY29wXyFgCDogeyFiBCAxKSFAIDBzLCBwcm9jX2tleXM6IDAhlXBwcl9jYWNoZV9oaXRfcmF0aW86IDAuMDB9CU4vQQEEEAoyCTQ5BWoQXzEJMQkRgkxUeXBlOiBQYXNzVGhyb3VnaAkwCQEvAQQcCjMJNl8xMgkJMi5SAgAxWUsB1gEtAQQcCjQJMTdfMzMJMpgyNTAwCWlubmVyIGpvaW4sIGVxdWFsOltlcSh0ZXN0LnQxLmEsIHQFCwwuYSldLnoAGDUJNDhfMjEJSRAwMDAwCS4eAAA2AcsEMjAdHjbPACBCcm9hZGNhc3QuNQAYNwk0M18xOR01qHRhYmxlOnQxLCBrZWVwIG9yZGVyOmZhbHNlLCBzdGF0czpwc2V1ZG8JMAkB3gEEAZkIM18yLRQFmQ1GrkUA')\n# Plan_digest: f73b5f0f773253e7dafe631b2b106c6dbe52caadc1eed038f713bc348b7ca54d\nselect count(*) from t1 , t where t1.a = t.a;"]
[2022/07/15 15:01:23.817 +08:00] [INFO] [fragment.go:77] ["Mpp will generate tasks"] [plan=RightHashJoin{Recv()->Table(t)}(test.t1.a,test.t.a)->HashAgg->Send()]
[2022/07/15 15:01:23.817 +08:00] [INFO] [batch_coprocessor.go:325] ["detecting available mpp stores"]
[2022/07/15 15:01:23.817 +08:00] [WARN] [batch_coprocessor.go:359] ["Store is not ready"] ["store address"=tiflash1] ["err message"="not support this request type MPPAlive"]
[2022/07/15 15:01:23.817 +08:00] [WARN] [batch_coprocessor.go:359] ["Store is not ready"] ["store address"=tiflash0] ["err message"="not support this request type MPPAlive"]
[2022/07/15 15:01:23.817 +08:00] [WARN] [batch_coprocessor.go:400] ["Meet regions that don't have an available store. Give up balancing"]
[2022/07/15 15:01:23.817 +08:00] [INFO] [batch_coprocessor.go:325] ["detecting available mpp stores"]
[2022/07/15 15:01:23.817 +08:00] [WARN] [batch_coprocessor.go:400] ["Meet regions that don't have an available store. Give up balancing"]
[2022/07/15 15:01:23.817 +08:00] [INFO] [mpp_gather.go:80] ["Dispatch mpp task"] [timestamp=434600275821461504] [ID=1] [address=tiflash0] [plan="Table(t1)->Send(2, )"]
[2022/07/15 15:01:23.817 +08:00] [INFO] [mpp_gather.go:80] ["Dispatch mpp task"] [timestamp=434600275821461504] [ID=2] [address=tiflash0] [plan="RightHashJoin{Recv(1, )->Table(t)}(test.t1.a,test.t.a)->HashAgg->Send(-1, )"]
[2022/07/15 15:01:24.817 +08:00] [WARN] [adapter.go:1067] ["# Txn_start_ts: 434600275821461504\n# Conn_ID: 6\n# Query_time: 1.001201667\n# Parse_time: 0.000046375\n# Compile_time: 0.000247917\n# Rewrite_time: 0.000055917\n# Optimize_time: 0.000135625\n# Wait_TS: 0.000007792\n# Cop_time: 1.000303458 Request_count: 1\n# DB: test\n# Is_internal: false\n# Digest: eef68dc0a7a943f8b012666c1e1e0930019146e078ed2cdbd760bfd80d767b62\n# Stats: t1:pseudo,t:pseudo\n# Num_cop_tasks: 1\n# Cop_proc_avg: 0 Cop_proc_addr: tiflash0\n# Cop_wait_avg: 0 Cop_wait_addr: tiflash0\n# Mem_max: 10100\n# Prepared: false\n# Plan_from_cache: false\n# Plan_from_binding: false\n# Has_more_results: false\n# KV_total: 0\n# PD_total: 0\n# Backoff_total: 0\n# Write_sql_response_total: 0\n# Result_rows: 1\n# Succ: true\n# IsExplicitTxn: false\n# Plan: tidb_decode_plan('pweIMAk2XzM0CTAJMQlmdW5jczpjb3VudChDb2x1bW4jNiktPkMJC6g1CTEJdGltZToxcywgbG9vcHM6MiwgcGFydGlhbF93b3JrZXI6e3dhbGxfCSfwTy4wMDAzNjY5MTdzLCBjb25jdXJyZW5jeTo1LCB0YXNrX251bToxLCB0b3Rfd2FpdDo1LjAwMTYzNjc0OXMsIHRvdF9leGVjOjkuMzMzwrVzCRMFXAkqDDUwNzUBjQxtYXg6CW4IMzM0BW4IcDk1MhIAFH0sIGZpbmqnABA4MzM3Na6nABA3NzkxNgHZFacUMjMuMjA4SqgADDgwNDgFXRmoBDY2AW0ZpgEQVH0JOS44NiBLQglOL0EKMQkzMV8zNgkhmFBkYXRhOkV4Y2hhbmdlU2VuZGVyXzNWjwEMY29wXyFcCDogeyFeCCAxLAV2QCAwcywgcHJvY19rZXlzOiAwIZFwcHJfY2FjaGVfaGl0X3JhdGlvOiAwLjAwfQlOL0EBBBAKMgk0OQVqEF8xCTEJEYJMVHlwZTogUGFzc1Rocm91Z2gJMAkBLwEEHAozCTZfMTIJCTIuUQIAMVlKAdYBLQEEHAo0CTE3XzMzCTKYMjUwMAlpbm5lciBqb2luLCBlcXVhbDpbZXEodGVzdC50MS5hLCB0BQsMLmEpXS56ABg1CTQ4XzIxCUkQMDAwMAkuHgAANgHLBDIwHR42zwAgQnJvYWRjYXN0LjUAGDcJNDNfMTkdNah0YWJsZTp0MSwga2VlcCBvcmRlcjpmYWxzZSwgc3RhdHM6cHNldWRvCTAJAd4BBAGZCDNfMi0UBZkNRq5FAA==')\n# Plan_digest: f73b5f0f773253e7dafe631b2b106c6dbe52caadc1eed038f713bc348b7ca54d\nselect count(*) from t1 , t where t1.a = t.a;"]
[2022/07/15 15:01:24.818 +08:00] [INFO] [fragment.go:77] ["Mpp will generate tasks"] [plan=RightHashJoin{Recv()->Table(t)}(test.t1.a,test.t.a)->HashAgg->Send()]
[2022/07/15 15:01:24.818 +08:00] [INFO] [batch_coprocessor.go:325] ["detecting available mpp stores"]
[2022/07/15 15:01:24.818 +08:00] [WARN] [batch_coprocessor.go:359] ["Store is not ready"] ["store address"=tiflash1] ["err message"="not support this request type MPPAlive"]
[2022/07/15 15:01:24.818 +08:00] [WARN] [batch_coprocessor.go:359] ["Store is not ready"] ["store address"=tiflash0] ["err message"="not support this request type MPPAlive"]
[2022/07/15 15:01:24.818 +08:00] [WARN] [batch_coprocessor.go:400] ["Meet regions that don't have an available store. Give up balancing"]
[2022/07/15 15:01:24.818 +08:00] [INFO] [batch_coprocessor.go:325] ["detecting available mpp stores"]
[2022/07/15 15:01:24.818 +08:00] [WARN] [batch_coprocessor.go:400] ["Meet regions that don't have an available store. Give up balancing"]
[2022/07/15 15:01:24.818 +08:00] [INFO] [mpp_gather.go:80] ["Dispatch mpp task"] [timestamp=434600276084129792] [ID=1] [address=tiflash0] [plan="Table(t1)->Send(2, )"]
[2022/07/15 15:01:24.818 +08:00] [INFO] [mpp_gather.go:80] ["Dispatch mpp task"] [timestamp=434600276084129792] [ID=2] [address=tiflash0] [plan="RightHashJoin{Recv(1, )->Table(t)}(test.t1.a,test.t.a)->HashAgg->Send(-1, )"]
[2022/07/15 15:01:25.819 +08:00] [WARN] [adapter.go:1067] ["# Txn_start_ts: 434600276084129792\n# Conn_ID: 6\n# Query_time: 1.000890791\n# Parse_time: 0.000046666\n# Compile_time: 0.000239458\n# Rewrite_time: 0.000056625\n# Optimize_time: 0.000128333\n# Wait_TS: 0.000006584\n# Cop_time: 1.000242041 Request_count: 1\n# DB: test\n# Is_internal: false\n# Digest: eef68dc0a7a943f8b012666c1e1e0930019146e078ed2cdbd760bfd80d767b62\n# Stats: t1:pseudo,t:pseudo\n# Num_cop_tasks: 1\n# Cop_proc_avg: 0 Cop_proc_addr: tiflash0\n# Cop_wait_avg: 0 Cop_wait_addr: tiflash0\n# Mem_max: 10100\n# Prepared: false\n# Plan_from_cache: false\n# Plan_from_binding: false\n# Has_more_results: false\n# KV_total: 0\n# PD_total: 0\n# Backoff_total: 0\n# Write_sql_response_total: 0\n# Result_rows: 1\n# Succ: true\n# IsExplicitTxn: false\n# Plan: tidb_decode_plan('qweIMAk2XzM0CTAJMQlmdW5jczpjb3VudChDb2x1bW4jNiktPkMJC6g1CTEJdGltZToxcywgbG9vcHM6MiwgcGFydGlhbF93b3JrZXI6e3dhbGxfCSfwTy4wMDAyOTQyMDhzLCBjb25jdXJyZW5jeTo1LCB0YXNrX251bToxLCB0b3Rfd2FpdDo1LjAwMTM2NTU4NHMsIHRvdF9leGVjOjkuMjkywrVzCRMFXAkqDDc4ODMBKgxtYXg6CW4MNzcyOQGfCHA5NTISABR9LCBmaW5mpwAUMzIxODc1rqcAGDQ2MDU4MnMJlABlAacUMTguMTY3SqgAHDQ4MTE2N3MsGagQMzA0NDEBEhWoDRJUfQk5Ljg2IEtCCU4vQQoxCTMxXzM2CSGcUGRhdGE6RXhjaGFuZ2VTZW5kZXJfM1aTAQxjb3BfIWAIOiB7IWIEIDEJekAgMHMsIHByb2Nfa2V5czogMCGVcHByX2NhY2hlX2hpdF9yYXRpbzogMC4wMH0JTi9BAQQQCjIJNDkFahBfMQkxCRGCTFR5cGU6IFBhc3NUaHJvdWdoCTAJAS8BBBwKMwk2XzEyCQkyLlUCADFZTgHWAS0BBBwKNAkxN18zMwkymDI1MDAJaW5uZXIgam9pbiwgZXF1YWw6W2VxKHRlc3QudDEuYSwgdAULDC5hKV0uegAYNQk0OF8yMQlJEDAwMDAJLh4AADYBywQyMB0eNs8AIEJyb2FkY2FzdC41ABg3CTQzXzE5HTWodGFibGU6dDEsIGtlZXAgb3JkZXI6ZmFsc2UsIHN0YXRzOnBzZXVkbwkwCQHeAQQBmQgzXzItFAWZDUauRQA=')\n# Plan_digest: f73b5f0f773253e7dafe631b2b106c6dbe52caadc1eed038f713bc348b7ca54d\nselect count(*) from t1 , t where t1.a = t.a;"]
[2022/07/15 15:01:25.819 +08:00] [INFO] [fragment.go:77] ["Mpp will generate tasks"] [plan=RightHashJoin{Recv()->Table(t)}(test.t1.a,test.t.a)->HashAgg->Send()]
[2022/07/15 15:01:25.819 +08:00] [INFO] [batch_coprocessor.go:325] ["detecting available mpp stores"]
[2022/07/15 15:01:25.819 +08:00] [WARN] [batch_coprocessor.go:359] ["Store is not ready"] ["store address"=tiflash1] ["err message"="not support this request type MPPAlive"]
[2022/07/15 15:01:25.819 +08:00] [WARN] [batch_coprocessor.go:359] ["Store is not ready"] ["store address"=tiflash0] ["err message"="not support this request type MPPAlive"]
[2022/07/15 15:01:25.819 +08:00] [WARN] [batch_coprocessor.go:400] ["Meet regions that don't have an available store. Give up balancing"]
[2022/07/15 15:01:25.819 +08:00] [INFO] [batch_coprocessor.go:325] ["detecting available mpp stores"]
[2022/07/15 15:01:25.819 +08:00] [WARN] [batch_coprocessor.go:400] ["Meet regions that don't have an available store. Give up balancing"]
[2022/07/15 15:01:25.819 +08:00] [INFO] [mpp_gather.go:80] ["Dispatch mpp task"] [timestamp=434600276346535936] [ID=1] [address=tiflash0] [plan="Table(t1)->Send(2, )"]
[2022/07/15 15:01:25.819 +08:00] [INFO] [mpp_gather.go:80] ["Dispatch mpp task"] [timestamp=434600276346535936] [ID=2] [address=tiflash0] [plan="RightHashJoin{Recv(1, )->Table(t)}(test.t1.a,test.t.a)->HashAgg->Send(-1, )"]
[2022/07/15 15:01:26.820 +08:00] [WARN] [adapter.go:1067] ["# Txn_start_ts: 434600276346535936\n# Conn_ID: 6\n# Query_time: 1.001698209\n# Parse_time: 0.000041584\n# Compile_time: 0.000246125\n# Rewrite_time: 0.000060875\n# Optimize_time: 0.000131583\n# Wait_TS: 0.000006875\n# Cop_time: 1.00104975 Request_count: 1\n# DB: test\n# Is_internal: false\n# Digest: eef68dc0a7a943f8b012666c1e1e0930019146e078ed2cdbd760bfd80d767b62\n# Stats: t:pseudo,t1:pseudo\n# Num_cop_tasks: 1\n# Cop_proc_avg: 0 Cop_proc_addr: tiflash0\n# Cop_wait_avg: 0 Cop_wait_addr: tiflash0\n# Mem_max: 10100\n# Prepared: false\n# Plan_from_cache: false\n# Plan_from_binding: false\n# Has_more_results: false\n# KV_total: 0\n# PD_total: 0\n# Backoff_total: 0\n# Write_sql_response_total: 0\n# Result_rows: 1\n# Succ: true\n# IsExplicitTxn: false\n# Plan: tidb_decode_plan('qQeIMAk2XzM0CTAJMQlmdW5jczpjb3VudChDb2x1bW4jNiktPkMJC6g1CTEJdGltZToxcywgbG9vcHM6MiwgcGFydGlhbF93b3JrZXI6e3dhbGxfCSfwTy4wMDExMDMxMjVzLCBjb25jdXJyZW5jeTo1LCB0YXNrX251bToxLCB0b3Rfd2FpdDo1LjAwNTQwMzM3NnMsIHRvdF9leGVjOjkuMDgzwrVzCRMFXAkqDDE1MDgBXAxtYXg6BW4IMDg1BW0IcDk1LhEAFH0sIGZpbmqlABAxNDc5MrKlABQ1OTQ1N3MJkgBlAaUcMTMuNTgywrUNFB2mDDc0NzUhMxmmDDk4NjYBPRmnCRJUfQk5Ljg2IEtCCU4vQQoxCTMxXzM2CSGaVGRhdGE6RXhjaGFuZ2VTZW5kZXJfMzVSkQEMY29wXyFeCDogeyFgCCAxLAV6QCAwcywgcHJvY19rZXlzOiAwIZNwcHJfY2FjaGVfaGl0X3JhdGlvOiAwLjAwfQlOL0EBBBAKMgk0OQVqEF8xCTEJEYJMVHlwZTogUGFzc1Rocm91Z2gJMAkBLwEEHAozCTZfMTIJCTIuUwIAMVlMAdYBLQEEHAo0CTE3XzMzCTKYMjUwMAlpbm5lciBqb2luLCBlcXVhbDpbZXEodGVzdC50MS5hLCB0BQsMLmEpXS56ABg1CTQ4XzIxCUkQMDAwMAkuHgAANgHLBDIwHR42zwAgQnJvYWRjYXN0LjUAGDcJNDNfMTkdNah0YWJsZTp0MSwga2VlcCBvcmRlcjpmYWxzZSwgc3RhdHM6cHNldWRvCTAJAd4BBAGZCDNfMi0UBZkNRq5FAA==')\n# Plan_digest: f73b5f0f773253e7dafe631b2b106c6dbe52caadc1eed038f713bc348b7ca54d\nselect count(*) from t1 , t where t1.a = t.a;"]
[2022/07/15 15:01:26.821 +08:00] [INFO] [fragment.go:77] ["Mpp will generate tasks"] [plan=RightHashJoin{Recv()->Table(t)}(test.t1.a,test.t.a)->HashAgg->Send()]
[2022/07/15 15:01:26.821 +08:00] [INFO] [batch_coprocessor.go:325] ["detecting available mpp stores"]
[2022/07/15 15:01:26.821 +08:00] [WARN] [batch_coprocessor.go:359] ["Store is not ready"] ["store address"=tiflash1] ["err message"="not support this request type MPPAlive"]
[2022/07/15 15:01:26.821 +08:00] [WARN] [batch_coprocessor.go:359] ["Store is not ready"] ["store address"=tiflash0] ["err message"="not support this request type MPPAlive"]
[2022/07/15 15:01:26.821 +08:00] [WARN] [batch_coprocessor.go:400] ["Meet regions that don't have an available store. Give up balancing"]
[2022/07/15 15:01:26.821 +08:00] [INFO] [batch_coprocessor.go:325] ["detecting available mpp stores"]
[2022/07/15 15:01:26.821 +08:00] [WARN] [batch_coprocessor.go:400] ["Meet regions that don't have an available store. Give up balancing"]
[2022/07/15 15:01:26.821 +08:00] [INFO] [mpp_gather.go:80] ["Dispatch mpp task"] [timestamp=434600276609204224] [ID=1] [address=tiflash0] [plan="Table(t1)->Send(2, )"]
[2022/07/15 15:01:26.821 +08:00] [INFO] [mpp_gather.go:80] ["Dispatch mpp task"] [timestamp=434600276609204224] [ID=2] [address=tiflash0] [plan="RightHashJoin{Recv(1, )->Table(t)}(test.t1.a,test.t.a)->HashAgg->Send(-1, )"]
[2022/07/15 15:01:27.821 +08:00] [WARN] [adapter.go:1067] ["# Txn_start_ts: 434600276609204224\n# Conn_ID: 6\n# Query_time: 1.000815874\n# Parse_time: 0.000041541\n# Compile_time: 0.000227458\n# Rewrite_time: 0.00005175\n# Optimize_time: 0.000126375\n# Wait_TS: 0.000006875\n# Cop_time: 1.000233458 Request_count: 1\n# DB: test\n# Is_internal: false\n# Digest: eef68dc0a7a943f8b012666c1e1e0930019146e078ed2cdbd760bfd80d767b62\n# Stats: t1:pseudo,t:pseudo\n# Num_cop_tasks: 1\n# Cop_proc_avg: 0 Cop_proc_addr: tiflash0\n# Cop_wait_avg: 0 Cop_wait_addr: tiflash0\n# Mem_max: 10100\n# Prepared: false\n# Plan_from_cache: false\n# Plan_from_binding: false\n# Has_more_results: false\n# KV_total: 0\n# PD_total: 0\n# Backoff_total: 0\n# Write_sql_response_total: 0\n# Result_rows: 1\n# Succ: true\n# IsExplicitTxn: false\n# Plan: tidb_decode_plan('oweIMAk2XzM0CTAJMQlmdW5jczpjb3VudChDb2x1bW4jNiktPkMJC6g1CTEJdGltZToxcywgbG9vcHM6MiwgcGFydGlhbF93b3JrZXI6e3dhbGxfCSfwTy4wMDAyNjYyOTJzLCBjb25jdXJyZW5jeTo1LCB0YXNrX251bToxLCB0b3Rfd2FpdDo1LjAwMTIyODk1OXMsIHRvdF9leGVjOjcuNTQywrVzCRMFXAkqLDM5MjA4cywgbWF4OgluIDUxNXMsIHA5NR0QFH0sIGZpbmqjABA3NDMzM76jAAgxNnMJkABlAaMMOC43NVaiAAGQHaAENTQFOR2iBRJUfQk5Ljg2IEtCCU4vQQoxCTMxXzM2CSGUUGRhdGE6RXhjaGFuZ2VTZW5kZXJfM1aLAShjb3BfdGFzazogeyFaBCAxKRoEIDAhEyhyb2Nfa2V5czogMCGNcHByX2NhY2hlX2hpdF9yYXRpbzogMC4wMH0JTi9BAQQQCjIJNDkFahBfMQkxCRGCTFR5cGU6IFBhc3NUaHJvdWdoCTAJAS8BBBwKMwk2XzEyCQkyLk0CADFZRgHWAS0BBBwKNAkxN18zMwkymDI1MDAJaW5uZXIgam9pbiwgZXF1YWw6W2VxKHRlc3QudDEuYSwgdAULDC5hKV0uegAYNQk0OF8yMQlJEDAwMDAJLh4AADYBywQyMB0eNs8AIEJyb2FkY2FzdC41ABg3CTQzXzE5HTWodGFibGU6dDEsIGtlZXAgb3JkZXI6ZmFsc2UsIHN0YXRzOnBzZXVkbwkwCQHeAQQBmQgzXzItFAWZDUauRQA=')\n# Plan_digest: f73b5f0f773253e7dafe631b2b106c6dbe52caadc1eed038f713bc348b7ca54d\nselect count(*) from t1 , t where t1.a = t.a;"]
[2022/07/15 15:01:27.822 +08:00] [INFO] [fragment.go:77] ["Mpp will generate tasks"] [plan=RightHashJoin{Recv()->Table(t)}(test.t1.a,test.t.a)->HashAgg->Send()]
[2022/07/15 15:01:27.822 +08:00] [INFO] [batch_coprocessor.go:325] ["detecting available mpp stores"]
[2022/07/15 15:01:27.822 +08:00] [WARN] [batch_coprocessor.go:359] ["Store is not ready"] ["store address"=tiflash1] ["err message"="not support this request type MPPAlive"]
[2022/07/15 15:01:27.822 +08:00] [WARN] [batch_coprocessor.go:359] ["Store is not ready"] ["store address"=tiflash0] ["err message"="not support this request type MPPAlive"]
[2022/07/15 15:01:27.822 +08:00] [WARN] [batch_coprocessor.go:400] ["Meet regions that don't have an available store. Give up balancing"]
[2022/07/15 15:01:27.822 +08:00] [INFO] [batch_coprocessor.go:325] ["detecting available mpp stores"]
[2022/07/15 15:01:27.822 +08:00] [WARN] [batch_coprocessor.go:400] ["Meet regions that don't have an available store. Give up balancing"]
[2022/07/15 15:01:27.822 +08:00] [INFO] [mpp_gather.go:80] ["Dispatch mpp task"] [timestamp=434600276871610368] [ID=1] [address=tiflash0] [plan="Table(t1)->Send(2, )"]
[2022/07/15 15:01:27.822 +08:00] [INFO] [mpp_gather.go:80] ["Dispatch mpp task"] [timestamp=434600276871610368] [ID=2] [address=tiflash0] [plan="RightHashJoin{Recv(1, )->Table(t)}(test.t1.a,test.t.a)->HashAgg->Send(-1, )"]
[2022/07/15 15:01:28.822 +08:00] [WARN] [adapter.go:1067] ["# Txn_start_ts: 434600276871610368\n# Conn_ID: 6\n# Query_time: 1.000655958\n# Parse_time: 0.00003975\n# Compile_time: 0.000240416\n# Rewrite_time: 0.00005375\n# Optimize_time: 0.000136875\n# Wait_TS: 0.000005958\n# Cop_time: 1.000053709 Request_count: 1\n# DB: test\n# Is_internal: false\n# Digest: eef68dc0a7a943f8b012666c1e1e0930019146e078ed2cdbd760bfd80d767b62\n# Stats: t1:pseudo,t:pseudo\n# Num_cop_tasks: 1\n# Cop_proc_avg: 0 Cop_proc_addr: tiflash0\n# Cop_wait_avg: 0 Cop_wait_addr: tiflash0\n# Mem_max: 10100\n# Prepared: false\n# Plan_from_cache: false\n# Plan_from_binding: false\n# Has_more_results: false\n# KV_total: 0\n# PD_total: 0\n# Backoff_total: 0\n# Write_sql_response_total: 0\n# Result_rows: 1\n# Succ: true\n# IsExplicitTxn: false\n# Plan: tidb_decode_plan('qQeIMAk2XzM0CTAJMQlmdW5jczpjb3VudChDb2x1bW4jNiktPkMJC6g1CTEJdGltZToxcywgbG9vcHM6MiwgcGFydGlhbF93b3JrZXI6e3dhbGxfCSfALjAwMDEwOTI1cywgY29uY3VycmVuY3k6NSwgdGFza19udW06MSwgdG90X3dhaXQ6NQExGDM4NzE2N3MJFzBleGVjOjEwLjI5MsK1DRQFXAA1ASswNDAwMTY2cywgbWF4OgVuEDA4NjU0AZ8IcDk1MhIAGH0sIGZpbmFmpwAQMTM5NTiuqAAQNDIzNTABawG/EagIMzc3TqgABDM1IQMZpgg5MDElFRmmCRJUfQk5Ljg2IEtCCU4vQQoxCTMxXzM2CSGaVGRhdGE6RXhjaGFuZ2VTZW5kZXJfMzVSkQEMY29wXyFfCDogeyFhBCAxKSBAIDBzLCBwcm9jX2tleXM6IDAhlHBwcl9jYWNoZV9oaXRfcmF0aW86IDAuMDB9CU4vQQEEEAoyCTQ5BWoQXzEJMQkRgkxUeXBlOiBQYXNzVGhyb3VnaAkwCQEvAQQcCjMJNl8xMgkJMi5TAgAxWUwB1gEtAQQcCjQJMTdfMzMJMpgyNTAwCWlubmVyIGpvaW4sIGVxdWFsOltlcSh0ZXN0LnQxLmEsIHQFCwwuYSldLnoAGDUJNDhfMjEJSRAwMDAwCS4eAAA2AcsEMjAdHjbPACBCcm9hZGNhc3QuNQAYNwk0M18xOR01qHRhYmxlOnQxLCBrZWVwIG9yZGVyOmZhbHNlLCBzdGF0czpwc2V1ZG8JMAkB3gEEAZkIM18yLRQFmQ1GrkUA')\n# Plan_digest: f73b5f0f773253e7dafe631b2b106c6dbe52caadc1eed038f713bc348b7ca54d\nselect count(*) from t1 , t where t1.a = t.a;"]
[2022/07/15 15:01:28.823 +08:00] [INFO] [fragment.go:77] ["Mpp will generate tasks"] [plan=RightHashJoin{Recv()->Table(t)}(test.t1.a,test.t.a)->HashAgg->Send()]
[2022/07/15 15:01:28.823 +08:00] [INFO] [batch_coprocessor.go:325] ["detecting available mpp stores"]
[2022/07/15 15:01:28.823 +08:00] [WARN] [batch_coprocessor.go:359] ["Store is not ready"] ["store address"=tiflash1] ["err message"="not support this request type MPPAlive"]
[2022/07/15 15:01:28.823 +08:00] [WARN] [batch_coprocessor.go:359] ["Store is not ready"] ["store address"=tiflash0] ["err message"="not support this request type MPPAlive"]
[2022/07/15 15:01:28.823 +08:00] [WARN] [batch_coprocessor.go:400] ["Meet regions that don't have an available store. Give up balancing"]
[2022/07/15 15:01:28.823 +08:00] [INFO] [batch_coprocessor.go:325] ["detecting available mpp stores"]
[2022/07/15 15:01:28.823 +08:00] [WARN] [batch_coprocessor.go:400] ["Meet regions that don't have an available store. Give up balancing"]
[2022/07/15 15:01:28.823 +08:00] [INFO] [mpp_gather.go:80] ["Dispatch mpp task"] [timestamp=434600277134016512] [ID=1] [address=tiflash0] [plan="Table(t1)->Send(2, )"]
[2022/07/15 15:01:28.823 +08:00] [INFO] [mpp_gather.go:80] ["Dispatch mpp task"] [timestamp=434600277134016512] [ID=2] [address=tiflash0] [plan="RightHashJoin{Recv(1, )->Table(t)}(test.t1.a,test.t.a)->HashAgg->Send(-1, )"]
[2022/07/15 15:01:29.823 +08:00] [WARN] [adapter.go:1067] ["# Txn_start_ts: 434600277134016512\n# Conn_ID: 6\n# Query_time: 1.000986375\n# Parse_time: 0.00004475\n# Compile_time: 0.000244375\n# Rewrite_time: 0.000056292\n# Optimize_time: 0.000135833\n# Wait_TS: 0.000006167\n# Cop_time: 1.000336458 Request_count: 1\n# DB: test\n# Is_internal: false\n# Digest: eef68dc0a7a943f8b012666c1e1e0930019146e078ed2cdbd760bfd80d767b62\n# Stats: t1:pseudo,t:pseudo\n# Num_cop_tasks: 1\n# Cop_proc_avg: 0 Cop_proc_addr: tiflash0\n# Cop_wait_avg: 0 Cop_wait_addr: tiflash0\n# Mem_max: 10100\n# Prepared: false\n# Plan_from_cache: false\n# Plan_from_binding: false\n# Has_more_results: false\n# KV_total: 0\n# PD_total: 0\n# Backoff_total: 0\n# Write_sql_response_total: 0\n# Result_rows: 1\n# Succ: true\n# IsExplicitTxn: false\n# Plan: tidb_decode_plan('qweIMAk2XzM0CTAJMQlmdW5jczpjb3VudChDb2x1bW4jNiktPkMJC6g1CTEJdGltZToxcywgbG9vcHM6MiwgcGFydGlhbF93b3JrZXI6e3dhbGxfCSfwTy4wMDAzOTQxMjVzLCBjb25jdXJyZW5jeTo1LCB0YXNrX251bToxLCB0b3Rfd2FpdDo1LjAwMTg2MDMzMnMsIHRvdF9leGVjOjEyLjc1wrVzCRMFXAkqLDc1OTE2cywgbWF4OgluDDc3MjkBnwhwOTUyEgAUfSwgZmluZqcAEDQwMjU0AXWipwAYOTE2Mzc0cwmUAGUNpwg4MzNKqAAMOTMwNwWWGagMODgwOAE9GagJElR9CTkuODYgS0IJTi9BCjEJMzFfMzYJIZxUZGF0YTpFeGNoYW5nZVNlbmRlcl8zNVKTAQxjb3BfIWAIOiB7IWIEIDEpIkAgMHMsIHByb2Nfa2V5czogMCGVcHByX2NhY2hlX2hpdF9yYXRpbzogMC4wMH0JTi9BAQQQCjIJNDkFahBfMQkxCRGCTFR5cGU6IFBhc3NUaHJvdWdoCTAJAS8BBBwKMwk2XzEyCQkyLlUCADFZTgHWAS0BBBwKNAkxN18zMwkymDI1MDAJaW5uZXIgam9pbiwgZXF1YWw6W2VxKHRlc3QudDEuYSwgdAULDC5hKV0uegAYNQk0OF8yMQlJEDAwMDAJLh4AADYBywQyMB0eNs8AIEJyb2FkY2FzdC41ABg3CTQzXzE5HTWodGFibGU6dDEsIGtlZXAgb3JkZXI6ZmFsc2UsIHN0YXRzOnBzZXVkbwkwCQHeAQQBmQgzXzItFAWZDUauRQA=')\n# Plan_digest: f73b5f0f773253e7dafe631b2b106c6dbe52caadc1eed038f713bc348b7ca54d\nselect count(*) from t1 , t where t1.a = t.a;"]
[2022/07/15 15:01:29.823 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=6] [schemaVersion=40] [cur_db=test] [sql="create table t2(a int primary key, b int not null)"] [user=]
[2022/07/15 15:01:29.824 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:78, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:77, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:29.824 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:29.824 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:78, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:77, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:29.824 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="create table t2(a int primary key, b int not null)"]
[2022/07/15 15:01:29.824 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 23, tp general"] [job="ID:78, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:77, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:29.824 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:29.824 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 23, tp general"] [job="ID:78, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:77, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:29.824 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:29.824 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=78]
[2022/07/15 15:01:29.824 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:29.824 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=40] [neededSchemaVersion=41] ["start time"=44.75µs] [phyTblIDs="[77]"] [actionTypes="[8]"]
[2022/07/15 15:01:29.824 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=6] [schemaVersion=41] [cur_db=test] [sql="alter table t2 set tiflash replica 1"] [user=]
[2022/07/15 15:01:29.825 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:79, Type:set tiflash replica, State:queueing, SchemaState:none, SchemaID:1, TableID:77, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:29.824 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:29.825 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:79, Type:set tiflash replica, State:queueing, SchemaState:none, SchemaID:1, TableID:77, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:29.824 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="alter table t2 set tiflash replica 1"]
[2022/07/15 15:01:29.825 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 23, tp general"] [job="ID:79, Type:set tiflash replica, State:queueing, SchemaState:none, SchemaID:1, TableID:77, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:29.824 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:29.825 +08:00] [INFO] [table.go:1109] ["Set TiFlash replica pd rule"] [tableID=77]
[2022/07/15 15:01:29.825 +08:00] [INFO] [info.go:1051] [ConfigureTiFlashPDForTable] [tableID=77] [count=1]
[2022/07/15 15:01:29.825 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 23, tp general"] [job="ID:79, Type:set tiflash replica, State:synced, SchemaState:public, SchemaID:1, TableID:77, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:29.824 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:29.825 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=79]
[2022/07/15 15:01:29.825 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:29.825 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=41] [neededSchemaVersion=42] ["start time"=45.25µs] [phyTblIDs="[]"] [actionTypes="[]"]
[2022/07/15 15:01:29.825 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:80, Type:update tiflash replica status, State:queueing, SchemaState:none, SchemaID:1, TableID:77, RowCount:0, ArgLen:2, start time: 2022-07-15 15:01:29.825 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:29.825 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:80, Type:update tiflash replica status, State:queueing, SchemaState:none, SchemaID:1, TableID:77, RowCount:0, ArgLen:2, start time: 2022-07-15 15:01:29.825 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query=]
[2022/07/15 15:01:29.825 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 23, tp general"] [job="ID:80, Type:update tiflash replica status, State:queueing, SchemaState:none, SchemaID:1, TableID:77, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:29.825 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:29.825 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 23, tp general"] [job="ID:80, Type:update tiflash replica status, State:synced, SchemaState:public, SchemaID:1, TableID:77, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:29.825 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:29.825 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=80]
[2022/07/15 15:01:29.825 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:29.826 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=42] [neededSchemaVersion=43] ["start time"=41.458µs] [phyTblIDs="[]"] [actionTypes="[]"]
[2022/07/15 15:01:29.826 +08:00] [INFO] [fragment.go:77] ["Mpp will generate tasks"] [plan=LeftHashJoin{RightHashJoin{Recv()->Table(t)}(test.t1.a,test.t.a)->Recv()}(test.t.a,test.t2.a)->HashAgg->Send()]
[2022/07/15 15:01:29.826 +08:00] [INFO] [batch_coprocessor.go:325] ["detecting available mpp stores"]
[2022/07/15 15:01:29.826 +08:00] [WARN] [batch_coprocessor.go:359] ["Store is not ready"] ["store address"=tiflash1] ["err message"="not support this request type MPPAlive"]
[2022/07/15 15:01:29.826 +08:00] [WARN] [batch_coprocessor.go:359] ["Store is not ready"] ["store address"=tiflash0] ["err message"="not support this request type MPPAlive"]
[2022/07/15 15:01:29.826 +08:00] [WARN] [batch_coprocessor.go:400] ["Meet regions that don't have an available store. Give up balancing"]
[2022/07/15 15:01:29.826 +08:00] [INFO] [batch_coprocessor.go:325] ["detecting available mpp stores"]
[2022/07/15 15:01:29.826 +08:00] [WARN] [batch_coprocessor.go:400] ["Meet regions that don't have an available store. Give up balancing"]
[2022/07/15 15:01:29.826 +08:00] [INFO] [batch_coprocessor.go:325] ["detecting available mpp stores"]
[2022/07/15 15:01:29.826 +08:00] [WARN] [batch_coprocessor.go:400] ["Meet regions that don't have an available store. Give up balancing"]
[2022/07/15 15:01:29.826 +08:00] [INFO] [mpp_gather.go:80] ["Dispatch mpp task"] [timestamp=434600277396946950] [ID=1] [address=tiflash0] [plan="Table(t1)->Send(3, )"]
[2022/07/15 15:01:29.826 +08:00] [INFO] [mpp_gather.go:80] ["Dispatch mpp task"] [timestamp=434600277396946950] [ID=2] [address=tiflash0] [plan="Table(t2)->Send(3, )"]
[2022/07/15 15:01:29.826 +08:00] [INFO] [mpp_gather.go:80] ["Dispatch mpp task"] [timestamp=434600277396946950] [ID=3] [address=tiflash0] [plan="LeftHashJoin{RightHashJoin{Recv(1, )->Table(t)}(test.t1.a,test.t.a)->Recv(2, )}(test.t.a,test.t2.a)->HashAgg->Send(-1, )"]
[2022/07/15 15:01:30.827 +08:00] [WARN] [adapter.go:1067] ["# Txn_start_ts: 434600277396946950\n# Conn_ID: 6\n# Query_time: 1.000880125\n# Parse_time: 0.000029959\n# Compile_time: 0.00026125\n# Rewrite_time: 0.000058375\n# Optimize_time: 0.000170208\n# Wait_TS: 0.000001833\n# Cop_time: 1.000255584 Request_count: 1\n# DB: test\n# Is_internal: false\n# Digest: 09af9174c37536cbf015a5023a9a0ec6d44f55e03b48eb18a1d3b35de29aa119\n# Stats: t2:pseudo,t1:pseudo,t:pseudo\n# Num_cop_tasks: 1\n# Cop_proc_avg: 0 Cop_proc_addr: tiflash0\n# Cop_wait_avg: 0 Cop_wait_addr: tiflash0\n# Mem_max: 10100\n# Prepared: false\n# Plan_from_cache: false\n# Plan_from_binding: false\n# Has_more_results: false\n# KV_total: 0\n# PD_total: 0\n# Backoff_total: 0\n# Write_sql_response_total: 0\n# Result_rows: 1\n# Succ: true\n# IsExplicitTxn: false\n# Plan: tidb_decode_plan('jQmIMAk2XzUyCTAJMQlmdW5jczpjb3VudChDb2x1bW4jOCktPkMJC6g3CTEJdGltZToxcywgbG9vcHM6MiwgcGFydGlhbF93b3JrZXI6e3dhbGxfCSfwTy4wMDAzMDQ2MjVzLCBjb25jdXJyZW5jeTo1LCB0YXNrX251bToxLCB0b3Rfd2FpdDo1LjAwMTQwODMzMnMsIHRvdF9leGVjOjYuOTE3wrVzCRMFXAkqLDE3NjY3cywgbWF4OgVuCDI4OQluCHA5NTISABR9LCBmaW5qpwAQMTIxNjaypwAUNzE5OTlzCZQAZQGnFDExLjcwOE6oABA4NTA4NDKoAAw5OTA0IUcZqAkSVH0JOS44NiBLQglOL0EKMQkzMV81NAkhnFRkYXRhOkV4Y2hhbmdlU2VuZGVyXzUzUpMBDGNvcF8hYAg6IHshYgQgMSkiQCAwcywgcHJvY19rZXlzOiAwIZVwcHJfY2FjaGVfaGl0X3JhdGlvOiAwLjAwfQlOL0EBBBAKMgk0OQVqEF8xCTEJEYJMVHlwZTogUGFzc1Rocm91Z2gJMAkBLwEEHAozCTZfMTUJCTIuVQIAMVlOADguMQAYNAkxN181MQkykDU2MjUJaW5uZXIgam9pbiwgZXF1YWw6W2VxKHRlc3QudC5hLCAJChAyLmEpXS5JAAA1AUkEMjIJSQwyNTAwckkAADEZSj5JABQ2CTQ4XzINxBAwMDAwCS5nAAA3IRQEMjQJZwUeNhgBIEJyb2FkY2FzdC41ABg4CTQzXzIzHTWgdGFibGU6dDEsIGtlZXAgb3JkZXI6ZmFsc2UsIHN0YXRzOnBzZXVkbwk9XAQ2CQFGADZGRgCuRQAANQXeADkdRS6pAAA2Bd4AOB0eit4AADcFmAA3HTUN3gAyrpkA')\n# Plan_digest: fe98ea1b08c0597a1e3c8327f29bc5789802bd9358d25a049fde0fd2883d9e34\nselect count(*) from t1 , t, t2 where t1.a = t.a and t2.a = t.a;"]
[2022/07/15 15:01:30.828 +08:00] [INFO] [fragment.go:77] ["Mpp will generate tasks"] [plan=RightHashJoin{Recv()->Table(t)}(test.t1.a,test.t.a)->Projection->HashAgg->Send()]
[2022/07/15 15:01:30.828 +08:00] [INFO] [batch_coprocessor.go:325] ["detecting available mpp stores"]
[2022/07/15 15:01:30.828 +08:00] [WARN] [batch_coprocessor.go:359] ["Store is not ready"] ["store address"=tiflash1] ["err message"="not support this request type MPPAlive"]
[2022/07/15 15:01:30.828 +08:00] [WARN] [batch_coprocessor.go:359] ["Store is not ready"] ["store address"=tiflash0] ["err message"="not support this request type MPPAlive"]
[2022/07/15 15:01:30.828 +08:00] [WARN] [batch_coprocessor.go:400] ["Meet regions that don't have an available store. Give up balancing"]
[2022/07/15 15:01:30.828 +08:00] [INFO] [batch_coprocessor.go:325] ["detecting available mpp stores"]
[2022/07/15 15:01:30.828 +08:00] [WARN] [batch_coprocessor.go:400] ["Meet regions that don't have an available store. Give up balancing"]
[2022/07/15 15:01:30.828 +08:00] [INFO] [mpp_gather.go:80] ["Dispatch mpp task"] [timestamp=434600277659615232] [ID=1] [address=tiflash0] [plan="Table(t1)->Send(2, )"]
[2022/07/15 15:01:30.828 +08:00] [INFO] [mpp_gather.go:80] ["Dispatch mpp task"] [timestamp=434600277659615232] [ID=2] [address=tiflash0] [plan="RightHashJoin{Recv(1, )->Table(t)}(test.t1.a,test.t.a)->Projection->HashAgg->Send(-1, )"]
[2022/07/15 15:01:31.830 +08:00] [WARN] [adapter.go:1067] ["# Txn_start_ts: 434600277659615232\n# Conn_ID: 6\n# Query_time: 1.001734874\n# Parse_time: 0.000062291\n# Compile_time: 0.000204666\n# Rewrite_time: 0.0000445\n# Optimize_time: 0.000122208\n# Wait_TS: 0.000005\n# Cop_time: 1.0009805 Request_count: 1\n# DB: test\n# Is_internal: false\n# Digest: f0eaec477ffa8443a96101d80cffd10beacebfffad058bed3148ae9e887a6200\n# Stats: t:pseudo,t1:pseudo\n# Num_cop_tasks: 1\n# Cop_proc_avg: 0 Cop_proc_addr: tiflash0\n# Cop_wait_avg: 0 Cop_wait_addr: tiflash0\n# Mem_max: 24460\n# Prepared: false\n# Plan_from_cache: false\n# Plan_from_binding: false\n# Has_more_results: false\n# KV_total: 0\n# PD_total: 0\n# Backoff_total: 0\n# Write_sql_response_total: 0\n# Result_rows: 1\n# Succ: true\n# IsExplicitTxn: false\n# Plan: tidb_decode_plan('sQh4MAk2XzM0CTAJMQlmdW5jczphdmcoQ29sdW1uIzYsIA0KDDcpLT4NC6g1CTEJdGltZToxcywgbG9vcHM6MiwgcGFydGlhbF93b3JrZXI6e3dhbGxfCSfoLjAwMTA5ODA4NHMsIGNvbmN1cnJlbmN5OjUsIHRhc2tfbnVtOjEsIHRvdF93YWl0OjUuMDA1MjY5NTgBMkh0b3RfZXhlYzoxMS45MTfCtXMsBRQFXQkrDDg4MjUBjgxtYXg6CW8oNjE5MTdzLCBwOTUyEgAUfSwgZmluZqgAFDE2OTkxNq6oABQ1MjM3NDgNlAWoFDI0LjE2OEqoABA1NTA2NgGWFagQMTQwNzABPRWoDRJQfQkyMy45IEtCCU4vQQoxCTMxXzM2JaVQZGF0YTpFeGNoYW5nZVNlbmRlcl8zVpQBDGNvcF8hYQg6IHshYwggMSwFegQgMCEZKHJvY19rZXlzOiAwIZZwcHJfY2FjaGVfaGl0X3JhdGlvOiAwLjAwfQlOL0EBBBAKMgk0OQVqEF8xCTEJEYJMVHlwZTogUGFzc1Rocm91Z2gJMAkBLwEEHAozCTZfMTIJCTJJXhBjb3VudFFgADhZVgg2LCAJIQhzdW0RHwA5GR8ANy5XABQ0CTNfNDMJV1AyNTAwCXRlc3QudDEuYSwgY2FzdCgdEExkZWNpbWFsKDE0LDQpIEJJTkFSWRlXADkuVwAUNQkxN18zLlgAUGlubmVyIGpvaW4sIGVxdWFsOltlcS5eAAlpDC5hKV0uSQAYNgk0OF8yMQmhEDAwMDAJLh4AADchSAQyMB0eNkwBEEJyb2FkAccuNQAYOAk0M18xOR01qHRhYmxlOnQxLCBrZWVwIG9yZGVyOmZhbHNlLCBzdGF0czpwc2V1ZG8JMAkhjAEEGAo2CTQzXzItkQWZDUauRQA=')\n# Plan_digest: ea722c3efd50136d4c46e041af9ff19b33cd890f22f4698869da5df948cbbbf4\nselect avg(t1.a) from t1 , t where t1.a = t.a;"]
[2022/07/15 15:01:31.831 +08:00] [INFO] [fragment.go:77] ["Mpp will generate tasks"] [plan="RightHashJoin{Recv()->Table(t)->Sel([not(isnull(plus(test.t.b, 4)))])->Projection}(Column#3,Column#6)->HashAgg->Send()"]
[2022/07/15 15:01:31.831 +08:00] [INFO] [batch_coprocessor.go:325] ["detecting available mpp stores"]
[2022/07/15 15:01:31.831 +08:00] [WARN] [batch_coprocessor.go:359] ["Store is not ready"] ["store address"=tiflash1] ["err message"="not support this request type MPPAlive"]
[2022/07/15 15:01:31.831 +08:00] [WARN] [batch_coprocessor.go:359] ["Store is not ready"] ["store address"=tiflash0] ["err message"="not support this request type MPPAlive"]
[2022/07/15 15:01:31.831 +08:00] [WARN] [batch_coprocessor.go:400] ["Meet regions that don't have an available store. Give up balancing"]
[2022/07/15 15:01:31.831 +08:00] [INFO] [batch_coprocessor.go:325] ["detecting available mpp stores"]
[2022/07/15 15:01:31.831 +08:00] [WARN] [batch_coprocessor.go:400] ["Meet regions that don't have an available store. Give up balancing"]
[2022/07/15 15:01:31.831 +08:00] [INFO] [mpp_gather.go:80] ["Dispatch mpp task"] [timestamp=434600277922545664] [ID=1] [address=tiflash0] [plan="Table(t1)->Sel([not(isnull(mul(test.t1.a, 2)))])->Projection->Send(2, )"]
[2022/07/15 15:01:31.832 +08:00] [INFO] [mpp_gather.go:80] ["Dispatch mpp task"] [timestamp=434600277922545664] [ID=2] [address=tiflash0] [plan="RightHashJoin{Recv(1, )->Table(t)->Sel([not(isnull(plus(test.t.b, 4)))])->Projection}(Column#3,Column#6)->HashAgg->Send(-1, )"]
[2022/07/15 15:01:32.832 +08:00] [WARN] [adapter.go:1067] ["# Txn_start_ts: 434600277922545664\n# Conn_ID: 6\n# Query_time: 1.002263375\n# Parse_time: 0.000154875\n# Compile_time: 0.000674958\n# Rewrite_time: 0.000155334\n# Optimize_time: 0.000384167\n# Wait_TS: 0.00001625\n# Cop_time: 1.000318625 Request_count: 1\n# DB: test\n# Is_internal: false\n# Digest: 1b21191d3c378f2697d0ce380cff943459c58ca22fb46b336b8fadc9446dc126\n# Stats: t:pseudo,t1:pseudo\n# Num_cop_tasks: 1\n# Cop_proc_avg: 0 Cop_proc_addr: tiflash0\n# Cop_wait_avg: 0 Cop_wait_addr: tiflash0\n# Mem_max: 10100\n# Prepared: false\n# Plan_from_cache: false\n# Plan_from_binding: false\n# Has_more_results: false\n# KV_total: 0\n# PD_total: 0\n# Backoff_total: 0\n# Write_sql_response_total: 0\n# Result_rows: 1\n# Succ: true\n# IsExplicitTxn: false\n# Plan: tidb_decode_plan('iQmIMAk2XzQwCTAJMQlmdW5jczpjb3VudChDb2x1bW4jMTIpLT4NDKg3CTEJdGltZToxcywgbG9vcHM6MiwgcGFydGlhbF93b3JrZXI6e3dhbGxfCSfwTy4wMDA0ODY5MTdzLCBjb25jdXJyZW5jeTo1LCB0YXNrX251bToxLCB0b3Rfd2FpdDo1LjAwMTcwNzVzLCB0b3RfZXhlYzo5LjY2N8K1cywgARMFWgkoDDIwNDUBWgxtYXg6BWwsMzQ2MDg0cywgcDk1MhIAGH0sIGZpbmFmpQAQOTUwODOupQAUNjU2MjA4DZQNpxAzNzXCtQ0TGacQNjY3NTAhMh2nCDczMzqnAAUSUH0JOS44NiBLQglOL0EKMQkzMV80MiWaVGRhdGE6RXhjaGFuZ2VTZW5kZXJfNDFSkAEMY29wXyFdCDogeyFfCCAxLAV6BCAwIRgocm9jX2tleXM6IDAhknBwcl9jYWNoZV9oaXRfcmF0aW86IDAuMDB9CU4vQQEEEAoyCTQ5BWoAXwFuEYJMVHlwZTogUGFzc1Rocm91Z2gJMAkBLwEEHAozCTZfMTQJCTIuUwIAMVlLADEB1wEuAQQcCjQJMTdfMzkJM2QwMDAwCWlubmVyIGpvaW4sIGVxdWFsOltlcVGUCDMsIE2SCDYpXS56ABg1CTQ4XzI1BUgAOAFHLh0AADYBygAyCZgFHTbNACBCcm9hZGNhc3QuNAAUNwkzXzIxGVA4bXVsKHRlc3QudDEuYSwgfRwAMy43ABQ4CTFfMjMZNyhub3QoaXNudWxsKEJCAAQpKS46ABg5CTQzXzIyBTspCqB0YWJsZTp0MSwga2VlcCBvcmRlcjpmYWxzZSwgc3RhdHM6cHNldWRvCT2CADUBtwA2BUUgODAwMAlwbHVzDbgQLmIsIDQ5iAA2Ln0AATIAMgG8ADEJNx23QkIANrcABDcJAbcANwVyMrcArrYA')\n# Plan_digest: 5366436fb70c8438ee6d9cebdcee042a7dbc7c9f76ddcd4af138d227ab4d892a\nselect count(*) from (select a * 2 as a from t1) t1 , (select b + 4 as a from t)t where t1.a = t.a;"]
[2022/07/15 15:01:32.833 +08:00] [INFO] [fragment.go:77] ["Mpp will generate tasks"] [plan=RightHashJoin{Recv()->Recv()}(test.t1.a,test.t.a)->HashAgg->Send()]
[2022/07/15 15:01:32.833 +08:00] [INFO] [batch_coprocessor.go:325] ["detecting available mpp stores"]
[2022/07/15 15:01:32.833 +08:00] [WARN] [batch_coprocessor.go:359] ["Store is not ready"] ["store address"=tiflash0] ["err message"="not support this request type MPPAlive"]
[2022/07/15 15:01:32.833 +08:00] [WARN] [batch_coprocessor.go:359] ["Store is not ready"] ["store address"=tiflash1] ["err message"="not support this request type MPPAlive"]
[2022/07/15 15:01:32.833 +08:00] [WARN] [batch_coprocessor.go:400] ["Meet regions that don't have an available store. Give up balancing"]
[2022/07/15 15:01:32.833 +08:00] [INFO] [batch_coprocessor.go:325] ["detecting available mpp stores"]
[2022/07/15 15:01:32.833 +08:00] [WARN] [batch_coprocessor.go:400] ["Meet regions that don't have an available store. Give up balancing"]
[2022/07/15 15:01:32.833 +08:00] [INFO] [mpp_gather.go:80] ["Dispatch mpp task"] [timestamp=434600278185213952] [ID=1] [address=tiflash0] [plan="Table(t1)->Send(3, )"]
[2022/07/15 15:01:32.833 +08:00] [INFO] [mpp_gather.go:80] ["Dispatch mpp task"] [timestamp=434600278185213952] [ID=2] [address=tiflash0] [plan="Table(t)->Send(3, )"]
[2022/07/15 15:01:32.833 +08:00] [INFO] [mpp_gather.go:80] ["Dispatch mpp task"] [timestamp=434600278185213952] [ID=3] [address=tiflash0] [plan="RightHashJoin{Recv(1, )->Recv(2, )}(test.t1.a,test.t.a)->HashAgg->Send(-1, )"]
[2022/07/15 15:01:33.834 +08:00] [WARN] [adapter.go:1067] ["# Txn_start_ts: 434600278185213952\n# Conn_ID: 6\n# Query_time: 1.001237084\n# Parse_time: 0.000031792\n# Compile_time: 0.000214875\n# Rewrite_time: 0.000050458\n# Optimize_time: 0.000134666\n# Wait_TS: 0.000006292\n# Cop_time: 1.000616709 Request_count: 1\n# DB: test\n# Is_internal: false\n# Digest: eef68dc0a7a943f8b012666c1e1e0930019146e078ed2cdbd760bfd80d767b62\n# Stats: t1:pseudo,t:pseudo\n# Num_cop_tasks: 1\n# Cop_proc_avg: 0 Cop_proc_addr: tiflash0\n# Cop_wait_avg: 0 Cop_wait_addr: tiflash0\n# Mem_max: 10100\n# Prepared: false\n# Plan_from_cache: false\n# Plan_from_binding: false\n# Has_more_results: false\n# KV_total: 0\n# PD_total: 0\n# Backoff_total: 0\n# Write_sql_response_total: 0\n# Result_rows: 1\n# Succ: true\n# IsExplicitTxn: false\n# Plan: tidb_decode_plan('3QiIMAk2XzM2CTAJMQlmdW5jczpjb3VudChDb2x1bW4jNiktPkMJC6g1CTEJdGltZToxcywgbG9vcHM6MiwgcGFydGlhbF93b3JrZXI6e3dhbGxfCSfwTy4wMDA2NzE1ODNzLCBjb25jdXJyZW5jeTo1LCB0YXNrX251bToxLCB0b3Rfd2FpdDo1LjAwMzIzOTEyNXMsIHRvdF9leGVjOjYuODMzwrVzCRMFXAkqCDQ4NwEpDG1heDoJbQQ1NAk7CHA5NTISABR9LCBmaW5qpgAIODIyAUqipQAYMzE0NzA2cwmSAGUBpQQxM0qiAAgzMjk+owAYNjc3MDlzLB2jCRJQfQk5Ljg2IEtCCU4vQQoxCTMxXzM4JZZUZGF0YTpFeGNoYW5nZVNlbmRlcl8zN1KNAQxjb3BfIVoIOiB7IVwIIDEsJR0EIDABcShyb2Nfa2V5czogMCGPcHByX2NhY2hlX2hpdF9yYXRpbzogMC4wMH0JTi9BAQQQCjIJNDkFahBfMQkxCRGCTFR5cGU6IFBhc3NUaHJvdWdoCTAJAS8BBBwKMwk2XzEyCQkyLk8CADFZSEFsAS0BBBwKNAkxN18zNQkymDI1MDAJaW5uZXIgam9pbiwgZXF1YWw6W2VxKHRlc3QudDEuYSwgdAULDC5hKV0uegAYNQk0OF8yMQlJEDAwMDAJLh4AADYBywQyMB0eNs8AEEhhc2hQQcoQdGlvbiwFDzAgQ29sczogW25hbWU6DXUFgDhjb2xsYXRlOiBiaW5hcnkyhgAYNwk0M18xOR1oqHRhYmxlOnQxLCBrZWVwIG9yZGVyOmZhbHNlLCBzdGF0czpwc2V1ZG8JMAkhEQEEDcwANB1GRswAADMdHtLMAAQuYUEGessAADItzCVRDcuuygA=')\n# Plan_digest: 1643134464a8c8e5954b6a776d051597e0bba4089bed5e6f2109b3539c4e7fb0\nselect count(*) from t1 , t where t1.a = t.a;"]
[2022/07/15 15:01:33.834 +08:00] [INFO] [fragment.go:77] ["Mpp will generate tasks"] [plan=LeftHashJoin{RightHashJoin{Recv()->Recv()}(test.t1.a,test.t.a)->Recv()}(test.t.a,test.t2.a)->HashAgg->Send()]
[2022/07/15 15:01:33.834 +08:00] [INFO] [batch_coprocessor.go:325] ["detecting available mpp stores"]
[2022/07/15 15:01:33.834 +08:00] [WARN] [batch_coprocessor.go:359] ["Store is not ready"] ["store address"=tiflash1] ["err message"="not support this request type MPPAlive"]
[2022/07/15 15:01:33.834 +08:00] [WARN] [batch_coprocessor.go:359] ["Store is not ready"] ["store address"=tiflash0] ["err message"="not support this request type MPPAlive"]
[2022/07/15 15:01:33.834 +08:00] [WARN] [batch_coprocessor.go:400] ["Meet regions that don't have an available store. Give up balancing"]
[2022/07/15 15:01:33.834 +08:00] [INFO] [batch_coprocessor.go:325] ["detecting available mpp stores"]
[2022/07/15 15:01:33.834 +08:00] [WARN] [batch_coprocessor.go:400] ["Meet regions that don't have an available store. Give up balancing"]
[2022/07/15 15:01:33.834 +08:00] [INFO] [batch_coprocessor.go:325] ["detecting available mpp stores"]
[2022/07/15 15:01:33.834 +08:00] [WARN] [batch_coprocessor.go:400] ["Meet regions that don't have an available store. Give up balancing"]
[2022/07/15 15:01:33.834 +08:00] [INFO] [mpp_gather.go:80] ["Dispatch mpp task"] [timestamp=434600278447620096] [ID=1] [address=tiflash0] [plan="Table(t1)->Send(4, )"]
[2022/07/15 15:01:33.834 +08:00] [INFO] [mpp_gather.go:80] ["Dispatch mpp task"] [timestamp=434600278447620096] [ID=2] [address=tiflash0] [plan="Table(t)->Send(4, )"]
[2022/07/15 15:01:33.834 +08:00] [INFO] [mpp_gather.go:80] ["Dispatch mpp task"] [timestamp=434600278447620096] [ID=3] [address=tiflash0] [plan="Table(t2)->Send(4, )"]
[2022/07/15 15:01:33.834 +08:00] [INFO] [mpp_gather.go:80] ["Dispatch mpp task"] [timestamp=434600278447620096] [ID=4] [address=tiflash0] [plan="LeftHashJoin{RightHashJoin{Recv(1, )->Recv(2, )}(test.t1.a,test.t.a)->Recv(3, )}(test.t.a,test.t2.a)->HashAgg->Send(-1, )"]
[2022/07/15 15:01:34.836 +08:00] [WARN] [adapter.go:1067] ["# Txn_start_ts: 434600278447620096\n# Conn_ID: 6\n# Query_time: 1.001560874\n# Parse_time: 0.000044833\n# Compile_time: 0.000288875\n# Rewrite_time: 0.000057125\n# Optimize_time: 0.000173833\n# Wait_TS: 0.000006917\n# Cop_time: 1.000786875 Request_count: 1\n# DB: test\n# Is_internal: false\n# Digest: 09af9174c37536cbf015a5023a9a0ec6d44f55e03b48eb18a1d3b35de29aa119\n# Stats: t1:pseudo,t:pseudo,t2:pseudo\n# Num_cop_tasks: 1\n# Cop_proc_avg: 0 Cop_proc_addr: tiflash0\n# Cop_wait_avg: 0 Cop_wait_addr: tiflash0\n# Mem_max: 10100\n# Prepared: false\n# Plan_from_cache: false\n# Plan_from_binding: false\n# Has_more_results: false\n# KV_total: 0\n# PD_total: 0\n# Backoff_total: 0\n# Write_sql_response_total: 0\n# Result_rows: 1\n# Succ: true\n# IsExplicitTxn: false\n# Plan: tidb_decode_plan('9AqIMAk2XzU1CTAJMQlmdW5jczpjb3VudChDb2x1bW4jOCktPkMJC6g3CTEJdGltZToxcywgbG9vcHM6MiwgcGFydGlhbF93b3JrZXI6e3dhbGxfCSfwTy4wMDA4NDQ3MDlzLCBjb25jdXJyZW5jeTo1LCB0YXNrX251bToxLCB0b3Rfd2FpdDo1LjAwNDA3NTEyM3MsIHRvdF9leGVjOjYuNTgzwrVzCRMFXAkqLDg0Mzc1cywgbWF4OgluKDIyNDE3cywgcDk1MhIAGH0sIGZpbmFmpwAENzEBSaKlABgyMDY1NDJzCZIAZQGlFDE3LjYyMkqmABAyMjYwNCEzGaYINDkyAW4ZpQURUH0JOS44NiBLQglOL0EKMQkzMV81NyWYVGRhdGE6RXhjaGFuZ2VTZW5kZXJfNTZSjwEMY29wXyFcCDogeyFeBCAxKR4EIDAhFShyb2Nfa2V5czogMCGRcHByX2NhY2hlX2hpdF9yYXRpbzogMC4wMH0JTi9BAQQUCjIJNDlfAWoQXzEJMQkRgkxUeXBlOiBQYXNzVGhyb3VnaAkwCQEvAQQcCjMJNl8xNQkJMi5RAgAxWUoAOC4xABg0CTE3XzU0CTKQNTYyNQlpbm5lciBqb2luLCBlcXVhbDpbZXEodGVzdC50LmEsIAkKEDIuYSldLkkAADUBSQQyMglJDDI1MDBySQAAMRlKPkkAGDYJNDhfMjYJSRAwMDAwCS5nAAA3IRQAMg3iBR42GAEQSGFzaFBhFRB0aW9uLAUPNCBDb2xzOiBbbmFtZTogCb8FgDhjb2xsYXRlOiBiaW5hcnkyzwAUOAk0M18yLRgFaKB0YWJsZTp0MSwga2VlcCBvcmRlcjpmYWxzZSwgc3RhdHM6cHNldWRvCT2PCcwAOXLMAAA4HR7SzAAhS4bLAAA3HWcNy67KAAA1IZYAMy3fJRAulgEANiGWBDMxHWPSygAAMn7LABg3CTQzXzMwHWgNywAyrswA')\n# Plan_digest: ee15d789d7a7e42f9de4a0146e134e53b33a6f43e971cca2c076eb353e7c79e5\nselect count(*) from t1 , t, t2 where t1.a = t.a and t2.a = t.a;"]
[2022/07/15 15:01:34.836 +08:00] [INFO] [fragment.go:77] ["Mpp will generate tasks"] [plan=Recv()->HashAgg->Projection->Send()]
[2022/07/15 15:01:34.836 +08:00] [INFO] [batch_coprocessor.go:325] ["detecting available mpp stores"]
[2022/07/15 15:01:34.836 +08:00] [WARN] [batch_coprocessor.go:359] ["Store is not ready"] ["store address"=tiflash0] ["err message"="not support this request type MPPAlive"]
[2022/07/15 15:01:34.836 +08:00] [WARN] [batch_coprocessor.go:359] ["Store is not ready"] ["store address"=tiflash1] ["err message"="not support this request type MPPAlive"]
[2022/07/15 15:01:34.836 +08:00] [WARN] [batch_coprocessor.go:400] ["Meet regions that don't have an available store. Give up balancing"]
[2022/07/15 15:01:34.836 +08:00] [INFO] [batch_coprocessor.go:325] ["detecting available mpp stores"]
[2022/07/15 15:01:34.836 +08:00] [WARN] [batch_coprocessor.go:400] ["Meet regions that don't have an available store. Give up balancing"]
[2022/07/15 15:01:34.836 +08:00] [INFO] [mpp_gather.go:80] ["Dispatch mpp task"] [timestamp=434600278710288386] [ID=1] [address=tiflash0] [plan="Table(t1)->Send(3, )"]
[2022/07/15 15:01:34.836 +08:00] [INFO] [mpp_gather.go:80] ["Dispatch mpp task"] [timestamp=434600278710288386] [ID=2] [address=tiflash0] [plan="Table(t2)->Send(3, )"]
[2022/07/15 15:01:34.836 +08:00] [INFO] [mpp_gather.go:80] ["Dispatch mpp task"] [timestamp=434600278710288386] [ID=3] [address=tiflash0] [plan="LeftHashJoin{Recv(1, )->Recv(2, )}(test.t1.a,test.t2.a)->Send(4, )"]
[2022/07/15 15:01:34.836 +08:00] [INFO] [mpp_gather.go:80] ["Dispatch mpp task"] [timestamp=434600278710288386] [ID=4] [address=tiflash0] [plan="Recv(3, )->HashAgg->Projection->Send(-1, )"]
[2022/07/15 15:01:35.837 +08:00] [WARN] [adapter.go:1067] ["# Txn_start_ts: 434600278710288386\n# Conn_ID: 6\n# Query_time: 1.001246334\n# Parse_time: 0.000073417\n# Compile_time: 0.000263167\n# Rewrite_time: 0.000054875\n# Optimize_time: 0.000159\n# Wait_TS: 0.00000525\n# Cop_time: 1.000493834 Request_count: 1\n# DB: test\n# Is_internal: false\n# Digest: 9bdd862584ed062497b3c0d90e44d185fcca564afaa2a0c08311a1ad4040a3a9\n# Stats: t1:pseudo,t2:pseudo\n# Num_cop_tasks: 1\n# Cop_proc_avg: 0 Cop_proc_addr: tiflash0\n# Cop_wait_avg: 0 Cop_wait_addr: tiflash0\n# Mem_max: 776\n# Prepared: false\n# Plan_from_cache: false\n# Plan_from_binding: false\n# Has_more_results: false\n# KV_total: 0\n# PD_total: 0\n# Backoff_total: 0\n# Write_sql_response_total: 0\n# Result_rows: 2\n# Succ: true\n# IsExplicitTxn: false\n# Plan: tidb_decode_plan('hgjQMAkxNF84CTAJODAwMAlDb2x1bW4jNQkyCXRpbWU6MXMsIGxvb3BzOjIJNzc2IEJ5dGVzCTAJCBwKMQkzMV80MhE9VGRhdGE6RXhjaGFuZ2VTZW5kZXJfNDFKSwDwWywgY29wX3Rhc2s6IHtudW06IDEsIG1heDogMHMsIHByb2Nfa2V5czogMCwgY29wcl9jYWNoZV9oaXRfcmF0aW86IDAuMDB9CU4vQQlOL0EKMgk0OV80MQkxXzEJBccRhUxUeXBlOiBQYXNzVGhyb3VnaAkwCRU2HDMJM180MAkxETUR/CgsIHRlc3QudDIuYi4vABQ0CTZfMTQZLyBncm91cCBieToVLkQsIGZ1bmNzOmNvdW50KDEpLT4ZUwkaIGZpcnN0cm93KBU0CCktPhUMLm4AGDUJNDhfMzkFbxQxMjUwMAkuHgAYNgk0OV8zOB0eNvIANEhhc2hQYXJ0aXRpb24sBQ8wIENvbHM6IFtuYW1lOhniIYs0bGxhdGU6IGJpbmFyeV0uaAAYNwkxN18zNx1oZGxlZnQgb3V0ZXIgam9pbiwgZXF1YWw6W2VxDdQIMS5hOUEEYSkyTwAAOAHVBDIzCU8AMEFwLm0AADkB1QQyMh0e0tUABYEAY2rVABgxMAk0M18ySS8Jh6B0YWJsZTp0MSwga2VlcCBvcmRlcjpmYWxzZSwgc3RhdHM6cHNldWRvCV0/Cc0ANh2vRs0AADUdHtLNAAAyIU6KzQBJmDLNAAAyrs0A')\n# Plan_digest: 3bd97b70fd0e35d8a177364d372212fd4bca01a126b908d595e358e0df66f767\nselect count(*) k, t2.b from t1 left join t2 on t1.a = t2.a group by t2.b order by k;"]
[2022/07/15 15:01:35.838 +08:00] [INFO] [fragment.go:77] ["Mpp will generate tasks"] [plan=Recv()->HashAgg->Projection->Send()]
[2022/07/15 15:01:35.838 +08:00] [INFO] [batch_coprocessor.go:325] ["detecting available mpp stores"]
[2022/07/15 15:01:35.838 +08:00] [WARN] [batch_coprocessor.go:359] ["Store is not ready"] ["store address"=tiflash1] ["err message"="not support this request type MPPAlive"]
[2022/07/15 15:01:35.838 +08:00] [WARN] [batch_coprocessor.go:359] ["Store is not ready"] ["store address"=tiflash0] ["err message"="not support this request type MPPAlive"]
[2022/07/15 15:01:35.838 +08:00] [WARN] [batch_coprocessor.go:400] ["Meet regions that don't have an available store. Give up balancing"]
[2022/07/15 15:01:35.838 +08:00] [INFO] [batch_coprocessor.go:325] ["detecting available mpp stores"]
[2022/07/15 15:01:35.838 +08:00] [WARN] [batch_coprocessor.go:400] ["Meet regions that don't have an available store. Give up balancing"]
[2022/07/15 15:01:35.838 +08:00] [INFO] [mpp_gather.go:80] ["Dispatch mpp task"] [timestamp=434600278972956672] [ID=1] [address=tiflash0] [plan="Table(t1)->Send(3, )"]
[2022/07/15 15:01:35.839 +08:00] [INFO] [mpp_gather.go:80] ["Dispatch mpp task"] [timestamp=434600278972956672] [ID=2] [address=tiflash0] [plan="Table(t2)->Send(3, )"]
[2022/07/15 15:01:35.839 +08:00] [INFO] [mpp_gather.go:80] ["Dispatch mpp task"] [timestamp=434600278972956672] [ID=3] [address=tiflash0] [plan="LeftHashJoin{Recv(1, )->Recv(2, )}(test.t1.a,test.t2.a)->Projection->HashAgg->Send(4, )"]
[2022/07/15 15:01:35.839 +08:00] [INFO] [mpp_gather.go:80] ["Dispatch mpp task"] [timestamp=434600278972956672] [ID=4] [address=tiflash0] [plan="Recv(3, )->HashAgg->Projection->Send(-1, )"]
[2022/07/15 15:01:36.840 +08:00] [WARN] [adapter.go:1067] ["# Txn_start_ts: 434600278972956672\n# Conn_ID: 6\n# Query_time: 1.002419249\n# Parse_time: 0.000126041\n# Compile_time: 0.00047475\n# Rewrite_time: 0.00013225\n# Optimize_time: 0.000240375\n# Wait_TS: 0.000012\n# Cop_time: 1.001037125 Request_count: 1\n# DB: test\n# Is_internal: false\n# Digest: 6237f262a549f3dbfd20e51bd377b199e93425f739e7378de0238b9b4d075b45\n# Stats: t1:pseudo,t2:pseudo\n# Num_cop_tasks: 1\n# Cop_proc_avg: 0 Cop_proc_addr: tiflash0\n# Cop_wait_avg: 0 Cop_wait_addr: tiflash0\n# Mem_max: 7616\n# Prepared: false\n# Plan_from_cache: false\n# Plan_from_binding: false\n# Has_more_results: false\n# KV_total: 0\n# PD_total: 0\n# Backoff_total: 0\n# Write_sql_response_total: 0\n# Result_rows: 2\n# Succ: true\n# IsExplicitTxn: false\n# Plan: tidb_decode_plan('ogrQMAkxNF84CTAJODAwMAlDb2x1bW4jNQkyCXRpbWU6MXMsIGxvb3BzOjIJNzc2IEJ5dGVzCTAJCBgKMQkzXzEwPjwAVCwgcGx1cyh0ZXN0LnQyLmIsIDEpLT4NWgA2SloAiCwgQ29uY3VycmVuY3k6NQk3LjQyIEtCCU4vQQoyCTMxXzQyEWRUZGF0YTpFeGNoYW5nZVNlbmRlcl80MVJUAPBJY29wX3Rhc2s6IHtudW06IDEsIG1heDogMHMsIHByb2Nfa2V5czogMCwgY29wcl9jYWNoZV9oaXRfcmF0aW86IDAuMDB9CU4vQQkBiAwzCTQ5AWoMMV8xCSUqEYVMVHlwZTogUGFzc1Rocm91Z2gJMAkBugEEGAo0CTNfMzcZNS0FCDUsIDUeLi8AFDUJNl8zOBkvIGdyb3VwIGJ5Og04MDgsIGZ1bmNzOnN1bSgNFAA5OVwANREfHGZpcnN0cm93ESQQMTApLT5ScgAYNgk0OF80MBlzLo8AADcB9AQzORkdNvQANEhhc2hQYXJ0aXRpb24sBQ8wIENvbHM6IFtuYW1lOgENQU1IOCwgY29sbGF0ZTogYmluYXJ5XS5mABQ4CTZfMTQZZT71AAAxFdcUY291bnQoXU0AOWLxAAA0ORZFoSGOAQQUCjkJM180KZIUMTI1MDAJNRdytwIEMTUuswAcMTAJMTdfMzYFtQlHZGxlZnQgb3V0ZXIgam9pbiwgZXF1YWw6W2VxbQkIMS5hOfYEYSkyAwEEMTEhhwQyMglQADBhiTJvAAAyIYkEMjEdH7qKAQnlBYNuiwEYMTMJNDNfMkkPCYiodGFibGU6dDEsIGtlZXAgb3JkZXI6ZmFsc2UsIHN0YXRzOnBzZXVkbwkwCSFgAQQRzwA1HbBKzwAp8wlm0s8AADIhUorPAAAzHYgNzwAyrs8A')\n# Plan_digest: 016d50fcccd79c0082b2d568d1035ce0db78fd1c09cfeece241b6d5fc629f652\nselect count(*) k, t2.b+1 from t1 left join t2 on t1.a = t2.a group by t2.b+1 order by k;"]
[2022/07/15 15:01:36.841 +08:00] [INFO] [fragment.go:77] ["Mpp will generate tasks"] [plan=Recv()->HashAgg->Projection->Send()]
[2022/07/15 15:01:36.841 +08:00] [INFO] [batch_coprocessor.go:325] ["detecting available mpp stores"]
[2022/07/15 15:01:36.841 +08:00] [WARN] [batch_coprocessor.go:359] ["Store is not ready"] ["store address"=tiflash1] ["err message"="not support this request type MPPAlive"]
[2022/07/15 15:01:36.841 +08:00] [WARN] [batch_coprocessor.go:359] ["Store is not ready"] ["store address"=tiflash0] ["err message"="not support this request type MPPAlive"]
[2022/07/15 15:01:36.841 +08:00] [WARN] [batch_coprocessor.go:400] ["Meet regions that don't have an available store. Give up balancing"]
[2022/07/15 15:01:36.841 +08:00] [INFO] [mpp_gather.go:80] ["Dispatch mpp task"] [timestamp=434600279235624960] [ID=1] [address=tiflash0] [plan="Table(t2)->Projection->HashAgg->Send(2, )"]
[2022/07/15 15:01:36.841 +08:00] [INFO] [mpp_gather.go:80] ["Dispatch mpp task"] [timestamp=434600279235624960] [ID=2] [address=tiflash0] [plan="Recv(1, )->HashAgg->Projection->Send(-1, )"]
[2022/07/15 15:01:37.842 +08:00] [WARN] [adapter.go:1067] ["# Txn_start_ts: 434600279235624960\n# Conn_ID: 6\n# Query_time: 1.002000167\n# Parse_time: 0.000065542\n# Compile_time: 0.000280292\n# Rewrite_time: 0.000078625\n# Optimize_time: 0.000138333\n# Wait_TS: 0.000006458\n# Cop_time: 1.001148375 Request_count: 1\n# DB: test\n# Is_internal: false\n# Digest: ad5ef5b316552e3d2f88335ef953165f53eda28411be000632933d64c1ef6c4b\n# Stats: t2:pseudo\n# Num_cop_tasks: 1\n# Cop_proc_avg: 0 Cop_proc_addr: tiflash0\n# Cop_wait_avg: 0 Cop_wait_addr: tiflash0\n# Mem_max: 9500\n# Prepared: false\n# Plan_from_cache: false\n# Plan_from_binding: false\n# Has_more_results: false\n# KV_total: 0\n# PD_total: 0\n# Backoff_total: 0\n# Write_sql_response_total: 0\n# Result_rows: 1\n# Succ: true\n# IsExplicitTxn: false\n# Plan: tidb_decode_plan('sAeYMAkzXzQJMAk4MDAwCUNvbHVtbiMzLCBtdWwodGVzdC50Mi5iLCB0DQsMYSktPg0l2DQJMQl0aW1lOjFzLCBsb29wczoyLCBDb25jdXJyZW5jeTo1CTkuMjggS0IJTi9BCjEJMzFfMjERa1RkYXRhOkV4Y2hhbmdlU2VuZGVyXzIwUlQA8FJjb3BfdGFzazoge251bTogMSwgbWF4OiAwcywgcHJvY19rZXlzOiAwLCBjb3ByX2NhY2hlX2hpdF9yYXRpbzogMC4wMH0JTi9BCU4vQQoyCTQ5XwFqBF8xCfURhUxUeXBlOiBQYXNzVGhyb3VnaAkwCQG6AQQcCjMJM18xNgkVNS0FBDMsORsZCwBiLjoAFDQJNl8xNxk6IGdyb3VwIGJ5Og1DNDEwLCBmdW5jczpzdW0oERUAMTlpADMRIBxmaXJzdHJvdxUlDDIpLT4xpQBhYiYAADMdJjKaABg1CTQ4XzE5GZsutwAYNgk0OV8xOBkdNicBNEhhc2hQYXJ0aXRpb24sBQ8wIENvbHM6IFtuYW1lOgENQUtMMTAsIGNvbGxhdGU6IGJpbmFyeV0uZwAMNwk2Xx1lPh0BADI1HRRjb3VudCg9FwQxMWLyAAA4OT0EMTJiJgAAOR0mADMulAAUOAkzXzI1BfoUMTAwMDAJPWQRCwBijiMDBDIwLlcAFDkJNDNfMTJYAMhhYmxlOnQyLCBrZWVwIG9yZGVyOmZhbHNlLCBzdGF0czpwc2V1ZG8JMAkJTi9BCU4vQQo=')\n# Plan_digest: 2416f2000e9dfe8ca3557556f1ab29ad9fe61d4d4b97b8840634af6fd8140b38\nselect count(*) k, t2.b * t2.a from t2 group by t2.b * t2.a;"]
[2022/07/15 15:01:37.843 +08:00] [INFO] [fragment.go:77] ["Mpp will generate tasks"] [plan=Recv()->HashAgg->Projection->Send()]
[2022/07/15 15:01:37.843 +08:00] [INFO] [batch_coprocessor.go:325] ["detecting available mpp stores"]
[2022/07/15 15:01:37.843 +08:00] [WARN] [batch_coprocessor.go:359] ["Store is not ready"] ["store address"=tiflash0] ["err message"="not support this request type MPPAlive"]
[2022/07/15 15:01:37.843 +08:00] [WARN] [batch_coprocessor.go:359] ["Store is not ready"] ["store address"=tiflash1] ["err message"="not support this request type MPPAlive"]
[2022/07/15 15:01:37.843 +08:00] [WARN] [batch_coprocessor.go:400] ["Meet regions that don't have an available store. Give up balancing"]
[2022/07/15 15:01:37.843 +08:00] [INFO] [mpp_gather.go:80] ["Dispatch mpp task"] [timestamp=434600279498555392] [ID=1] [address=tiflash0] [plan="Table(t2)->Projection->HashAgg->Send(2, )"]
[2022/07/15 15:01:37.843 +08:00] [INFO] [mpp_gather.go:80] ["Dispatch mpp task"] [timestamp=434600279498555392] [ID=2] [address=tiflash0] [plan="Recv(1, )->HashAgg->Projection->Send(-1, )"]
[2022/07/15 15:01:38.844 +08:00] [WARN] [adapter.go:1067] ["# Txn_start_ts: 434600279498555392\n# Conn_ID: 6\n# Query_time: 1.001651\n# Parse_time: 0.000144916\n# Compile_time: 0.000509584\n# Rewrite_time: 0.000141667\n# Optimize_time: 0.000247917\n# Wait_TS: 0.000010583\n# Cop_time: 1.00036625 Request_count: 1\n# DB: test\n# Is_internal: false\n# Digest: 979e6e7d443c0a8585cb3a4f63eeb19dadbfbf7d92264ca89d304582274b7266\n# Stats: t2:pseudo\n# Num_cop_tasks: 1\n# Cop_proc_avg: 0 Cop_proc_addr: tiflash0\n# Cop_wait_avg: 0 Cop_wait_addr: tiflash0\n# Mem_max: 13960\n# Prepared: false\n# Plan_from_cache: false\n# Plan_from_binding: false\n# Has_more_results: false\n# KV_total: 0\n# PD_total: 0\n# Backoff_total: 0\n# Write_sql_response_total: 0\n# Result_rows: 3\n# Succ: true\n# IsExplicitTxn: false\n# Plan: tidb_decode_plan('sAfwPjAJMTRfNQkwCTgwMDAJQ29sdW1uIzQJMwl0aW1lOjFzLCBsb29wczoyCTEuODAgS0IJMCBCeXRlcwoxCTNfNzo5AMgzLCBkaXYoY2FzdCh0ZXN0LnQyLmEsIGRlY2ltYWwoMjAsMCkgQklOQVJZKSwgMiktPkNmcgCILCBDb25jdXJyZW5jeTo1CTEyLjYgS0IJTi9BCjIJMzFfMjQRf1RkYXRhOkV4Y2hhbmdlU2VuZGVyXzIzSsYA8EYsIGNvcF90YXNrOiB7bnVtOiAxLCBtYXg6IDBzLCBwcm9jX2tleXM6IDAsIGNvcHJfY2FjaGVfaGl0X3JhdGlvOiAwLjAwfQGEAQQQCjMJNDkBaggxXzEpQhGFTFR5cGU6IFBhc3NUaHJvdWdoCTAJATIBBBgKNAkzXzE5GTUtdwgzLCA1NS4vABQ1CTZfMjAZLyBncm91cCBieToNODA5LCBmdW5jczpzdW0oDRQEMTA5XQAzESAcZmlyc3Ryb3cVJQwxKS0+UnMAGDYJNDhfMjIZdC6QAAA3BfUAMRkdNvUANEhhc2hQYXJ0aXRpb24sBQ8wIENvbHM6IFtuYW1lOgENQWYAOSGNNGxsYXRlOiBiaW5hcnldLmYAEDgJNl8xHWU+9gAEMTYR1xRjb3VudCgBzBX9ERtC8gAANTkXBDExLm8AFDkJM18yOAXUFDEwMDAwCTUYACza1AIEMTYuYAAYMTAJNDNfMTJiAMhhYmxlOnQyLCBrZWVwIG9yZGVyOmZhbHNlLCBzdGF0czpwc2V1ZG8JMAkJTi9BCU4vQQo=')\n# Plan_digest: b97712ae53f6234201e5a8047eb989aea352babec177c27268f91443aaaede17\nselect count(*) k, t2.a/2 m from t2 group by t2.a / 2 order by m;"]
[2022/07/15 15:01:38.846 +08:00] [INFO] [fragment.go:77] ["Mpp will generate tasks"] [plan=Recv()->HashAgg->Projection->Send()]
[2022/07/15 15:01:38.846 +08:00] [INFO] [batch_coprocessor.go:325] ["detecting available mpp stores"]
[2022/07/15 15:01:38.846 +08:00] [WARN] [batch_coprocessor.go:359] ["Store is not ready"] ["store address"=tiflash1] ["err message"="not support this request type MPPAlive"]
[2022/07/15 15:01:38.846 +08:00] [WARN] [batch_coprocessor.go:359] ["Store is not ready"] ["store address"=tiflash0] ["err message"="not support this request type MPPAlive"]
[2022/07/15 15:01:38.846 +08:00] [WARN] [batch_coprocessor.go:400] ["Meet regions that don't have an available store. Give up balancing"]
[2022/07/15 15:01:38.846 +08:00] [INFO] [mpp_gather.go:80] ["Dispatch mpp task"] [timestamp=434600279761485824] [ID=1] [address=tiflash1] [plan="Table(t2)->Send(2, )"]
[2022/07/15 15:01:38.846 +08:00] [INFO] [mpp_gather.go:80] ["Dispatch mpp task"] [timestamp=434600279761485824] [ID=2] [address=tiflash1] [plan="Recv(1, )->HashAgg->Projection->Send(-1, )"]
[2022/07/15 15:01:39.847 +08:00] [WARN] [adapter.go:1067] ["# Txn_start_ts: 434600279761485824\n# Conn_ID: 6\n# Query_time: 1.000759166\n# Parse_time: 0.000029416\n# Compile_time: 0.000122334\n# Rewrite_time: 0.000036667\n# Optimize_time: 0.000065833\n# Wait_TS: 0.0000035\n# Cop_time: 1.000314333 Request_count: 1\n# DB: test\n# Is_internal: false\n# Digest: 0e4c5fb2ad922a3366842d7b183c7f2db0807399dff4313c6b900d69f58b559f\n# Stats: t2:pseudo\n# Num_cop_tasks: 1\n# Cop_proc_avg: 0 Cop_proc_addr: tiflash1\n# Cop_wait_avg: 0 Cop_wait_addr: tiflash1\n# Prepared: false\n# Plan_from_cache: false\n# Plan_from_binding: false\n# Has_more_results: false\n# KV_total: 0\n# PD_total: 0\n# Backoff_total: 0\n# Write_sql_response_total: 0\n# Result_rows: 1\n# Succ: true\n# IsExplicitTxn: true\n# Plan: tidb_decode_plan('9gPwmjAJMzFfMjQJMAk4MDAwCWRhdGE6RXhjaGFuZ2VTZW5kZXJfMjMJMQl0aW1lOjFzLCBsb29wczoyLCBjb3BfdGFzazoge251bTogMSwgbWF4OiAwcywgcHJvY19rZXlzOiAwLCBjb3ByX2NhY2hlX2hpdF9yYXRpbzogMC4wMH0JTi9BCU4vQQoxCTQ5XzIzCTFfMQk4MDAwCUV4CYVYVHlwZTogUGFzc1Rocm91Z2gJMAkJTi8JNhwyCTNfMjIJMRE1HENvbHVtbiMzLiQAFDMJNl8xMRkkkGdyb3VwIGJ5OnRlc3QudDIuYiwgZnVuY3M6Y291bnQoMSktPkNKSAAUNAk0OF8yCUkUMTAwMDAJLmYAGDUJNDlfMjAFZwkeMUYJwTRIYXNoUGFydGl0aW9uLAUPNCBDb2xzOiBbbmFtZTogHY48Y29sbGF0ZTogYmluYXJ5XS5oABw2CTQzXzE5CQHzCWjMdGFibGU6dDIsIGtlZXAgb3JkZXI6ZmFsc2UsIHN0YXRzOnBzZXVkbwkwCQlOL0EJTi9BCg==')\n# Plan_digest: 0df80942e66d0d577176e6aa85fe5232521a36be9cde336cf6c793cb0b944e03\nselect count(*) from ( select * from t2 group by a, b) A group by A.b;"]
[2022/07/15 15:01:39.847 +08:00] [INFO] [fragment.go:77] ["Mpp will generate tasks"] [plan=Recv()->HashAgg->Projection->Send()]
[2022/07/15 15:01:39.847 +08:00] [INFO] [batch_coprocessor.go:325] ["detecting available mpp stores"]
[2022/07/15 15:01:39.847 +08:00] [WARN] [batch_coprocessor.go:359] ["Store is not ready"] ["store address"=tiflash0] ["err message"="not support this request type MPPAlive"]
[2022/07/15 15:01:39.847 +08:00] [WARN] [batch_coprocessor.go:359] ["Store is not ready"] ["store address"=tiflash1] ["err message"="not support this request type MPPAlive"]
[2022/07/15 15:01:39.847 +08:00] [WARN] [batch_coprocessor.go:400] ["Meet regions that don't have an available store. Give up balancing"]
[2022/07/15 15:01:39.847 +08:00] [INFO] [batch_coprocessor.go:325] ["detecting available mpp stores"]
[2022/07/15 15:01:39.847 +08:00] [WARN] [batch_coprocessor.go:400] ["Meet regions that don't have an available store. Give up balancing"]
[2022/07/15 15:01:39.847 +08:00] [INFO] [mpp_gather.go:80] ["Dispatch mpp task"] [timestamp=434600279761485824] [ID=3] [address=tiflash1] [plan="Table(t2)->Projection->Send(4, )"]
[2022/07/15 15:01:39.847 +08:00] [INFO] [mpp_gather.go:80] ["Dispatch mpp task"] [timestamp=434600279761485824] [ID=4] [address=tiflash1] [plan="LeftHashJoin{Table(t1)->Recv(3, )}(test.t1.a,test.t2.a)(test.t1.b,test.t2.b)->Sel([gt(plus(test.t1.a, 100), ifnull(Column#5, 0))])->Send(5, )"]
[2022/07/15 15:01:39.847 +08:00] [INFO] [mpp_gather.go:80] ["Dispatch mpp task"] [timestamp=434600279761485824] [ID=5] [address=tiflash1] [plan="Recv(4, )->HashAgg->Projection->Send(-1, )"]
[2022/07/15 15:01:40.848 +08:00] [WARN] [adapter.go:1067] ["# Txn_start_ts: 434600279761485824\n# Conn_ID: 6\n# Query_time: 1.001391751\n# Parse_time: 0.000054334\n# Compile_time: 0.000354375\n# Rewrite_time: 0.000071709\n# Optimize_time: 0.000233958\n# Wait_TS: 0.0000035\n# Cop_time: 1.000548541 Request_count: 1\n# DB: test\n# Is_internal: false\n# Digest: 4f80f4b751a392dd1e336eeb33e79a66d9f8126c1c7e761fc3ab9733a4c4d942\n# Stats: t1:pseudo,t2:pseudo\n# Num_cop_tasks: 1\n# Cop_proc_avg: 0 Cop_proc_addr: tiflash1\n# Cop_wait_avg: 0 Cop_wait_addr: tiflash1\n# Prepared: false\n# Plan_from_cache: false\n# Plan_from_binding: false\n# Has_more_results: false\n# KV_total: 0\n# PD_total: 0\n# Backoff_total: 0\n# Write_sql_response_total: 0\n# Result_rows: 1\n# Succ: true\n# IsExplicitTxn: true\n# Plan: tidb_decode_plan('gQfwmjAJMzFfNDYJMAk2NDAwCWRhdGE6RXhjaGFuZ2VTZW5kZXJfNDUJMQl0aW1lOjFzLCBsb29wczoyLCBjb3BfdGFzazoge251bTogMSwgbWF4OiAwcywgcHJvY19rZXlzOiAwLCBjb3ByX2NhY2hlX2hpdF9yYXRpbzogMC4wMH0JTi9BCU4vQQoxCTQ5XzQ1CTFfMQk2NDAwCUV4CYVYVHlwZTogUGFzc1Rocm91Z2gJMAkJTi8JNhwyCTNfNDQJMRE1GENvbHVtbiMBzxUkFDMJNl8xOBkkkGdyb3VwIGJ5OnRlc3QudDEuYiwgZnVuY3M6Y291bnQoMSktPkNKSAAYNAk0OF80MwVJFDEwMDAwCS6KABg1CTQ5XzQyHR4xRgnBNEhhc2hQYXJ0aXRpb24sBQ80IENvbHM6IFtuYW1lOiAdjjxjb2xsYXRlOiBiaW5hcnldLmgAFDYJMV8zOR1nHGd0KHBsdXMoEUA8YSwgMTAwKSwgaWZudWxsKC0TFDUsIDApKS5KABg3CTE3XzQxCUt4MjUwMAlsZWZ0IG91dGVyIGpvaW4sIGVxdWFsOltlcS5eAAlpEDIuYSkgHRkEYiwVGQRiKTKyABg4CTQzXzI1CWglOLB0YWJsZTp0MSwga2VlcCBvcmRlcjpmYWxzZSwgc3RhdHM6cHNldWRvCTAJCU4t6gA4IX4EMzAdRi7MABQ5CTQ5XzIuFwE2fgEgQnJvYWRjYXN0LjUAGDEwCTNfMjcdUwgxLT45LxXoHdoyPwAEMQkB2UlaMtkAADKu2QA=')\n# Plan_digest: 79e818bbd8ef9b37b32b619e1708cc54e45e89c8f4eb68c037b80b75ef4a2d74\nselect count(*) from t1 where t1.a+100 > ( select count(*) from t2 where t1.a=t2.a and t1.b=t2.b) group by t1.b;"]
[2022/07/15 15:01:40.849 +08:00] [INFO] [fragment.go:77] ["Mpp will generate tasks"] [plan=RightHashJoin{Recv()->Recv()}(test.t.a,test.t.a)->Projection->HashAgg->Send()]
[2022/07/15 15:01:40.849 +08:00] [INFO] [batch_coprocessor.go:325] ["detecting available mpp stores"]
[2022/07/15 15:01:40.849 +08:00] [WARN] [batch_coprocessor.go:359] ["Store is not ready"] ["store address"=tiflash1] ["err message"="not support this request type MPPAlive"]
[2022/07/15 15:01:40.849 +08:00] [WARN] [batch_coprocessor.go:359] ["Store is not ready"] ["store address"=tiflash0] ["err message"="not support this request type MPPAlive"]
[2022/07/15 15:01:40.849 +08:00] [WARN] [batch_coprocessor.go:400] ["Meet regions that don't have an available store. Give up balancing"]
[2022/07/15 15:01:40.849 +08:00] [INFO] [batch_coprocessor.go:325] ["detecting available mpp stores"]
[2022/07/15 15:01:40.849 +08:00] [WARN] [batch_coprocessor.go:400] ["Meet regions that don't have an available store. Give up balancing"]
[2022/07/15 15:01:40.849 +08:00] [INFO] [mpp_gather.go:80] ["Dispatch mpp task"] [timestamp=434600280286560256] [ID=1] [address=tiflash1] [plan="Table(t)->Send(3, )"]
[2022/07/15 15:01:40.849 +08:00] [INFO] [mpp_gather.go:80] ["Dispatch mpp task"] [timestamp=434600280286560256] [ID=2] [address=tiflash1] [plan="Table(t)->Send(3, )"]
[2022/07/15 15:01:40.849 +08:00] [INFO] [mpp_gather.go:80] ["Dispatch mpp task"] [timestamp=434600280286560256] [ID=3] [address=tiflash1] [plan="RightHashJoin{Recv(1, )->Recv(2, )}(test.t.a,test.t.a)->Projection->HashAgg->Send(-1, )"]
[2022/07/15 15:01:41.850 +08:00] [WARN] [adapter.go:1067] ["# Txn_start_ts: 434600280286560256\n# Conn_ID: 6\n# Query_time: 1.001461249\n# Parse_time: 0.000035583\n# Compile_time: 0.000234416\n# Rewrite_time: 0.000052834\n# Optimize_time: 0.000142209\n# Wait_TS: 0.000006334\n# Cop_time: 1.000650166 Request_count: 1\n# DB: test\n# Is_internal: false\n# Digest: 51fad5df2b82909913fe4fa095486cf77520d9b7336c86fdc03a868285bfdf24\n# Stats: t:pseudo\n# Num_cop_tasks: 1\n# Cop_proc_avg: 0 Cop_proc_addr: tiflash1\n# Cop_wait_avg: 0 Cop_wait_addr: tiflash1\n# Mem_max: 24460\n# Prepared: false\n# Plan_from_cache: false\n# Plan_from_binding: false\n# Has_more_results: false\n# KV_total: 0\n# PD_total: 0\n# Backoff_total: 0\n# Write_sql_response_total: 0\n# Result_rows: 1\n# Succ: true\n# IsExplicitTxn: false\n# Plan: tidb_decode_plan('4wl4MAk2XzM2CTAJMQlmdW5jczphdmcoQ29sdW1uIzYsIA0KDDcpLT4NC6g1CTEJdGltZToxcywgbG9vcHM6MiwgcGFydGlhbF93b3JrZXI6e3dhbGxfCSfwTy4wMDA3NTI2NjdzLCBjb25jdXJyZW5jeTo1LCB0YXNrX251bToxLCB0b3Rfd2FpdDo1LjAwMzU5ODVzLCB0b3RfZXhlYzoyMS4xNjfCtXMsBSkFWwUpEDYyNjUwAYwMbWF4OgltDDI4ODcBPQhwOTUyEgAUfSwgZmluaqYAEDcyNDE2rqYAGDc2ODY2OHMuqAAUNC4zNzTCRqgAEDc5NDcwASsZqAg2NDElFRmoCRJQfQkyMy45IEtCCU4vQQoxCTMxXzM4JaNUZGF0YTpFeGNoYW5nZVNlbmRlcl8zN1KSAQxjb3BfIV8IOiB7IWEIIDEsBXpAIDBzLCBwcm9jX2tleXM6IDAhlHBwcl9jYWNoZV9oaXRfcmF0aW86IDAuMDB9CU4vQQEEEAoyCTQ5BWoQXzEJMQkRgkxUeXBlOiBQYXNzVGhyb3VnaAkwCQEvAQQcCjMJNl8xMgkJMklcFGNvdW50KE1JADhZVAg2LCAJIQhzdW0RHwA5GR8ANy5XABQ0CTNfNDUJV0wyNTAwCXRlc3QudC5hLCBjYXN0KBkPTGRlY2ltYWwoMTQsNCkgQklOQVJZGVUAOS5VABQ1CTE3XzMuVgBQaW5uZXIgam9pbiwgZXF1YWw6W2VxHV0RZwQpXS5IABg2CTQ4XzIxCZ4QMDAwMAkuHgAANyFFBDIwHR42SQEQSGFzaFBhSRB0aW9uLAUPMCBDb2xzOiBbbmFtZToVdSG0MGxsYXRlOiBiaW5hcnkyhQAYOAk0M18xOR1nmHRhYmxlOnQsIGtlZXAgb3JkZXI6ZmFsc2UsIHN0YXRzOnBzZXVkby6sAAnKADQdRS4eAAnKADMdHv7KAGbKAAAyTUQlTw3KADGuywA=')\n# Plan_digest: c681a09065ca878575172fb8a9e31b7f8b33f1f85d1b97d9da1801766706a3db\nselect avg(t.a) from t join t t1 on t.a = t1.a;"]
[2022/07/15 15:01:41.850 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=6] [schemaVersion=43] [cur_db=test] [sql="drop table if exists t"] [user=]
[2022/07/15 15:01:41.851 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:81, Type:drop table, State:queueing, SchemaState:public, SchemaID:1, TableID:69, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:41.85 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="drop table if exists t"]
[2022/07/15 15:01:41.851 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:81, Type:drop table, State:queueing, SchemaState:public, SchemaID:1, TableID:69, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:41.85 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:41.851 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 23, tp general"] [job="ID:81, Type:drop table, State:queueing, SchemaState:public, SchemaID:1, TableID:69, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:41.85 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:41.851 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 23, tp general"] [job="ID:81, Type:drop table, State:running, SchemaState:write only, SchemaID:1, TableID:69, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:41.85 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:41.851 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 23, tp general"] [job="ID:81, Type:drop table, State:running, SchemaState:delete only, SchemaID:1, TableID:69, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:41.85 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:41.851 +08:00] [INFO] [delete_range.go:433] ["[ddl] insert into delete-range table"] [jobID=81] [elementID=1] [comment="table ID is 69"]
[2022/07/15 15:01:41.852 +08:00] [INFO] [delete_range.go:109] ["[ddl] add job into delete-range table"] [jobID=81] [jobType="drop table"]
[2022/07/15 15:01:41.852 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 23, tp general"] [job="ID:81, Type:drop table, State:synced, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:3, start time: 2022-07-15 15:01:41.85 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:41.853 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=81]
[2022/07/15 15:01:41.853 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:41.853 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=43] [neededSchemaVersion=46] ["start time"=46.666µs] [phyTblIDs="[69]"] [actionTypes="[16]"]
[2022/07/15 15:01:41.853 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=6] [schemaVersion=46] [cur_db=test] [sql="create table t (c1 decimal(8, 5) not null, c2 decimal(9, 5), c3 decimal(9, 4) , c4 decimal(8, 4) not null)"] [user=]
[2022/07/15 15:01:41.853 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:83, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:82, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:41.853 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:41.853 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:83, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:82, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:41.853 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="create table t (c1 decimal(8, 5) not null, c2 decimal(9, 5), c3 decimal(9, 4) , c4 decimal(8, 4) not null)"]
[2022/07/15 15:01:41.854 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 23, tp general"] [job="ID:83, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:82, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:41.853 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:41.854 +08:00] [INFO] [delete_range.go:245] ["[ddl] delRange emulator complete task"] [jobID=81] [elementID=1] [startKey=748000000000000045] [endKey=748000000000000046]
[2022/07/15 15:01:41.854 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 23, tp general"] [job="ID:83, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:82, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:41.853 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:41.854 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=83]
[2022/07/15 15:01:41.854 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:41.854 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=46] [neededSchemaVersion=47] ["start time"=49.834µs] [phyTblIDs="[82]"] [actionTypes="[8]"]
[2022/07/15 15:01:41.854 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=6] [schemaVersion=47] [cur_db=test] [sql="alter table t set tiflash replica 1"] [user=]
[2022/07/15 15:01:41.854 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:84, Type:set tiflash replica, State:queueing, SchemaState:none, SchemaID:1, TableID:82, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:41.854 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:41.854 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:84, Type:set tiflash replica, State:queueing, SchemaState:none, SchemaID:1, TableID:82, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:41.854 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="alter table t set tiflash replica 1"]
[2022/07/15 15:01:41.854 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 23, tp general"] [job="ID:84, Type:set tiflash replica, State:queueing, SchemaState:none, SchemaID:1, TableID:82, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:41.854 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:41.854 +08:00] [INFO] [table.go:1109] ["Set TiFlash replica pd rule"] [tableID=82]
[2022/07/15 15:01:41.854 +08:00] [INFO] [info.go:1051] [ConfigureTiFlashPDForTable] [tableID=82] [count=1]
[2022/07/15 15:01:41.855 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 23, tp general"] [job="ID:84, Type:set tiflash replica, State:synced, SchemaState:public, SchemaID:1, TableID:82, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:41.854 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:41.855 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=84]
[2022/07/15 15:01:41.855 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:41.855 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=47] [neededSchemaVersion=48] ["start time"=54.042µs] [phyTblIDs="[]"] [actionTypes="[]"]
[2022/07/15 15:01:41.855 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:85, Type:update tiflash replica status, State:queueing, SchemaState:none, SchemaID:1, TableID:82, RowCount:0, ArgLen:2, start time: 2022-07-15 15:01:41.855 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:41.855 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:85, Type:update tiflash replica status, State:queueing, SchemaState:none, SchemaID:1, TableID:82, RowCount:0, ArgLen:2, start time: 2022-07-15 15:01:41.855 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query=]
[2022/07/15 15:01:41.855 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 23, tp general"] [job="ID:85, Type:update tiflash replica status, State:queueing, SchemaState:none, SchemaID:1, TableID:82, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:41.855 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:41.855 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 23, tp general"] [job="ID:85, Type:update tiflash replica status, State:synced, SchemaState:public, SchemaID:1, TableID:82, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:41.855 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:41.855 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=85]
[2022/07/15 15:01:41.855 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:41.855 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=48] [neededSchemaVersion=49] ["start time"=47.083µs] [phyTblIDs="[]"] [actionTypes="[]"]
[2022/07/15 15:01:41.855 +08:00] [WARN] [2pc.go:1806] ["schemaLeaseChecker is not set for this transaction"] [sessionID=6] [startTS=434600280550277136] [checkTS=434600280550277137]
[2022/07/15 15:01:41.856 +08:00] [INFO] [fragment.go:77] ["Mpp will generate tasks"] [plan=RightHashJoin{Recv()->Recv()}(test.t.c1,test.t.c1)->Send()]
[2022/07/15 15:01:41.856 +08:00] [INFO] [batch_coprocessor.go:325] ["detecting available mpp stores"]
[2022/07/15 15:01:41.856 +08:00] [WARN] [batch_coprocessor.go:359] ["Store is not ready"] ["store address"=tiflash1] ["err message"="not support this request type MPPAlive"]
[2022/07/15 15:01:41.856 +08:00] [WARN] [batch_coprocessor.go:359] ["Store is not ready"] ["store address"=tiflash0] ["err message"="not support this request type MPPAlive"]
[2022/07/15 15:01:41.856 +08:00] [WARN] [batch_coprocessor.go:400] ["Meet regions that don't have an available store. Give up balancing"]
[2022/07/15 15:01:41.856 +08:00] [INFO] [batch_coprocessor.go:325] ["detecting available mpp stores"]
[2022/07/15 15:01:41.856 +08:00] [WARN] [batch_coprocessor.go:400] ["Meet regions that don't have an available store. Give up balancing"]
[2022/07/15 15:01:41.856 +08:00] [INFO] [mpp_gather.go:80] ["Dispatch mpp task"] [timestamp=434600280550539266] [ID=1] [address=tiflash1] [plan="Table(t)->Send(3, )"]
[2022/07/15 15:01:41.856 +08:00] [INFO] [mpp_gather.go:80] ["Dispatch mpp task"] [timestamp=434600280550539266] [ID=2] [address=tiflash1] [plan="Table(t)->Send(3, )"]
[2022/07/15 15:01:41.856 +08:00] [INFO] [mpp_gather.go:80] ["Dispatch mpp task"] [timestamp=434600280550539266] [ID=3] [address=tiflash1] [plan="RightHashJoin{Recv(1, )->Recv(2, )}(test.t.c1,test.t.c1)->Send(-1, )"]
[2022/07/15 15:01:42.857 +08:00] [WARN] [adapter.go:1067] ["# Txn_start_ts: 434600280550539266\n# Conn_ID: 6\n# Query_time: 1.001402917\n# Parse_time: 0.00001925\n# Compile_time: 0.000130542\n# Rewrite_time: 0.000028625\n# Optimize_time: 0.000077833\n# Wait_TS: 0.000002125\n# Cop_time: 1.000991374 Request_count: 3\n# DB: test\n# Is_internal: false\n# Digest: f64a3a0cedb2cc744ec9a913c80b5dd71272914f19f08764ab03fd6baa9c98ee\n# Stats: t:pseudo\n# Num_cop_tasks: 3\n# Cop_proc_avg: 0 Cop_proc_p90: 0 Cop_proc_max: 0 Cop_proc_addr: tiflash1\n# Cop_wait_avg: 0 Cop_wait_p90: 0 Cop_wait_max: 0 Cop_wait_addr: tiflash1\n# Mem_max: 21540\n# Prepared: false\n# Plan_from_cache: false\n# Plan_from_binding: false\n# Has_more_results: false\n# KV_total: 0\n# PD_total: 0\n# Backoff_total: 0\n# Write_sql_response_total: 0\n# Result_rows: 3\n# Succ: true\n# IsExplicitTxn: false\n# Plan: tidb_decode_plan('sgbwQzAJMTRfOAkwCTEyNTAwCXRlc3QudC5jMQkzCXRpbWU6MXMsIGxvb3BzOjIJMS40MyBLQgkwIEJ5dGVzCjEJM18xMAkwijwAiCwgQ29uY3VycmVuY3k6NQkyMS4wIEtCCU4vQQoyCTMxXzIxFYRUZGF0YTpFeGNoYW5nZVNlbmRlcl8yMEqRAIAsIGNvcF90YXNrOiB7bnVtOiAzLCBtYXg6IDBzLCBtaW4JCQhhdmcJCQhwOTUJCXhjb3ByX2NhY2hlX2hpdF9yYXRpbzogMC4wMH0JTi9BAQQQCjMJNDkBdwwxXzEJKRwRk0xUeXBlOiBQYXNzVGhyb3VnaAkwCQEzAQQcCjQJMTdfMTEdN1Rpbm5lciBqb2luLCBlcXVhbDpbZXEoNWkELCAVCwQpXS5KABg1CTQ4XzE2CUoQMDAwMAkuHgAANgGfBDE1HR42nwA0SGFzaFBhcnRpdGlvbiwFDzAgQ29sczogW25hbWU6GXYhRjBsbGF0ZTogYmluYXJ5MoYAGDcJNDNfMTQdaKh0YWJsZTp0MSwga2VlcCBvcmRlcjpmYWxzZSwgc3RhdHM6cHNldWRvCTAJIRIBBA3MADkdRkbMAAA4HR7+zABuzAAANx1oDcwAMq7MAA==')\n# Plan_digest: 18d51e1d0649dbdf7e1d1c4edb0ea4d7e315cc946ee77bfa3649f2eed784c7ea\nselect t1.c1 from t t1 join t t2 on t1.c1 = t2.c1 order by t1.c1;"]
[2022/07/15 15:01:42.858 +08:00] [INFO] [fragment.go:77] ["Mpp will generate tasks"] [plan=RightHashJoin{Recv()->Recv()}(test.t.c3,test.t.c1)->Send()]
[2022/07/15 15:01:42.858 +08:00] [INFO] [batch_coprocessor.go:325] ["detecting available mpp stores"]
[2022/07/15 15:01:42.858 +08:00] [WARN] [batch_coprocessor.go:359] ["Store is not ready"] ["store address"=tiflash1] ["err message"="not support this request type MPPAlive"]
[2022/07/15 15:01:42.858 +08:00] [WARN] [batch_coprocessor.go:359] ["Store is not ready"] ["store address"=tiflash0] ["err message"="not support this request type MPPAlive"]
[2022/07/15 15:01:42.858 +08:00] [WARN] [batch_coprocessor.go:400] ["Meet regions that don't have an available store. Give up balancing"]
[2022/07/15 15:01:42.858 +08:00] [INFO] [batch_coprocessor.go:325] ["detecting available mpp stores"]
[2022/07/15 15:01:42.858 +08:00] [WARN] [batch_coprocessor.go:400] ["Meet regions that don't have an available store. Give up balancing"]
[2022/07/15 15:01:42.858 +08:00] [INFO] [mpp_gather.go:80] ["Dispatch mpp task"] [timestamp=434600280812945408] [ID=1] [address=tiflash1] [plan="Table(t)->Sel([not(isnull(test.t.c3))])->Projection->Send(3, )"]
[2022/07/15 15:01:42.858 +08:00] [INFO] [mpp_gather.go:80] ["Dispatch mpp task"] [timestamp=434600280812945408] [ID=2] [address=tiflash1] [plan="Table(t)->Projection->Send(3, )"]
[2022/07/15 15:01:42.858 +08:00] [INFO] [mpp_gather.go:80] ["Dispatch mpp task"] [timestamp=434600280812945408] [ID=3] [address=tiflash1] [plan="RightHashJoin{Recv(1, )->Recv(2, )}(test.t.c3,test.t.c1)->Send(-1, )"]
[2022/07/15 15:01:43.858 +08:00] [WARN] [adapter.go:1067] ["# Txn_start_ts: 434600280812945408\n# Conn_ID: 6\n# Query_time: 1.001041917\n# Parse_time: 0.000041458\n# Compile_time: 0.000270459\n# Rewrite_time: 0.000049791\n# Optimize_time: 0.000165209\n# Wait_TS: 0.000007584\n# Cop_time: 1.000239249 Request_count: 3\n# DB: test\n# Is_internal: false\n# Digest: 4572e26812ebc79ef0f485829bb633d357588f42fd943458467971c072eb1a6a\n# Stats: t:pseudo\n# Num_cop_tasks: 3\n# Cop_proc_avg: 0 Cop_proc_p90: 0 Cop_proc_max: 0 Cop_proc_addr: tiflash1\n# Cop_wait_avg: 0 Cop_wait_p90: 0 Cop_wait_max: 0 Cop_wait_addr: tiflash1\n# Mem_max: 35900\n# Prepared: false\n# Plan_from_cache: false\n# Plan_from_binding: false\n# Has_more_results: false\n# KV_total: 0\n# PD_total: 0\n# Backoff_total: 0\n# Write_sql_response_total: 0\n# Result_rows: 3\n# Succ: true\n# IsExplicitTxn: false\n# Plan: tidb_decode_plan('kgjwRjAJMTRfOQkwCTEyNDg3LjUwCXRlc3QudC5jMQkzCXRpbWU6MXMsIGxvb3BzOjIJMS40MyBLQgkwIEJ5dGVzCjEJM18xMgkwlj8ATCwgQ29uY3VycmVuY3k6NQkzNS4xAU4oTi9BCjIJMzFfMzAuigBUZGF0YTpFeGNoYW5nZVNlbmRlcl8yOUqXAIAsIGNvcF90YXNrOiB7bnVtOiAzLCBtYXg6IDBzLCBtaW4JCQhhdmcJCQhwOTUJCXhjb3ByX2NhY2hlX2hpdF9yYXRpbzogMC4wMH0JTi9BAQQQCjMJNDkBdwgxXzEZ5hGWTFR5cGU6IFBhc3NUaHJvdWdoCTAJATYBBBwKNAkxN18xMzY6AFRpbm5lciBqb2luLCBlcXVhbDpbZXEoMXUIMywgEQsIMSldLk0AGDUJNDhfMjYFTRA5OTkwCS4dAAA2BaQANRkdNqAANEhhc2hQYXJ0aXRpb24sBQ8wIENvbHM6IFtuYW1lOgENFHVtbiMxMSFKMGxsYXRlOiBiaW5hcnkyhAAQNwkzXzIJ0AWDEasYMywgY2FzdC7GAERkZWNpbWFsKDEwLDUpKS0+Q28NYi63AAA4AbEANwEFCVAkbm90KGlzbnVsbBlLBCkpLjIAFDkJNDNfMSkGuDEwMDAwCXRhYmxlOnQyLCBrZWVwIG9yZGVyOmZhbHNlLCBzdGF0czpwc2V1ZG8JPZkpTAV+DUYuZAApTQmXCWTaTgFFmHpOAQA0Bf4JZzFPIYYuTwEEMSxiTwFhe0FsAQQcCjgJNDNfMjAuUgApHQAxrh0B')\n# Plan_digest: 368670a3a7b14740bddea5a1e36e7d1cf9f7a07bef8e4a8fc347ce1f359af991\nselect t1.c1 from t t1 join t t2 on t1.c1 = t2.c3 order by t1.c1;"]
[2022/07/15 15:01:43.859 +08:00] [INFO] [fragment.go:77] ["Mpp will generate tasks"] [plan=RightHashJoin{Recv()->Recv()}(test.t.c3,test.t.c4)->Send()]
[2022/07/15 15:01:43.859 +08:00] [INFO] [batch_coprocessor.go:325] ["detecting available mpp stores"]
[2022/07/15 15:01:43.859 +08:00] [WARN] [batch_coprocessor.go:359] ["Store is not ready"] ["store address"=tiflash1] ["err message"="not support this request type MPPAlive"]
[2022/07/15 15:01:43.859 +08:00] [WARN] [batch_coprocessor.go:359] ["Store is not ready"] ["store address"=tiflash0] ["err message"="not support this request type MPPAlive"]
[2022/07/15 15:01:43.859 +08:00] [WARN] [batch_coprocessor.go:400] ["Meet regions that don't have an available store. Give up balancing"]
[2022/07/15 15:01:43.859 +08:00] [INFO] [batch_coprocessor.go:325] ["detecting available mpp stores"]
[2022/07/15 15:01:43.859 +08:00] [WARN] [batch_coprocessor.go:400] ["Meet regions that don't have an available store. Give up balancing"]
[2022/07/15 15:01:43.859 +08:00] [INFO] [mpp_gather.go:80] ["Dispatch mpp task"] [timestamp=434600281075613696] [ID=1] [address=tiflash1] [plan="Table(t)->Sel([not(isnull(test.t.c3))])->Send(3, )"]
[2022/07/15 15:01:43.859 +08:00] [INFO] [mpp_gather.go:80] ["Dispatch mpp task"] [timestamp=434600281075613696] [ID=2] [address=tiflash1] [plan="Table(t)->Send(3, )"]
[2022/07/15 15:01:43.859 +08:00] [INFO] [mpp_gather.go:80] ["Dispatch mpp task"] [timestamp=434600281075613696] [ID=3] [address=tiflash1] [plan="RightHashJoin{Recv(1, )->Recv(2, )}(test.t.c3,test.t.c4)->Send(-1, )"]
[2022/07/15 15:01:44.860 +08:00] [WARN] [adapter.go:1067] ["# Txn_start_ts: 434600281075613696\n# Conn_ID: 6\n# Query_time: 1.001030209\n# Parse_time: 0.000040917\n# Compile_time: 0.000247667\n# Rewrite_time: 0.000056583\n# Optimize_time: 0.000135375\n# Wait_TS: 0.000008709\n# Cop_time: 1.000292042 Request_count: 3\n# DB: test\n# Is_internal: false\n# Digest: 98d9beb2118bd174823ee2b44d2e7b19ef0a5b35fabdf11db7847f6a4c1eebbb\n# Stats: t:pseudo\n# Num_cop_tasks: 3\n# Cop_proc_avg: 0 Cop_proc_p90: 0 Cop_proc_max: 0 Cop_proc_addr: tiflash1\n# Cop_wait_avg: 0 Cop_wait_p90: 0 Cop_wait_max: 0 Cop_wait_addr: tiflash1\n# Mem_max: 21540\n# Prepared: false\n# Plan_from_cache: false\n# Plan_from_binding: false\n# Has_more_results: false\n# KV_total: 0\n# PD_total: 0\n# Backoff_total: 0\n# Write_sql_response_total: 0\n# Result_rows: 3\n# Succ: true\n# IsExplicitTxn: false\n# Plan: tidb_decode_plan('8QbwRjAJMTRfOQkwCTEyNDg3LjUwCXRlc3QudC5jNAkzCXRpbWU6MXMsIGxvb3BzOjIJMS40MyBLQgkwIEJ5dGVzCjEJM18xMgkwlj8ATCwgQ29uY3VycmVuY3k6NQkyMS4wAU4oTi9BCjIJMzFfMjQuigBUZGF0YTpFeGNoYW5nZVNlbmRlcl8yM0qXAIAsIGNvcF90YXNrOiB7bnVtOiAzLCBtYXg6IDBzLCBtaW4JCQhhdmcJCQhwOTUJCXhjb3ByX2NhY2hlX2hpdF9yYXRpbzogMC4wMH0JTi9BAQQQCjMJNDkBdwgxXzEZ5hGWTFR5cGU6IFBhc3NUaHJvdWdoCTAJATYBBBwKNAkxN18xMzY6AFRpbm5lciBqb2luLCBlcXVhbDpbZXEoMXUIMywgEQsINCldLk0AGDUJNDhfMTkFTRA5OTkwCS4dAAA2AaQEMTgZHTagADRIYXNoUGFydGl0aW9uLAUPMCBDb2xzOiBbbmFtZToVdAAzIUowbGxhdGU6IGJpbmFyeTKEAAA3AWEFBQmDKG5vdChpc251bGwoEbYIMykpLpkAGDgJNDNfMTYBOLgJMTAwMDAJdGFibGU6dDIsIGtlZXAgb3JkZXI6ZmFsc2UsIHN0YXRzOnBzZXVkby5GAAX8BDIyHUYuHgAF/QQyMR0e2v4AADR+/gAQNDNfMjAdaA3MADGuzAA=')\n# Plan_digest: 3363286c5f37efbb053d1083604dbbeaaf43f62d6013efda68ad295c3b73e4e5\nselect t1.c4 from t t1 join t t2 on t1.c4 = t2.c3 order by t1.c4;"]
[2022/07/15 15:01:44.861 +08:00] [INFO] [ddl_worker.go:158] ["[ddl] DDL worker closed"] [worker="worker 24, tp add index"] ["take time"=41ns]
[2022/07/15 15:01:44.861 +08:00] [INFO] [ddl_worker.go:158] ["[ddl] DDL worker closed"] [worker="worker 23, tp general"] ["take time"=84ns]
[2022/07/15 15:01:44.861 +08:00] [INFO] [delete_range.go:148] ["[ddl] closing delRange"]
[2022/07/15 15:01:44.861 +08:00] [INFO] [session_pool.go:94] ["[ddl] closing sessionPool"]
[2022/07/15 15:01:44.861 +08:00] [INFO] [ddl.go:576] ["[ddl] DDL closed"] [ID=e86c55a9-4672-4302-ac54-c44c68dff0b6] ["take time"=173.75µs]
[2022/07/15 15:01:44.861 +08:00] [INFO] [ddl.go:464] ["[ddl] stop DDL"] [ID=e86c55a9-4672-4302-ac54-c44c68dff0b6]
[2022/07/15 15:01:44.861 +08:00] [INFO] [domain.go:498] ["topNSlowQueryLoop exited."]
[2022/07/15 15:01:44.861 +08:00] [INFO] [handle_hist.go:156] ["SubLoadWorker exited."]
[2022/07/15 15:01:44.861 +08:00] [INFO] [handle_hist.go:156] ["SubLoadWorker exited."]
[2022/07/15 15:01:44.861 +08:00] [INFO] [domain.go:1160] ["globalBindHandleWorkerLoop exited."]
[2022/07/15 15:01:44.861 +08:00] [INFO] [handle_hist.go:156] ["SubLoadWorker exited."]
[2022/07/15 15:01:44.861 +08:00] [INFO] [handle_hist.go:156] ["SubLoadWorker exited."]
[2022/07/15 15:01:44.861 +08:00] [INFO] [domain.go:575] ["topologySyncerKeeper exited."]
[2022/07/15 15:01:44.861 +08:00] [INFO] [domain.go:527] ["infoSyncerKeeper exited."]
[2022/07/15 15:01:44.861 +08:00] [INFO] [domain.go:1203] ["handleEvolvePlanTasksLoop exited."]
[2022/07/15 15:01:44.861 +08:00] [INFO] [domain.go:1288] ["dumpFileGcChecker exited."]
[2022/07/15 15:01:44.861 +08:00] [INFO] [domain.go:552] ["globalConfigSyncerKeeper exited."]
[2022/07/15 15:01:44.861 +08:00] [INFO] [domain.go:1032] ["loadPrivilegeInLoop exited."]
[2022/07/15 15:01:44.861 +08:00] [INFO] [handle_hist.go:156] ["SubLoadWorker exited."]
[2022/07/15 15:01:44.861 +08:00] [INFO] [domain.go:1082] ["LoadSysVarCacheLoop exited."]
[2022/07/15 15:01:44.861 +08:00] [INFO] [domain.go:733] ["domain closed"] ["take time"=313.125µs]
[2022/07/15 15:01:44.881 +08:00] [INFO] [db.go:567] ["Closing database"]
[2022/07/15 15:01:44.881 +08:00] [INFO] [db.go:592] ["Memtable flushed"]
[2022/07/15 15:01:44.881 +08:00] [INFO] [db.go:596] ["Compaction finished"]
[2022/07/15 15:01:44.881 +08:00] [INFO] [db.go:615] ["BlobManager finished"]
[2022/07/15 15:01:44.882 +08:00] [INFO] [db.go:619] ["ResourceManager finished"]
[2022/07/15 15:01:44.882 +08:00] [INFO] [db.go:625] ["Waiting for closer"]
[2022/07/15 15:01:44.998 +08:00] [INFO] [tidb.go:74] ["new domain"] [store=a2d5e4f8-820d-4ead-99d9-57579b009114] ["ddl lease"=0s] ["stats lease"=-1ns] ["index usage sync lease"=0s]
[2022/07/15 15:01:44.999 +08:00] [INFO] [domain.go:178] ["full load InfoSchema success"] [currentSchemaVersion=0] [neededSchemaVersion=0] ["start time"=819.333µs]
[2022/07/15 15:01:44.999 +08:00] [INFO] [domain.go:449] ["full load and reset schema validator"]
[2022/07/15 15:01:44.999 +08:00] [INFO] [ddl.go:483] ["[ddl] start DDL"] [ID=93877971-baf7-4720-add5-7cede4b00b55] [runWorker=true]
[2022/07/15 15:01:44.999 +08:00] [INFO] [ddl.go:472] ["[ddl] start delRangeManager OK"] ["is a emulator"=true]
[2022/07/15 15:01:44.999 +08:00] [INFO] [ddl_worker.go:164] ["[ddl] start DDL worker"] [worker="worker 26, tp add index"]
[2022/07/15 15:01:44.999 +08:00] [INFO] [ddl_worker.go:164] ["[ddl] start DDL worker"] [worker="worker 25, tp general"]
[2022/07/15 15:01:44.999 +08:00] [INFO] [delete_range.go:158] ["[ddl] start delRange emulator"]
[2022/07/15 15:01:45.000 +08:00] [INFO] [tidb.go:268] ["rollbackTxn called due to ddl/autocommit failure"]
[2022/07/15 15:01:45.000 +08:00] [WARN] [session.go:1983] ["run statement failed"] [schemaVersion=0] [error="[schema:1049]Unknown database 'mysql'"] [errorVerbose="[schema:1049]Unknown database 'mysql'\ngithub.com/pingcap/errors.AddStack\n\t/Users/hongyunyan/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20211224045212-9687c2b0f87c/errors.go:174\ngithub.com/pingcap/errors.(*Error).GenWithStackByArgs\n\t/Users/hongyunyan/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20211224045212-9687c2b0f87c/normalize.go:164\ngithub.com/pingcap/tidb/executor.(*SimpleExec).executeUse\n\t/Users/hongyunyan/Desktop/tidb/executor/simple.go:571\ngithub.com/pingcap/tidb/executor.(*SimpleExec).Next\n\t/Users/hongyunyan/Desktop/tidb/executor/simple.go:131\ngithub.com/pingcap/tidb/executor.Next\n\t/Users/hongyunyan/Desktop/tidb/executor/executor.go:319\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelayExecutor\n\t/Users/hongyunyan/Desktop/tidb/executor/adapter.go:673\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelay\n\t/Users/hongyunyan/Desktop/tidb/executor/adapter.go:523\ngithub.com/pingcap/tidb/executor.(*ExecStmt).Exec\n\t/Users/hongyunyan/Desktop/tidb/executor/adapter.go:472\ngithub.com/pingcap/tidb/session.runStmt\n\t/Users/hongyunyan/Desktop/tidb/session/session.go:2114\ngithub.com/pingcap/tidb/session.(*session).ExecuteStmt\n\t/Users/hongyunyan/Desktop/tidb/session/session.go:1980\ngithub.com/pingcap/tidb/session.(*session).ExecuteInternal\n\t/Users/hongyunyan/Desktop/tidb/session/session.go:1495\ngithub.com/pingcap/tidb/session.checkBootstrapped\n\t/Users/hongyunyan/Desktop/tidb/session/bootstrap.go:728\ngithub.com/pingcap/tidb/session.bootstrap\n\t/Users/hongyunyan/Desktop/tidb/session/bootstrap.go:431\ngithub.com/pingcap/tidb/session.runInBootstrapSession\n\t/Users/hongyunyan/Desktop/tidb/session/session.go:2834\ngithub.com/pingcap/tidb/session.BootstrapSession\n\t/Users/hongyunyan/Desktop/tidb/session/session.go:2720\ngithub.com/pingcap/tidb/testkit.bootstrap\n\t/Users/hongyunyan/Desktop/tidb/testkit/mockstore.go:71\ngithub.com/pingcap/tidb/testkit.CreateMockStoreAndDomain\n\t/Users/hongyunyan/Desktop/tidb/testkit/mockstore.go:64\ngithub.com/pingcap/tidb/testkit.CreateMockStore\n\t/Users/hongyunyan/Desktop/tidb/testkit/mockstore.go:56\ngithub.com/pingcap/tidb/executor/tiflashtest.TestInjectExtraProj\n\t/Users/hongyunyan/Desktop/tidb/executor/tiflashtest/tiflash_test.go:311\ntesting.tRunner\n\t/opt/homebrew/Cellar/go/1.18.3/libexec/src/testing/testing.go:1439\nruntime.goexit\n\t/opt/homebrew/Cellar/go/1.18.3/libexec/src/runtime/asm_arm64.s:1263"] [session="{\n  \"currDBName\": \"\",\n  \"id\": 0,\n  \"status\": 2,\n  \"strictMode\": true,\n  \"user\": null\n}"]
[2022/07/15 15:01:45.000 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=0] [cur_db=] [sql="CREATE DATABASE IF NOT EXISTS test"] [user=]
[2022/07/15 15:01:45.000 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:2, Type:create schema, State:queueing, SchemaState:none, SchemaID:1, TableID:0, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:45 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:45.000 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:2, Type:create schema, State:queueing, SchemaState:none, SchemaID:1, TableID:0, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:45 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE DATABASE IF NOT EXISTS test"]
[2022/07/15 15:01:45.000 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 25, tp general"] [job="ID:2, Type:create schema, State:queueing, SchemaState:none, SchemaID:1, TableID:0, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:45 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:45.000 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 25, tp general"] [job="ID:2, Type:create schema, State:synced, SchemaState:public, SchemaID:1, TableID:0, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:45 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:45.001 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=2]
[2022/07/15 15:01:45.001 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:45.001 +08:00] [INFO] [domain.go:178] ["full load InfoSchema success"] [currentSchemaVersion=0] [neededSchemaVersion=1] ["start time"=444.208µs]
[2022/07/15 15:01:45.001 +08:00] [INFO] [domain.go:449] ["full load and reset schema validator"]
[2022/07/15 15:01:45.001 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=1] [cur_db=] [sql="CREATE DATABASE IF NOT EXISTS `mysql`"] [user=]
[2022/07/15 15:01:45.001 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:4, Type:create schema, State:queueing, SchemaState:none, SchemaID:3, TableID:0, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:45.001 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:45.001 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:4, Type:create schema, State:queueing, SchemaState:none, SchemaID:3, TableID:0, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:45.001 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE DATABASE IF NOT EXISTS `mysql`"]
[2022/07/15 15:01:45.001 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 25, tp general"] [job="ID:4, Type:create schema, State:queueing, SchemaState:none, SchemaID:3, TableID:0, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:45.001 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:45.001 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 25, tp general"] [job="ID:4, Type:create schema, State:synced, SchemaState:public, SchemaID:3, TableID:0, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:45.001 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:45.001 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=4]
[2022/07/15 15:01:45.001 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:45.002 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=1] [neededSchemaVersion=2] ["start time"=14.458µs] [phyTblIDs="[]"] [actionTypes="[]"]
[2022/07/15 15:01:45.002 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=2] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.user (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tauthentication_string\tTEXT,\n\t\tplugin\t\t\t\t\tCHAR(64),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tProcess_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_db_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tSuper_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_user_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_slave_priv\t    \tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_client_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_role_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_role_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAccount_locked\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShutdown_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReload_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tFILE_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tConfig_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_Tablespace_Priv  ENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (Host, User));"] [user=]
[2022/07/15 15:01:45.002 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:6, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:5, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:45.002 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:45.002 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:6, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:5, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:45.002 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.user (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tauthentication_string\tTEXT,\n\t\tplugin\t\t\t\t\tCHAR(64),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tProcess_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_db_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tSuper_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_user_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_slave_priv\t    \tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_client_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_role_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_role_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAccount_locked\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShutdown_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReload_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tFILE_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tConfig_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_Tablespace_Priv  ENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (Host, User));"]
[2022/07/15 15:01:45.002 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 25, tp general"] [job="ID:6, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:5, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:45.002 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:45.004 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 25, tp general"] [job="ID:6, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:5, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:45.002 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:45.004 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=6]
[2022/07/15 15:01:45.004 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:45.005 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=2] [neededSchemaVersion=3] ["start time"=257.25µs] [phyTblIDs="[5]"] [actionTypes="[8]"]
[2022/07/15 15:01:45.005 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=3] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.global_priv (Host CHAR(255) NOT NULL DEFAULT '',User CHAR(80) NOT NULL DEFAULT '',Priv LONGTEXT NOT NULL DEFAULT '',PRIMARY KEY (Host, User))"] [user=]
[2022/07/15 15:01:45.005 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:8, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:7, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:45.005 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:45.005 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:8, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:7, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:45.005 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.global_priv (Host CHAR(255) NOT NULL DEFAULT '',User CHAR(80) NOT NULL DEFAULT '',Priv LONGTEXT NOT NULL DEFAULT '',PRIMARY KEY (Host, User))"]
[2022/07/15 15:01:45.005 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 25, tp general"] [job="ID:8, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:7, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:45.005 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:45.005 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 25, tp general"] [job="ID:8, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:7, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:45.005 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:45.005 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=8]
[2022/07/15 15:01:45.005 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:45.005 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=3] [neededSchemaVersion=4] ["start time"=47.25µs] [phyTblIDs="[7]"] [actionTypes="[8]"]
[2022/07/15 15:01:45.005 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=4] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.db (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tDB\t\t\t\t\t\tCHAR(64),\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv \t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (Host, DB, User));"] [user=]
[2022/07/15 15:01:45.006 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:10, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:9, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:45.006 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:45.006 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:10, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:9, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:45.006 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.db (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tDB\t\t\t\t\t\tCHAR(64),\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv \t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (Host, DB, User));"]
[2022/07/15 15:01:45.006 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 25, tp general"] [job="ID:10, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:9, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:45.006 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:45.007 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 25, tp general"] [job="ID:10, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:9, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:45.006 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:45.007 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=10]
[2022/07/15 15:01:45.007 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:45.007 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=4] [neededSchemaVersion=5] ["start time"=156.875µs] [phyTblIDs="[9]"] [actionTypes="[8]"]
[2022/07/15 15:01:45.007 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=5] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.tables_priv (\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64),\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64),\n\t\tGrantor\t\tCHAR(77),\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tTable_priv\tSET('Select','Insert','Update','Delete','Create','Drop','Grant','Index','Alter','Create View','Show View','Trigger','References'),\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name));"] [user=]
[2022/07/15 15:01:45.008 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:12, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:11, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:45.007 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:45.008 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:12, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:11, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:45.007 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.tables_priv (\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64),\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64),\n\t\tGrantor\t\tCHAR(77),\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tTable_priv\tSET('Select','Insert','Update','Delete','Create','Drop','Grant','Index','Alter','Create View','Show View','Trigger','References'),\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name));"]
[2022/07/15 15:01:45.008 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 25, tp general"] [job="ID:12, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:11, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:45.007 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:45.008 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 25, tp general"] [job="ID:12, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:11, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:45.007 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:45.008 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=12]
[2022/07/15 15:01:45.008 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:45.008 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=5] [neededSchemaVersion=6] ["start time"=81.458µs] [phyTblIDs="[11]"] [actionTypes="[8]"]
[2022/07/15 15:01:45.008 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=6] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.columns_priv(\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64),\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64),\n\t\tColumn_name\tCHAR(64),\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name, Column_name));"] [user=]
[2022/07/15 15:01:45.009 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:14, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:13, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:45.009 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:45.009 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:14, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:13, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:45.009 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.columns_priv(\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64),\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64),\n\t\tColumn_name\tCHAR(64),\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name, Column_name));"]
[2022/07/15 15:01:45.009 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 25, tp general"] [job="ID:14, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:13, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:45.009 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:45.009 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 25, tp general"] [job="ID:14, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:13, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:45.009 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:45.009 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=14]
[2022/07/15 15:01:45.009 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:45.009 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=6] [neededSchemaVersion=7] ["start time"=78.25µs] [phyTblIDs="[13]"] [actionTypes="[8]"]
[2022/07/15 15:01:45.010 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=7] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.GLOBAL_VARIABLES(\n\t\tVARIABLE_NAME  VARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(1024) DEFAULT NULL);"] [user=]
[2022/07/15 15:01:45.010 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:16, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:15, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:45.01 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:45.010 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:16, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:15, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:45.01 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.GLOBAL_VARIABLES(\n\t\tVARIABLE_NAME  VARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(1024) DEFAULT NULL);"]
[2022/07/15 15:01:45.010 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 25, tp general"] [job="ID:16, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:15, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:45.01 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:45.010 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 25, tp general"] [job="ID:16, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:15, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:45.01 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:45.010 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=16]
[2022/07/15 15:01:45.010 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:45.010 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=7] [neededSchemaVersion=8] ["start time"=50.25µs] [phyTblIDs="[15]"] [actionTypes="[8]"]
[2022/07/15 15:01:45.010 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=8] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb(\n\t\tVARIABLE_NAME  \tVARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE \tVARCHAR(1024) DEFAULT NULL,\n\t\tCOMMENT \t\tVARCHAR(1024));"] [user=]
[2022/07/15 15:01:45.010 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:18, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:17, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:45.01 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:45.010 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:18, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:17, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:45.01 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb(\n\t\tVARIABLE_NAME  \tVARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE \tVARCHAR(1024) DEFAULT NULL,\n\t\tCOMMENT \t\tVARCHAR(1024));"]
[2022/07/15 15:01:45.010 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 25, tp general"] [job="ID:18, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:17, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:45.01 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:45.011 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 25, tp general"] [job="ID:18, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:17, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:45.01 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:45.011 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=18]
[2022/07/15 15:01:45.011 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:45.011 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=8] [neededSchemaVersion=9] ["start time"=50.167µs] [phyTblIDs="[17]"] [actionTypes="[8]"]
[2022/07/15 15:01:45.011 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=9] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.help_topic (\n  \t\thelp_topic_id \t\tINT(10) UNSIGNED NOT NULL,\n  \t\tname \t\t\t\tCHAR(64) NOT NULL,\n  \t\thelp_category_id \tSMALLINT(5) UNSIGNED NOT NULL,\n  \t\tdescription \t\tTEXT NOT NULL,\n  \t\texample \t\t\tTEXT NOT NULL,\n  \t\turl \t\t\t\tTEXT NOT NULL,\n  \t\tPRIMARY KEY (help_topic_id) clustered,\n  \t\tUNIQUE KEY name (name)\n\t\t) ENGINE=InnoDB DEFAULT CHARSET=utf8 STATS_PERSISTENT=0 COMMENT='help topics';"] [user=]
[2022/07/15 15:01:45.011 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:20, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:19, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:45.011 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:45.011 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:20, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:19, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:45.011 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.help_topic (\n  \t\thelp_topic_id \t\tINT(10) UNSIGNED NOT NULL,\n  \t\tname \t\t\t\tCHAR(64) NOT NULL,\n  \t\thelp_category_id \tSMALLINT(5) UNSIGNED NOT NULL,\n  \t\tdescription \t\tTEXT NOT NULL,\n  \t\texample \t\t\tTEXT NOT NULL,\n  \t\turl \t\t\t\tTEXT NOT NULL,\n  \t\tPRIMARY KEY (help_topic_id) clustered,\n  \t\tUNIQUE KEY name (name)\n\t\t) ENGINE=InnoDB DEFAULT CHARSET=utf8 STATS_PERSISTENT=0 COMMENT='help topics';"]
[2022/07/15 15:01:45.011 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 25, tp general"] [job="ID:20, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:19, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:45.011 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:45.012 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 25, tp general"] [job="ID:20, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:19, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:45.011 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:45.012 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=20]
[2022/07/15 15:01:45.012 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:45.012 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=9] [neededSchemaVersion=10] ["start time"=62.5µs] [phyTblIDs="[19]"] [actionTypes="[8]"]
[2022/07/15 15:01:45.012 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=10] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_meta (\n\t\tversion \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\ttable_id \t\tBIGINT(64) NOT NULL,\n\t\tmodify_count\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcount \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tsnapshot        BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tINDEX idx_ver(version),\n\t\tUNIQUE INDEX tbl(table_id)\n\t);"] [user=]
[2022/07/15 15:01:45.012 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:22, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:21, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:45.012 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:45.012 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:22, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:21, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:45.012 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_meta (\n\t\tversion \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\ttable_id \t\tBIGINT(64) NOT NULL,\n\t\tmodify_count\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcount \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tsnapshot        BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tINDEX idx_ver(version),\n\t\tUNIQUE INDEX tbl(table_id)\n\t);"]
[2022/07/15 15:01:45.012 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 25, tp general"] [job="ID:22, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:21, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:45.012 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:45.013 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 25, tp general"] [job="ID:22, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:21, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:45.012 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:45.013 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=22]
[2022/07/15 15:01:45.013 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:45.013 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=10] [neededSchemaVersion=11] ["start time"=67.5µs] [phyTblIDs="[21]"] [actionTypes="[8]"]
[2022/07/15 15:01:45.013 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=11] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_histograms (\n\t\ttable_id \t\t\tBIGINT(64) NOT NULL,\n\t\tis_index \t\t\tTINYINT(2) NOT NULL,\n\t\thist_id \t\t\tBIGINT(64) NOT NULL,\n\t\tdistinct_count \t\tBIGINT(64) NOT NULL,\n\t\tnull_count \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\ttot_col_size \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tmodify_count \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tversion \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tcm_sketch \t\t\tBLOB(6291456),\n\t\tstats_ver \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tflag \t\t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcorrelation \t\tDOUBLE NOT NULL DEFAULT 0,\n\t\tlast_analyze_pos \tLONGBLOB DEFAULT NULL,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id)\n\t);"] [user=]
[2022/07/15 15:01:45.013 +08:00] [INFO] [ddl_api.go:999] ["Automatically convert BLOB(6291456) to MEDIUMBLOB"]
[2022/07/15 15:01:45.013 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:24, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:23, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:45.013 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:45.013 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:24, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:23, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:45.013 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_histograms (\n\t\ttable_id \t\t\tBIGINT(64) NOT NULL,\n\t\tis_index \t\t\tTINYINT(2) NOT NULL,\n\t\thist_id \t\t\tBIGINT(64) NOT NULL,\n\t\tdistinct_count \t\tBIGINT(64) NOT NULL,\n\t\tnull_count \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\ttot_col_size \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tmodify_count \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tversion \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tcm_sketch \t\t\tBLOB(6291456),\n\t\tstats_ver \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tflag \t\t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcorrelation \t\tDOUBLE NOT NULL DEFAULT 0,\n\t\tlast_analyze_pos \tLONGBLOB DEFAULT NULL,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id)\n\t);"]
[2022/07/15 15:01:45.013 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 25, tp general"] [job="ID:24, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:23, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:45.013 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:45.014 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 25, tp general"] [job="ID:24, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:23, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:45.013 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:45.014 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=24]
[2022/07/15 15:01:45.014 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:45.014 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=11] [neededSchemaVersion=12] ["start time"=106.875µs] [phyTblIDs="[23]"] [actionTypes="[8]"]
[2022/07/15 15:01:45.014 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=12] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_buckets (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tbucket_id \tBIGINT(64) NOT NULL,\n\t\tcount \t\tBIGINT(64) NOT NULL,\n\t\trepeats \tBIGINT(64) NOT NULL,\n\t\tupper_bound LONGBLOB NOT NULL,\n\t\tlower_bound LONGBLOB ,\n\t\tndv         BIGINT NOT NULL DEFAULT 0,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id, bucket_id)\n\t);"] [user=]
[2022/07/15 15:01:45.014 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:26, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:25, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:45.014 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:45.014 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:26, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:25, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:45.014 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_buckets (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tbucket_id \tBIGINT(64) NOT NULL,\n\t\tcount \t\tBIGINT(64) NOT NULL,\n\t\trepeats \tBIGINT(64) NOT NULL,\n\t\tupper_bound LONGBLOB NOT NULL,\n\t\tlower_bound LONGBLOB ,\n\t\tndv         BIGINT NOT NULL DEFAULT 0,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id, bucket_id)\n\t);"]
[2022/07/15 15:01:45.015 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 25, tp general"] [job="ID:26, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:25, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:45.014 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:45.015 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 25, tp general"] [job="ID:26, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:25, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:45.014 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:45.015 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=26]
[2022/07/15 15:01:45.015 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:45.015 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=12] [neededSchemaVersion=13] ["start time"=81.708µs] [phyTblIDs="[25]"] [actionTypes="[8]"]
[2022/07/15 15:01:45.015 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=13] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_index (job_id, element_id)\n\t);"] [user=]
[2022/07/15 15:01:45.016 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:28, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:27, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:45.015 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:45.016 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:28, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:27, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:45.015 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_index (job_id, element_id)\n\t);"]
[2022/07/15 15:01:45.016 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 25, tp general"] [job="ID:28, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:27, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:45.015 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:45.016 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 25, tp general"] [job="ID:28, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:27, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:45.015 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:45.016 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=28]
[2022/07/15 15:01:45.016 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:45.016 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=13] [neededSchemaVersion=14] ["start time"=62.375µs] [phyTblIDs="[27]"] [actionTypes="[8]"]
[2022/07/15 15:01:45.016 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=14] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range_done (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_done_index (job_id, element_id)\n\t);"] [user=]
[2022/07/15 15:01:45.016 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:30, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:29, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:45.016 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:45.016 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:30, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:29, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:45.016 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range_done (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_done_index (job_id, element_id)\n\t);"]
[2022/07/15 15:01:45.017 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 25, tp general"] [job="ID:30, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:29, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:45.016 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:45.017 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 25, tp general"] [job="ID:30, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:29, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:45.016 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:45.017 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=30]
[2022/07/15 15:01:45.017 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:45.017 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=14] [neededSchemaVersion=15] ["start time"=62.375µs] [phyTblIDs="[29]"] [actionTypes="[8]"]
[2022/07/15 15:01:45.017 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=15] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_feedback (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tfeedback \tBLOB NOT NULL,\n\t\tINDEX hist(table_id, is_index, hist_id)\n\t);"] [user=]
[2022/07/15 15:01:45.017 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:32, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:31, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:45.017 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:45.017 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:32, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:31, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:45.017 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_feedback (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tfeedback \tBLOB NOT NULL,\n\t\tINDEX hist(table_id, is_index, hist_id)\n\t);"]
[2022/07/15 15:01:45.017 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 25, tp general"] [job="ID:32, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:31, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:45.017 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:45.018 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 25, tp general"] [job="ID:32, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:31, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:45.017 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:45.018 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=32]
[2022/07/15 15:01:45.018 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:45.018 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=15] [neededSchemaVersion=16] ["start time"=61.292µs] [phyTblIDs="[31]"] [actionTypes="[8]"]
[2022/07/15 15:01:45.018 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=16] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.role_edges (\n\t\tFROM_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tFROM_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tWITH_ADMIN_OPTION \tENUM('N','Y') CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (FROM_HOST,FROM_USER,TO_HOST,TO_USER)\n\t);"] [user=]
[2022/07/15 15:01:45.018 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:34, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:33, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:45.018 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:45.018 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:34, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:33, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:45.018 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.role_edges (\n\t\tFROM_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tFROM_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tWITH_ADMIN_OPTION \tENUM('N','Y') CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (FROM_HOST,FROM_USER,TO_HOST,TO_USER)\n\t);"]
[2022/07/15 15:01:45.018 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 25, tp general"] [job="ID:34, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:33, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:45.018 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:45.019 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 25, tp general"] [job="ID:34, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:33, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:45.018 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:45.019 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=34]
[2022/07/15 15:01:45.019 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:45.019 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=16] [neededSchemaVersion=17] ["start time"=61.417µs] [phyTblIDs="[33]"] [actionTypes="[8]"]
[2022/07/15 15:01:45.019 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=17] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.default_roles (\n\t\tHOST \t\t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tUSER \t\t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tDEFAULT_ROLE_HOST \tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '%',\n\t\tDEFAULT_ROLE_USER \tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tPRIMARY KEY (HOST,USER,DEFAULT_ROLE_HOST,DEFAULT_ROLE_USER)\n\t)"] [user=]
[2022/07/15 15:01:45.019 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:36, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:35, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:45.019 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:45.019 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:36, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:35, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:45.019 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.default_roles (\n\t\tHOST \t\t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tUSER \t\t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tDEFAULT_ROLE_HOST \tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '%',\n\t\tDEFAULT_ROLE_USER \tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tPRIMARY KEY (HOST,USER,DEFAULT_ROLE_HOST,DEFAULT_ROLE_USER)\n\t)"]
[2022/07/15 15:01:45.019 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 25, tp general"] [job="ID:36, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:35, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:45.019 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:45.019 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 25, tp general"] [job="ID:36, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:35, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:45.019 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:45.020 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=36]
[2022/07/15 15:01:45.020 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:45.020 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=17] [neededSchemaVersion=18] ["start time"=55µs] [phyTblIDs="[35]"] [actionTypes="[8]"]
[2022/07/15 15:01:45.020 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=18] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.bind_info (\n\t\toriginal_sql TEXT NOT NULL,\n\t\tbind_sql TEXT NOT NULL,\n\t\tdefault_db TEXT NOT NULL,\n\t\tstatus TEXT NOT NULL,\n\t\tcreate_time TIMESTAMP(3) NOT NULL,\n\t\tupdate_time TIMESTAMP(3) NOT NULL,\n\t\tcharset TEXT NOT NULL,\n\t\tcollation TEXT NOT NULL,\n\t\tsource VARCHAR(10) NOT NULL DEFAULT 'unknown',\n\t\tINDEX sql_index(original_sql(700),default_db(68)) COMMENT \"accelerate the speed when add global binding query\",\n\t\tINDEX time_index(update_time) COMMENT \"accelerate the speed when querying with last update time\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"] [user=]
[2022/07/15 15:01:45.020 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:38, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:37, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:45.02 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:45.020 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:38, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:37, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:45.02 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.bind_info (\n\t\toriginal_sql TEXT NOT NULL,\n\t\tbind_sql TEXT NOT NULL,\n\t\tdefault_db TEXT NOT NULL,\n\t\tstatus TEXT NOT NULL,\n\t\tcreate_time TIMESTAMP(3) NOT NULL,\n\t\tupdate_time TIMESTAMP(3) NOT NULL,\n\t\tcharset TEXT NOT NULL,\n\t\tcollation TEXT NOT NULL,\n\t\tsource VARCHAR(10) NOT NULL DEFAULT 'unknown',\n\t\tINDEX sql_index(original_sql(700),default_db(68)) COMMENT \"accelerate the speed when add global binding query\",\n\t\tINDEX time_index(update_time) COMMENT \"accelerate the speed when querying with last update time\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"]
[2022/07/15 15:01:45.020 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 25, tp general"] [job="ID:38, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:37, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:45.02 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:45.020 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 25, tp general"] [job="ID:38, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:37, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:45.02 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:45.021 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=38]
[2022/07/15 15:01:45.021 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:45.021 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=18] [neededSchemaVersion=19] ["start time"=96.708µs] [phyTblIDs="[37]"] [actionTypes="[8]"]
[2022/07/15 15:01:45.021 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=19] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_top_n (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tcount \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"] [user=]
[2022/07/15 15:01:45.021 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:40, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:39, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:45.021 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:45.021 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:40, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:39, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:45.021 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_top_n (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tcount \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"]
[2022/07/15 15:01:45.021 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 25, tp general"] [job="ID:40, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:39, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:45.021 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:45.022 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 25, tp general"] [job="ID:40, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:39, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:45.021 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:45.022 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=40]
[2022/07/15 15:01:45.022 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:45.022 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=19] [neededSchemaVersion=20] ["start time"=60.917µs] [phyTblIDs="[39]"] [actionTypes="[8]"]
[2022/07/15 15:01:45.022 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=20] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.expr_pushdown_blacklist (\n\t\tname \t\tCHAR(100) NOT NULL,\n\t\tstore_type \tCHAR(100) NOT NULL DEFAULT 'tikv,tiflash,tidb',\n\t\treason \t\tVARCHAR(200)\n\t);"] [user=]
[2022/07/15 15:01:45.022 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:42, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:41, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:45.022 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:45.022 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:42, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:41, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:45.022 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.expr_pushdown_blacklist (\n\t\tname \t\tCHAR(100) NOT NULL,\n\t\tstore_type \tCHAR(100) NOT NULL DEFAULT 'tikv,tiflash,tidb',\n\t\treason \t\tVARCHAR(200)\n\t);"]
[2022/07/15 15:01:45.022 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 25, tp general"] [job="ID:42, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:41, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:45.022 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:45.022 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 25, tp general"] [job="ID:42, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:41, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:45.022 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:45.023 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=42]
[2022/07/15 15:01:45.023 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:45.023 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=20] [neededSchemaVersion=21] ["start time"=52.041µs] [phyTblIDs="[41]"] [actionTypes="[8]"]
[2022/07/15 15:01:45.023 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=21] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.opt_rule_blacklist (\n\t\tname \tCHAR(100) NOT NULL\n\t);"] [user=]
[2022/07/15 15:01:45.023 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:44, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:43, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:45.023 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:45.023 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:44, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:43, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:45.023 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.opt_rule_blacklist (\n\t\tname \tCHAR(100) NOT NULL\n\t);"]
[2022/07/15 15:01:45.023 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 25, tp general"] [job="ID:44, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:43, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:45.023 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:45.023 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 25, tp general"] [job="ID:44, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:43, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:45.023 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:45.023 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=44]
[2022/07/15 15:01:45.023 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:45.023 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=21] [neededSchemaVersion=22] ["start time"=30.083µs] [phyTblIDs="[43]"] [actionTypes="[8]"]
[2022/07/15 15:01:45.023 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=22] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_extended (\n\t\tname varchar(32) NOT NULL,\n\t\ttype tinyint(4) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tcolumn_ids varchar(32) NOT NULL,\n\t\tstats blob DEFAULT NULL,\n\t\tversion bigint(64) unsigned NOT NULL,\n\t\tstatus tinyint(4) NOT NULL,\n\t\tPRIMARY KEY(name, table_id),\n\t\tKEY idx_1 (table_id, status, version),\n\t\tKEY idx_2 (status, version)\n\t);"] [user=]
[2022/07/15 15:01:45.023 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:46, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:45, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:45.023 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:45.023 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:46, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:45, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:45.023 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_extended (\n\t\tname varchar(32) NOT NULL,\n\t\ttype tinyint(4) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tcolumn_ids varchar(32) NOT NULL,\n\t\tstats blob DEFAULT NULL,\n\t\tversion bigint(64) unsigned NOT NULL,\n\t\tstatus tinyint(4) NOT NULL,\n\t\tPRIMARY KEY(name, table_id),\n\t\tKEY idx_1 (table_id, status, version),\n\t\tKEY idx_2 (status, version)\n\t);"]
[2022/07/15 15:01:45.023 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 25, tp general"] [job="ID:46, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:45, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:45.023 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:45.024 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 25, tp general"] [job="ID:46, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:45, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:45.023 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:45.024 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=46]
[2022/07/15 15:01:45.024 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:45.024 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=22] [neededSchemaVersion=23] ["start time"=81.791µs] [phyTblIDs="[45]"] [actionTypes="[8]"]
[2022/07/15 15:01:45.024 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=23] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.schema_index_usage (\n\t\tTABLE_ID bigint(64),\n\t\tINDEX_ID bigint(21),\n\t\tQUERY_COUNT bigint(64),\n\t\tROWS_SELECTED bigint(64),\n\t\tLAST_USED_AT timestamp,\n\t\tPRIMARY KEY(TABLE_ID, INDEX_ID)\n\t);"] [user=]
[2022/07/15 15:01:45.024 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:48, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:47, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:45.024 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:45.024 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:48, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:47, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:45.024 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.schema_index_usage (\n\t\tTABLE_ID bigint(64),\n\t\tINDEX_ID bigint(21),\n\t\tQUERY_COUNT bigint(64),\n\t\tROWS_SELECTED bigint(64),\n\t\tLAST_USED_AT timestamp,\n\t\tPRIMARY KEY(TABLE_ID, INDEX_ID)\n\t);"]
[2022/07/15 15:01:45.024 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 25, tp general"] [job="ID:48, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:47, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:45.024 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:45.025 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 25, tp general"] [job="ID:48, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:47, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:45.024 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:45.025 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=48]
[2022/07/15 15:01:45.025 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:45.025 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=23] [neededSchemaVersion=24] ["start time"=60.459µs] [phyTblIDs="[47]"] [actionTypes="[8]"]
[2022/07/15 15:01:45.025 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=24] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_fm_sketch (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"] [user=]
[2022/07/15 15:01:45.025 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:50, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:49, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:45.025 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:45.025 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:50, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:49, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:45.025 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_fm_sketch (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"]
[2022/07/15 15:01:45.025 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 25, tp general"] [job="ID:50, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:49, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:45.025 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:45.026 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 25, tp general"] [job="ID:50, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:49, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:45.025 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:45.026 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=50]
[2022/07/15 15:01:45.026 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:45.026 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=24] [neededSchemaVersion=25] ["start time"=55.75µs] [phyTblIDs="[49]"] [actionTypes="[8]"]
[2022/07/15 15:01:45.026 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=25] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.global_grants (\n\t\tUSER char(32) NOT NULL DEFAULT '',\n\t\tHOST char(255) NOT NULL DEFAULT '',\n\t\tPRIV char(32) NOT NULL DEFAULT '',\n\t\tWITH_GRANT_OPTION enum('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (USER,HOST,PRIV)\n\t);"] [user=]
[2022/07/15 15:01:45.026 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:52, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:51, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:45.026 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:45.026 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:52, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:51, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:45.026 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.global_grants (\n\t\tUSER char(32) NOT NULL DEFAULT '',\n\t\tHOST char(255) NOT NULL DEFAULT '',\n\t\tPRIV char(32) NOT NULL DEFAULT '',\n\t\tWITH_GRANT_OPTION enum('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (USER,HOST,PRIV)\n\t);"]
[2022/07/15 15:01:45.026 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 25, tp general"] [job="ID:52, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:51, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:45.026 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:45.026 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 25, tp general"] [job="ID:52, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:51, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:45.026 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:45.026 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=52]
[2022/07/15 15:01:45.026 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:45.027 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=25] [neededSchemaVersion=26] ["start time"=64µs] [phyTblIDs="[51]"] [actionTypes="[8]"]
[2022/07/15 15:01:45.027 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=26] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.capture_plan_baselines_blacklist (\n\t\tid bigint(64) auto_increment,\n\t\tfilter_type varchar(32) NOT NULL COMMENT \"type of the filter, only db, table and frequency supported now\",\n\t\tfilter_value varchar(32) NOT NULL,\n\t\tkey idx(filter_type),\n\t\tprimary key(id)\n\t);"] [user=]
[2022/07/15 15:01:45.027 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:54, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:53, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:45.027 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:45.027 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:54, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:53, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:45.027 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.capture_plan_baselines_blacklist (\n\t\tid bigint(64) auto_increment,\n\t\tfilter_type varchar(32) NOT NULL COMMENT \"type of the filter, only db, table and frequency supported now\",\n\t\tfilter_value varchar(32) NOT NULL,\n\t\tkey idx(filter_type),\n\t\tprimary key(id)\n\t);"]
[2022/07/15 15:01:45.027 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 25, tp general"] [job="ID:54, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:53, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:45.027 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:45.027 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 25, tp general"] [job="ID:54, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:53, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:45.027 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:45.027 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=54]
[2022/07/15 15:01:45.027 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:45.027 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=26] [neededSchemaVersion=27] ["start time"=50.042µs] [phyTblIDs="[53]"] [actionTypes="[8]"]
[2022/07/15 15:01:45.027 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=27] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.column_stats_usage (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tcolumn_id BIGINT(64) NOT NULL,\n\t\tlast_used_at TIMESTAMP,\n\t\tlast_analyzed_at TIMESTAMP,\n\t\tPRIMARY KEY (table_id, column_id) CLUSTERED\n\t);"] [user=]
[2022/07/15 15:01:45.027 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:56, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:55, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:45.027 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:45.027 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:56, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:55, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:45.027 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.column_stats_usage (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tcolumn_id BIGINT(64) NOT NULL,\n\t\tlast_used_at TIMESTAMP,\n\t\tlast_analyzed_at TIMESTAMP,\n\t\tPRIMARY KEY (table_id, column_id) CLUSTERED\n\t);"]
[2022/07/15 15:01:45.027 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 25, tp general"] [job="ID:56, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:55, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:45.027 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:45.028 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 25, tp general"] [job="ID:56, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:55, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:45.027 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:45.028 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=56]
[2022/07/15 15:01:45.028 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:45.028 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=27] [neededSchemaVersion=28] ["start time"=55.083µs] [phyTblIDs="[55]"] [actionTypes="[8]"]
[2022/07/15 15:01:45.028 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=28] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.table_cache_meta (\n\t\ttid bigint(11) NOT NULL DEFAULT 0,\n\t\tlock_type enum('NONE','READ', 'INTEND', 'WRITE') NOT NULL DEFAULT 'NONE',\n\t\tlease bigint(20) NOT NULL DEFAULT 0,\n\t\toldReadLease bigint(20) NOT NULL DEFAULT 0,\n\t\tPRIMARY KEY (tid)\n\t);"] [user=]
[2022/07/15 15:01:45.028 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:58, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:57, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:45.028 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:45.028 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:58, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:57, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:45.028 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.table_cache_meta (\n\t\ttid bigint(11) NOT NULL DEFAULT 0,\n\t\tlock_type enum('NONE','READ', 'INTEND', 'WRITE') NOT NULL DEFAULT 'NONE',\n\t\tlease bigint(20) NOT NULL DEFAULT 0,\n\t\toldReadLease bigint(20) NOT NULL DEFAULT 0,\n\t\tPRIMARY KEY (tid)\n\t);"]
[2022/07/15 15:01:45.028 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 25, tp general"] [job="ID:58, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:57, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:45.028 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:45.029 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 25, tp general"] [job="ID:58, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:57, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:45.028 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:45.029 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=58]
[2022/07/15 15:01:45.029 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:45.029 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=28] [neededSchemaVersion=29] ["start time"=51.625µs] [phyTblIDs="[57]"] [actionTypes="[8]"]
[2022/07/15 15:01:45.029 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=29] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.analyze_options (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tsample_num BIGINT(64) NOT NULL DEFAULT 0,\n\t\tsample_rate DOUBLE NOT NULL DEFAULT -1,\n\t\tbuckets BIGINT(64) NOT NULL DEFAULT 0,\n\t\ttopn BIGINT(64) NOT NULL DEFAULT -1,\n\t\tcolumn_choice enum('DEFAULT','ALL','PREDICATE','LIST') NOT NULL DEFAULT 'DEFAULT',\n\t\tcolumn_ids TEXT(19372),\n\t\tPRIMARY KEY (table_id) CLUSTERED\n\t);"] [user=]
[2022/07/15 15:01:45.029 +08:00] [INFO] [ddl_api.go:999] ["Automatically convert BLOB(19372) to MEDIUMBLOB"]
[2022/07/15 15:01:45.029 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:60, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:59, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:45.029 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:45.029 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:60, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:59, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:45.029 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.analyze_options (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tsample_num BIGINT(64) NOT NULL DEFAULT 0,\n\t\tsample_rate DOUBLE NOT NULL DEFAULT -1,\n\t\tbuckets BIGINT(64) NOT NULL DEFAULT 0,\n\t\ttopn BIGINT(64) NOT NULL DEFAULT -1,\n\t\tcolumn_choice enum('DEFAULT','ALL','PREDICATE','LIST') NOT NULL DEFAULT 'DEFAULT',\n\t\tcolumn_ids TEXT(19372),\n\t\tPRIMARY KEY (table_id) CLUSTERED\n\t);"]
[2022/07/15 15:01:45.029 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 25, tp general"] [job="ID:60, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:59, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:45.029 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:45.029 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 25, tp general"] [job="ID:60, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:59, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:45.029 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:45.030 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=60]
[2022/07/15 15:01:45.030 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:45.030 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=29] [neededSchemaVersion=30] ["start time"=80.875µs] [phyTblIDs="[59]"] [actionTypes="[8]"]
[2022/07/15 15:01:45.030 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=30] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tstats_data longblob NOT NULL,\n\t\tseq_no bigint(64) NOT NULL comment 'sequence number of the gzipped data slice',\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version_seq (table_id, version, seq_no),\n\t\tKEY table_create_time (table_id, create_time, seq_no)\n\t);"] [user=]
[2022/07/15 15:01:45.030 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:62, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:61, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:45.03 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:45.030 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:62, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:61, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:45.03 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tstats_data longblob NOT NULL,\n\t\tseq_no bigint(64) NOT NULL comment 'sequence number of the gzipped data slice',\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version_seq (table_id, version, seq_no),\n\t\tKEY table_create_time (table_id, create_time, seq_no)\n\t);"]
[2022/07/15 15:01:45.030 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 25, tp general"] [job="ID:62, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:61, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:45.03 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:45.031 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 25, tp general"] [job="ID:62, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:61, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:45.03 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:45.031 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=62]
[2022/07/15 15:01:45.031 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:45.031 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=30] [neededSchemaVersion=31] ["start time"=75.416µs] [phyTblIDs="[61]"] [actionTypes="[8]"]
[2022/07/15 15:01:45.031 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=31] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_meta_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL,\n\t\tcount bigint(64) NOT NULL,\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version (table_id, version),\n\t\tKEY table_create_time (table_id, create_time)\n\t);"] [user=]
[2022/07/15 15:01:45.031 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:64, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:63, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:45.031 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:45.031 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:64, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:63, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:45.031 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_meta_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL,\n\t\tcount bigint(64) NOT NULL,\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version (table_id, version),\n\t\tKEY table_create_time (table_id, create_time)\n\t);"]
[2022/07/15 15:01:45.031 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 25, tp general"] [job="ID:64, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:63, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:45.031 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:45.032 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 25, tp general"] [job="ID:64, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:63, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:45.031 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:45.032 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=64]
[2022/07/15 15:01:45.032 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:45.032 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=31] [neededSchemaVersion=32] ["start time"=74.208µs] [phyTblIDs="[63]"] [actionTypes="[8]"]
[2022/07/15 15:01:45.032 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=32] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.analyze_jobs (\n\t\tid BIGINT(64) UNSIGNED NOT NULL AUTO_INCREMENT,\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\ttable_schema CHAR(64) NOT NULL DEFAULT '',\n\t\ttable_name CHAR(64) NOT NULL DEFAULT '',\n\t\tpartition_name CHAR(64) NOT NULL DEFAULT '',\n\t\tjob_info TEXT NOT NULL,\n\t\tprocessed_rows BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tstart_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tstate ENUM('pending', 'running', 'finished', 'failed') NOT NULL,\n\t\tfail_reason TEXT,\n\t\tinstance VARCHAR(512) NOT NULL comment 'address of the TiDB instance executing the analyze job',\n\t\tprocess_id BIGINT(64) UNSIGNED comment 'ID of the process executing the analyze job',\n\t\tPRIMARY KEY (id),\n\t\tKEY (update_time)\n\t);"] [user=]
[2022/07/15 15:01:45.032 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:66, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:65, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:45.032 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:45.032 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:66, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:65, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:45.032 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.analyze_jobs (\n\t\tid BIGINT(64) UNSIGNED NOT NULL AUTO_INCREMENT,\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\ttable_schema CHAR(64) NOT NULL DEFAULT '',\n\t\ttable_name CHAR(64) NOT NULL DEFAULT '',\n\t\tpartition_name CHAR(64) NOT NULL DEFAULT '',\n\t\tjob_info TEXT NOT NULL,\n\t\tprocessed_rows BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tstart_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tstate ENUM('pending', 'running', 'finished', 'failed') NOT NULL,\n\t\tfail_reason TEXT,\n\t\tinstance VARCHAR(512) NOT NULL comment 'address of the TiDB instance executing the analyze job',\n\t\tprocess_id BIGINT(64) UNSIGNED comment 'ID of the process executing the analyze job',\n\t\tPRIMARY KEY (id),\n\t\tKEY (update_time)\n\t);"]
[2022/07/15 15:01:45.032 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 25, tp general"] [job="ID:66, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:65, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:45.032 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:45.033 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 25, tp general"] [job="ID:66, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:65, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:45.032 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:45.033 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=66]
[2022/07/15 15:01:45.033 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:45.034 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=32] [neededSchemaVersion=33] ["start time"=110.416µs] [phyTblIDs="[65]"] [actionTypes="[8]"]
[2022/07/15 15:01:45.034 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=33] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.advisory_locks (\n\t\tlock_name VARCHAR(64) NOT NULL PRIMARY KEY\n\t);"] [user=]
[2022/07/15 15:01:45.034 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:68, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:67, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:45.034 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:45.034 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:68, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:67, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:45.034 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.advisory_locks (\n\t\tlock_name VARCHAR(64) NOT NULL PRIMARY KEY\n\t);"]
[2022/07/15 15:01:45.034 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 25, tp general"] [job="ID:68, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:67, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:45.034 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:45.034 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 25, tp general"] [job="ID:68, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:67, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:45.034 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:45.034 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=68]
[2022/07/15 15:01:45.034 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:45.034 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=33] [neededSchemaVersion=34] ["start time"=40.584µs] [phyTblIDs="[67]"] [actionTypes="[8]"]
[2022/07/15 15:01:45.039 +08:00] [INFO] [bootstrap.go:448] ["bootstrap successful"] ["take time"=40.008542ms]
[2022/07/15 15:01:45.040 +08:00] [INFO] [ddl_worker.go:158] ["[ddl] DDL worker closed"] [worker="worker 26, tp add index"] ["take time"=42ns]
[2022/07/15 15:01:45.040 +08:00] [INFO] [ddl_worker.go:158] ["[ddl] DDL worker closed"] [worker="worker 25, tp general"] ["take time"=125ns]
[2022/07/15 15:01:45.040 +08:00] [INFO] [delete_range.go:148] ["[ddl] closing delRange"]
[2022/07/15 15:01:45.040 +08:00] [INFO] [session_pool.go:94] ["[ddl] closing sessionPool"]
[2022/07/15 15:01:45.040 +08:00] [INFO] [ddl.go:576] ["[ddl] DDL closed"] [ID=93877971-baf7-4720-add5-7cede4b00b55] ["take time"=53.458µs]
[2022/07/15 15:01:45.040 +08:00] [INFO] [ddl.go:464] ["[ddl] stop DDL"] [ID=93877971-baf7-4720-add5-7cede4b00b55]
[2022/07/15 15:01:45.040 +08:00] [INFO] [domain.go:498] ["topNSlowQueryLoop exited."]
[2022/07/15 15:01:45.040 +08:00] [INFO] [domain.go:552] ["globalConfigSyncerKeeper exited."]
[2022/07/15 15:01:45.040 +08:00] [INFO] [domain.go:527] ["infoSyncerKeeper exited."]
[2022/07/15 15:01:45.040 +08:00] [INFO] [domain.go:575] ["topologySyncerKeeper exited."]
[2022/07/15 15:01:45.040 +08:00] [INFO] [domain.go:733] ["domain closed"] ["take time"=99.167µs]
[2022/07/15 15:01:45.040 +08:00] [INFO] [tidb.go:74] ["new domain"] [store=a2d5e4f8-820d-4ead-99d9-57579b009114] ["ddl lease"=0s] ["stats lease"=-1ns] ["index usage sync lease"=0s]
[2022/07/15 15:01:45.042 +08:00] [INFO] [domain.go:178] ["full load InfoSchema success"] [currentSchemaVersion=0] [neededSchemaVersion=34] ["start time"=2.360458ms]
[2022/07/15 15:01:45.042 +08:00] [INFO] [domain.go:449] ["full load and reset schema validator"]
[2022/07/15 15:01:45.042 +08:00] [INFO] [ddl.go:483] ["[ddl] start DDL"] [ID=e2d9c33b-a350-438a-8005-07c861da40be] [runWorker=true]
[2022/07/15 15:01:45.042 +08:00] [INFO] [ddl.go:472] ["[ddl] start delRangeManager OK"] ["is a emulator"=true]
[2022/07/15 15:01:45.042 +08:00] [INFO] [delete_range.go:158] ["[ddl] start delRange emulator"]
[2022/07/15 15:01:45.042 +08:00] [INFO] [ddl_worker.go:164] ["[ddl] start DDL worker"] [worker="worker 28, tp add index"]
[2022/07/15 15:01:45.042 +08:00] [INFO] [ddl_worker.go:164] ["[ddl] start DDL worker"] [worker="worker 27, tp general"]
[2022/07/15 15:01:45.043 +08:00] [WARN] [sysvar_cache.go:53] ["sysvar cache is empty, triggering rebuild"]
[2022/07/15 15:01:45.048 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=7] [schemaVersion=34] [cur_db=test] [sql="drop table if exists t"] [user=]
[2022/07/15 15:01:45.048 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=7] [schemaVersion=34] [cur_db=test] [sql="create table t(a bigint(20))"] [user=]
[2022/07/15 15:01:45.049 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:70, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:45.048 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:45.049 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:70, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:45.048 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="create table t(a bigint(20))"]
[2022/07/15 15:01:45.049 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 27, tp general"] [job="ID:70, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:45.048 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:45.049 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 27, tp general"] [job="ID:70, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:69, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:45.048 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:45.049 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=70]
[2022/07/15 15:01:45.049 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:45.049 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=34] [neededSchemaVersion=35] ["start time"=36.709µs] [phyTblIDs="[69]"] [actionTypes="[8]"]
[2022/07/15 15:01:45.049 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=7] [schemaVersion=35] [cur_db=test] [sql="alter table t set tiflash replica 1"] [user=]
[2022/07/15 15:01:45.049 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:71, Type:set tiflash replica, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:45.049 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:45.049 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:71, Type:set tiflash replica, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:45.049 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="alter table t set tiflash replica 1"]
[2022/07/15 15:01:45.049 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 27, tp general"] [job="ID:71, Type:set tiflash replica, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:45.049 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:45.049 +08:00] [INFO] [table.go:1109] ["Set TiFlash replica pd rule"] [tableID=69]
[2022/07/15 15:01:45.049 +08:00] [INFO] [info.go:1051] [ConfigureTiFlashPDForTable] [tableID=69] [count=1]
[2022/07/15 15:01:45.050 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 27, tp general"] [job="ID:71, Type:set tiflash replica, State:synced, SchemaState:public, SchemaID:1, TableID:69, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:45.049 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:45.050 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=71]
[2022/07/15 15:01:45.050 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:45.050 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=35] [neededSchemaVersion=36] ["start time"=32.5µs] [phyTblIDs="[]"] [actionTypes="[]"]
[2022/07/15 15:01:45.050 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:72, Type:update tiflash replica status, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:2, start time: 2022-07-15 15:01:45.05 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:45.050 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:72, Type:update tiflash replica status, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:2, start time: 2022-07-15 15:01:45.05 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query=]
[2022/07/15 15:01:45.050 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 27, tp general"] [job="ID:72, Type:update tiflash replica status, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:45.05 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:45.050 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 27, tp general"] [job="ID:72, Type:update tiflash replica status, State:synced, SchemaState:public, SchemaID:1, TableID:69, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:45.05 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:45.050 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=72]
[2022/07/15 15:01:45.050 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:45.050 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=36] [neededSchemaVersion=37] ["start time"=32.084µs] [phyTblIDs="[]"] [actionTypes="[]"]
[2022/07/15 15:01:45.050 +08:00] [WARN] [2pc.go:1806] ["schemaLeaseChecker is not set for this transaction"] [sessionID=7] [startTS=434600281387827216] [checkTS=434600281387827217]
[2022/07/15 15:01:45.051 +08:00] [INFO] [fragment.go:77] ["Mpp will generate tasks"] [plan=Table(t)->Projection->HashAgg->Send()]
[2022/07/15 15:01:45.051 +08:00] [INFO] [batch_coprocessor.go:325] ["detecting available mpp stores"]
[2022/07/15 15:01:45.051 +08:00] [WARN] [batch_coprocessor.go:359] ["Store is not ready"] ["store address"=tiflash1] ["err message"="not support this request type MPPAlive"]
[2022/07/15 15:01:45.051 +08:00] [WARN] [batch_coprocessor.go:359] ["Store is not ready"] ["store address"=tiflash0] ["err message"="not support this request type MPPAlive"]
[2022/07/15 15:01:45.051 +08:00] [WARN] [batch_coprocessor.go:400] ["Meet regions that don't have an available store. Give up balancing"]
[2022/07/15 15:01:45.051 +08:00] [INFO] [mpp_gather.go:80] ["Dispatch mpp task"] [timestamp=434600281388089350] [ID=1] [address=tiflash0] [plan="Table(t)->Projection->HashAgg->Send(-1, )"]
[2022/07/15 15:01:46.052 +08:00] [WARN] [adapter.go:1067] ["# Txn_start_ts: 434600281388089350\n# Conn_ID: 7\n# Query_time: 1.000757124\n# Parse_time: 0.000010083\n# Compile_time: 0.000093125\n# Rewrite_time: 0.000018\n# Optimize_time: 0.000061667\n# Wait_TS: 0.000001875\n# Cop_time: 1.000408542 Request_count: 1\n# DB: test\n# Is_internal: false\n# Digest: 937d586f7ecc822d168688a6426d7e3caab9683d08fa87e5c4e49f7c51e7790a\n# Stats: t:pseudo\n# Num_cop_tasks: 1\n# Cop_proc_avg: 0 Cop_proc_addr: tiflash0\n# Cop_wait_avg: 0 Cop_wait_addr: tiflash0\n# Mem_max: 24460\n# Prepared: false\n# Plan_from_cache: false\n# Plan_from_binding: false\n# Has_more_results: false\n# KV_total: 0\n# PD_total: 0\n# Backoff_total: 0\n# Write_sql_response_total: 0\n# Result_rows: 1\n# Succ: true\n# IsExplicitTxn: false\n# Plan: tidb_decode_plan('zQZ4MAk2XzIwCTAJMQlmdW5jczphdmcoQ29sdW1uIzYsIA0KDDcpLT4NC6gzCTEJdGltZToxcywgbG9vcHM6MiwgcGFydGlhbF93b3JrZXI6e3dhbGxfCSfwTy4wMDA0NzY1cywgY29uY3VycmVuY3k6NSwgdGFza19udW06MSwgdG90X3dhaXQ6NS4wMDIyNjE5MTZzLCB0b3RfZXhlYzoxMy4yOTLCtXMsBSsFWwkrDDc4NjYBKwxtYXg6CW0MNTY1NAGeCHA5NTISABR9LCBmaW5qpgAQODU4MzSuqAAQMzM2MTIBMhWoGDIwLjEyN8JGqAAcMzU3OTU4cywdqBg3MzMzM3MsHagJElR9CTIzLjkgS0IJTi9BCjEJMzFfMjIJIaNUZGF0YTpFeGNoYW5nZVNlbmRlcl8yMVKSAShjb3BfdGFzazogeyFjBCAxCXoEIDABcShyb2Nfa2V5czogMCGWcHByX2NhY2hlX2hpdF9yYXRpbzogMC4wMH0JTi9BAQQQCjIJNDkFagBfAW4RgkxUeXBlOiBQYXNzVGhyb3VnaAkwCQEvAQQYCjMJNl84CQkxSVsQY291bnRRXQQxMFlUCDYsIAkiCHN1bRUgADEZIAA3LlgAFDQJM18zMQlZTDAwMDAJdGVzdC50LmEsIGNhc3QoGQ9MZGVjaW1hbCgyNCw0KSBCSU5BUlkZVQQxMS5WABg1CTQzXzE5LlcAxGFibGU6dCwga2VlcCBvcmRlcjpmYWxzZSwgc3RhdHM6cHNldWRvCTAJCU4vQQlOL0EK')\n# Plan_digest: e4ae8838ec87c31934084e4ae7d5fedd3e57d5be66bebe401244a605681f7d7c\nuse test;\nselect avg(a) from t;"]
[2022/07/15 15:01:46.052 +08:00] [INFO] [fragment.go:77] ["Mpp will generate tasks"] [plan=Recv()->Projection->HashAgg->Projection->Send()]
[2022/07/15 15:01:46.052 +08:00] [INFO] [batch_coprocessor.go:325] ["detecting available mpp stores"]
[2022/07/15 15:01:46.052 +08:00] [WARN] [batch_coprocessor.go:359] ["Store is not ready"] ["store address"=tiflash1] ["err message"="not support this request type MPPAlive"]
[2022/07/15 15:01:46.052 +08:00] [WARN] [batch_coprocessor.go:359] ["Store is not ready"] ["store address"=tiflash0] ["err message"="not support this request type MPPAlive"]
[2022/07/15 15:01:46.052 +08:00] [WARN] [batch_coprocessor.go:400] ["Meet regions that don't have an available store. Give up balancing"]
[2022/07/15 15:01:46.052 +08:00] [INFO] [mpp_gather.go:80] ["Dispatch mpp task"] [timestamp=434600281650495488] [ID=1] [address=tiflash0] [plan="Table(t)->Send(2, )"]
[2022/07/15 15:01:46.052 +08:00] [INFO] [mpp_gather.go:80] ["Dispatch mpp task"] [timestamp=434600281650495488] [ID=2] [address=tiflash0] [plan="Recv(1, )->Projection->HashAgg->Projection->Send(-1, )"]
[2022/07/15 15:01:47.054 +08:00] [WARN] [adapter.go:1067] ["# Txn_start_ts: 434600281650495488\n# Conn_ID: 7\n# Query_time: 1.001785292\n# Parse_time: 0.00006275\n# Compile_time: 0.000300167\n# Rewrite_time: 0.000054625\n# Optimize_time: 0.000177166\n# Wait_TS: 0.000014417\n# Cop_time: 1.001002833 Request_count: 1\n# DB: test\n# Is_internal: false\n# Digest: c672c73b0d80aae5218bc59fc96c6c0323e4bd53e9335c7a9a59684f28f4de5a\n# Stats: t:pseudo\n# Num_cop_tasks: 1\n# Cop_proc_avg: 0 Cop_proc_addr: tiflash0\n# Cop_wait_avg: 0 Cop_wait_addr: tiflash0\n# Prepared: false\n# Plan_from_cache: false\n# Plan_from_binding: false\n# Has_more_results: false\n# KV_total: 0\n# PD_total: 0\n# Backoff_total: 0\n# Write_sql_response_total: 0\n# Result_rows: 1\n# Succ: true\n# IsExplicitTxn: false\n# Plan: tidb_decode_plan('gwbwmjAJMzFfMjQJMAk4MDAwCWRhdGE6RXhjaGFuZ2VTZW5kZXJfMjMJMQl0aW1lOjFzLCBsb29wczoyLCBjb3BfdGFzazoge251bTogMSwgbWF4OiAwcywgcHJvY19rZXlzOiAwLCBjb3ByX2NhY2hlX2hpdF9yYXRpbzogMC4wMH0JTi9BCU4vQQoxCTQ5XzIzCTFfMQk4MDAwCUV4CYVYVHlwZTogUGFzc1Rocm91Z2gJMAkJTi8JNhwyCTNfMjIJMRE1ZGRpdihDb2x1bW4jMywgY2FzdChjYXNlKGVxERckNywgMCksIDEsIA0obDcpLCBkZWNpbWFsKDIwLDApIEJJTkFSWSkpLT4NIygzLCB0ZXN0LnQuYS59ABAzCTZfOBl8IGdyb3VwIGJ5Og02ODE4LCBmdW5jczpjb3VudBGBBDE1GVkANxEiCHN1bRUgADYZIAAzESAcZmlyc3Ryb3cVJQw3KS0+TpQAFDQJM18zNQWVFDEwMDAwCRElLQ4ZDxX0CDQsNBX0FfMEMTYZ9BkKLv4AGDUJNDhfMjEday4eABg2CTQ5XzIwHR5RVSnQNEhhc2hQYXJ0aXRpb24sBQ8hkSBzOiBbbmFtZTo1cUE+NGxsYXRlOiBiaW5hcnldLmcAGDcJNDNfMTkdZ8h0YWJsZTp0LCBrZWVwIG9yZGVyOmZhbHNlLCBzdGF0czpwc2V1ZG8JMAkJTi9BCU4vQQo=')\n# Plan_digest: 9a9a7eb026fb8ab9ffb28214ade640e9f1917b6dacaa9759249e3e121390c24a\nselect avg(a), a from t group by a;"]
[2022/07/15 15:01:47.054 +08:00] [INFO] [ddl_worker.go:158] ["[ddl] DDL worker closed"] [worker="worker 27, tp general"] ["take time"=84ns]
[2022/07/15 15:01:47.054 +08:00] [INFO] [ddl_worker.go:158] ["[ddl] DDL worker closed"] [worker="worker 28, tp add index"] ["take time"=0s]
[2022/07/15 15:01:47.054 +08:00] [INFO] [delete_range.go:148] ["[ddl] closing delRange"]
[2022/07/15 15:01:47.054 +08:00] [INFO] [session_pool.go:94] ["[ddl] closing sessionPool"]
[2022/07/15 15:01:47.054 +08:00] [INFO] [ddl.go:576] ["[ddl] DDL closed"] [ID=e2d9c33b-a350-438a-8005-07c861da40be] ["take time"=40.292µs]
[2022/07/15 15:01:47.054 +08:00] [INFO] [ddl.go:464] ["[ddl] stop DDL"] [ID=e2d9c33b-a350-438a-8005-07c861da40be]
[2022/07/15 15:01:47.054 +08:00] [INFO] [domain.go:498] ["topNSlowQueryLoop exited."]
[2022/07/15 15:01:47.054 +08:00] [INFO] [handle_hist.go:156] ["SubLoadWorker exited."]
[2022/07/15 15:01:47.054 +08:00] [INFO] [domain.go:1288] ["dumpFileGcChecker exited."]
[2022/07/15 15:01:47.054 +08:00] [INFO] [domain.go:1203] ["handleEvolvePlanTasksLoop exited."]
[2022/07/15 15:01:47.054 +08:00] [INFO] [domain.go:1032] ["loadPrivilegeInLoop exited."]
[2022/07/15 15:01:47.054 +08:00] [INFO] [domain.go:1160] ["globalBindHandleWorkerLoop exited."]
[2022/07/15 15:01:47.054 +08:00] [INFO] [domain.go:575] ["topologySyncerKeeper exited."]
[2022/07/15 15:01:47.054 +08:00] [INFO] [domain.go:552] ["globalConfigSyncerKeeper exited."]
[2022/07/15 15:01:47.054 +08:00] [INFO] [handle_hist.go:156] ["SubLoadWorker exited."]
[2022/07/15 15:01:47.054 +08:00] [INFO] [domain.go:527] ["infoSyncerKeeper exited."]
[2022/07/15 15:01:47.054 +08:00] [INFO] [handle_hist.go:156] ["SubLoadWorker exited."]
[2022/07/15 15:01:47.054 +08:00] [INFO] [domain.go:1082] ["LoadSysVarCacheLoop exited."]
[2022/07/15 15:01:47.054 +08:00] [INFO] [handle_hist.go:156] ["SubLoadWorker exited."]
[2022/07/15 15:01:47.054 +08:00] [INFO] [handle_hist.go:156] ["SubLoadWorker exited."]
[2022/07/15 15:01:47.054 +08:00] [INFO] [domain.go:733] ["domain closed"] ["take time"=138.459µs]
[2022/07/15 15:01:47.073 +08:00] [INFO] [db.go:567] ["Closing database"]
[2022/07/15 15:01:47.074 +08:00] [INFO] [db.go:592] ["Memtable flushed"]
[2022/07/15 15:01:47.074 +08:00] [INFO] [db.go:596] ["Compaction finished"]
[2022/07/15 15:01:47.074 +08:00] [INFO] [db.go:615] ["BlobManager finished"]
[2022/07/15 15:01:47.074 +08:00] [INFO] [db.go:619] ["ResourceManager finished"]
[2022/07/15 15:01:47.074 +08:00] [INFO] [db.go:625] ["Waiting for closer"]
[2022/07/15 15:01:47.187 +08:00] [INFO] [tidb.go:74] ["new domain"] [store=30cf2197-a9cb-4624-b171-2fe7c0a7d3fd] ["ddl lease"=0s] ["stats lease"=-1ns] ["index usage sync lease"=0s]
[2022/07/15 15:01:47.187 +08:00] [INFO] [domain.go:178] ["full load InfoSchema success"] [currentSchemaVersion=0] [neededSchemaVersion=0] ["start time"=495.959µs]
[2022/07/15 15:01:47.187 +08:00] [INFO] [domain.go:449] ["full load and reset schema validator"]
[2022/07/15 15:01:47.187 +08:00] [INFO] [ddl.go:483] ["[ddl] start DDL"] [ID=54a70443-1330-426d-a7a0-78087d2e6747] [runWorker=true]
[2022/07/15 15:01:47.187 +08:00] [INFO] [ddl.go:472] ["[ddl] start delRangeManager OK"] ["is a emulator"=true]
[2022/07/15 15:01:47.187 +08:00] [INFO] [delete_range.go:158] ["[ddl] start delRange emulator"]
[2022/07/15 15:01:47.187 +08:00] [INFO] [ddl_worker.go:164] ["[ddl] start DDL worker"] [worker="worker 29, tp general"]
[2022/07/15 15:01:47.187 +08:00] [INFO] [ddl_worker.go:164] ["[ddl] start DDL worker"] [worker="worker 30, tp add index"]
[2022/07/15 15:01:47.188 +08:00] [INFO] [tidb.go:268] ["rollbackTxn called due to ddl/autocommit failure"]
[2022/07/15 15:01:47.188 +08:00] [WARN] [session.go:1983] ["run statement failed"] [schemaVersion=0] [error="[schema:1049]Unknown database 'mysql'"] [errorVerbose="[schema:1049]Unknown database 'mysql'\ngithub.com/pingcap/errors.AddStack\n\t/Users/hongyunyan/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20211224045212-9687c2b0f87c/errors.go:174\ngithub.com/pingcap/errors.(*Error).GenWithStackByArgs\n\t/Users/hongyunyan/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20211224045212-9687c2b0f87c/normalize.go:164\ngithub.com/pingcap/tidb/executor.(*SimpleExec).executeUse\n\t/Users/hongyunyan/Desktop/tidb/executor/simple.go:571\ngithub.com/pingcap/tidb/executor.(*SimpleExec).Next\n\t/Users/hongyunyan/Desktop/tidb/executor/simple.go:131\ngithub.com/pingcap/tidb/executor.Next\n\t/Users/hongyunyan/Desktop/tidb/executor/executor.go:319\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelayExecutor\n\t/Users/hongyunyan/Desktop/tidb/executor/adapter.go:673\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelay\n\t/Users/hongyunyan/Desktop/tidb/executor/adapter.go:523\ngithub.com/pingcap/tidb/executor.(*ExecStmt).Exec\n\t/Users/hongyunyan/Desktop/tidb/executor/adapter.go:472\ngithub.com/pingcap/tidb/session.runStmt\n\t/Users/hongyunyan/Desktop/tidb/session/session.go:2114\ngithub.com/pingcap/tidb/session.(*session).ExecuteStmt\n\t/Users/hongyunyan/Desktop/tidb/session/session.go:1980\ngithub.com/pingcap/tidb/session.(*session).ExecuteInternal\n\t/Users/hongyunyan/Desktop/tidb/session/session.go:1495\ngithub.com/pingcap/tidb/session.checkBootstrapped\n\t/Users/hongyunyan/Desktop/tidb/session/bootstrap.go:728\ngithub.com/pingcap/tidb/session.bootstrap\n\t/Users/hongyunyan/Desktop/tidb/session/bootstrap.go:431\ngithub.com/pingcap/tidb/session.runInBootstrapSession\n\t/Users/hongyunyan/Desktop/tidb/session/session.go:2834\ngithub.com/pingcap/tidb/session.BootstrapSession\n\t/Users/hongyunyan/Desktop/tidb/session/session.go:2720\ngithub.com/pingcap/tidb/testkit.bootstrap\n\t/Users/hongyunyan/Desktop/tidb/testkit/mockstore.go:71\ngithub.com/pingcap/tidb/testkit.CreateMockStoreAndDomain\n\t/Users/hongyunyan/Desktop/tidb/testkit/mockstore.go:64\ngithub.com/pingcap/tidb/testkit.CreateMockStore\n\t/Users/hongyunyan/Desktop/tidb/testkit/mockstore.go:56\ngithub.com/pingcap/tidb/executor/tiflashtest.TestPartitionTable\n\t/Users/hongyunyan/Desktop/tidb/executor/tiflashtest/tiflash_test.go:474\ntesting.tRunner\n\t/opt/homebrew/Cellar/go/1.18.3/libexec/src/testing/testing.go:1439\nruntime.goexit\n\t/opt/homebrew/Cellar/go/1.18.3/libexec/src/runtime/asm_arm64.s:1263"] [session="{\n  \"currDBName\": \"\",\n  \"id\": 0,\n  \"status\": 2,\n  \"strictMode\": true,\n  \"user\": null\n}"]
[2022/07/15 15:01:47.188 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=0] [cur_db=] [sql="CREATE DATABASE IF NOT EXISTS test"] [user=]
[2022/07/15 15:01:47.188 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:2, Type:create schema, State:queueing, SchemaState:none, SchemaID:1, TableID:0, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:47.188 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:47.188 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:2, Type:create schema, State:queueing, SchemaState:none, SchemaID:1, TableID:0, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:47.188 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE DATABASE IF NOT EXISTS test"]
[2022/07/15 15:01:47.188 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 29, tp general"] [job="ID:2, Type:create schema, State:queueing, SchemaState:none, SchemaID:1, TableID:0, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:47.188 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:47.188 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 29, tp general"] [job="ID:2, Type:create schema, State:synced, SchemaState:public, SchemaID:1, TableID:0, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:47.188 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:47.188 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=2]
[2022/07/15 15:01:47.188 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:47.189 +08:00] [INFO] [domain.go:178] ["full load InfoSchema success"] [currentSchemaVersion=0] [neededSchemaVersion=1] ["start time"=469.375µs]
[2022/07/15 15:01:47.189 +08:00] [INFO] [domain.go:449] ["full load and reset schema validator"]
[2022/07/15 15:01:47.189 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=1] [cur_db=] [sql="CREATE DATABASE IF NOT EXISTS `mysql`"] [user=]
[2022/07/15 15:01:47.189 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:4, Type:create schema, State:queueing, SchemaState:none, SchemaID:3, TableID:0, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:47.189 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:47.189 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:4, Type:create schema, State:queueing, SchemaState:none, SchemaID:3, TableID:0, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:47.189 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE DATABASE IF NOT EXISTS `mysql`"]
[2022/07/15 15:01:47.189 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 29, tp general"] [job="ID:4, Type:create schema, State:queueing, SchemaState:none, SchemaID:3, TableID:0, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:47.189 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:47.189 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 29, tp general"] [job="ID:4, Type:create schema, State:synced, SchemaState:public, SchemaID:3, TableID:0, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:47.189 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:47.190 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=4]
[2022/07/15 15:01:47.190 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:47.190 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=1] [neededSchemaVersion=2] ["start time"=16.5µs] [phyTblIDs="[]"] [actionTypes="[]"]
[2022/07/15 15:01:47.190 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=2] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.user (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tauthentication_string\tTEXT,\n\t\tplugin\t\t\t\t\tCHAR(64),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tProcess_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_db_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tSuper_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_user_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_slave_priv\t    \tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_client_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_role_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_role_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAccount_locked\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShutdown_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReload_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tFILE_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tConfig_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_Tablespace_Priv  ENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (Host, User));"] [user=]
[2022/07/15 15:01:47.190 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:6, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:5, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:47.19 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:47.190 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:6, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:5, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:47.19 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.user (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tauthentication_string\tTEXT,\n\t\tplugin\t\t\t\t\tCHAR(64),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tProcess_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_db_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tSuper_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_user_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_slave_priv\t    \tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_client_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_role_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_role_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAccount_locked\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShutdown_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReload_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tFILE_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tConfig_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_Tablespace_Priv  ENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (Host, User));"]
[2022/07/15 15:01:47.190 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 29, tp general"] [job="ID:6, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:5, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:47.19 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:47.192 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 29, tp general"] [job="ID:6, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:5, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:47.19 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:47.193 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=6]
[2022/07/15 15:01:47.193 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:47.193 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=2] [neededSchemaVersion=3] ["start time"=276.625µs] [phyTblIDs="[5]"] [actionTypes="[8]"]
[2022/07/15 15:01:47.193 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=3] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.global_priv (Host CHAR(255) NOT NULL DEFAULT '',User CHAR(80) NOT NULL DEFAULT '',Priv LONGTEXT NOT NULL DEFAULT '',PRIMARY KEY (Host, User))"] [user=]
[2022/07/15 15:01:47.193 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:8, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:7, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:47.193 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:47.193 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:8, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:7, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:47.193 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.global_priv (Host CHAR(255) NOT NULL DEFAULT '',User CHAR(80) NOT NULL DEFAULT '',Priv LONGTEXT NOT NULL DEFAULT '',PRIMARY KEY (Host, User))"]
[2022/07/15 15:01:47.193 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 29, tp general"] [job="ID:8, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:7, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:47.193 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:47.194 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 29, tp general"] [job="ID:8, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:7, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:47.193 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:47.194 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=8]
[2022/07/15 15:01:47.194 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:47.194 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=3] [neededSchemaVersion=4] ["start time"=51.667µs] [phyTblIDs="[7]"] [actionTypes="[8]"]
[2022/07/15 15:01:47.194 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=4] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.db (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tDB\t\t\t\t\t\tCHAR(64),\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv \t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (Host, DB, User));"] [user=]
[2022/07/15 15:01:47.194 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:10, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:9, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:47.194 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:47.194 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:10, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:9, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:47.194 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.db (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tDB\t\t\t\t\t\tCHAR(64),\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv \t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (Host, DB, User));"]
[2022/07/15 15:01:47.194 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 29, tp general"] [job="ID:10, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:9, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:47.194 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:47.195 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 29, tp general"] [job="ID:10, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:9, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:47.194 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:47.196 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=10]
[2022/07/15 15:01:47.196 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:47.196 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=4] [neededSchemaVersion=5] ["start time"=178.209µs] [phyTblIDs="[9]"] [actionTypes="[8]"]
[2022/07/15 15:01:47.196 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=5] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.tables_priv (\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64),\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64),\n\t\tGrantor\t\tCHAR(77),\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tTable_priv\tSET('Select','Insert','Update','Delete','Create','Drop','Grant','Index','Alter','Create View','Show View','Trigger','References'),\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name));"] [user=]
[2022/07/15 15:01:47.196 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:12, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:11, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:47.196 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:47.196 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:12, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:11, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:47.196 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.tables_priv (\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64),\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64),\n\t\tGrantor\t\tCHAR(77),\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tTable_priv\tSET('Select','Insert','Update','Delete','Create','Drop','Grant','Index','Alter','Create View','Show View','Trigger','References'),\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name));"]
[2022/07/15 15:01:47.196 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 29, tp general"] [job="ID:12, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:11, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:47.196 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:47.197 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 29, tp general"] [job="ID:12, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:11, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:47.196 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:47.197 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=12]
[2022/07/15 15:01:47.197 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:47.197 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=5] [neededSchemaVersion=6] ["start time"=97.667µs] [phyTblIDs="[11]"] [actionTypes="[8]"]
[2022/07/15 15:01:47.197 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=6] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.columns_priv(\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64),\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64),\n\t\tColumn_name\tCHAR(64),\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name, Column_name));"] [user=]
[2022/07/15 15:01:47.197 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:14, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:13, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:47.197 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:47.197 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:14, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:13, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:47.197 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.columns_priv(\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64),\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64),\n\t\tColumn_name\tCHAR(64),\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name, Column_name));"]
[2022/07/15 15:01:47.197 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 29, tp general"] [job="ID:14, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:13, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:47.197 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:47.198 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 29, tp general"] [job="ID:14, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:13, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:47.197 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:47.198 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=14]
[2022/07/15 15:01:47.198 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:47.198 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=6] [neededSchemaVersion=7] ["start time"=79.542µs] [phyTblIDs="[13]"] [actionTypes="[8]"]
[2022/07/15 15:01:47.198 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=7] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.GLOBAL_VARIABLES(\n\t\tVARIABLE_NAME  VARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(1024) DEFAULT NULL);"] [user=]
[2022/07/15 15:01:47.198 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:16, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:15, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:47.198 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:47.198 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:16, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:15, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:47.198 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.GLOBAL_VARIABLES(\n\t\tVARIABLE_NAME  VARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(1024) DEFAULT NULL);"]
[2022/07/15 15:01:47.198 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 29, tp general"] [job="ID:16, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:15, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:47.198 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:47.199 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 29, tp general"] [job="ID:16, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:15, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:47.198 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:47.199 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=16]
[2022/07/15 15:01:47.199 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:47.199 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=7] [neededSchemaVersion=8] ["start time"=51.083µs] [phyTblIDs="[15]"] [actionTypes="[8]"]
[2022/07/15 15:01:47.199 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=8] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb(\n\t\tVARIABLE_NAME  \tVARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE \tVARCHAR(1024) DEFAULT NULL,\n\t\tCOMMENT \t\tVARCHAR(1024));"] [user=]
[2022/07/15 15:01:47.199 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:18, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:17, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:47.199 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:47.199 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:18, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:17, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:47.199 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb(\n\t\tVARIABLE_NAME  \tVARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE \tVARCHAR(1024) DEFAULT NULL,\n\t\tCOMMENT \t\tVARCHAR(1024));"]
[2022/07/15 15:01:47.199 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 29, tp general"] [job="ID:18, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:17, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:47.199 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:47.199 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 29, tp general"] [job="ID:18, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:17, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:47.199 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:47.200 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=18]
[2022/07/15 15:01:47.200 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:47.200 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=8] [neededSchemaVersion=9] ["start time"=50.541µs] [phyTblIDs="[17]"] [actionTypes="[8]"]
[2022/07/15 15:01:47.200 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=9] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.help_topic (\n  \t\thelp_topic_id \t\tINT(10) UNSIGNED NOT NULL,\n  \t\tname \t\t\t\tCHAR(64) NOT NULL,\n  \t\thelp_category_id \tSMALLINT(5) UNSIGNED NOT NULL,\n  \t\tdescription \t\tTEXT NOT NULL,\n  \t\texample \t\t\tTEXT NOT NULL,\n  \t\turl \t\t\t\tTEXT NOT NULL,\n  \t\tPRIMARY KEY (help_topic_id) clustered,\n  \t\tUNIQUE KEY name (name)\n\t\t) ENGINE=InnoDB DEFAULT CHARSET=utf8 STATS_PERSISTENT=0 COMMENT='help topics';"] [user=]
[2022/07/15 15:01:47.200 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:20, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:19, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:47.2 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:47.200 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:20, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:19, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:47.2 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.help_topic (\n  \t\thelp_topic_id \t\tINT(10) UNSIGNED NOT NULL,\n  \t\tname \t\t\t\tCHAR(64) NOT NULL,\n  \t\thelp_category_id \tSMALLINT(5) UNSIGNED NOT NULL,\n  \t\tdescription \t\tTEXT NOT NULL,\n  \t\texample \t\t\tTEXT NOT NULL,\n  \t\turl \t\t\t\tTEXT NOT NULL,\n  \t\tPRIMARY KEY (help_topic_id) clustered,\n  \t\tUNIQUE KEY name (name)\n\t\t) ENGINE=InnoDB DEFAULT CHARSET=utf8 STATS_PERSISTENT=0 COMMENT='help topics';"]
[2022/07/15 15:01:47.200 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 29, tp general"] [job="ID:20, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:19, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:47.2 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:47.200 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 29, tp general"] [job="ID:20, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:19, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:47.2 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:47.201 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=20]
[2022/07/15 15:01:47.201 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:47.201 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=9] [neededSchemaVersion=10] ["start time"=67.959µs] [phyTblIDs="[19]"] [actionTypes="[8]"]
[2022/07/15 15:01:47.201 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=10] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_meta (\n\t\tversion \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\ttable_id \t\tBIGINT(64) NOT NULL,\n\t\tmodify_count\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcount \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tsnapshot        BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tINDEX idx_ver(version),\n\t\tUNIQUE INDEX tbl(table_id)\n\t);"] [user=]
[2022/07/15 15:01:47.201 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:22, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:21, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:47.201 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:47.201 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:22, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:21, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:47.201 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_meta (\n\t\tversion \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\ttable_id \t\tBIGINT(64) NOT NULL,\n\t\tmodify_count\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcount \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tsnapshot        BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tINDEX idx_ver(version),\n\t\tUNIQUE INDEX tbl(table_id)\n\t);"]
[2022/07/15 15:01:47.201 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 29, tp general"] [job="ID:22, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:21, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:47.201 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:47.201 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 29, tp general"] [job="ID:22, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:21, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:47.201 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:47.201 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=22]
[2022/07/15 15:01:47.201 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:47.202 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=10] [neededSchemaVersion=11] ["start time"=65.458µs] [phyTblIDs="[21]"] [actionTypes="[8]"]
[2022/07/15 15:01:47.202 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=11] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_histograms (\n\t\ttable_id \t\t\tBIGINT(64) NOT NULL,\n\t\tis_index \t\t\tTINYINT(2) NOT NULL,\n\t\thist_id \t\t\tBIGINT(64) NOT NULL,\n\t\tdistinct_count \t\tBIGINT(64) NOT NULL,\n\t\tnull_count \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\ttot_col_size \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tmodify_count \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tversion \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tcm_sketch \t\t\tBLOB(6291456),\n\t\tstats_ver \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tflag \t\t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcorrelation \t\tDOUBLE NOT NULL DEFAULT 0,\n\t\tlast_analyze_pos \tLONGBLOB DEFAULT NULL,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id)\n\t);"] [user=]
[2022/07/15 15:01:47.202 +08:00] [INFO] [ddl_api.go:999] ["Automatically convert BLOB(6291456) to MEDIUMBLOB"]
[2022/07/15 15:01:47.202 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:24, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:23, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:47.202 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:47.202 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:24, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:23, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:47.202 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_histograms (\n\t\ttable_id \t\t\tBIGINT(64) NOT NULL,\n\t\tis_index \t\t\tTINYINT(2) NOT NULL,\n\t\thist_id \t\t\tBIGINT(64) NOT NULL,\n\t\tdistinct_count \t\tBIGINT(64) NOT NULL,\n\t\tnull_count \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\ttot_col_size \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tmodify_count \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tversion \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tcm_sketch \t\t\tBLOB(6291456),\n\t\tstats_ver \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tflag \t\t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcorrelation \t\tDOUBLE NOT NULL DEFAULT 0,\n\t\tlast_analyze_pos \tLONGBLOB DEFAULT NULL,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id)\n\t);"]
[2022/07/15 15:01:47.202 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 29, tp general"] [job="ID:24, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:23, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:47.202 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:47.203 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 29, tp general"] [job="ID:24, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:23, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:47.202 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:47.203 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=24]
[2022/07/15 15:01:47.203 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:47.203 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=11] [neededSchemaVersion=12] ["start time"=108.959µs] [phyTblIDs="[23]"] [actionTypes="[8]"]
[2022/07/15 15:01:47.203 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=12] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_buckets (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tbucket_id \tBIGINT(64) NOT NULL,\n\t\tcount \t\tBIGINT(64) NOT NULL,\n\t\trepeats \tBIGINT(64) NOT NULL,\n\t\tupper_bound LONGBLOB NOT NULL,\n\t\tlower_bound LONGBLOB ,\n\t\tndv         BIGINT NOT NULL DEFAULT 0,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id, bucket_id)\n\t);"] [user=]
[2022/07/15 15:01:47.203 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:26, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:25, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:47.203 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:47.203 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:26, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:25, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:47.203 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_buckets (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tbucket_id \tBIGINT(64) NOT NULL,\n\t\tcount \t\tBIGINT(64) NOT NULL,\n\t\trepeats \tBIGINT(64) NOT NULL,\n\t\tupper_bound LONGBLOB NOT NULL,\n\t\tlower_bound LONGBLOB ,\n\t\tndv         BIGINT NOT NULL DEFAULT 0,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id, bucket_id)\n\t);"]
[2022/07/15 15:01:47.203 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 29, tp general"] [job="ID:26, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:25, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:47.203 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:47.204 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 29, tp general"] [job="ID:26, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:25, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:47.203 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:47.204 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=26]
[2022/07/15 15:01:47.204 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:47.204 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=12] [neededSchemaVersion=13] ["start time"=86.417µs] [phyTblIDs="[25]"] [actionTypes="[8]"]
[2022/07/15 15:01:47.204 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=13] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_index (job_id, element_id)\n\t);"] [user=]
[2022/07/15 15:01:47.204 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:28, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:27, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:47.204 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:47.204 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:28, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:27, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:47.204 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_index (job_id, element_id)\n\t);"]
[2022/07/15 15:01:47.204 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 29, tp general"] [job="ID:28, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:27, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:47.204 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:47.205 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 29, tp general"] [job="ID:28, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:27, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:47.204 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:47.205 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=28]
[2022/07/15 15:01:47.205 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:47.205 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=13] [neededSchemaVersion=14] ["start time"=61.083µs] [phyTblIDs="[27]"] [actionTypes="[8]"]
[2022/07/15 15:01:47.205 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=14] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range_done (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_done_index (job_id, element_id)\n\t);"] [user=]
[2022/07/15 15:01:47.205 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:30, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:29, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:47.205 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:47.205 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:30, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:29, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:47.205 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range_done (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_done_index (job_id, element_id)\n\t);"]
[2022/07/15 15:01:47.205 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 29, tp general"] [job="ID:30, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:29, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:47.205 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:47.206 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 29, tp general"] [job="ID:30, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:29, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:47.205 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:47.206 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=30]
[2022/07/15 15:01:47.206 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:47.206 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=14] [neededSchemaVersion=15] ["start time"=64.416µs] [phyTblIDs="[29]"] [actionTypes="[8]"]
[2022/07/15 15:01:47.206 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=15] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_feedback (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tfeedback \tBLOB NOT NULL,\n\t\tINDEX hist(table_id, is_index, hist_id)\n\t);"] [user=]
[2022/07/15 15:01:47.206 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:32, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:31, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:47.206 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:47.206 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:32, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:31, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:47.206 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_feedback (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tfeedback \tBLOB NOT NULL,\n\t\tINDEX hist(table_id, is_index, hist_id)\n\t);"]
[2022/07/15 15:01:47.206 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 29, tp general"] [job="ID:32, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:31, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:47.206 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:47.207 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 29, tp general"] [job="ID:32, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:31, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:47.206 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:47.207 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=32]
[2022/07/15 15:01:47.207 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:47.207 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=15] [neededSchemaVersion=16] ["start time"=57.625µs] [phyTblIDs="[31]"] [actionTypes="[8]"]
[2022/07/15 15:01:47.207 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=16] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.role_edges (\n\t\tFROM_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tFROM_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tWITH_ADMIN_OPTION \tENUM('N','Y') CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (FROM_HOST,FROM_USER,TO_HOST,TO_USER)\n\t);"] [user=]
[2022/07/15 15:01:47.207 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:34, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:33, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:47.207 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:47.207 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:34, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:33, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:47.207 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.role_edges (\n\t\tFROM_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tFROM_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tWITH_ADMIN_OPTION \tENUM('N','Y') CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (FROM_HOST,FROM_USER,TO_HOST,TO_USER)\n\t);"]
[2022/07/15 15:01:47.207 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 29, tp general"] [job="ID:34, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:33, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:47.207 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:47.207 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 29, tp general"] [job="ID:34, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:33, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:47.207 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:47.208 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=34]
[2022/07/15 15:01:47.208 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:47.208 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=16] [neededSchemaVersion=17] ["start time"=66.5µs] [phyTblIDs="[33]"] [actionTypes="[8]"]
[2022/07/15 15:01:47.208 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=17] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.default_roles (\n\t\tHOST \t\t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tUSER \t\t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tDEFAULT_ROLE_HOST \tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '%',\n\t\tDEFAULT_ROLE_USER \tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tPRIMARY KEY (HOST,USER,DEFAULT_ROLE_HOST,DEFAULT_ROLE_USER)\n\t)"] [user=]
[2022/07/15 15:01:47.208 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:36, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:35, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:47.208 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:47.208 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:36, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:35, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:47.208 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.default_roles (\n\t\tHOST \t\t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tUSER \t\t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tDEFAULT_ROLE_HOST \tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '%',\n\t\tDEFAULT_ROLE_USER \tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tPRIMARY KEY (HOST,USER,DEFAULT_ROLE_HOST,DEFAULT_ROLE_USER)\n\t)"]
[2022/07/15 15:01:47.208 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 29, tp general"] [job="ID:36, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:35, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:47.208 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:47.208 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 29, tp general"] [job="ID:36, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:35, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:47.208 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:47.209 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=36]
[2022/07/15 15:01:47.209 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:47.209 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=17] [neededSchemaVersion=18] ["start time"=77.292µs] [phyTblIDs="[35]"] [actionTypes="[8]"]
[2022/07/15 15:01:47.209 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=18] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.bind_info (\n\t\toriginal_sql TEXT NOT NULL,\n\t\tbind_sql TEXT NOT NULL,\n\t\tdefault_db TEXT NOT NULL,\n\t\tstatus TEXT NOT NULL,\n\t\tcreate_time TIMESTAMP(3) NOT NULL,\n\t\tupdate_time TIMESTAMP(3) NOT NULL,\n\t\tcharset TEXT NOT NULL,\n\t\tcollation TEXT NOT NULL,\n\t\tsource VARCHAR(10) NOT NULL DEFAULT 'unknown',\n\t\tINDEX sql_index(original_sql(700),default_db(68)) COMMENT \"accelerate the speed when add global binding query\",\n\t\tINDEX time_index(update_time) COMMENT \"accelerate the speed when querying with last update time\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"] [user=]
[2022/07/15 15:01:47.209 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:38, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:37, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:47.209 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:47.209 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:38, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:37, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:47.209 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.bind_info (\n\t\toriginal_sql TEXT NOT NULL,\n\t\tbind_sql TEXT NOT NULL,\n\t\tdefault_db TEXT NOT NULL,\n\t\tstatus TEXT NOT NULL,\n\t\tcreate_time TIMESTAMP(3) NOT NULL,\n\t\tupdate_time TIMESTAMP(3) NOT NULL,\n\t\tcharset TEXT NOT NULL,\n\t\tcollation TEXT NOT NULL,\n\t\tsource VARCHAR(10) NOT NULL DEFAULT 'unknown',\n\t\tINDEX sql_index(original_sql(700),default_db(68)) COMMENT \"accelerate the speed when add global binding query\",\n\t\tINDEX time_index(update_time) COMMENT \"accelerate the speed when querying with last update time\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"]
[2022/07/15 15:01:47.209 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 29, tp general"] [job="ID:38, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:37, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:47.209 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:47.210 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 29, tp general"] [job="ID:38, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:37, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:47.209 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:47.210 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=38]
[2022/07/15 15:01:47.210 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:47.210 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=18] [neededSchemaVersion=19] ["start time"=91.417µs] [phyTblIDs="[37]"] [actionTypes="[8]"]
[2022/07/15 15:01:47.210 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=19] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_top_n (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tcount \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"] [user=]
[2022/07/15 15:01:47.210 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:40, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:39, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:47.21 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:47.210 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:40, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:39, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:47.21 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_top_n (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tcount \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"]
[2022/07/15 15:01:47.210 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 29, tp general"] [job="ID:40, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:39, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:47.21 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:47.211 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 29, tp general"] [job="ID:40, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:39, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:47.21 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:47.211 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=40]
[2022/07/15 15:01:47.211 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:47.211 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=19] [neededSchemaVersion=20] ["start time"=64.125µs] [phyTblIDs="[39]"] [actionTypes="[8]"]
[2022/07/15 15:01:47.211 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=20] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.expr_pushdown_blacklist (\n\t\tname \t\tCHAR(100) NOT NULL,\n\t\tstore_type \tCHAR(100) NOT NULL DEFAULT 'tikv,tiflash,tidb',\n\t\treason \t\tVARCHAR(200)\n\t);"] [user=]
[2022/07/15 15:01:47.211 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:42, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:41, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:47.211 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:47.211 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:42, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:41, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:47.211 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.expr_pushdown_blacklist (\n\t\tname \t\tCHAR(100) NOT NULL,\n\t\tstore_type \tCHAR(100) NOT NULL DEFAULT 'tikv,tiflash,tidb',\n\t\treason \t\tVARCHAR(200)\n\t);"]
[2022/07/15 15:01:47.211 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 29, tp general"] [job="ID:42, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:41, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:47.211 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:47.211 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 29, tp general"] [job="ID:42, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:41, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:47.211 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:47.212 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=42]
[2022/07/15 15:01:47.212 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:47.212 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=20] [neededSchemaVersion=21] ["start time"=51.792µs] [phyTblIDs="[41]"] [actionTypes="[8]"]
[2022/07/15 15:01:47.212 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=21] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.opt_rule_blacklist (\n\t\tname \tCHAR(100) NOT NULL\n\t);"] [user=]
[2022/07/15 15:01:47.212 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:44, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:43, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:47.212 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:47.212 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:44, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:43, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:47.212 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.opt_rule_blacklist (\n\t\tname \tCHAR(100) NOT NULL\n\t);"]
[2022/07/15 15:01:47.212 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 29, tp general"] [job="ID:44, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:43, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:47.212 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:47.212 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 29, tp general"] [job="ID:44, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:43, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:47.212 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:47.212 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=44]
[2022/07/15 15:01:47.212 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:47.212 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=21] [neededSchemaVersion=22] ["start time"=30.916µs] [phyTblIDs="[43]"] [actionTypes="[8]"]
[2022/07/15 15:01:47.212 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=22] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_extended (\n\t\tname varchar(32) NOT NULL,\n\t\ttype tinyint(4) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tcolumn_ids varchar(32) NOT NULL,\n\t\tstats blob DEFAULT NULL,\n\t\tversion bigint(64) unsigned NOT NULL,\n\t\tstatus tinyint(4) NOT NULL,\n\t\tPRIMARY KEY(name, table_id),\n\t\tKEY idx_1 (table_id, status, version),\n\t\tKEY idx_2 (status, version)\n\t);"] [user=]
[2022/07/15 15:01:47.212 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:46, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:45, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:47.212 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:47.212 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:46, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:45, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:47.212 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_extended (\n\t\tname varchar(32) NOT NULL,\n\t\ttype tinyint(4) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tcolumn_ids varchar(32) NOT NULL,\n\t\tstats blob DEFAULT NULL,\n\t\tversion bigint(64) unsigned NOT NULL,\n\t\tstatus tinyint(4) NOT NULL,\n\t\tPRIMARY KEY(name, table_id),\n\t\tKEY idx_1 (table_id, status, version),\n\t\tKEY idx_2 (status, version)\n\t);"]
[2022/07/15 15:01:47.213 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 29, tp general"] [job="ID:46, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:45, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:47.212 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:47.213 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 29, tp general"] [job="ID:46, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:45, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:47.212 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:47.213 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=46]
[2022/07/15 15:01:47.213 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:47.213 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=22] [neededSchemaVersion=23] ["start time"=92.25µs] [phyTblIDs="[45]"] [actionTypes="[8]"]
[2022/07/15 15:01:47.213 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=23] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.schema_index_usage (\n\t\tTABLE_ID bigint(64),\n\t\tINDEX_ID bigint(21),\n\t\tQUERY_COUNT bigint(64),\n\t\tROWS_SELECTED bigint(64),\n\t\tLAST_USED_AT timestamp,\n\t\tPRIMARY KEY(TABLE_ID, INDEX_ID)\n\t);"] [user=]
[2022/07/15 15:01:47.214 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:48, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:47, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:47.214 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:47.214 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:48, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:47, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:47.214 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.schema_index_usage (\n\t\tTABLE_ID bigint(64),\n\t\tINDEX_ID bigint(21),\n\t\tQUERY_COUNT bigint(64),\n\t\tROWS_SELECTED bigint(64),\n\t\tLAST_USED_AT timestamp,\n\t\tPRIMARY KEY(TABLE_ID, INDEX_ID)\n\t);"]
[2022/07/15 15:01:47.214 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 29, tp general"] [job="ID:48, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:47, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:47.214 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:47.214 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 29, tp general"] [job="ID:48, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:47, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:47.214 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:47.214 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=48]
[2022/07/15 15:01:47.214 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:47.214 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=23] [neededSchemaVersion=24] ["start time"=60.75µs] [phyTblIDs="[47]"] [actionTypes="[8]"]
[2022/07/15 15:01:47.214 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=24] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_fm_sketch (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"] [user=]
[2022/07/15 15:01:47.214 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:50, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:49, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:47.214 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:47.214 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:50, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:49, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:47.214 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_fm_sketch (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"]
[2022/07/15 15:01:47.215 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 29, tp general"] [job="ID:50, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:49, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:47.214 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:47.215 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 29, tp general"] [job="ID:50, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:49, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:47.214 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:47.215 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=50]
[2022/07/15 15:01:47.215 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:47.215 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=24] [neededSchemaVersion=25] ["start time"=57.791µs] [phyTblIDs="[49]"] [actionTypes="[8]"]
[2022/07/15 15:01:47.215 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=25] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.global_grants (\n\t\tUSER char(32) NOT NULL DEFAULT '',\n\t\tHOST char(255) NOT NULL DEFAULT '',\n\t\tPRIV char(32) NOT NULL DEFAULT '',\n\t\tWITH_GRANT_OPTION enum('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (USER,HOST,PRIV)\n\t);"] [user=]
[2022/07/15 15:01:47.215 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:52, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:51, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:47.215 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:47.215 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:52, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:51, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:47.215 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.global_grants (\n\t\tUSER char(32) NOT NULL DEFAULT '',\n\t\tHOST char(255) NOT NULL DEFAULT '',\n\t\tPRIV char(32) NOT NULL DEFAULT '',\n\t\tWITH_GRANT_OPTION enum('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (USER,HOST,PRIV)\n\t);"]
[2022/07/15 15:01:47.215 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 29, tp general"] [job="ID:52, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:51, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:47.215 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:47.216 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 29, tp general"] [job="ID:52, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:51, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:47.215 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:47.216 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=52]
[2022/07/15 15:01:47.216 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:47.216 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=25] [neededSchemaVersion=26] ["start time"=61.291µs] [phyTblIDs="[51]"] [actionTypes="[8]"]
[2022/07/15 15:01:47.216 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=26] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.capture_plan_baselines_blacklist (\n\t\tid bigint(64) auto_increment,\n\t\tfilter_type varchar(32) NOT NULL COMMENT \"type of the filter, only db, table and frequency supported now\",\n\t\tfilter_value varchar(32) NOT NULL,\n\t\tkey idx(filter_type),\n\t\tprimary key(id)\n\t);"] [user=]
[2022/07/15 15:01:47.216 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:54, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:53, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:47.216 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:47.216 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:54, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:53, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:47.216 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.capture_plan_baselines_blacklist (\n\t\tid bigint(64) auto_increment,\n\t\tfilter_type varchar(32) NOT NULL COMMENT \"type of the filter, only db, table and frequency supported now\",\n\t\tfilter_value varchar(32) NOT NULL,\n\t\tkey idx(filter_type),\n\t\tprimary key(id)\n\t);"]
[2022/07/15 15:01:47.216 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 29, tp general"] [job="ID:54, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:53, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:47.216 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:47.216 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 29, tp general"] [job="ID:54, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:53, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:47.216 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:47.217 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=54]
[2022/07/15 15:01:47.217 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:47.217 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=26] [neededSchemaVersion=27] ["start time"=50.542µs] [phyTblIDs="[53]"] [actionTypes="[8]"]
[2022/07/15 15:01:47.217 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=27] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.column_stats_usage (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tcolumn_id BIGINT(64) NOT NULL,\n\t\tlast_used_at TIMESTAMP,\n\t\tlast_analyzed_at TIMESTAMP,\n\t\tPRIMARY KEY (table_id, column_id) CLUSTERED\n\t);"] [user=]
[2022/07/15 15:01:47.217 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:56, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:55, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:47.217 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:47.217 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:56, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:55, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:47.217 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.column_stats_usage (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tcolumn_id BIGINT(64) NOT NULL,\n\t\tlast_used_at TIMESTAMP,\n\t\tlast_analyzed_at TIMESTAMP,\n\t\tPRIMARY KEY (table_id, column_id) CLUSTERED\n\t);"]
[2022/07/15 15:01:47.217 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 29, tp general"] [job="ID:56, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:55, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:47.217 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:47.217 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 29, tp general"] [job="ID:56, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:55, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:47.217 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:47.217 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=56]
[2022/07/15 15:01:47.217 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:47.217 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=27] [neededSchemaVersion=28] ["start time"=55µs] [phyTblIDs="[55]"] [actionTypes="[8]"]
[2022/07/15 15:01:47.217 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=28] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.table_cache_meta (\n\t\ttid bigint(11) NOT NULL DEFAULT 0,\n\t\tlock_type enum('NONE','READ', 'INTEND', 'WRITE') NOT NULL DEFAULT 'NONE',\n\t\tlease bigint(20) NOT NULL DEFAULT 0,\n\t\toldReadLease bigint(20) NOT NULL DEFAULT 0,\n\t\tPRIMARY KEY (tid)\n\t);"] [user=]
[2022/07/15 15:01:47.218 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:58, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:57, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:47.217 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:47.218 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:58, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:57, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:47.217 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.table_cache_meta (\n\t\ttid bigint(11) NOT NULL DEFAULT 0,\n\t\tlock_type enum('NONE','READ', 'INTEND', 'WRITE') NOT NULL DEFAULT 'NONE',\n\t\tlease bigint(20) NOT NULL DEFAULT 0,\n\t\toldReadLease bigint(20) NOT NULL DEFAULT 0,\n\t\tPRIMARY KEY (tid)\n\t);"]
[2022/07/15 15:01:47.218 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 29, tp general"] [job="ID:58, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:57, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:47.217 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:47.218 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 29, tp general"] [job="ID:58, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:57, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:47.217 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:47.218 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=58]
[2022/07/15 15:01:47.218 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:47.218 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=28] [neededSchemaVersion=29] ["start time"=49.333µs] [phyTblIDs="[57]"] [actionTypes="[8]"]
[2022/07/15 15:01:47.218 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=29] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.analyze_options (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tsample_num BIGINT(64) NOT NULL DEFAULT 0,\n\t\tsample_rate DOUBLE NOT NULL DEFAULT -1,\n\t\tbuckets BIGINT(64) NOT NULL DEFAULT 0,\n\t\ttopn BIGINT(64) NOT NULL DEFAULT -1,\n\t\tcolumn_choice enum('DEFAULT','ALL','PREDICATE','LIST') NOT NULL DEFAULT 'DEFAULT',\n\t\tcolumn_ids TEXT(19372),\n\t\tPRIMARY KEY (table_id) CLUSTERED\n\t);"] [user=]
[2022/07/15 15:01:47.218 +08:00] [INFO] [ddl_api.go:999] ["Automatically convert BLOB(19372) to MEDIUMBLOB"]
[2022/07/15 15:01:47.218 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:60, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:59, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:47.218 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:47.218 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:60, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:59, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:47.218 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.analyze_options (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tsample_num BIGINT(64) NOT NULL DEFAULT 0,\n\t\tsample_rate DOUBLE NOT NULL DEFAULT -1,\n\t\tbuckets BIGINT(64) NOT NULL DEFAULT 0,\n\t\ttopn BIGINT(64) NOT NULL DEFAULT -1,\n\t\tcolumn_choice enum('DEFAULT','ALL','PREDICATE','LIST') NOT NULL DEFAULT 'DEFAULT',\n\t\tcolumn_ids TEXT(19372),\n\t\tPRIMARY KEY (table_id) CLUSTERED\n\t);"]
[2022/07/15 15:01:47.218 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 29, tp general"] [job="ID:60, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:59, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:47.218 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:47.219 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 29, tp general"] [job="ID:60, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:59, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:47.218 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:47.219 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=60]
[2022/07/15 15:01:47.219 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:47.219 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=29] [neededSchemaVersion=30] ["start time"=70.708µs] [phyTblIDs="[59]"] [actionTypes="[8]"]
[2022/07/15 15:01:47.219 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=30] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tstats_data longblob NOT NULL,\n\t\tseq_no bigint(64) NOT NULL comment 'sequence number of the gzipped data slice',\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version_seq (table_id, version, seq_no),\n\t\tKEY table_create_time (table_id, create_time, seq_no)\n\t);"] [user=]
[2022/07/15 15:01:47.219 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:62, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:61, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:47.219 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:47.219 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:62, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:61, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:47.219 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tstats_data longblob NOT NULL,\n\t\tseq_no bigint(64) NOT NULL comment 'sequence number of the gzipped data slice',\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version_seq (table_id, version, seq_no),\n\t\tKEY table_create_time (table_id, create_time, seq_no)\n\t);"]
[2022/07/15 15:01:47.219 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 29, tp general"] [job="ID:62, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:61, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:47.219 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:47.220 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 29, tp general"] [job="ID:62, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:61, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:47.219 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:47.220 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=62]
[2022/07/15 15:01:47.220 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:47.220 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=30] [neededSchemaVersion=31] ["start time"=70.791µs] [phyTblIDs="[61]"] [actionTypes="[8]"]
[2022/07/15 15:01:47.220 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=31] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_meta_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL,\n\t\tcount bigint(64) NOT NULL,\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version (table_id, version),\n\t\tKEY table_create_time (table_id, create_time)\n\t);"] [user=]
[2022/07/15 15:01:47.220 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:64, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:63, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:47.22 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:47.220 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:64, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:63, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:47.22 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_meta_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL,\n\t\tcount bigint(64) NOT NULL,\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version (table_id, version),\n\t\tKEY table_create_time (table_id, create_time)\n\t);"]
[2022/07/15 15:01:47.220 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 29, tp general"] [job="ID:64, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:63, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:47.22 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:47.221 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 29, tp general"] [job="ID:64, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:63, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:47.22 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:47.221 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=64]
[2022/07/15 15:01:47.221 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:47.221 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=31] [neededSchemaVersion=32] ["start time"=72.208µs] [phyTblIDs="[63]"] [actionTypes="[8]"]
[2022/07/15 15:01:47.221 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=32] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.analyze_jobs (\n\t\tid BIGINT(64) UNSIGNED NOT NULL AUTO_INCREMENT,\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\ttable_schema CHAR(64) NOT NULL DEFAULT '',\n\t\ttable_name CHAR(64) NOT NULL DEFAULT '',\n\t\tpartition_name CHAR(64) NOT NULL DEFAULT '',\n\t\tjob_info TEXT NOT NULL,\n\t\tprocessed_rows BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tstart_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tstate ENUM('pending', 'running', 'finished', 'failed') NOT NULL,\n\t\tfail_reason TEXT,\n\t\tinstance VARCHAR(512) NOT NULL comment 'address of the TiDB instance executing the analyze job',\n\t\tprocess_id BIGINT(64) UNSIGNED comment 'ID of the process executing the analyze job',\n\t\tPRIMARY KEY (id),\n\t\tKEY (update_time)\n\t);"] [user=]
[2022/07/15 15:01:47.221 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:66, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:65, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:47.221 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:47.221 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:66, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:65, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:47.221 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.analyze_jobs (\n\t\tid BIGINT(64) UNSIGNED NOT NULL AUTO_INCREMENT,\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\ttable_schema CHAR(64) NOT NULL DEFAULT '',\n\t\ttable_name CHAR(64) NOT NULL DEFAULT '',\n\t\tpartition_name CHAR(64) NOT NULL DEFAULT '',\n\t\tjob_info TEXT NOT NULL,\n\t\tprocessed_rows BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tstart_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tstate ENUM('pending', 'running', 'finished', 'failed') NOT NULL,\n\t\tfail_reason TEXT,\n\t\tinstance VARCHAR(512) NOT NULL comment 'address of the TiDB instance executing the analyze job',\n\t\tprocess_id BIGINT(64) UNSIGNED comment 'ID of the process executing the analyze job',\n\t\tPRIMARY KEY (id),\n\t\tKEY (update_time)\n\t);"]
[2022/07/15 15:01:47.221 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 29, tp general"] [job="ID:66, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:65, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:47.221 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:47.222 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 29, tp general"] [job="ID:66, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:65, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:47.221 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:47.222 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=66]
[2022/07/15 15:01:47.222 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:47.222 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=32] [neededSchemaVersion=33] ["start time"=108.208µs] [phyTblIDs="[65]"] [actionTypes="[8]"]
[2022/07/15 15:01:47.222 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=33] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.advisory_locks (\n\t\tlock_name VARCHAR(64) NOT NULL PRIMARY KEY\n\t);"] [user=]
[2022/07/15 15:01:47.222 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:68, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:67, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:47.222 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:47.222 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:68, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:67, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:47.222 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.advisory_locks (\n\t\tlock_name VARCHAR(64) NOT NULL PRIMARY KEY\n\t);"]
[2022/07/15 15:01:47.223 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 29, tp general"] [job="ID:68, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:67, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:47.222 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:47.223 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 29, tp general"] [job="ID:68, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:67, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:47.222 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:47.223 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=68]
[2022/07/15 15:01:47.223 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:47.223 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=33] [neededSchemaVersion=34] ["start time"=39.542µs] [phyTblIDs="[67]"] [actionTypes="[8]"]
[2022/07/15 15:01:47.228 +08:00] [INFO] [bootstrap.go:448] ["bootstrap successful"] ["take time"=40.936041ms]
[2022/07/15 15:01:47.229 +08:00] [INFO] [ddl_worker.go:158] ["[ddl] DDL worker closed"] [worker="worker 29, tp general"] ["take time"=167ns]
[2022/07/15 15:01:47.229 +08:00] [INFO] [ddl_worker.go:158] ["[ddl] DDL worker closed"] [worker="worker 30, tp add index"] ["take time"=8.542µs]
[2022/07/15 15:01:47.229 +08:00] [INFO] [delete_range.go:148] ["[ddl] closing delRange"]
[2022/07/15 15:01:47.229 +08:00] [INFO] [session_pool.go:94] ["[ddl] closing sessionPool"]
[2022/07/15 15:01:47.229 +08:00] [INFO] [ddl.go:576] ["[ddl] DDL closed"] [ID=54a70443-1330-426d-a7a0-78087d2e6747] ["take time"=99.416µs]
[2022/07/15 15:01:47.229 +08:00] [INFO] [ddl.go:464] ["[ddl] stop DDL"] [ID=54a70443-1330-426d-a7a0-78087d2e6747]
[2022/07/15 15:01:47.229 +08:00] [INFO] [domain.go:498] ["topNSlowQueryLoop exited."]
[2022/07/15 15:01:47.229 +08:00] [INFO] [domain.go:552] ["globalConfigSyncerKeeper exited."]
[2022/07/15 15:01:47.229 +08:00] [INFO] [domain.go:527] ["infoSyncerKeeper exited."]
[2022/07/15 15:01:47.229 +08:00] [INFO] [domain.go:575] ["topologySyncerKeeper exited."]
[2022/07/15 15:01:47.229 +08:00] [INFO] [domain.go:733] ["domain closed"] ["take time"=149.083µs]
[2022/07/15 15:01:47.229 +08:00] [INFO] [tidb.go:74] ["new domain"] [store=30cf2197-a9cb-4624-b171-2fe7c0a7d3fd] ["ddl lease"=0s] ["stats lease"=-1ns] ["index usage sync lease"=0s]
[2022/07/15 15:01:47.231 +08:00] [INFO] [domain.go:178] ["full load InfoSchema success"] [currentSchemaVersion=0] [neededSchemaVersion=34] ["start time"=2.329333ms]
[2022/07/15 15:01:47.231 +08:00] [INFO] [domain.go:449] ["full load and reset schema validator"]
[2022/07/15 15:01:47.231 +08:00] [INFO] [ddl.go:483] ["[ddl] start DDL"] [ID=092f893d-ed9b-42c1-986e-0646fb002fac] [runWorker=true]
[2022/07/15 15:01:47.231 +08:00] [INFO] [ddl.go:472] ["[ddl] start delRangeManager OK"] ["is a emulator"=true]
[2022/07/15 15:01:47.231 +08:00] [INFO] [delete_range.go:158] ["[ddl] start delRange emulator"]
[2022/07/15 15:01:47.231 +08:00] [INFO] [ddl_worker.go:164] ["[ddl] start DDL worker"] [worker="worker 31, tp general"]
[2022/07/15 15:01:47.231 +08:00] [INFO] [ddl_worker.go:164] ["[ddl] start DDL worker"] [worker="worker 32, tp add index"]
[2022/07/15 15:01:47.232 +08:00] [WARN] [sysvar_cache.go:53] ["sysvar cache is empty, triggering rebuild"]
[2022/07/15 15:01:47.235 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=8] [schemaVersion=34] [cur_db=test] [sql="drop table if exists t"] [user=]
[2022/07/15 15:01:47.236 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=8] [schemaVersion=34] [cur_db=test] [sql="drop table if exists t1"] [user=]
[2022/07/15 15:01:47.236 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=8] [schemaVersion=34] [cur_db=test] [sql="drop table if exists t2"] [user=]
[2022/07/15 15:01:47.236 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=8] [schemaVersion=34] [cur_db=test] [sql="create table t(a int not null primary key, b int not null) partition by hash(a+1) partitions 4"] [user=]
[2022/07/15 15:01:47.236 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:74, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:47.236 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:47.236 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:74, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:47.236 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="create table t(a int not null primary key, b int not null) partition by hash(a+1) partitions 4"]
[2022/07/15 15:01:47.236 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 31, tp general"] [job="ID:74, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:47.236 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:47.236 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 31, tp general"] [job="ID:74, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:69, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:47.236 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:47.237 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=74]
[2022/07/15 15:01:47.237 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:47.237 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=34] [neededSchemaVersion=35] ["start time"=102.375µs] [phyTblIDs="[69,70,71,72,73]"] [actionTypes="[8,8,8,8,8]"]
[2022/07/15 15:01:47.237 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=8] [schemaVersion=35] [cur_db=test] [sql="alter table t set tiflash replica 1"] [user=]
[2022/07/15 15:01:47.237 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:75, Type:set tiflash replica, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:47.237 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:47.237 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:75, Type:set tiflash replica, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:47.237 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="alter table t set tiflash replica 1"]
[2022/07/15 15:01:47.237 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 31, tp general"] [job="ID:75, Type:set tiflash replica, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:47.237 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:47.237 +08:00] [INFO] [table.go:1098] ["Set TiFlash replica pd rule for partitioned table"] [tableID=69]
[2022/07/15 15:01:47.237 +08:00] [INFO] [info.go:1067] [ConfigureTiFlashPDForPartitions] [tableID=69] [partID=70] [accel=false] [count=1]
[2022/07/15 15:01:47.237 +08:00] [INFO] [info.go:1067] [ConfigureTiFlashPDForPartitions] [tableID=69] [partID=71] [accel=false] [count=1]
[2022/07/15 15:01:47.237 +08:00] [INFO] [info.go:1067] [ConfigureTiFlashPDForPartitions] [tableID=69] [partID=72] [accel=false] [count=1]
[2022/07/15 15:01:47.237 +08:00] [INFO] [info.go:1067] [ConfigureTiFlashPDForPartitions] [tableID=69] [partID=73] [accel=false] [count=1]
[2022/07/15 15:01:47.237 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 31, tp general"] [job="ID:75, Type:set tiflash replica, State:synced, SchemaState:public, SchemaID:1, TableID:69, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:47.237 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:47.237 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=75]
[2022/07/15 15:01:47.237 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:47.237 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=35] [neededSchemaVersion=36] ["start time"=79.417µs] [phyTblIDs="[]"] [actionTypes="[]"]
[2022/07/15 15:01:47.238 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:76, Type:update tiflash replica status, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:2, start time: 2022-07-15 15:01:47.237 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:47.238 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:76, Type:update tiflash replica status, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:2, start time: 2022-07-15 15:01:47.237 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query=]
[2022/07/15 15:01:47.238 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 31, tp general"] [job="ID:76, Type:update tiflash replica status, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:47.237 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:47.238 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 31, tp general"] [job="ID:76, Type:update tiflash replica status, State:synced, SchemaState:public, SchemaID:1, TableID:69, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:47.237 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:47.238 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=76]
[2022/07/15 15:01:47.238 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:47.238 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=36] [neededSchemaVersion=37] ["start time"=78µs] [phyTblIDs="[]"] [actionTypes="[]"]
[2022/07/15 15:01:47.239 +08:00] [INFO] [fragment.go:77] ["Mpp will generate tasks"] [plan=Table(t)->HashAgg->Send()]
[2022/07/15 15:01:47.239 +08:00] [INFO] [batch_coprocessor.go:325] ["detecting available mpp stores"]
[2022/07/15 15:01:47.239 +08:00] [WARN] [batch_coprocessor.go:359] ["Store is not ready"] ["store address"=tiflash0] ["err message"="not support this request type MPPAlive"]
[2022/07/15 15:01:47.239 +08:00] [WARN] [batch_coprocessor.go:359] ["Store is not ready"] ["store address"=tiflash1] ["err message"="not support this request type MPPAlive"]
[2022/07/15 15:01:47.239 +08:00] [WARN] [batch_coprocessor.go:400] ["Meet regions that don't have an available store. Give up balancing"]
[2022/07/15 15:01:47.239 +08:00] [INFO] [mpp_gather.go:80] ["Dispatch mpp task"] [timestamp=434600281961660416] [ID=1] [address=tiflash0] [plan="Table(t)->HashAgg->Send(-1, )"]
[2022/07/15 15:01:48.240 +08:00] [WARN] [adapter.go:1067] ["# Txn_start_ts: 434600281961660416\n# Conn_ID: 8\n# Query_time: 1.001272875\n# Parse_time: 0.000009459\n# Compile_time: 0.000090791\n# Rewrite_time: 0.000017208\n# Optimize_time: 0.000061541\n# Wait_TS: 0.000001916\n# Cop_time: 1.000917292 Request_count: 1\n# DB: test\n# Is_internal: false\n# Digest: 8e2dde9df445b943a04e3e717096baaafc4f20e463c06b0b7d16e03f529d62d6\n# Stats: t:pseudo\n# Num_cop_tasks: 1\n# Cop_proc_avg: 0 Cop_proc_addr: tiflash0\n# Cop_wait_avg: 0 Cop_wait_addr: tiflash0\n# Mem_max: 10100\n# Prepared: false\n# Plan_from_cache: false\n# Plan_from_binding: false\n# Has_more_results: false\n# KV_total: 0\n# PD_total: 0\n# Backoff_total: 0\n# Write_sql_response_total: 0\n# Result_rows: 1\n# Succ: true\n# IsExplicitTxn: false\n# Plan: tidb_decode_plan('4gWIMAk2XzE3CTAJMQlmdW5jczpjb3VudChDb2x1bW4jNSktPkMJC6gzCTEJdGltZToxcywgbG9vcHM6MiwgcGFydGlhbF93b3JrZXI6e3dhbGxfCSfwUi4wMDA5ODUzMzRzLCBjb25jdXJyZW5jeTo1LCB0YXNrX251bToxLCB0b3Rfd2FpdDo1LjAwNDgyMDI0OXMsIHRvdF9leGVjOjEwLjQ1OMK1cywgARQFXQkrDDM0MDABjgxtYXg6CW8oNzQ1ODNzLCBwOTUyEgAUfSwgZmluYqgAGDEwMTg1NDKuqAAQOTI1MjUBfQGUMGV4ZWM6MTMuNDE3wrVCqAAcOTM5OTE2cywdqBA5MjM3NTKoAAkSVH0JOS44NiBLQglOL0EKMQkzMV8xOQkhnVRkYXRhOkV4Y2hhbmdlU2VuZGVyXzE4UpQBKGNvcF90YXNrOiB7IWMEIDEJegQgMAFxKHJvY19rZXlzOiAwIZZwcHJfY2FjaGVfaGl0X3JhdGlvOiAwLjAwfQlOL0EBBBAKMgk0OQVqEF8xCTEJEYJMVHlwZTogUGFzc1Rocm91Z2gJMAkBLwEEGAozCTZfOAkJMS5VAgAxWU4ANS4wABg0CTQzXzE2CTK4MDAwMAl0YWJsZTp0LCBrZWVwIG9yZGVyOmZhbHNlLCBzdGF0czpwc2V1ZG8sIFBBgBB0aW9uVAEyUFNjYW46dHJ1ZQkwCQlOL0EJTi9BCg==')\n# Plan_digest: 4b7c1ea2d7de222ae5002d4f453711c0b160b729818d9e68b9cedafdfd24158d\nuse test;\nselect count(*) from t;"]
[2022/07/15 15:01:48.241 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=8] [schemaVersion=37] [cur_db=test] [sql="create table t1(a int not null primary key, b int not null) partition by hash(a) partitions 4"] [user=]
[2022/07/15 15:01:48.241 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:82, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:77, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:48.241 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:48.241 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:82, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:77, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:48.241 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="create table t1(a int not null primary key, b int not null) partition by hash(a) partitions 4"]
[2022/07/15 15:01:48.241 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 31, tp general"] [job="ID:82, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:77, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:48.241 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:48.242 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 31, tp general"] [job="ID:82, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:77, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:48.241 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:48.242 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=82]
[2022/07/15 15:01:48.242 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:48.242 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=37] [neededSchemaVersion=38] ["start time"=138.208µs] [phyTblIDs="[77,78,79,80,81]"] [actionTypes="[8,8,8,8,8]"]
[2022/07/15 15:01:48.242 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=8] [schemaVersion=38] [cur_db=test] [sql="alter table t1 set tiflash replica 1"] [user=]
[2022/07/15 15:01:48.242 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:83, Type:set tiflash replica, State:queueing, SchemaState:none, SchemaID:1, TableID:77, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:48.242 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:48.242 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:83, Type:set tiflash replica, State:queueing, SchemaState:none, SchemaID:1, TableID:77, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:48.242 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="alter table t1 set tiflash replica 1"]
[2022/07/15 15:01:48.242 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 31, tp general"] [job="ID:83, Type:set tiflash replica, State:queueing, SchemaState:none, SchemaID:1, TableID:77, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:48.242 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:48.242 +08:00] [INFO] [table.go:1098] ["Set TiFlash replica pd rule for partitioned table"] [tableID=77]
[2022/07/15 15:01:48.242 +08:00] [INFO] [info.go:1067] [ConfigureTiFlashPDForPartitions] [tableID=77] [partID=78] [accel=false] [count=1]
[2022/07/15 15:01:48.242 +08:00] [INFO] [info.go:1067] [ConfigureTiFlashPDForPartitions] [tableID=77] [partID=79] [accel=false] [count=1]
[2022/07/15 15:01:48.242 +08:00] [INFO] [info.go:1067] [ConfigureTiFlashPDForPartitions] [tableID=77] [partID=80] [accel=false] [count=1]
[2022/07/15 15:01:48.242 +08:00] [INFO] [info.go:1067] [ConfigureTiFlashPDForPartitions] [tableID=77] [partID=81] [accel=false] [count=1]
[2022/07/15 15:01:48.243 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 31, tp general"] [job="ID:83, Type:set tiflash replica, State:synced, SchemaState:public, SchemaID:1, TableID:77, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:48.242 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:48.243 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=83]
[2022/07/15 15:01:48.243 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:48.243 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=38] [neededSchemaVersion=39] ["start time"=106.959µs] [phyTblIDs="[]"] [actionTypes="[]"]
[2022/07/15 15:01:48.243 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:84, Type:update tiflash replica status, State:queueing, SchemaState:none, SchemaID:1, TableID:77, RowCount:0, ArgLen:2, start time: 2022-07-15 15:01:48.243 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:48.243 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:84, Type:update tiflash replica status, State:queueing, SchemaState:none, SchemaID:1, TableID:77, RowCount:0, ArgLen:2, start time: 2022-07-15 15:01:48.243 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query=]
[2022/07/15 15:01:48.243 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 31, tp general"] [job="ID:84, Type:update tiflash replica status, State:queueing, SchemaState:none, SchemaID:1, TableID:77, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:48.243 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:48.244 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 31, tp general"] [job="ID:84, Type:update tiflash replica status, State:synced, SchemaState:public, SchemaID:1, TableID:77, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:48.243 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:48.244 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=84]
[2022/07/15 15:01:48.244 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:48.244 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=39] [neededSchemaVersion=40] ["start time"=82.458µs] [phyTblIDs="[]"] [actionTypes="[]"]
[2022/07/15 15:01:48.245 +08:00] [INFO] [fragment.go:77] ["Mpp will generate tasks"] [plan=RightHashJoin{Recv()->Table(t)}(test.t1.a,test.t.a)->HashAgg->Send()]
[2022/07/15 15:01:48.245 +08:00] [INFO] [batch_coprocessor.go:325] ["detecting available mpp stores"]
[2022/07/15 15:01:48.245 +08:00] [WARN] [batch_coprocessor.go:359] ["Store is not ready"] ["store address"=tiflash1] ["err message"="not support this request type MPPAlive"]
[2022/07/15 15:01:48.245 +08:00] [WARN] [batch_coprocessor.go:359] ["Store is not ready"] ["store address"=tiflash0] ["err message"="not support this request type MPPAlive"]
[2022/07/15 15:01:48.245 +08:00] [WARN] [batch_coprocessor.go:400] ["Meet regions that don't have an available store. Give up balancing"]
[2022/07/15 15:01:48.245 +08:00] [INFO] [batch_coprocessor.go:325] ["detecting available mpp stores"]
[2022/07/15 15:01:48.245 +08:00] [WARN] [batch_coprocessor.go:400] ["Meet regions that don't have an available store. Give up balancing"]
[2022/07/15 15:01:48.245 +08:00] [INFO] [mpp_gather.go:80] ["Dispatch mpp task"] [timestamp=434600282225377280] [ID=1] [address=tiflash0] [plan="Table(t1)->Send(2, )"]
[2022/07/15 15:01:48.245 +08:00] [INFO] [mpp_gather.go:80] ["Dispatch mpp task"] [timestamp=434600282225377280] [ID=2] [address=tiflash0] [plan="RightHashJoin{Recv(1, )->Table(t)}(test.t1.a,test.t.a)->HashAgg->Send(-1, )"]
[2022/07/15 15:01:49.245 +08:00] [WARN] [adapter.go:1067] ["# Txn_start_ts: 434600282225377280\n# Conn_ID: 8\n# Query_time: 1.000744999\n# Parse_time: 0.000022833\n# Compile_time: 0.000200291\n# Rewrite_time: 0.000052\n# Optimize_time: 0.000123375\n# Wait_TS: 0.000003125\n# Cop_time: 1.000177709 Request_count: 1\n# DB: test\n# Is_internal: false\n# Digest: eef68dc0a7a943f8b012666c1e1e0930019146e078ed2cdbd760bfd80d767b62\n# Stats: t1:pseudo,t:pseudo\n# Num_cop_tasks: 1\n# Cop_proc_avg: 0 Cop_proc_addr: tiflash0\n# Cop_wait_avg: 0 Cop_wait_addr: tiflash0\n# Mem_max: 10100\n# Prepared: false\n# Plan_from_cache: false\n# Plan_from_binding: false\n# Has_more_results: false\n# KV_total: 0\n# PD_total: 0\n# Backoff_total: 0\n# Write_sql_response_total: 0\n# Result_rows: 1\n# Succ: true\n# IsExplicitTxn: false\n# Plan: tidb_decode_plan('1weIMAk2XzMxCTAJMQlmdW5jczpjb3VudChDb2x1bW4jNiktPkMJC6g1CTEJdGltZToxcywgbG9vcHM6MiwgcGFydGlhbF93b3JrZXI6e3dhbGxfCSfwTy4wMDAyMjA1NDJzLCBjb25jdXJyZW5jeTo1LCB0YXNrX251bToxLCB0b3Rfd2FpdDo1LjAwMTAxNjA4M3MsIHRvdF9leGVjOjguNzA5wrVzCRMFXAkqLDI3NjI1cywgbWF4OgluHDA2cywgcDk1GQ8UfSwgZmluaqEAEDM5MjA4rqEAEDEwNjA4AdMVoRQxNS41ODJKogAQMTIzMzc2ogAMMzA5MTalAAkSVH0JOS44NiBLQglOL0EKMQkzMV8zMwkhllRkYXRhOkV4Y2hhbmdlU2VuZGVyXzMyUo0BKGNvcF90YXNrOiB7IVwEIDEpHAQgMCEWKHJvY19rZXlzOiAwIY9wcHJfY2FjaGVfaGl0X3JhdGlvOiAwLjAwfQlOL0EBBBAKMgk0OQVqEF8xCTEJEYJMVHlwZTogUGFzc1Rocm91Z2gJMAkBLwEEHAozCTZfMTIJCTIAZl1PADFZSAA2LjEAGDQJMTdfMzAJMpgyNTAwCWlubmVyIGpvaW4sIGVxdWFsOltlcSh0ZXN0LnQxLmEsIHQFCwwuYSldLkkAGDUJNDhfMjEJSRAwMDAwCS4eAAA2AcsAMg1nBR42zwAgQnJvYWRjYXN0LjUAGDcJNDNfMTkdU6h0YWJsZTp0MSwga2VlcCBvcmRlcjpmYWxzZSwgc3RhdHM6cHNldWRvLCBQYRcQdGlvblQBMyBTY2FuOnRydWUuXwAUNQk0M18yLS0FlA1f/l4ABV4=')\n# Plan_digest: 043e4e19e0bb5fcfaa5e8e245d93ca1b4be21523c73a61c6048fc046567316ac\nselect count(*) from t1 , t where t1.a = t.a;"]
[2022/07/15 15:01:49.246 +08:00] [INFO] [fragment.go:77] ["Mpp will generate tasks"] [plan=RightHashJoin{Recv()->Table(t)}(test.t1.a,test.t.a)->Send()]
[2022/07/15 15:01:49.246 +08:00] [INFO] [batch_coprocessor.go:325] ["detecting available mpp stores"]
[2022/07/15 15:01:49.246 +08:00] [WARN] [batch_coprocessor.go:359] ["Store is not ready"] ["store address"=tiflash1] ["err message"="not support this request type MPPAlive"]
[2022/07/15 15:01:49.246 +08:00] [WARN] [batch_coprocessor.go:359] ["Store is not ready"] ["store address"=tiflash0] ["err message"="not support this request type MPPAlive"]
[2022/07/15 15:01:49.246 +08:00] [WARN] [batch_coprocessor.go:400] ["Meet regions that don't have an available store. Give up balancing"]
[2022/07/15 15:01:49.246 +08:00] [INFO] [batch_coprocessor.go:325] ["detecting available mpp stores"]
[2022/07/15 15:01:49.246 +08:00] [WARN] [batch_coprocessor.go:400] ["Meet regions that don't have an available store. Give up balancing"]
[2022/07/15 15:01:49.246 +08:00] [INFO] [mpp_gather.go:80] ["Dispatch mpp task"] [timestamp=434600282487783424] [ID=1] [address=tiflash0] [plan="Table(t1)->Send(2, )"]
[2022/07/15 15:01:49.246 +08:00] [INFO] [mpp_gather.go:80] ["Dispatch mpp task"] [timestamp=434600282487783424] [ID=2] [address=tiflash0] [plan="RightHashJoin{Recv(1, )->Table(t)}(test.t1.a,test.t.a)->Send(-1, )"]
[2022/07/15 15:01:50.246 +08:00] [WARN] [adapter.go:1067] ["# Txn_start_ts: 434600282487783424\n# Conn_ID: 8\n# Query_time: 1.001009291\n# Parse_time: 0.000048333\n# Compile_time: 0.000259\n# Rewrite_time: 0.0000545\n# Optimize_time: 0.000150166\n# Wait_TS: 0.000005167\n# Cop_time: 1.000383167 Request_count: 1\n# DB: test\n# Is_internal: false\n# Digest: b79682fd2d325d7c6cfca3bf2c288feb4b7d0b78ce82aa8bb8ca23bb9dd3f247\n# Stats: t1:pseudo,t:pseudo\n# Num_cop_tasks: 1\n# Cop_proc_avg: 0 Cop_proc_addr: tiflash0\n# Cop_wait_avg: 0 Cop_wait_addr: tiflash0\n# Mem_max: 768\n# Prepared: false\n# Plan_from_cache: false\n# Plan_from_binding: false\n# Has_more_results: false\n# KV_total: 0\n# PD_total: 0\n# Backoff_total: 0\n# Write_sql_response_total: 0\n# Result_rows: 1\n# Succ: true\n# IsExplicitTxn: false\n# Plan: tidb_decode_plan('gwXwaTAJNV8xNAkwCTEJZnVuY3M6Y291bnQoMSktPkNvbHVtbiM1CTEJdGltZToxcywgbG9vcHM6Mgk3NjggQnl0ZXMJTi9BCjEJMzFfMzkJMAkyLjUwCWRhdGE6RXhjaGFuZ2VTZW5kZXJfMzhKRwDwgSwgY29wX3Rhc2s6IHtudW06IDEsIG1heDogMHMsIHByb2Nfa2V5czogMCwgY29wcl9jYWNoZV9oaXRfcmF0aW86IDAuMDB9CU4vQQlOL0EKMgk0OV8zOAkxXzEJMi41MAlFeGNoYW5nZVR5cGU6IFBhc3NUaHJvdWdoCTAJCU4vQQkBviAzCTE3XzM0CTERNoBpbm5lciBqb2luLCBlcXVhbDpbZXEodGVzdC50MS5hLCAJCwwuYSldLkgAGDQJNDhfMjEFSBwzMzMzLjMzCS4gABg1CTQ5XzIwMiAAAEUyoQAgQnJvYWRjYXN0LjcAGDYJNDRfMTkyNwDwQ3RhYmxlOnQxLCByYW5nZTpbLWluZiwyKSwga2VlcCBvcmRlcjpmYWxzZSwgc3RhdHM6cHNldWRvLCBQYXJ0aXRpb25UAUMgU2Nhbjp0cnVlLnEAADQBcQQyMk5xAP5wAFJwAA==')\n# Plan_digest: 85399aeb0dfcec1c399491470c9099e112a1668cc44bf6cc224d1460c7a0aff0\nselect count(*) from t1 , t where t1.a = t.a and t1.a < 2 and t.a < 2;"]
[2022/07/15 15:01:50.247 +08:00] [INFO] [fragment.go:77] ["Mpp will generate tasks"] [plan=RightHashJoin{Recv()->Table(t)}(test.t1.a,test.t.a)->HashAgg->Send()]
[2022/07/15 15:01:50.247 +08:00] [INFO] [batch_coprocessor.go:325] ["detecting available mpp stores"]
[2022/07/15 15:01:50.247 +08:00] [WARN] [batch_coprocessor.go:359] ["Store is not ready"] ["store address"=tiflash1] ["err message"="not support this request type MPPAlive"]
[2022/07/15 15:01:50.247 +08:00] [WARN] [batch_coprocessor.go:359] ["Store is not ready"] ["store address"=tiflash0] ["err message"="not support this request type MPPAlive"]
[2022/07/15 15:01:50.247 +08:00] [WARN] [batch_coprocessor.go:400] ["Meet regions that don't have an available store. Give up balancing"]
[2022/07/15 15:01:50.247 +08:00] [INFO] [batch_coprocessor.go:325] ["detecting available mpp stores"]
[2022/07/15 15:01:50.247 +08:00] [WARN] [batch_coprocessor.go:400] ["Meet regions that don't have an available store. Give up balancing"]
[2022/07/15 15:01:50.247 +08:00] [INFO] [mpp_gather.go:80] ["Dispatch mpp task"] [timestamp=434600282750189568] [ID=1] [address=tiflash0] [plan="Table(t1)->Send(2, )"]
[2022/07/15 15:01:50.247 +08:00] [INFO] [mpp_gather.go:80] ["Dispatch mpp task"] [timestamp=434600282750189568] [ID=2] [address=tiflash0] [plan="RightHashJoin{Recv(1, )->Table(t)}(test.t1.a,test.t.a)->HashAgg->Send(-1, )"]
[2022/07/15 15:01:51.248 +08:00] [WARN] [adapter.go:1067] ["# Txn_start_ts: 434600282750189568\n# Conn_ID: 8\n# Query_time: 1.001127417\n# Parse_time: 0.000038125\n# Compile_time: 0.000241209\n# Rewrite_time: 0.000052625\n# Optimize_time: 0.000138\n# Wait_TS: 0.000004584\n# DB: test\n# Is_internal: false\n# Digest: b79682fd2d325d7c6cfca3bf2c288feb4b7d0b78ce82aa8bb8ca23bb9dd3f247\n# Stats: t1:pseudo,t:pseudo\n# Num_cop_tasks: 0\n# Mem_max: 10100\n# Prepared: false\n# Plan_from_cache: false\n# Plan_from_binding: false\n# Has_more_results: false\n# KV_total: 0\n# PD_total: 0\n# Backoff_total: 0\n# Write_sql_response_total: 0\n# Result_rows: 1\n# Succ: true\n# IsExplicitTxn: false\n# Plan: tidb_decode_plan('sAeIMAk2XzMxCTAJMQlmdW5jczpjb3VudChDb2x1bW4jNiktPkMJC6g1CTEJdGltZToxcywgbG9vcHM6MiwgcGFydGlhbF93b3JrZXI6e3dhbGxfCSfwSS4wMDA1MDE1ODNzLCBjb25jdXJyZW5jeTo1LCB0YXNrX251bTowLCB0b3Rfd2FpdDo1LjAwMjQyMzVzLCB0b3RfZXhlYzowcywgAQ0FVA0iKDQ2MjZzLCBtYXg6BWYsNDg1MjA5cywgcDk1MhIAFH0sIGZpbmqfABA0MjU4NK6fAAw1NDQwBTIBlAWhHDEwLjkxN8K1QqgAEDU1NzMzAfwVqBA1MjAzNwHeFagNElR9CTkuODYgS0IJTi9BCjEJMzFfMzMJIZRgZGF0YTpFeGNoYW5nZVNlbmRlcl8zMgkwCSUQOYsAMQE6AQQQCjIJNDkBIxQxXzEJMQkRO0xUeXBlOiBQYXNzVGhyb3VnaAkwCQEvAQQYCjMJNl8xMg0yLgYCADE5/wA2LjEAGDQJMTdfMzAJMpgyNTAwCWlubmVyIGpvaW4sIGVxdWFsOltlcSh0ZXN0LnQxLmEsIHQFCwwuYSldLkkAGDUJNDhfMjEJSRAwMDAwCS4eAAA2AcsAMg1nBR42zwAgQnJvYWRjYXN0LjUAGDcJNDRfMTkdU/BYdGFibGU6dDEsIHJhbmdlOlstaW5mLC0xKSwga2VlcCBvcmRlcjpmYWxzZSwgc3RhdHM6cHNldWRvLCBQYXJ0aXRpb25UYWJsZVNjYW46dHJ1ZQkwCQlOL0ElPQA1AXAAMi0+BaUNcP5vAFZvAA==')\n# Plan_digest: 944f1999e32619970222d759e1e7a49365b8ed460776bbe76b7862bfd3b2f10b\nselect count(*) from t1 , t where t1.a = t.a and t1.a < -1 and t.a < 2;"]
[2022/07/15 15:01:51.248 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=8] [schemaVersion=40] [cur_db=test] [sql="create table t2(a int not null primary key, b int not null)"] [user=]
[2022/07/15 15:01:51.248 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:86, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:85, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:51.248 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:51.248 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:86, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:85, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:51.248 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="create table t2(a int not null primary key, b int not null)"]
[2022/07/15 15:01:51.248 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 31, tp general"] [job="ID:86, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:85, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:51.248 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:51.248 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 31, tp general"] [job="ID:86, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:85, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:51.248 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:51.249 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=86]
[2022/07/15 15:01:51.249 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:51.249 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=40] [neededSchemaVersion=41] ["start time"=43.541µs] [phyTblIDs="[85]"] [actionTypes="[8]"]
[2022/07/15 15:01:51.249 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=8] [schemaVersion=41] [cur_db=test] [sql="alter table t2 set tiflash replica 1"] [user=]
[2022/07/15 15:01:51.249 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:87, Type:set tiflash replica, State:queueing, SchemaState:none, SchemaID:1, TableID:85, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:51.249 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:51.249 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:87, Type:set tiflash replica, State:queueing, SchemaState:none, SchemaID:1, TableID:85, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:51.249 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="alter table t2 set tiflash replica 1"]
[2022/07/15 15:01:51.249 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 31, tp general"] [job="ID:87, Type:set tiflash replica, State:queueing, SchemaState:none, SchemaID:1, TableID:85, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:51.249 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:51.249 +08:00] [INFO] [table.go:1109] ["Set TiFlash replica pd rule"] [tableID=85]
[2022/07/15 15:01:51.249 +08:00] [INFO] [info.go:1051] [ConfigureTiFlashPDForTable] [tableID=85] [count=1]
[2022/07/15 15:01:51.249 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 31, tp general"] [job="ID:87, Type:set tiflash replica, State:synced, SchemaState:public, SchemaID:1, TableID:85, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:51.249 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:51.249 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=87]
[2022/07/15 15:01:51.249 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:51.249 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=41] [neededSchemaVersion=42] ["start time"=38.166µs] [phyTblIDs="[]"] [actionTypes="[]"]
[2022/07/15 15:01:51.249 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:88, Type:update tiflash replica status, State:queueing, SchemaState:none, SchemaID:1, TableID:85, RowCount:0, ArgLen:2, start time: 2022-07-15 15:01:51.249 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:51.249 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:88, Type:update tiflash replica status, State:queueing, SchemaState:none, SchemaID:1, TableID:85, RowCount:0, ArgLen:2, start time: 2022-07-15 15:01:51.249 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query=]
[2022/07/15 15:01:51.249 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 31, tp general"] [job="ID:88, Type:update tiflash replica status, State:queueing, SchemaState:none, SchemaID:1, TableID:85, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:51.249 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:51.250 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 31, tp general"] [job="ID:88, Type:update tiflash replica status, State:synced, SchemaState:public, SchemaID:1, TableID:85, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:51.249 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:51.250 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=88]
[2022/07/15 15:01:51.250 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:51.250 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=42] [neededSchemaVersion=43] ["start time"=45.667µs] [phyTblIDs="[]"] [actionTypes="[]"]
[2022/07/15 15:01:51.251 +08:00] [INFO] [fragment.go:77] ["Mpp will generate tasks"] [plan=LeftHashJoin{RightHashJoin{Recv()->Table(t)}(test.t1.a,test.t.a)->Recv()}(test.t.a,test.t2.a)->HashAgg->Send()]
[2022/07/15 15:01:51.251 +08:00] [INFO] [batch_coprocessor.go:325] ["detecting available mpp stores"]
[2022/07/15 15:01:51.251 +08:00] [WARN] [batch_coprocessor.go:359] ["Store is not ready"] ["store address"=tiflash1] ["err message"="not support this request type MPPAlive"]
[2022/07/15 15:01:51.251 +08:00] [WARN] [batch_coprocessor.go:359] ["Store is not ready"] ["store address"=tiflash0] ["err message"="not support this request type MPPAlive"]
[2022/07/15 15:01:51.251 +08:00] [WARN] [batch_coprocessor.go:400] ["Meet regions that don't have an available store. Give up balancing"]
[2022/07/15 15:01:51.251 +08:00] [INFO] [batch_coprocessor.go:325] ["detecting available mpp stores"]
[2022/07/15 15:01:51.251 +08:00] [WARN] [batch_coprocessor.go:400] ["Meet regions that don't have an available store. Give up balancing"]
[2022/07/15 15:01:51.251 +08:00] [INFO] [batch_coprocessor.go:325] ["detecting available mpp stores"]
[2022/07/15 15:01:51.251 +08:00] [WARN] [batch_coprocessor.go:400] ["Meet regions that don't have an available store. Give up balancing"]
[2022/07/15 15:01:51.251 +08:00] [INFO] [mpp_gather.go:80] ["Dispatch mpp task"] [timestamp=434600283013382144] [ID=1] [address=tiflash0] [plan="Table(t1)->Send(3, )"]
[2022/07/15 15:01:51.251 +08:00] [INFO] [mpp_gather.go:80] ["Dispatch mpp task"] [timestamp=434600283013382144] [ID=2] [address=tiflash0] [plan="Table(t2)->Send(3, )"]
[2022/07/15 15:01:51.251 +08:00] [INFO] [mpp_gather.go:80] ["Dispatch mpp task"] [timestamp=434600283013382144] [ID=3] [address=tiflash0] [plan="LeftHashJoin{RightHashJoin{Recv(1, )->Table(t)}(test.t1.a,test.t.a)->Recv(2, )}(test.t.a,test.t2.a)->HashAgg->Send(-1, )"]
[2022/07/15 15:01:52.251 +08:00] [WARN] [adapter.go:1067] ["# Txn_start_ts: 434600283013382144\n# Conn_ID: 8\n# Query_time: 1.001064583\n# Parse_time: 0.000028417\n# Compile_time: 0.000257375\n# Rewrite_time: 0.000054708\n# Optimize_time: 0.000167333\n# Wait_TS: 0.000001958\n# Cop_time: 1.000243708 Request_count: 1\n# DB: test\n# Is_internal: false\n# Digest: 09af9174c37536cbf015a5023a9a0ec6d44f55e03b48eb18a1d3b35de29aa119\n# Stats: t1:pseudo,t:pseudo,t2:pseudo\n# Num_cop_tasks: 1\n# Cop_proc_avg: 0 Cop_proc_addr: tiflash0\n# Cop_wait_avg: 0 Cop_wait_addr: tiflash0\n# Mem_max: 10100\n# Prepared: false\n# Plan_from_cache: false\n# Plan_from_binding: false\n# Has_more_results: false\n# KV_total: 0\n# PD_total: 0\n# Backoff_total: 0\n# Write_sql_response_total: 0\n# Result_rows: 1\n# Succ: true\n# IsExplicitTxn: false\n# Plan: tidb_decode_plan('uwmIMAk2XzQ3CTAJMQlmdW5jczpjb3VudChDb2x1bW4jOCktPkMJC6g3CTEJdGltZToxcywgbG9vcHM6MiwgcGFydGlhbF93b3JrZXI6e3dhbGxfCSfoLjAwMDM1MjA4NHMsIGNvbmN1cnJlbmN5OjUsIHRhc2tfbnVtOjEsIHRvdF93YWl0OjUuMDAxNDkwMzMBMkR0b3RfZXhlYzoyMy43NcK1cywFEwVcBSowNTIzMjA4cywgbWF4OgluIDI1NXMsIHA5NR0QFH0sIGZpbmqjAAw5NDU0AdSiowAQNzY4OTEBeRWjFDE0LjIwOUqkABQ3ODQ3OTMypAAENjMJ4BmmCRJQfQk5Ljg2IEtCCU4vQQoxCTMxXzQ5JZhUZGF0YTpFeGNoYW5nZVNlbmRlcl80OFKPAQxjb3BfIVwgOiB7bnVtOiAxKR4EIDAhFyhyb2Nfa2V5czogMCGRcHByX2NhY2hlX2hpdF9yYXRpbzogMC4wMH0JTi9BAQQUCjIJNDlfAWoQXzEJMQkRgkxUeXBlOiBQYXNzVGhyb3VnaAkwCQEvAQQcCjMJNl8xNQkJMi5RAgAxWUoAOC4xABg0CTE3XzQ2CTKQNTYyNQlpbm5lciBqb2luLCBlcXVhbDpbZXEodGVzdC50LmEsIAkKEDIuYSldLkkAADUBSQQyMglJDDI1MDBySQAAMRlKPkkAFDYJNDhfMg3EEDAwMDAJLmcAADchFAQyNAlnBR42GAEgQnJvYWRjYXN0LjUAGDgJNDNfMjMdNah0YWJsZTp0MSwga2VlcCBvcmRlcjpmYWxzZSwgc3RhdHM6cHNldWRvLCBQYWIQdGlvblQBMyBTY2FuOnRydWUuXwAENgkBXy1EBZQNX/5eAAVeADUlEAA5Hb06fAAMOV8yOB0eihABADcFsQA3HTUNsQAyfrIALAkwCQlOL0EJTi9BCg==')\n# Plan_digest: 81f402e0758fcaf751a8bb2d7e9ab5633aae2681ca266d47e6de315d7dbc52f5\nselect count(*) from t1 , t, t2 where t1.a = t.a and t2.a = t.a;"]
[2022/07/15 15:01:52.253 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=8] [schemaVersion=43] [cur_db=test] [sql="create table t3(a int not null, b int not null) PARTITION BY RANGE (b) (\n\t\tPARTITION p0 VALUES LESS THAN (1),\n\t\tPARTITION p1 VALUES LESS THAN (3),\n\t\tPARTITION p2 VALUES LESS THAN (5),\n\t\tPARTITION p3 VALUES LESS THAN (7)\n\t);"] [user=]
[2022/07/15 15:01:52.254 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:94, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:89, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:52.254 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:52.254 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:94, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:89, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:52.254 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="create table t3(a int not null, b int not null) PARTITION BY RANGE (b) (\n\t\tPARTITION p0 VALUES LESS THAN (1),\n\t\tPARTITION p1 VALUES LESS THAN (3),\n\t\tPARTITION p2 VALUES LESS THAN (5),\n\t\tPARTITION p3 VALUES LESS THAN (7)\n\t);"]
[2022/07/15 15:01:52.254 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 31, tp general"] [job="ID:94, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:89, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:52.254 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:52.255 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 31, tp general"] [job="ID:94, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:89, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:52.254 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:52.255 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=94]
[2022/07/15 15:01:52.255 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:52.256 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=43] [neededSchemaVersion=44] ["start time"=318.458µs] [phyTblIDs="[89,90,91,92,93]"] [actionTypes="[8,8,8,8,8]"]
[2022/07/15 15:01:52.256 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=8] [schemaVersion=44] [cur_db=test] [sql="alter table t3 set tiflash replica 1"] [user=]
[2022/07/15 15:01:52.256 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:95, Type:set tiflash replica, State:queueing, SchemaState:none, SchemaID:1, TableID:89, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:52.256 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:52.256 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:95, Type:set tiflash replica, State:queueing, SchemaState:none, SchemaID:1, TableID:89, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:52.256 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="alter table t3 set tiflash replica 1"]
[2022/07/15 15:01:52.256 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 31, tp general"] [job="ID:95, Type:set tiflash replica, State:queueing, SchemaState:none, SchemaID:1, TableID:89, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:52.256 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:52.256 +08:00] [INFO] [table.go:1098] ["Set TiFlash replica pd rule for partitioned table"] [tableID=89]
[2022/07/15 15:01:52.256 +08:00] [INFO] [info.go:1067] [ConfigureTiFlashPDForPartitions] [tableID=89] [partID=90] [accel=false] [count=1]
[2022/07/15 15:01:52.256 +08:00] [INFO] [info.go:1067] [ConfigureTiFlashPDForPartitions] [tableID=89] [partID=91] [accel=false] [count=1]
[2022/07/15 15:01:52.256 +08:00] [INFO] [info.go:1067] [ConfigureTiFlashPDForPartitions] [tableID=89] [partID=92] [accel=false] [count=1]
[2022/07/15 15:01:52.256 +08:00] [INFO] [info.go:1067] [ConfigureTiFlashPDForPartitions] [tableID=89] [partID=93] [accel=false] [count=1]
[2022/07/15 15:01:52.257 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 31, tp general"] [job="ID:95, Type:set tiflash replica, State:synced, SchemaState:public, SchemaID:1, TableID:89, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:52.256 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:52.257 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=95]
[2022/07/15 15:01:52.257 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:52.257 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=44] [neededSchemaVersion=45] ["start time"=137.5µs] [phyTblIDs="[]"] [actionTypes="[]"]
[2022/07/15 15:01:52.257 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:96, Type:update tiflash replica status, State:queueing, SchemaState:none, SchemaID:1, TableID:89, RowCount:0, ArgLen:2, start time: 2022-07-15 15:01:52.257 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:52.257 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:96, Type:update tiflash replica status, State:queueing, SchemaState:none, SchemaID:1, TableID:89, RowCount:0, ArgLen:2, start time: 2022-07-15 15:01:52.257 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query=]
[2022/07/15 15:01:52.257 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 31, tp general"] [job="ID:96, Type:update tiflash replica status, State:queueing, SchemaState:none, SchemaID:1, TableID:89, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:52.257 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:52.258 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 31, tp general"] [job="ID:96, Type:update tiflash replica status, State:synced, SchemaState:public, SchemaID:1, TableID:89, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:52.257 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:52.258 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=96]
[2022/07/15 15:01:52.258 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:52.258 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=45] [neededSchemaVersion=46] ["start time"=126.834µs] [phyTblIDs="[]"] [actionTypes="[]"]
[2022/07/15 15:01:52.258 +08:00] [WARN] [2pc.go:1806] ["schemaLeaseChecker is not set for this transaction"] [sessionID=8] [startTS=434600283277361159] [checkTS=434600283277361160]
[2022/07/15 15:01:52.259 +08:00] [INFO] [fragment.go:77] ["Mpp will generate tasks"] [plan=RightHashJoin{Recv()->Table(t)}(test.t3.a,test.t.a)->HashAgg->Send()]
[2022/07/15 15:01:52.259 +08:00] [INFO] [batch_coprocessor.go:325] ["detecting available mpp stores"]
[2022/07/15 15:01:52.259 +08:00] [WARN] [batch_coprocessor.go:359] ["Store is not ready"] ["store address"=tiflash1] ["err message"="not support this request type MPPAlive"]
[2022/07/15 15:01:52.259 +08:00] [WARN] [batch_coprocessor.go:359] ["Store is not ready"] ["store address"=tiflash0] ["err message"="not support this request type MPPAlive"]
[2022/07/15 15:01:52.259 +08:00] [WARN] [batch_coprocessor.go:400] ["Meet regions that don't have an available store. Give up balancing"]
[2022/07/15 15:01:52.259 +08:00] [INFO] [batch_coprocessor.go:325] ["detecting available mpp stores"]
[2022/07/15 15:01:52.259 +08:00] [WARN] [batch_coprocessor.go:400] ["Meet regions that don't have an available store. Give up balancing"]
[2022/07/15 15:01:52.259 +08:00] [INFO] [mpp_gather.go:80] ["Dispatch mpp task"] [timestamp=434600283277623299] [ID=1] [address=tiflash0] [plan="Table(t3)->Sel([le(test.t3.b, 4)])->Send(2, )"]
[2022/07/15 15:01:52.259 +08:00] [INFO] [mpp_gather.go:80] ["Dispatch mpp task"] [timestamp=434600283277623299] [ID=2] [address=tiflash0] [plan="RightHashJoin{Recv(1, )->Table(t)}(test.t3.a,test.t.a)->HashAgg->Send(-1, )"]
[2022/07/15 15:01:53.260 +08:00] [WARN] [adapter.go:1067] ["# Txn_start_ts: 434600283277623299\n# Conn_ID: 8\n# Query_time: 1.000783833\n# Parse_time: 0.000025\n# Compile_time: 0.000238416\n# Rewrite_time: 0.000049083\n# Optimize_time: 0.000163584\n# Wait_TS: 0.000001916\n# Cop_time: 1.000115958 Request_count: 1\n# DB: test\n# Is_internal: false\n# Digest: 71721a5ffbb5227d5dfc120bac2b64db7930a28e37c53c9db3dfeea073c50103\n# Stats: t3:pseudo,t:pseudo\n# Num_cop_tasks: 1\n# Cop_proc_avg: 0 Cop_proc_addr: tiflash0\n# Cop_wait_avg: 0 Cop_wait_addr: tiflash0\n# Mem_max: 10100\n# Prepared: false\n# Plan_from_cache: false\n# Plan_from_binding: false\n# Has_more_results: false\n# KV_total: 0\n# PD_total: 0\n# Backoff_total: 0\n# Write_sql_response_total: 0\n# Result_rows: 1\n# Succ: true\n# IsExplicitTxn: false\n# Plan: tidb_decode_plan('kAiIMAk2XzMyCTAJMQlmdW5jczpjb3VudChDb2x1bW4jNyktPkMJC6g2CTEJdGltZToxcywgbG9vcHM6MiwgcGFydGlhbF93b3JrZXI6e3dhbGxfCSfwTy4wMDAxNjc1cywgY29uY3VycmVuY3k6NSwgdGFza19udW06MSwgdG90X3dhaXQ6NS4wMDA3MTIyNDlzLCB0b3RfZXhlYzo5LjA4M8K1cywgARMFWgkqLDIzNTgycywgbWF4OglsKDQ2NzA4cywgcDk1MhIAFH0sIGZpbmqlAAg4NDO6pwAQNzIxNjcNlAWnHDExLjA0McK1DRQdqBA4NDkxNjKoAAg2MTgFbxmoCRJQfQk5Ljg2IEtCCU4vQQoxCTMxXzM0JZpUZGF0YTpFeGNoYW5nZVNlbmRlcl8zM1KRAQxjb3BfIWAIOiB7IWIEIDEpIgQgMCEZKHJvY19rZXlzOiAwIZVwcHJfY2FjaGVfaGl0X3JhdGlvOiAwLjAwfQlOL0EBBBAKMgk0OQVqEF8xCTEJEYJMVHlwZTogUGFzc1Rocm91Z2gJMAkBLwEEHAozCTZfMTMJCTIuUwIAMVlMADcuMQAYNAkxN18zMQUyoDQxNTQuMTcJaW5uZXIgam9pbiwgZXF1YWw6W2VxKHRlc3QudDMuYSwgCQsMLmEpXS5LABg1CTQ4XzIyBUscMzMyMy4zMwkuIAAANgHPADIJaxEgNtUAIEJyb2FkY2FzdC43ABQ3CTFfMjAyVgAEbGUVjhBiLCA0KS4vABg4CTQzXzE5BTDAMTAwMDAJdGFibGU6dDMsIGtlZXAgb3JkZXI6ZmFsc2UsIHN0YXRzOnBzZXVkbywgUGFQEHRpb25UATMgU2Nhbjp0cnVlLl8AFDUJNDNfMi1iLl8A/l4ABV4=')\n# Plan_digest: 877bf73656ec6eb6a39448dc15db43f5d1eb5e0874fbe014d1ebe8c42dcbbdbd\nselect count(*) from t, t3 where t3.a = t.a and t3.b <= 4;"]
[2022/07/15 15:01:53.260 +08:00] [INFO] [fragment.go:77] ["Mpp will generate tasks"] [plan=RightHashJoin{Recv()->Table(t)}(test.t3.a,test.t.a)->HashAgg->Send()]
[2022/07/15 15:01:53.260 +08:00] [INFO] [batch_coprocessor.go:325] ["detecting available mpp stores"]
[2022/07/15 15:01:53.260 +08:00] [WARN] [batch_coprocessor.go:359] ["Store is not ready"] ["store address"=tiflash1] ["err message"="not support this request type MPPAlive"]
[2022/07/15 15:01:53.260 +08:00] [WARN] [batch_coprocessor.go:359] ["Store is not ready"] ["store address"=tiflash0] ["err message"="not support this request type MPPAlive"]
[2022/07/15 15:01:53.260 +08:00] [WARN] [batch_coprocessor.go:400] ["Meet regions that don't have an available store. Give up balancing"]
[2022/07/15 15:01:53.260 +08:00] [INFO] [batch_coprocessor.go:325] ["detecting available mpp stores"]
[2022/07/15 15:01:53.260 +08:00] [WARN] [batch_coprocessor.go:400] ["Meet regions that don't have an available store. Give up balancing"]
[2022/07/15 15:01:53.260 +08:00] [INFO] [mpp_gather.go:80] ["Dispatch mpp task"] [timestamp=434600283540029440] [ID=1] [address=tiflash0] [plan="Table(t3)->Sel([gt(test.t3.b, 10)])->Send(2, )"]
[2022/07/15 15:01:53.260 +08:00] [INFO] [mpp_gather.go:80] ["Dispatch mpp task"] [timestamp=434600283540029440] [ID=2] [address=tiflash0] [plan="RightHashJoin{Recv(1, )->Table(t)}(test.t3.a,test.t.a)->HashAgg->Send(-1, )"]
[2022/07/15 15:01:54.261 +08:00] [WARN] [adapter.go:1067] ["# Txn_start_ts: 434600283540029440\n# Conn_ID: 8\n# Query_time: 1.001200709\n# Parse_time: 0.000045834\n# Compile_time: 0.000260541\n# Rewrite_time: 0.000058875\n# Optimize_time: 0.000151834\n# Wait_TS: 0.000006875\n# DB: test\n# Is_internal: false\n# Digest: 48794c9179a8c5d3f7606bef3631f4b5cea41675efb41a276eb48fbf3877f405\n# Stats: t3:pseudo,t:pseudo\n# Num_cop_tasks: 0\n# Mem_max: 10100\n# Prepared: false\n# Plan_from_cache: false\n# Plan_from_binding: false\n# Has_more_results: false\n# KV_total: 0\n# PD_total: 0\n# Backoff_total: 0\n# Write_sql_response_total: 0\n# Result_rows: 1\n# Succ: true\n# IsExplicitTxn: false\n# Plan: tidb_decode_plan('xAeIMAk2XzMyCTAJMQlmdW5jczpjb3VudChDb2x1bW4jNyktPkMJC6g2CTEJdGltZToxcywgbG9vcHM6MiwgcGFydGlhbF93b3JrZXI6e3dhbGxfCSfwSS4wMDA0ODU1cywgY29uY3VycmVuY3k6NSwgdGFza19udW06MCwgdG90X3dhaXQ6NS4wMDIzMjc0NThzLCB0b3RfZXhlYzowcywgAQ0FVA0kCDkzNwFWDG1heDoJZig2NzU4M3MsIHA5NTISABR9LCBmaW5mnwAINTM3CUuioQAUNTIyMTY5DZQFoRwxNS41NDHCtQ0UGagQNTM5OTEyqAAUNTIxOTE2LqgADRJUfQk5Ljg2IEtCCU4vQQoxCTMxXzM0CSGUYGRhdGE6RXhjaGFuZ2VTZW5kZXJfMzMJMAkFaDmLADEBOgEEEAoyCTQ5ASMUMV8xCTEJETtMVHlwZTogUGFzc1Rocm91Z2gJMAkBLwEEGAozCTZfMTMNMi4GAgAxOf8ANy4xABg0CTE3XzMxBTKgNDE2Ni42Nwlpbm5lciBqb2luLCBlcXVhbDpbZXEodGVzdC50My5hLCAJCwwuYSldLksAGDUJNDhfMjIFSxwzMzMzLjMzCS4gAAA2Ac8AMglrESA21QAgQnJvYWRjYXN0LjcAFDcJMV8yMDJWAARndBWOFGIsIDEwKS4wABg4CTQzXzE5BTHAMTAwMDAJdGFibGU6dDMsIGtlZXAgb3JkZXI6ZmFsc2UsIHN0YXRzOnBzZXVkbywgUGEEEHRpb25UATMgU2Nhbjp0cnVlLl8AGDUJNDNfMjNGXwD+XgAFXg==')\n# Plan_digest: 83972c3a76f3c7ab611476fce63ec8ecd9994d4a96d0c8d5970342be6954af55\nselect count(*) from t, t3 where t3.a = t.a and t3.b > 10;"]
[2022/07/15 15:01:54.261 +08:00] [INFO] [ddl_worker.go:158] ["[ddl] DDL worker closed"] [worker="worker 32, tp add index"] ["take time"=1.875µs]
[2022/07/15 15:01:54.261 +08:00] [INFO] [ddl_worker.go:158] ["[ddl] DDL worker closed"] [worker="worker 31, tp general"] ["take time"=0s]
[2022/07/15 15:01:54.261 +08:00] [INFO] [delete_range.go:148] ["[ddl] closing delRange"]
[2022/07/15 15:01:54.261 +08:00] [INFO] [session_pool.go:94] ["[ddl] closing sessionPool"]
[2022/07/15 15:01:54.261 +08:00] [INFO] [ddl.go:576] ["[ddl] DDL closed"] [ID=092f893d-ed9b-42c1-986e-0646fb002fac] ["take time"=134.708µs]
[2022/07/15 15:01:54.261 +08:00] [INFO] [ddl.go:464] ["[ddl] stop DDL"] [ID=092f893d-ed9b-42c1-986e-0646fb002fac]
[2022/07/15 15:01:54.261 +08:00] [INFO] [domain.go:498] ["topNSlowQueryLoop exited."]
[2022/07/15 15:01:54.261 +08:00] [INFO] [handle_hist.go:156] ["SubLoadWorker exited."]
[2022/07/15 15:01:54.261 +08:00] [INFO] [handle_hist.go:156] ["SubLoadWorker exited."]
[2022/07/15 15:01:54.261 +08:00] [INFO] [domain.go:1160] ["globalBindHandleWorkerLoop exited."]
[2022/07/15 15:01:54.261 +08:00] [INFO] [domain.go:1082] ["LoadSysVarCacheLoop exited."]
[2022/07/15 15:01:54.261 +08:00] [INFO] [domain.go:1203] ["handleEvolvePlanTasksLoop exited."]
[2022/07/15 15:01:54.261 +08:00] [INFO] [domain.go:552] ["globalConfigSyncerKeeper exited."]
[2022/07/15 15:01:54.261 +08:00] [INFO] [domain.go:527] ["infoSyncerKeeper exited."]
[2022/07/15 15:01:54.261 +08:00] [INFO] [domain.go:1032] ["loadPrivilegeInLoop exited."]
[2022/07/15 15:01:54.261 +08:00] [INFO] [domain.go:1288] ["dumpFileGcChecker exited."]
[2022/07/15 15:01:54.261 +08:00] [INFO] [handle_hist.go:156] ["SubLoadWorker exited."]
[2022/07/15 15:01:54.261 +08:00] [INFO] [domain.go:575] ["topologySyncerKeeper exited."]
[2022/07/15 15:01:54.261 +08:00] [INFO] [handle_hist.go:156] ["SubLoadWorker exited."]
[2022/07/15 15:01:54.261 +08:00] [INFO] [handle_hist.go:156] ["SubLoadWorker exited."]
[2022/07/15 15:01:54.261 +08:00] [INFO] [domain.go:733] ["domain closed"] ["take time"=316.416µs]
[2022/07/15 15:01:54.283 +08:00] [INFO] [db.go:567] ["Closing database"]
[2022/07/15 15:01:54.283 +08:00] [INFO] [db.go:592] ["Memtable flushed"]
[2022/07/15 15:01:54.283 +08:00] [INFO] [db.go:596] ["Compaction finished"]
[2022/07/15 15:01:54.283 +08:00] [INFO] [db.go:615] ["BlobManager finished"]
[2022/07/15 15:01:54.283 +08:00] [INFO] [db.go:619] ["ResourceManager finished"]
[2022/07/15 15:01:54.283 +08:00] [INFO] [db.go:625] ["Waiting for closer"]
[2022/07/15 15:01:54.396 +08:00] [INFO] [tidb.go:74] ["new domain"] [store=fa21e112-4a39-45ab-9064-eafb70486c10] ["ddl lease"=0s] ["stats lease"=-1ns] ["index usage sync lease"=0s]
[2022/07/15 15:01:54.396 +08:00] [INFO] [domain.go:178] ["full load InfoSchema success"] [currentSchemaVersion=0] [neededSchemaVersion=0] ["start time"=495.584µs]
[2022/07/15 15:01:54.396 +08:00] [INFO] [domain.go:449] ["full load and reset schema validator"]
[2022/07/15 15:01:54.396 +08:00] [INFO] [ddl.go:483] ["[ddl] start DDL"] [ID=2d868b9e-d51d-401b-b951-24bcb76ed260] [runWorker=true]
[2022/07/15 15:01:54.396 +08:00] [INFO] [ddl.go:472] ["[ddl] start delRangeManager OK"] ["is a emulator"=true]
[2022/07/15 15:01:54.396 +08:00] [INFO] [delete_range.go:158] ["[ddl] start delRange emulator"]
[2022/07/15 15:01:54.396 +08:00] [INFO] [ddl_worker.go:164] ["[ddl] start DDL worker"] [worker="worker 33, tp general"]
[2022/07/15 15:01:54.396 +08:00] [INFO] [ddl_worker.go:164] ["[ddl] start DDL worker"] [worker="worker 34, tp add index"]
[2022/07/15 15:01:54.397 +08:00] [INFO] [tidb.go:268] ["rollbackTxn called due to ddl/autocommit failure"]
[2022/07/15 15:01:54.397 +08:00] [WARN] [session.go:1983] ["run statement failed"] [schemaVersion=0] [error="[schema:1049]Unknown database 'mysql'"] [errorVerbose="[schema:1049]Unknown database 'mysql'\ngithub.com/pingcap/errors.AddStack\n\t/Users/hongyunyan/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20211224045212-9687c2b0f87c/errors.go:174\ngithub.com/pingcap/errors.(*Error).GenWithStackByArgs\n\t/Users/hongyunyan/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20211224045212-9687c2b0f87c/normalize.go:164\ngithub.com/pingcap/tidb/executor.(*SimpleExec).executeUse\n\t/Users/hongyunyan/Desktop/tidb/executor/simple.go:571\ngithub.com/pingcap/tidb/executor.(*SimpleExec).Next\n\t/Users/hongyunyan/Desktop/tidb/executor/simple.go:131\ngithub.com/pingcap/tidb/executor.Next\n\t/Users/hongyunyan/Desktop/tidb/executor/executor.go:319\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelayExecutor\n\t/Users/hongyunyan/Desktop/tidb/executor/adapter.go:673\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelay\n\t/Users/hongyunyan/Desktop/tidb/executor/adapter.go:523\ngithub.com/pingcap/tidb/executor.(*ExecStmt).Exec\n\t/Users/hongyunyan/Desktop/tidb/executor/adapter.go:472\ngithub.com/pingcap/tidb/session.runStmt\n\t/Users/hongyunyan/Desktop/tidb/session/session.go:2114\ngithub.com/pingcap/tidb/session.(*session).ExecuteStmt\n\t/Users/hongyunyan/Desktop/tidb/session/session.go:1980\ngithub.com/pingcap/tidb/session.(*session).ExecuteInternal\n\t/Users/hongyunyan/Desktop/tidb/session/session.go:1495\ngithub.com/pingcap/tidb/session.checkBootstrapped\n\t/Users/hongyunyan/Desktop/tidb/session/bootstrap.go:728\ngithub.com/pingcap/tidb/session.bootstrap\n\t/Users/hongyunyan/Desktop/tidb/session/bootstrap.go:431\ngithub.com/pingcap/tidb/session.runInBootstrapSession\n\t/Users/hongyunyan/Desktop/tidb/session/session.go:2834\ngithub.com/pingcap/tidb/session.BootstrapSession\n\t/Users/hongyunyan/Desktop/tidb/session/session.go:2720\ngithub.com/pingcap/tidb/testkit.bootstrap\n\t/Users/hongyunyan/Desktop/tidb/testkit/mockstore.go:71\ngithub.com/pingcap/tidb/testkit.CreateMockStoreAndDomain\n\t/Users/hongyunyan/Desktop/tidb/testkit/mockstore.go:64\ngithub.com/pingcap/tidb/testkit.CreateMockStore\n\t/Users/hongyunyan/Desktop/tidb/testkit/mockstore.go:56\ngithub.com/pingcap/tidb/executor/tiflashtest.TestMppEnum\n\t/Users/hongyunyan/Desktop/tidb/executor/tiflashtest/tiflash_test.go:566\ntesting.tRunner\n\t/opt/homebrew/Cellar/go/1.18.3/libexec/src/testing/testing.go:1439\nruntime.goexit\n\t/opt/homebrew/Cellar/go/1.18.3/libexec/src/runtime/asm_arm64.s:1263"] [session="{\n  \"currDBName\": \"\",\n  \"id\": 0,\n  \"status\": 2,\n  \"strictMode\": true,\n  \"user\": null\n}"]
[2022/07/15 15:01:54.397 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=0] [cur_db=] [sql="CREATE DATABASE IF NOT EXISTS test"] [user=]
[2022/07/15 15:01:54.397 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:2, Type:create schema, State:queueing, SchemaState:none, SchemaID:1, TableID:0, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:54.397 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:54.397 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:2, Type:create schema, State:queueing, SchemaState:none, SchemaID:1, TableID:0, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:54.397 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE DATABASE IF NOT EXISTS test"]
[2022/07/15 15:01:54.397 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 33, tp general"] [job="ID:2, Type:create schema, State:queueing, SchemaState:none, SchemaID:1, TableID:0, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:54.397 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:54.397 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 33, tp general"] [job="ID:2, Type:create schema, State:synced, SchemaState:public, SchemaID:1, TableID:0, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:54.397 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:54.397 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=2]
[2022/07/15 15:01:54.397 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:54.398 +08:00] [INFO] [domain.go:178] ["full load InfoSchema success"] [currentSchemaVersion=0] [neededSchemaVersion=1] ["start time"=399.875µs]
[2022/07/15 15:01:54.398 +08:00] [INFO] [domain.go:449] ["full load and reset schema validator"]
[2022/07/15 15:01:54.398 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=1] [cur_db=] [sql="CREATE DATABASE IF NOT EXISTS `mysql`"] [user=]
[2022/07/15 15:01:54.398 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:4, Type:create schema, State:queueing, SchemaState:none, SchemaID:3, TableID:0, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:54.398 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:54.398 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:4, Type:create schema, State:queueing, SchemaState:none, SchemaID:3, TableID:0, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:54.398 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE DATABASE IF NOT EXISTS `mysql`"]
[2022/07/15 15:01:54.398 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 33, tp general"] [job="ID:4, Type:create schema, State:queueing, SchemaState:none, SchemaID:3, TableID:0, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:54.398 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:54.398 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 33, tp general"] [job="ID:4, Type:create schema, State:synced, SchemaState:public, SchemaID:3, TableID:0, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:54.398 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:54.398 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=4]
[2022/07/15 15:01:54.398 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:54.398 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=1] [neededSchemaVersion=2] ["start time"=15.625µs] [phyTblIDs="[]"] [actionTypes="[]"]
[2022/07/15 15:01:54.399 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=2] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.user (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tauthentication_string\tTEXT,\n\t\tplugin\t\t\t\t\tCHAR(64),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tProcess_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_db_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tSuper_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_user_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_slave_priv\t    \tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_client_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_role_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_role_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAccount_locked\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShutdown_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReload_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tFILE_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tConfig_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_Tablespace_Priv  ENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (Host, User));"] [user=]
[2022/07/15 15:01:54.399 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:6, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:5, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:54.399 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:54.399 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:6, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:5, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:54.399 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.user (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tauthentication_string\tTEXT,\n\t\tplugin\t\t\t\t\tCHAR(64),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tProcess_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_db_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tSuper_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_user_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_slave_priv\t    \tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_client_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_role_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_role_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAccount_locked\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShutdown_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReload_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tFILE_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tConfig_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_Tablespace_Priv  ENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (Host, User));"]
[2022/07/15 15:01:54.399 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 33, tp general"] [job="ID:6, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:5, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:54.399 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:54.401 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 33, tp general"] [job="ID:6, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:5, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:54.399 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:54.401 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=6]
[2022/07/15 15:01:54.401 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:54.402 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=2] [neededSchemaVersion=3] ["start time"=251.334µs] [phyTblIDs="[5]"] [actionTypes="[8]"]
[2022/07/15 15:01:54.402 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=3] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.global_priv (Host CHAR(255) NOT NULL DEFAULT '',User CHAR(80) NOT NULL DEFAULT '',Priv LONGTEXT NOT NULL DEFAULT '',PRIMARY KEY (Host, User))"] [user=]
[2022/07/15 15:01:54.402 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:8, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:7, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:54.402 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:54.402 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:8, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:7, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:54.402 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.global_priv (Host CHAR(255) NOT NULL DEFAULT '',User CHAR(80) NOT NULL DEFAULT '',Priv LONGTEXT NOT NULL DEFAULT '',PRIMARY KEY (Host, User))"]
[2022/07/15 15:01:54.402 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 33, tp general"] [job="ID:8, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:7, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:54.402 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:54.402 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 33, tp general"] [job="ID:8, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:7, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:54.402 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:54.402 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=8]
[2022/07/15 15:01:54.402 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:54.402 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=3] [neededSchemaVersion=4] ["start time"=61.708µs] [phyTblIDs="[7]"] [actionTypes="[8]"]
[2022/07/15 15:01:54.402 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=4] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.db (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tDB\t\t\t\t\t\tCHAR(64),\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv \t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (Host, DB, User));"] [user=]
[2022/07/15 15:01:54.403 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:10, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:9, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:54.403 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:54.403 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:10, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:9, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:54.403 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.db (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tDB\t\t\t\t\t\tCHAR(64),\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv \t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (Host, DB, User));"]
[2022/07/15 15:01:54.403 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 33, tp general"] [job="ID:10, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:9, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:54.403 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:54.404 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 33, tp general"] [job="ID:10, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:9, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:54.403 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:54.404 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=10]
[2022/07/15 15:01:54.404 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:54.404 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=4] [neededSchemaVersion=5] ["start time"=174.25µs] [phyTblIDs="[9]"] [actionTypes="[8]"]
[2022/07/15 15:01:54.405 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=5] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.tables_priv (\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64),\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64),\n\t\tGrantor\t\tCHAR(77),\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tTable_priv\tSET('Select','Insert','Update','Delete','Create','Drop','Grant','Index','Alter','Create View','Show View','Trigger','References'),\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name));"] [user=]
[2022/07/15 15:01:54.405 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:12, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:11, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:54.405 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:54.405 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:12, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:11, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:54.405 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.tables_priv (\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64),\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64),\n\t\tGrantor\t\tCHAR(77),\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tTable_priv\tSET('Select','Insert','Update','Delete','Create','Drop','Grant','Index','Alter','Create View','Show View','Trigger','References'),\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name));"]
[2022/07/15 15:01:54.405 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 33, tp general"] [job="ID:12, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:11, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:54.405 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:54.405 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 33, tp general"] [job="ID:12, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:11, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:54.405 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:54.405 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=12]
[2022/07/15 15:01:54.405 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:54.406 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=5] [neededSchemaVersion=6] ["start time"=84.583µs] [phyTblIDs="[11]"] [actionTypes="[8]"]
[2022/07/15 15:01:54.406 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=6] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.columns_priv(\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64),\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64),\n\t\tColumn_name\tCHAR(64),\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name, Column_name));"] [user=]
[2022/07/15 15:01:54.406 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:14, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:13, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:54.406 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:54.406 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:14, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:13, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:54.406 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.columns_priv(\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64),\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64),\n\t\tColumn_name\tCHAR(64),\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name, Column_name));"]
[2022/07/15 15:01:54.406 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 33, tp general"] [job="ID:14, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:13, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:54.406 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:54.406 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 33, tp general"] [job="ID:14, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:13, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:54.406 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:54.406 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=14]
[2022/07/15 15:01:54.406 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:54.407 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=6] [neededSchemaVersion=7] ["start time"=78.041µs] [phyTblIDs="[13]"] [actionTypes="[8]"]
[2022/07/15 15:01:54.407 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=7] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.GLOBAL_VARIABLES(\n\t\tVARIABLE_NAME  VARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(1024) DEFAULT NULL);"] [user=]
[2022/07/15 15:01:54.407 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:16, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:15, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:54.407 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:54.407 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:16, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:15, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:54.407 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.GLOBAL_VARIABLES(\n\t\tVARIABLE_NAME  VARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(1024) DEFAULT NULL);"]
[2022/07/15 15:01:54.407 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 33, tp general"] [job="ID:16, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:15, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:54.407 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:54.407 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 33, tp general"] [job="ID:16, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:15, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:54.407 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:54.407 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=16]
[2022/07/15 15:01:54.407 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:54.407 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=7] [neededSchemaVersion=8] ["start time"=42.666µs] [phyTblIDs="[15]"] [actionTypes="[8]"]
[2022/07/15 15:01:54.407 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=8] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb(\n\t\tVARIABLE_NAME  \tVARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE \tVARCHAR(1024) DEFAULT NULL,\n\t\tCOMMENT \t\tVARCHAR(1024));"] [user=]
[2022/07/15 15:01:54.407 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:18, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:17, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:54.407 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:54.407 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:18, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:17, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:54.407 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb(\n\t\tVARIABLE_NAME  \tVARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE \tVARCHAR(1024) DEFAULT NULL,\n\t\tCOMMENT \t\tVARCHAR(1024));"]
[2022/07/15 15:01:54.407 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 33, tp general"] [job="ID:18, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:17, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:54.407 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:54.408 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 33, tp general"] [job="ID:18, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:17, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:54.407 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:54.408 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=18]
[2022/07/15 15:01:54.408 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:54.408 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=8] [neededSchemaVersion=9] ["start time"=48.917µs] [phyTblIDs="[17]"] [actionTypes="[8]"]
[2022/07/15 15:01:54.408 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=9] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.help_topic (\n  \t\thelp_topic_id \t\tINT(10) UNSIGNED NOT NULL,\n  \t\tname \t\t\t\tCHAR(64) NOT NULL,\n  \t\thelp_category_id \tSMALLINT(5) UNSIGNED NOT NULL,\n  \t\tdescription \t\tTEXT NOT NULL,\n  \t\texample \t\t\tTEXT NOT NULL,\n  \t\turl \t\t\t\tTEXT NOT NULL,\n  \t\tPRIMARY KEY (help_topic_id) clustered,\n  \t\tUNIQUE KEY name (name)\n\t\t) ENGINE=InnoDB DEFAULT CHARSET=utf8 STATS_PERSISTENT=0 COMMENT='help topics';"] [user=]
[2022/07/15 15:01:54.408 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:20, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:19, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:54.408 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:54.408 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:20, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:19, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:54.408 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.help_topic (\n  \t\thelp_topic_id \t\tINT(10) UNSIGNED NOT NULL,\n  \t\tname \t\t\t\tCHAR(64) NOT NULL,\n  \t\thelp_category_id \tSMALLINT(5) UNSIGNED NOT NULL,\n  \t\tdescription \t\tTEXT NOT NULL,\n  \t\texample \t\t\tTEXT NOT NULL,\n  \t\turl \t\t\t\tTEXT NOT NULL,\n  \t\tPRIMARY KEY (help_topic_id) clustered,\n  \t\tUNIQUE KEY name (name)\n\t\t) ENGINE=InnoDB DEFAULT CHARSET=utf8 STATS_PERSISTENT=0 COMMENT='help topics';"]
[2022/07/15 15:01:54.408 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 33, tp general"] [job="ID:20, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:19, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:54.408 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:54.409 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 33, tp general"] [job="ID:20, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:19, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:54.408 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:54.409 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=20]
[2022/07/15 15:01:54.409 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:54.409 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=9] [neededSchemaVersion=10] ["start time"=66.167µs] [phyTblIDs="[19]"] [actionTypes="[8]"]
[2022/07/15 15:01:54.409 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=10] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_meta (\n\t\tversion \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\ttable_id \t\tBIGINT(64) NOT NULL,\n\t\tmodify_count\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcount \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tsnapshot        BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tINDEX idx_ver(version),\n\t\tUNIQUE INDEX tbl(table_id)\n\t);"] [user=]
[2022/07/15 15:01:54.409 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:22, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:21, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:54.409 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:54.409 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:22, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:21, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:54.409 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_meta (\n\t\tversion \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\ttable_id \t\tBIGINT(64) NOT NULL,\n\t\tmodify_count\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcount \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tsnapshot        BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tINDEX idx_ver(version),\n\t\tUNIQUE INDEX tbl(table_id)\n\t);"]
[2022/07/15 15:01:54.409 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 33, tp general"] [job="ID:22, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:21, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:54.409 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:54.410 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 33, tp general"] [job="ID:22, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:21, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:54.409 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:54.410 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=22]
[2022/07/15 15:01:54.410 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:54.410 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=10] [neededSchemaVersion=11] ["start time"=75.916µs] [phyTblIDs="[21]"] [actionTypes="[8]"]
[2022/07/15 15:01:54.410 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=11] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_histograms (\n\t\ttable_id \t\t\tBIGINT(64) NOT NULL,\n\t\tis_index \t\t\tTINYINT(2) NOT NULL,\n\t\thist_id \t\t\tBIGINT(64) NOT NULL,\n\t\tdistinct_count \t\tBIGINT(64) NOT NULL,\n\t\tnull_count \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\ttot_col_size \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tmodify_count \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tversion \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tcm_sketch \t\t\tBLOB(6291456),\n\t\tstats_ver \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tflag \t\t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcorrelation \t\tDOUBLE NOT NULL DEFAULT 0,\n\t\tlast_analyze_pos \tLONGBLOB DEFAULT NULL,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id)\n\t);"] [user=]
[2022/07/15 15:01:54.410 +08:00] [INFO] [ddl_api.go:999] ["Automatically convert BLOB(6291456) to MEDIUMBLOB"]
[2022/07/15 15:01:54.410 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:24, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:23, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:54.41 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:54.410 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:24, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:23, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:54.41 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_histograms (\n\t\ttable_id \t\t\tBIGINT(64) NOT NULL,\n\t\tis_index \t\t\tTINYINT(2) NOT NULL,\n\t\thist_id \t\t\tBIGINT(64) NOT NULL,\n\t\tdistinct_count \t\tBIGINT(64) NOT NULL,\n\t\tnull_count \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\ttot_col_size \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tmodify_count \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tversion \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tcm_sketch \t\t\tBLOB(6291456),\n\t\tstats_ver \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tflag \t\t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcorrelation \t\tDOUBLE NOT NULL DEFAULT 0,\n\t\tlast_analyze_pos \tLONGBLOB DEFAULT NULL,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id)\n\t);"]
[2022/07/15 15:01:54.410 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 33, tp general"] [job="ID:24, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:23, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:54.41 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:54.411 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 33, tp general"] [job="ID:24, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:23, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:54.41 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:54.411 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=24]
[2022/07/15 15:01:54.411 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:54.411 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=11] [neededSchemaVersion=12] ["start time"=106.625µs] [phyTblIDs="[23]"] [actionTypes="[8]"]
[2022/07/15 15:01:54.411 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=12] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_buckets (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tbucket_id \tBIGINT(64) NOT NULL,\n\t\tcount \t\tBIGINT(64) NOT NULL,\n\t\trepeats \tBIGINT(64) NOT NULL,\n\t\tupper_bound LONGBLOB NOT NULL,\n\t\tlower_bound LONGBLOB ,\n\t\tndv         BIGINT NOT NULL DEFAULT 0,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id, bucket_id)\n\t);"] [user=]
[2022/07/15 15:01:54.411 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:26, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:25, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:54.411 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:54.411 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:26, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:25, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:54.411 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_buckets (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tbucket_id \tBIGINT(64) NOT NULL,\n\t\tcount \t\tBIGINT(64) NOT NULL,\n\t\trepeats \tBIGINT(64) NOT NULL,\n\t\tupper_bound LONGBLOB NOT NULL,\n\t\tlower_bound LONGBLOB ,\n\t\tndv         BIGINT NOT NULL DEFAULT 0,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id, bucket_id)\n\t);"]
[2022/07/15 15:01:54.412 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 33, tp general"] [job="ID:26, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:25, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:54.411 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:54.412 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 33, tp general"] [job="ID:26, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:25, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:54.411 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:54.412 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=26]
[2022/07/15 15:01:54.412 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:54.412 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=12] [neededSchemaVersion=13] ["start time"=111.917µs] [phyTblIDs="[25]"] [actionTypes="[8]"]
[2022/07/15 15:01:54.413 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=13] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_index (job_id, element_id)\n\t);"] [user=]
[2022/07/15 15:01:54.413 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:28, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:27, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:54.413 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:54.413 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:28, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:27, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:54.413 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_index (job_id, element_id)\n\t);"]
[2022/07/15 15:01:54.413 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 33, tp general"] [job="ID:28, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:27, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:54.413 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:54.413 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 33, tp general"] [job="ID:28, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:27, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:54.413 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:54.414 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=28]
[2022/07/15 15:01:54.414 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:54.414 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=13] [neededSchemaVersion=14] ["start time"=67.583µs] [phyTblIDs="[27]"] [actionTypes="[8]"]
[2022/07/15 15:01:54.414 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=14] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range_done (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_done_index (job_id, element_id)\n\t);"] [user=]
[2022/07/15 15:01:54.414 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:30, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:29, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:54.414 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:54.414 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:30, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:29, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:54.414 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range_done (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_done_index (job_id, element_id)\n\t);"]
[2022/07/15 15:01:54.414 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 33, tp general"] [job="ID:30, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:29, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:54.414 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:54.414 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 33, tp general"] [job="ID:30, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:29, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:54.414 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:54.415 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=30]
[2022/07/15 15:01:54.415 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:54.415 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=14] [neededSchemaVersion=15] ["start time"=63.459µs] [phyTblIDs="[29]"] [actionTypes="[8]"]
[2022/07/15 15:01:54.415 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=15] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_feedback (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tfeedback \tBLOB NOT NULL,\n\t\tINDEX hist(table_id, is_index, hist_id)\n\t);"] [user=]
[2022/07/15 15:01:54.415 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:32, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:31, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:54.415 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:54.415 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:32, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:31, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:54.415 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_feedback (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tfeedback \tBLOB NOT NULL,\n\t\tINDEX hist(table_id, is_index, hist_id)\n\t);"]
[2022/07/15 15:01:54.415 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 33, tp general"] [job="ID:32, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:31, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:54.415 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:54.415 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 33, tp general"] [job="ID:32, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:31, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:54.415 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:54.415 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=32]
[2022/07/15 15:01:54.415 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:54.415 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=15] [neededSchemaVersion=16] ["start time"=56.292µs] [phyTblIDs="[31]"] [actionTypes="[8]"]
[2022/07/15 15:01:54.415 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=16] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.role_edges (\n\t\tFROM_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tFROM_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tWITH_ADMIN_OPTION \tENUM('N','Y') CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (FROM_HOST,FROM_USER,TO_HOST,TO_USER)\n\t);"] [user=]
[2022/07/15 15:01:54.416 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:34, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:33, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:54.416 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:54.416 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:34, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:33, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:54.416 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.role_edges (\n\t\tFROM_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tFROM_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tWITH_ADMIN_OPTION \tENUM('N','Y') CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (FROM_HOST,FROM_USER,TO_HOST,TO_USER)\n\t);"]
[2022/07/15 15:01:54.416 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 33, tp general"] [job="ID:34, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:33, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:54.416 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:54.416 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 33, tp general"] [job="ID:34, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:33, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:54.416 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:54.416 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=34]
[2022/07/15 15:01:54.416 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:54.416 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=16] [neededSchemaVersion=17] ["start time"=63.167µs] [phyTblIDs="[33]"] [actionTypes="[8]"]
[2022/07/15 15:01:54.416 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=17] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.default_roles (\n\t\tHOST \t\t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tUSER \t\t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tDEFAULT_ROLE_HOST \tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '%',\n\t\tDEFAULT_ROLE_USER \tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tPRIMARY KEY (HOST,USER,DEFAULT_ROLE_HOST,DEFAULT_ROLE_USER)\n\t)"] [user=]
[2022/07/15 15:01:54.417 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:36, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:35, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:54.416 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:54.417 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:36, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:35, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:54.416 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.default_roles (\n\t\tHOST \t\t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tUSER \t\t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tDEFAULT_ROLE_HOST \tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '%',\n\t\tDEFAULT_ROLE_USER \tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tPRIMARY KEY (HOST,USER,DEFAULT_ROLE_HOST,DEFAULT_ROLE_USER)\n\t)"]
[2022/07/15 15:01:54.417 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 33, tp general"] [job="ID:36, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:35, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:54.416 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:54.417 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 33, tp general"] [job="ID:36, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:35, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:54.416 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:54.417 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=36]
[2022/07/15 15:01:54.417 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:54.417 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=17] [neededSchemaVersion=18] ["start time"=56.791µs] [phyTblIDs="[35]"] [actionTypes="[8]"]
[2022/07/15 15:01:54.417 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=18] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.bind_info (\n\t\toriginal_sql TEXT NOT NULL,\n\t\tbind_sql TEXT NOT NULL,\n\t\tdefault_db TEXT NOT NULL,\n\t\tstatus TEXT NOT NULL,\n\t\tcreate_time TIMESTAMP(3) NOT NULL,\n\t\tupdate_time TIMESTAMP(3) NOT NULL,\n\t\tcharset TEXT NOT NULL,\n\t\tcollation TEXT NOT NULL,\n\t\tsource VARCHAR(10) NOT NULL DEFAULT 'unknown',\n\t\tINDEX sql_index(original_sql(700),default_db(68)) COMMENT \"accelerate the speed when add global binding query\",\n\t\tINDEX time_index(update_time) COMMENT \"accelerate the speed when querying with last update time\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"] [user=]
[2022/07/15 15:01:54.417 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:38, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:37, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:54.417 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:54.417 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:38, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:37, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:54.417 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.bind_info (\n\t\toriginal_sql TEXT NOT NULL,\n\t\tbind_sql TEXT NOT NULL,\n\t\tdefault_db TEXT NOT NULL,\n\t\tstatus TEXT NOT NULL,\n\t\tcreate_time TIMESTAMP(3) NOT NULL,\n\t\tupdate_time TIMESTAMP(3) NOT NULL,\n\t\tcharset TEXT NOT NULL,\n\t\tcollation TEXT NOT NULL,\n\t\tsource VARCHAR(10) NOT NULL DEFAULT 'unknown',\n\t\tINDEX sql_index(original_sql(700),default_db(68)) COMMENT \"accelerate the speed when add global binding query\",\n\t\tINDEX time_index(update_time) COMMENT \"accelerate the speed when querying with last update time\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"]
[2022/07/15 15:01:54.418 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 33, tp general"] [job="ID:38, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:37, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:54.417 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:54.418 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 33, tp general"] [job="ID:38, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:37, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:54.417 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:54.418 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=38]
[2022/07/15 15:01:54.418 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:54.419 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=18] [neededSchemaVersion=19] ["start time"=94.959µs] [phyTblIDs="[37]"] [actionTypes="[8]"]
[2022/07/15 15:01:54.419 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=19] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_top_n (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tcount \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"] [user=]
[2022/07/15 15:01:54.419 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:40, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:39, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:54.419 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:54.419 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:40, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:39, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:54.419 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_top_n (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tcount \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"]
[2022/07/15 15:01:54.419 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 33, tp general"] [job="ID:40, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:39, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:54.419 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:54.419 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 33, tp general"] [job="ID:40, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:39, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:54.419 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:54.420 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=40]
[2022/07/15 15:01:54.420 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:54.420 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=19] [neededSchemaVersion=20] ["start time"=60.875µs] [phyTblIDs="[39]"] [actionTypes="[8]"]
[2022/07/15 15:01:54.420 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=20] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.expr_pushdown_blacklist (\n\t\tname \t\tCHAR(100) NOT NULL,\n\t\tstore_type \tCHAR(100) NOT NULL DEFAULT 'tikv,tiflash,tidb',\n\t\treason \t\tVARCHAR(200)\n\t);"] [user=]
[2022/07/15 15:01:54.420 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:42, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:41, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:54.42 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:54.420 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:42, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:41, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:54.42 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.expr_pushdown_blacklist (\n\t\tname \t\tCHAR(100) NOT NULL,\n\t\tstore_type \tCHAR(100) NOT NULL DEFAULT 'tikv,tiflash,tidb',\n\t\treason \t\tVARCHAR(200)\n\t);"]
[2022/07/15 15:01:54.420 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 33, tp general"] [job="ID:42, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:41, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:54.42 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:54.420 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 33, tp general"] [job="ID:42, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:41, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:54.42 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:54.420 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=42]
[2022/07/15 15:01:54.420 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:54.420 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=20] [neededSchemaVersion=21] ["start time"=43.208µs] [phyTblIDs="[41]"] [actionTypes="[8]"]
[2022/07/15 15:01:54.420 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=21] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.opt_rule_blacklist (\n\t\tname \tCHAR(100) NOT NULL\n\t);"] [user=]
[2022/07/15 15:01:54.420 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:44, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:43, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:54.42 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:54.420 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:44, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:43, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:54.42 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.opt_rule_blacklist (\n\t\tname \tCHAR(100) NOT NULL\n\t);"]
[2022/07/15 15:01:54.421 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 33, tp general"] [job="ID:44, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:43, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:54.42 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:54.421 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 33, tp general"] [job="ID:44, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:43, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:54.42 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:54.421 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=44]
[2022/07/15 15:01:54.421 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:54.421 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=21] [neededSchemaVersion=22] ["start time"=31.334µs] [phyTblIDs="[43]"] [actionTypes="[8]"]
[2022/07/15 15:01:54.421 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=22] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_extended (\n\t\tname varchar(32) NOT NULL,\n\t\ttype tinyint(4) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tcolumn_ids varchar(32) NOT NULL,\n\t\tstats blob DEFAULT NULL,\n\t\tversion bigint(64) unsigned NOT NULL,\n\t\tstatus tinyint(4) NOT NULL,\n\t\tPRIMARY KEY(name, table_id),\n\t\tKEY idx_1 (table_id, status, version),\n\t\tKEY idx_2 (status, version)\n\t);"] [user=]
[2022/07/15 15:01:54.421 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:46, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:45, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:54.421 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:54.421 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:46, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:45, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:54.421 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_extended (\n\t\tname varchar(32) NOT NULL,\n\t\ttype tinyint(4) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tcolumn_ids varchar(32) NOT NULL,\n\t\tstats blob DEFAULT NULL,\n\t\tversion bigint(64) unsigned NOT NULL,\n\t\tstatus tinyint(4) NOT NULL,\n\t\tPRIMARY KEY(name, table_id),\n\t\tKEY idx_1 (table_id, status, version),\n\t\tKEY idx_2 (status, version)\n\t);"]
[2022/07/15 15:01:54.421 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 33, tp general"] [job="ID:46, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:45, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:54.421 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:54.422 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 33, tp general"] [job="ID:46, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:45, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:54.421 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:54.422 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=46]
[2022/07/15 15:01:54.422 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:54.422 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=22] [neededSchemaVersion=23] ["start time"=85.292µs] [phyTblIDs="[45]"] [actionTypes="[8]"]
[2022/07/15 15:01:54.422 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=23] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.schema_index_usage (\n\t\tTABLE_ID bigint(64),\n\t\tINDEX_ID bigint(21),\n\t\tQUERY_COUNT bigint(64),\n\t\tROWS_SELECTED bigint(64),\n\t\tLAST_USED_AT timestamp,\n\t\tPRIMARY KEY(TABLE_ID, INDEX_ID)\n\t);"] [user=]
[2022/07/15 15:01:54.422 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:48, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:47, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:54.422 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:54.422 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:48, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:47, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:54.422 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.schema_index_usage (\n\t\tTABLE_ID bigint(64),\n\t\tINDEX_ID bigint(21),\n\t\tQUERY_COUNT bigint(64),\n\t\tROWS_SELECTED bigint(64),\n\t\tLAST_USED_AT timestamp,\n\t\tPRIMARY KEY(TABLE_ID, INDEX_ID)\n\t);"]
[2022/07/15 15:01:54.422 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 33, tp general"] [job="ID:48, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:47, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:54.422 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:54.423 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 33, tp general"] [job="ID:48, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:47, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:54.422 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:54.423 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=48]
[2022/07/15 15:01:54.423 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:54.423 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=23] [neededSchemaVersion=24] ["start time"=61.042µs] [phyTblIDs="[47]"] [actionTypes="[8]"]
[2022/07/15 15:01:54.423 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=24] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_fm_sketch (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"] [user=]
[2022/07/15 15:01:54.423 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:50, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:49, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:54.423 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:54.423 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:50, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:49, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:54.423 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_fm_sketch (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"]
[2022/07/15 15:01:54.423 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 33, tp general"] [job="ID:50, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:49, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:54.423 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:54.423 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 33, tp general"] [job="ID:50, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:49, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:54.423 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:54.424 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=50]
[2022/07/15 15:01:54.424 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:54.424 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=24] [neededSchemaVersion=25] ["start time"=57.666µs] [phyTblIDs="[49]"] [actionTypes="[8]"]
[2022/07/15 15:01:54.424 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=25] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.global_grants (\n\t\tUSER char(32) NOT NULL DEFAULT '',\n\t\tHOST char(255) NOT NULL DEFAULT '',\n\t\tPRIV char(32) NOT NULL DEFAULT '',\n\t\tWITH_GRANT_OPTION enum('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (USER,HOST,PRIV)\n\t);"] [user=]
[2022/07/15 15:01:54.424 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:52, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:51, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:54.424 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:54.424 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:52, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:51, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:54.424 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.global_grants (\n\t\tUSER char(32) NOT NULL DEFAULT '',\n\t\tHOST char(255) NOT NULL DEFAULT '',\n\t\tPRIV char(32) NOT NULL DEFAULT '',\n\t\tWITH_GRANT_OPTION enum('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (USER,HOST,PRIV)\n\t);"]
[2022/07/15 15:01:54.424 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 33, tp general"] [job="ID:52, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:51, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:54.424 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:54.424 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 33, tp general"] [job="ID:52, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:51, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:54.424 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:54.424 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=52]
[2022/07/15 15:01:54.424 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:54.424 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=25] [neededSchemaVersion=26] ["start time"=56.959µs] [phyTblIDs="[51]"] [actionTypes="[8]"]
[2022/07/15 15:01:54.424 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=26] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.capture_plan_baselines_blacklist (\n\t\tid bigint(64) auto_increment,\n\t\tfilter_type varchar(32) NOT NULL COMMENT \"type of the filter, only db, table and frequency supported now\",\n\t\tfilter_value varchar(32) NOT NULL,\n\t\tkey idx(filter_type),\n\t\tprimary key(id)\n\t);"] [user=]
[2022/07/15 15:01:54.425 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:54, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:53, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:54.425 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:54.425 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:54, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:53, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:54.425 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.capture_plan_baselines_blacklist (\n\t\tid bigint(64) auto_increment,\n\t\tfilter_type varchar(32) NOT NULL COMMENT \"type of the filter, only db, table and frequency supported now\",\n\t\tfilter_value varchar(32) NOT NULL,\n\t\tkey idx(filter_type),\n\t\tprimary key(id)\n\t);"]
[2022/07/15 15:01:54.425 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 33, tp general"] [job="ID:54, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:53, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:54.425 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:54.425 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 33, tp general"] [job="ID:54, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:53, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:54.425 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:54.425 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=54]
[2022/07/15 15:01:54.425 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:54.425 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=26] [neededSchemaVersion=27] ["start time"=50.584µs] [phyTblIDs="[53]"] [actionTypes="[8]"]
[2022/07/15 15:01:54.425 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=27] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.column_stats_usage (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tcolumn_id BIGINT(64) NOT NULL,\n\t\tlast_used_at TIMESTAMP,\n\t\tlast_analyzed_at TIMESTAMP,\n\t\tPRIMARY KEY (table_id, column_id) CLUSTERED\n\t);"] [user=]
[2022/07/15 15:01:54.425 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:56, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:55, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:54.425 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:54.425 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:56, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:55, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:54.425 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.column_stats_usage (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tcolumn_id BIGINT(64) NOT NULL,\n\t\tlast_used_at TIMESTAMP,\n\t\tlast_analyzed_at TIMESTAMP,\n\t\tPRIMARY KEY (table_id, column_id) CLUSTERED\n\t);"]
[2022/07/15 15:01:54.425 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 33, tp general"] [job="ID:56, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:55, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:54.425 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:54.426 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 33, tp general"] [job="ID:56, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:55, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:54.425 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:54.426 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=56]
[2022/07/15 15:01:54.426 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:54.426 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=27] [neededSchemaVersion=28] ["start time"=55.5µs] [phyTblIDs="[55]"] [actionTypes="[8]"]
[2022/07/15 15:01:54.426 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=28] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.table_cache_meta (\n\t\ttid bigint(11) NOT NULL DEFAULT 0,\n\t\tlock_type enum('NONE','READ', 'INTEND', 'WRITE') NOT NULL DEFAULT 'NONE',\n\t\tlease bigint(20) NOT NULL DEFAULT 0,\n\t\toldReadLease bigint(20) NOT NULL DEFAULT 0,\n\t\tPRIMARY KEY (tid)\n\t);"] [user=]
[2022/07/15 15:01:54.426 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:58, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:57, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:54.426 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:54.426 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:58, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:57, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:54.426 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.table_cache_meta (\n\t\ttid bigint(11) NOT NULL DEFAULT 0,\n\t\tlock_type enum('NONE','READ', 'INTEND', 'WRITE') NOT NULL DEFAULT 'NONE',\n\t\tlease bigint(20) NOT NULL DEFAULT 0,\n\t\toldReadLease bigint(20) NOT NULL DEFAULT 0,\n\t\tPRIMARY KEY (tid)\n\t);"]
[2022/07/15 15:01:54.426 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 33, tp general"] [job="ID:58, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:57, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:54.426 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:54.426 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 33, tp general"] [job="ID:58, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:57, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:54.426 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:54.427 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=58]
[2022/07/15 15:01:54.427 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:54.427 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=28] [neededSchemaVersion=29] ["start time"=56.459µs] [phyTblIDs="[57]"] [actionTypes="[8]"]
[2022/07/15 15:01:54.427 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=29] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.analyze_options (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tsample_num BIGINT(64) NOT NULL DEFAULT 0,\n\t\tsample_rate DOUBLE NOT NULL DEFAULT -1,\n\t\tbuckets BIGINT(64) NOT NULL DEFAULT 0,\n\t\ttopn BIGINT(64) NOT NULL DEFAULT -1,\n\t\tcolumn_choice enum('DEFAULT','ALL','PREDICATE','LIST') NOT NULL DEFAULT 'DEFAULT',\n\t\tcolumn_ids TEXT(19372),\n\t\tPRIMARY KEY (table_id) CLUSTERED\n\t);"] [user=]
[2022/07/15 15:01:54.427 +08:00] [INFO] [ddl_api.go:999] ["Automatically convert BLOB(19372) to MEDIUMBLOB"]
[2022/07/15 15:01:54.427 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:60, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:59, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:54.427 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:54.427 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:60, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:59, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:54.427 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.analyze_options (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tsample_num BIGINT(64) NOT NULL DEFAULT 0,\n\t\tsample_rate DOUBLE NOT NULL DEFAULT -1,\n\t\tbuckets BIGINT(64) NOT NULL DEFAULT 0,\n\t\ttopn BIGINT(64) NOT NULL DEFAULT -1,\n\t\tcolumn_choice enum('DEFAULT','ALL','PREDICATE','LIST') NOT NULL DEFAULT 'DEFAULT',\n\t\tcolumn_ids TEXT(19372),\n\t\tPRIMARY KEY (table_id) CLUSTERED\n\t);"]
[2022/07/15 15:01:54.427 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 33, tp general"] [job="ID:60, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:59, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:54.427 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:54.427 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 33, tp general"] [job="ID:60, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:59, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:54.427 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:54.428 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=60]
[2022/07/15 15:01:54.428 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:54.428 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=29] [neededSchemaVersion=30] ["start time"=69.041µs] [phyTblIDs="[59]"] [actionTypes="[8]"]
[2022/07/15 15:01:54.428 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=30] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tstats_data longblob NOT NULL,\n\t\tseq_no bigint(64) NOT NULL comment 'sequence number of the gzipped data slice',\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version_seq (table_id, version, seq_no),\n\t\tKEY table_create_time (table_id, create_time, seq_no)\n\t);"] [user=]
[2022/07/15 15:01:54.428 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:62, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:61, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:54.428 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:54.428 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:62, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:61, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:54.428 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tstats_data longblob NOT NULL,\n\t\tseq_no bigint(64) NOT NULL comment 'sequence number of the gzipped data slice',\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version_seq (table_id, version, seq_no),\n\t\tKEY table_create_time (table_id, create_time, seq_no)\n\t);"]
[2022/07/15 15:01:54.428 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 33, tp general"] [job="ID:62, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:61, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:54.428 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:54.428 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 33, tp general"] [job="ID:62, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:61, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:54.428 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:54.428 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=62]
[2022/07/15 15:01:54.428 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:54.429 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=30] [neededSchemaVersion=31] ["start time"=78.834µs] [phyTblIDs="[61]"] [actionTypes="[8]"]
[2022/07/15 15:01:54.429 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=31] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_meta_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL,\n\t\tcount bigint(64) NOT NULL,\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version (table_id, version),\n\t\tKEY table_create_time (table_id, create_time)\n\t);"] [user=]
[2022/07/15 15:01:54.429 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:64, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:63, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:54.429 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:54.429 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:64, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:63, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:54.429 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_meta_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL,\n\t\tcount bigint(64) NOT NULL,\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version (table_id, version),\n\t\tKEY table_create_time (table_id, create_time)\n\t);"]
[2022/07/15 15:01:54.429 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 33, tp general"] [job="ID:64, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:63, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:54.429 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:54.429 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 33, tp general"] [job="ID:64, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:63, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:54.429 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:54.429 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=64]
[2022/07/15 15:01:54.429 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:54.429 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=31] [neededSchemaVersion=32] ["start time"=66.792µs] [phyTblIDs="[63]"] [actionTypes="[8]"]
[2022/07/15 15:01:54.430 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=32] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.analyze_jobs (\n\t\tid BIGINT(64) UNSIGNED NOT NULL AUTO_INCREMENT,\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\ttable_schema CHAR(64) NOT NULL DEFAULT '',\n\t\ttable_name CHAR(64) NOT NULL DEFAULT '',\n\t\tpartition_name CHAR(64) NOT NULL DEFAULT '',\n\t\tjob_info TEXT NOT NULL,\n\t\tprocessed_rows BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tstart_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tstate ENUM('pending', 'running', 'finished', 'failed') NOT NULL,\n\t\tfail_reason TEXT,\n\t\tinstance VARCHAR(512) NOT NULL comment 'address of the TiDB instance executing the analyze job',\n\t\tprocess_id BIGINT(64) UNSIGNED comment 'ID of the process executing the analyze job',\n\t\tPRIMARY KEY (id),\n\t\tKEY (update_time)\n\t);"] [user=]
[2022/07/15 15:01:54.430 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:66, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:65, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:54.43 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:54.430 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:66, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:65, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:54.43 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.analyze_jobs (\n\t\tid BIGINT(64) UNSIGNED NOT NULL AUTO_INCREMENT,\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\ttable_schema CHAR(64) NOT NULL DEFAULT '',\n\t\ttable_name CHAR(64) NOT NULL DEFAULT '',\n\t\tpartition_name CHAR(64) NOT NULL DEFAULT '',\n\t\tjob_info TEXT NOT NULL,\n\t\tprocessed_rows BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tstart_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tstate ENUM('pending', 'running', 'finished', 'failed') NOT NULL,\n\t\tfail_reason TEXT,\n\t\tinstance VARCHAR(512) NOT NULL comment 'address of the TiDB instance executing the analyze job',\n\t\tprocess_id BIGINT(64) UNSIGNED comment 'ID of the process executing the analyze job',\n\t\tPRIMARY KEY (id),\n\t\tKEY (update_time)\n\t);"]
[2022/07/15 15:01:54.430 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 33, tp general"] [job="ID:66, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:65, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:54.43 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:54.431 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 33, tp general"] [job="ID:66, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:65, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:54.43 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:54.431 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=66]
[2022/07/15 15:01:54.431 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:54.431 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=32] [neededSchemaVersion=33] ["start time"=110.792µs] [phyTblIDs="[65]"] [actionTypes="[8]"]
[2022/07/15 15:01:54.431 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=33] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.advisory_locks (\n\t\tlock_name VARCHAR(64) NOT NULL PRIMARY KEY\n\t);"] [user=]
[2022/07/15 15:01:54.431 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:68, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:67, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:54.431 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:54.431 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:68, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:67, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:54.431 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.advisory_locks (\n\t\tlock_name VARCHAR(64) NOT NULL PRIMARY KEY\n\t);"]
[2022/07/15 15:01:54.431 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 33, tp general"] [job="ID:68, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:67, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:54.431 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:54.431 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 33, tp general"] [job="ID:68, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:67, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:54.431 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:54.431 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=68]
[2022/07/15 15:01:54.431 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:54.431 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=33] [neededSchemaVersion=34] ["start time"=37.542µs] [phyTblIDs="[67]"] [actionTypes="[8]"]
[2022/07/15 15:01:54.437 +08:00] [INFO] [bootstrap.go:448] ["bootstrap successful"] ["take time"=40.469458ms]
[2022/07/15 15:01:54.437 +08:00] [INFO] [ddl_worker.go:158] ["[ddl] DDL worker closed"] [worker="worker 33, tp general"] ["take time"=125ns]
[2022/07/15 15:01:54.437 +08:00] [INFO] [ddl_worker.go:158] ["[ddl] DDL worker closed"] [worker="worker 34, tp add index"] ["take time"=42ns]
[2022/07/15 15:01:54.437 +08:00] [INFO] [delete_range.go:148] ["[ddl] closing delRange"]
[2022/07/15 15:01:54.437 +08:00] [INFO] [session_pool.go:94] ["[ddl] closing sessionPool"]
[2022/07/15 15:01:54.437 +08:00] [INFO] [ddl.go:576] ["[ddl] DDL closed"] [ID=2d868b9e-d51d-401b-b951-24bcb76ed260] ["take time"=51.458µs]
[2022/07/15 15:01:54.437 +08:00] [INFO] [ddl.go:464] ["[ddl] stop DDL"] [ID=2d868b9e-d51d-401b-b951-24bcb76ed260]
[2022/07/15 15:01:54.437 +08:00] [INFO] [domain.go:498] ["topNSlowQueryLoop exited."]
[2022/07/15 15:01:54.437 +08:00] [INFO] [domain.go:575] ["topologySyncerKeeper exited."]
[2022/07/15 15:01:54.437 +08:00] [INFO] [domain.go:552] ["globalConfigSyncerKeeper exited."]
[2022/07/15 15:01:54.437 +08:00] [INFO] [domain.go:527] ["infoSyncerKeeper exited."]
[2022/07/15 15:01:54.437 +08:00] [INFO] [domain.go:733] ["domain closed"] ["take time"=85.625µs]
[2022/07/15 15:01:54.437 +08:00] [INFO] [tidb.go:74] ["new domain"] [store=fa21e112-4a39-45ab-9064-eafb70486c10] ["ddl lease"=0s] ["stats lease"=-1ns] ["index usage sync lease"=0s]
[2022/07/15 15:01:54.440 +08:00] [INFO] [domain.go:178] ["full load InfoSchema success"] [currentSchemaVersion=0] [neededSchemaVersion=34] ["start time"=2.422459ms]
[2022/07/15 15:01:54.440 +08:00] [INFO] [domain.go:449] ["full load and reset schema validator"]
[2022/07/15 15:01:54.440 +08:00] [INFO] [ddl.go:483] ["[ddl] start DDL"] [ID=7bb29858-d65b-42f7-b97f-70bc9c4cb286] [runWorker=true]
[2022/07/15 15:01:54.440 +08:00] [INFO] [ddl.go:472] ["[ddl] start delRangeManager OK"] ["is a emulator"=true]
[2022/07/15 15:01:54.440 +08:00] [INFO] [delete_range.go:158] ["[ddl] start delRange emulator"]
[2022/07/15 15:01:54.440 +08:00] [INFO] [ddl_worker.go:164] ["[ddl] start DDL worker"] [worker="worker 35, tp general"]
[2022/07/15 15:01:54.440 +08:00] [INFO] [ddl_worker.go:164] ["[ddl] start DDL worker"] [worker="worker 36, tp add index"]
[2022/07/15 15:01:54.441 +08:00] [WARN] [sysvar_cache.go:53] ["sysvar cache is empty, triggering rebuild"]
[2022/07/15 15:01:54.444 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=9] [schemaVersion=34] [cur_db=test] [sql="drop table if exists t"] [user=]
[2022/07/15 15:01:54.444 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=9] [schemaVersion=34] [cur_db=test] [sql="create table t(a int not null primary key, b enum('aca','bca','zca'))"] [user=]
[2022/07/15 15:01:54.444 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:70, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:54.444 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:54.444 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:70, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:54.444 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="create table t(a int not null primary key, b enum('aca','bca','zca'))"]
[2022/07/15 15:01:54.444 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 35, tp general"] [job="ID:70, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:54.444 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:54.444 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 35, tp general"] [job="ID:70, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:69, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:54.444 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:54.445 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=70]
[2022/07/15 15:01:54.445 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:54.445 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=34] [neededSchemaVersion=35] ["start time"=48.667µs] [phyTblIDs="[69]"] [actionTypes="[8]"]
[2022/07/15 15:01:54.445 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=9] [schemaVersion=35] [cur_db=test] [sql="alter table t set tiflash replica 1"] [user=]
[2022/07/15 15:01:54.445 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:71, Type:set tiflash replica, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:54.445 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:54.445 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:71, Type:set tiflash replica, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:54.445 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="alter table t set tiflash replica 1"]
[2022/07/15 15:01:54.445 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 35, tp general"] [job="ID:71, Type:set tiflash replica, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:54.445 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:54.445 +08:00] [INFO] [table.go:1109] ["Set TiFlash replica pd rule"] [tableID=69]
[2022/07/15 15:01:54.445 +08:00] [INFO] [info.go:1051] [ConfigureTiFlashPDForTable] [tableID=69] [count=1]
[2022/07/15 15:01:54.445 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 35, tp general"] [job="ID:71, Type:set tiflash replica, State:synced, SchemaState:public, SchemaID:1, TableID:69, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:54.445 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:54.445 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=71]
[2022/07/15 15:01:54.445 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:54.445 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=35] [neededSchemaVersion=36] ["start time"=38.042µs] [phyTblIDs="[]"] [actionTypes="[]"]
[2022/07/15 15:01:54.445 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:72, Type:update tiflash replica status, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:2, start time: 2022-07-15 15:01:54.445 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:54.445 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:72, Type:update tiflash replica status, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:2, start time: 2022-07-15 15:01:54.445 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query=]
[2022/07/15 15:01:54.445 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 35, tp general"] [job="ID:72, Type:update tiflash replica status, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:54.445 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:54.445 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 35, tp general"] [job="ID:72, Type:update tiflash replica status, State:synced, SchemaState:public, SchemaID:1, TableID:69, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:54.445 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:54.446 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=72]
[2022/07/15 15:01:54.446 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:54.446 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=36] [neededSchemaVersion=37] ["start time"=41µs] [phyTblIDs="[]"] [actionTypes="[]"]
[2022/07/15 15:01:54.446 +08:00] [INFO] [fragment.go:77] ["Mpp will generate tasks"] [plan=RightHashJoin{Recv()->Table(t)}(test.t.a,test.t.a)->Send()]
[2022/07/15 15:01:54.446 +08:00] [INFO] [batch_coprocessor.go:325] ["detecting available mpp stores"]
[2022/07/15 15:01:54.446 +08:00] [WARN] [batch_coprocessor.go:359] ["Store is not ready"] ["store address"=tiflash0] ["err message"="not support this request type MPPAlive"]
[2022/07/15 15:01:54.446 +08:00] [WARN] [batch_coprocessor.go:359] ["Store is not ready"] ["store address"=tiflash1] ["err message"="not support this request type MPPAlive"]
[2022/07/15 15:01:54.446 +08:00] [WARN] [batch_coprocessor.go:400] ["Meet regions that don't have an available store. Give up balancing"]
[2022/07/15 15:01:54.446 +08:00] [INFO] [batch_coprocessor.go:325] ["detecting available mpp stores"]
[2022/07/15 15:01:54.446 +08:00] [WARN] [batch_coprocessor.go:400] ["Meet regions that don't have an available store. Give up balancing"]
[2022/07/15 15:01:54.446 +08:00] [INFO] [mpp_gather.go:80] ["Dispatch mpp task"] [timestamp=434600283850932234] [ID=1] [address=tiflash0] [plan="Table(t)->Send(2, )"]
[2022/07/15 15:01:54.446 +08:00] [INFO] [mpp_gather.go:80] ["Dispatch mpp task"] [timestamp=434600283850932234] [ID=2] [address=tiflash0] [plan="RightHashJoin{Recv(1, )->Table(t)}(test.t.a,test.t.a)->Send(-1, )"]
[2022/07/15 15:01:55.447 +08:00] [WARN] [adapter.go:1067] ["# Txn_start_ts: 434600283850932234\n# Conn_ID: 9\n# Query_time: 1.000910291\n# Parse_time: 0.000016125\n# Compile_time: 0.000118416\n# Rewrite_time: 0.000023292\n# Optimize_time: 0.000076583\n# Wait_TS: 0.000002042\n# Cop_time: 1.000480209 Request_count: 3\n# DB: test\n# Is_internal: false\n# Digest: 1cb3e4db48c36c7ccf239dd269cbac3d977f1a7886f996ffa7dcff2f2b664e3a\n# Stats: t:pseudo\n# Num_cop_tasks: 3\n# Cop_proc_avg: 0 Cop_proc_p90: 0 Cop_proc_max: 0 Cop_proc_addr: tiflash0\n# Cop_wait_avg: 0 Cop_wait_p90: 0 Cop_wait_max: 0 Cop_wait_addr: tiflash0\n# Mem_max: 10160\n# Prepared: false\n# Plan_from_cache: false\n# Plan_from_binding: false\n# Has_more_results: false\n# KV_total: 0\n# PD_total: 0\n# Backoff_total: 0\n# Write_sql_response_total: 0\n# Result_rows: 3\n# Succ: true\n# IsExplicitTxn: false\n# Plan: tidb_decode_plan('9wTQMAkxNF84CTAJMTI1MDAJdGVzdC50LmIJMwl0aW1lOjFzLCBsb29wczoyCTY2MCBCeXRlcwkNCBgKMQkzXzEwjj0AiCwgQ29uY3VycmVuY3k6NQk5LjkyIEtCCU4vQQoyCTMxXzIwFUdUZGF0YTpFeGNoYW5nZVNlbmRlcl8xOUqSAIAsIGNvcF90YXNrOiB7bnVtOiAzLCBtYXg6IDBzLCBtaW4JCQhhdmcJCQhwOTUJCXhjb3ByX2NhY2hlX2hpdF9yYXRpbzogMC4wMH0JTi9BAQQQCjMJNDkBdwwxXzEJKRwRk0xUeXBlOiBQYXNzVGhyb3VnaAkwCQEzAQQcCjQJMTdfMTEdN1Rpbm5lciBqb2luLCBlcXVhbDpbZXEoLWkIYSwgEQoEKV0uSAAYNQk0OF8xNwlIEDAwMDAJLh4AADYFnQA2HR42nQAgQnJvYWRjYXN0LjUAGDcJNDNfMTUdNah0YWJsZTp0MSwga2VlcCBvcmRlcjpmYWxzZSwgc3RhdHM6cHNldWRvCTAJAd0BBAGZDDNfMThGRgAAMq5GAA==')\n# Plan_digest: 481fe375712045c2cc6604282c4f0c9dccdab81bb4080e8a67e6e818088bc6a8\nuse test;\nselect t1.b from t t1 join t t2 on t1.a = t2.a order by t1.b;"]
[2022/07/15 15:01:55.448 +08:00] [INFO] [ddl_worker.go:158] ["[ddl] DDL worker closed"] [worker="worker 35, tp general"] ["take time"=84ns]
[2022/07/15 15:01:55.449 +08:00] [INFO] [ddl_worker.go:158] ["[ddl] DDL worker closed"] [worker="worker 36, tp add index"] ["take time"=208ns]
[2022/07/15 15:01:55.449 +08:00] [INFO] [delete_range.go:148] ["[ddl] closing delRange"]
[2022/07/15 15:01:55.449 +08:00] [INFO] [session_pool.go:94] ["[ddl] closing sessionPool"]
[2022/07/15 15:01:55.449 +08:00] [INFO] [ddl.go:576] ["[ddl] DDL closed"] [ID=7bb29858-d65b-42f7-b97f-70bc9c4cb286] ["take time"=578.417µs]
[2022/07/15 15:01:55.449 +08:00] [INFO] [ddl.go:464] ["[ddl] stop DDL"] [ID=7bb29858-d65b-42f7-b97f-70bc9c4cb286]
[2022/07/15 15:01:55.449 +08:00] [INFO] [domain.go:498] ["topNSlowQueryLoop exited."]
[2022/07/15 15:01:55.449 +08:00] [INFO] [domain.go:1288] ["dumpFileGcChecker exited."]
[2022/07/15 15:01:55.449 +08:00] [INFO] [domain.go:1032] ["loadPrivilegeInLoop exited."]
[2022/07/15 15:01:55.449 +08:00] [INFO] [domain.go:1203] ["handleEvolvePlanTasksLoop exited."]
[2022/07/15 15:01:55.449 +08:00] [INFO] [domain.go:1160] ["globalBindHandleWorkerLoop exited."]
[2022/07/15 15:01:55.449 +08:00] [INFO] [domain.go:527] ["infoSyncerKeeper exited."]
[2022/07/15 15:01:55.449 +08:00] [INFO] [domain.go:575] ["topologySyncerKeeper exited."]
[2022/07/15 15:01:55.449 +08:00] [INFO] [handle_hist.go:156] ["SubLoadWorker exited."]
[2022/07/15 15:01:55.449 +08:00] [INFO] [handle_hist.go:156] ["SubLoadWorker exited."]
[2022/07/15 15:01:55.449 +08:00] [INFO] [handle_hist.go:156] ["SubLoadWorker exited."]
[2022/07/15 15:01:55.449 +08:00] [INFO] [domain.go:1082] ["LoadSysVarCacheLoop exited."]
[2022/07/15 15:01:55.449 +08:00] [INFO] [handle_hist.go:156] ["SubLoadWorker exited."]
[2022/07/15 15:01:55.449 +08:00] [INFO] [handle_hist.go:156] ["SubLoadWorker exited."]
[2022/07/15 15:01:55.449 +08:00] [INFO] [domain.go:552] ["globalConfigSyncerKeeper exited."]
[2022/07/15 15:01:55.449 +08:00] [INFO] [domain.go:733] ["domain closed"] ["take time"=800.209µs]
[2022/07/15 15:01:55.485 +08:00] [INFO] [db.go:567] ["Closing database"]
[2022/07/15 15:01:55.485 +08:00] [INFO] [db.go:592] ["Memtable flushed"]
[2022/07/15 15:01:55.485 +08:00] [INFO] [db.go:596] ["Compaction finished"]
[2022/07/15 15:01:55.486 +08:00] [INFO] [db.go:615] ["BlobManager finished"]
[2022/07/15 15:01:55.486 +08:00] [INFO] [db.go:619] ["ResourceManager finished"]
[2022/07/15 15:01:55.486 +08:00] [INFO] [db.go:625] ["Waiting for closer"]
[2022/07/15 15:01:55.562 +08:00] [INFO] [tidb.go:74] ["new domain"] [store=5fd2e030-6f85-4dd2-8622-14a34bc01c90] ["ddl lease"=0s] ["stats lease"=-1ns] ["index usage sync lease"=0s]
[2022/07/15 15:01:55.562 +08:00] [INFO] [domain.go:178] ["full load InfoSchema success"] [currentSchemaVersion=0] [neededSchemaVersion=0] ["start time"=488.625µs]
[2022/07/15 15:01:55.562 +08:00] [INFO] [domain.go:449] ["full load and reset schema validator"]
[2022/07/15 15:01:55.562 +08:00] [INFO] [ddl.go:483] ["[ddl] start DDL"] [ID=3d0bbd0e-6083-40e2-8b67-282c93641b04] [runWorker=true]
[2022/07/15 15:01:55.562 +08:00] [INFO] [ddl.go:472] ["[ddl] start delRangeManager OK"] ["is a emulator"=true]
[2022/07/15 15:01:55.562 +08:00] [INFO] [delete_range.go:158] ["[ddl] start delRange emulator"]
[2022/07/15 15:01:55.562 +08:00] [INFO] [ddl_worker.go:164] ["[ddl] start DDL worker"] [worker="worker 38, tp add index"]
[2022/07/15 15:01:55.562 +08:00] [INFO] [ddl_worker.go:164] ["[ddl] start DDL worker"] [worker="worker 37, tp general"]
[2022/07/15 15:01:55.563 +08:00] [INFO] [tidb.go:268] ["rollbackTxn called due to ddl/autocommit failure"]
[2022/07/15 15:01:55.563 +08:00] [WARN] [session.go:1983] ["run statement failed"] [schemaVersion=0] [error="[schema:1049]Unknown database 'mysql'"] [errorVerbose="[schema:1049]Unknown database 'mysql'\ngithub.com/pingcap/errors.AddStack\n\t/Users/hongyunyan/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20211224045212-9687c2b0f87c/errors.go:174\ngithub.com/pingcap/errors.(*Error).GenWithStackByArgs\n\t/Users/hongyunyan/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20211224045212-9687c2b0f87c/normalize.go:164\ngithub.com/pingcap/tidb/executor.(*SimpleExec).executeUse\n\t/Users/hongyunyan/Desktop/tidb/executor/simple.go:571\ngithub.com/pingcap/tidb/executor.(*SimpleExec).Next\n\t/Users/hongyunyan/Desktop/tidb/executor/simple.go:131\ngithub.com/pingcap/tidb/executor.Next\n\t/Users/hongyunyan/Desktop/tidb/executor/executor.go:319\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelayExecutor\n\t/Users/hongyunyan/Desktop/tidb/executor/adapter.go:673\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelay\n\t/Users/hongyunyan/Desktop/tidb/executor/adapter.go:523\ngithub.com/pingcap/tidb/executor.(*ExecStmt).Exec\n\t/Users/hongyunyan/Desktop/tidb/executor/adapter.go:472\ngithub.com/pingcap/tidb/session.runStmt\n\t/Users/hongyunyan/Desktop/tidb/session/session.go:2114\ngithub.com/pingcap/tidb/session.(*session).ExecuteStmt\n\t/Users/hongyunyan/Desktop/tidb/session/session.go:1980\ngithub.com/pingcap/tidb/session.(*session).ExecuteInternal\n\t/Users/hongyunyan/Desktop/tidb/session/session.go:1495\ngithub.com/pingcap/tidb/session.checkBootstrapped\n\t/Users/hongyunyan/Desktop/tidb/session/bootstrap.go:728\ngithub.com/pingcap/tidb/session.bootstrap\n\t/Users/hongyunyan/Desktop/tidb/session/bootstrap.go:431\ngithub.com/pingcap/tidb/session.runInBootstrapSession\n\t/Users/hongyunyan/Desktop/tidb/session/session.go:2834\ngithub.com/pingcap/tidb/session.BootstrapSession\n\t/Users/hongyunyan/Desktop/tidb/session/session.go:2720\ngithub.com/pingcap/tidb/testkit.bootstrap\n\t/Users/hongyunyan/Desktop/tidb/testkit/mockstore.go:71\ngithub.com/pingcap/tidb/testkit.CreateMockStoreAndDomain\n\t/Users/hongyunyan/Desktop/tidb/testkit/mockstore.go:64\ngithub.com/pingcap/tidb/testkit.CreateMockStore\n\t/Users/hongyunyan/Desktop/tidb/testkit/mockstore.go:56\ngithub.com/pingcap/tidb/executor/tiflashtest.TestTiFlashPlanCacheable\n\t/Users/hongyunyan/Desktop/tidb/executor/tiflashtest/tiflash_test.go:588\ntesting.tRunner\n\t/opt/homebrew/Cellar/go/1.18.3/libexec/src/testing/testing.go:1439\nruntime.goexit\n\t/opt/homebrew/Cellar/go/1.18.3/libexec/src/runtime/asm_arm64.s:1263"] [session="{\n  \"currDBName\": \"\",\n  \"id\": 0,\n  \"status\": 2,\n  \"strictMode\": true,\n  \"user\": null\n}"]
[2022/07/15 15:01:55.563 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=0] [cur_db=] [sql="CREATE DATABASE IF NOT EXISTS test"] [user=]
[2022/07/15 15:01:55.563 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:2, Type:create schema, State:queueing, SchemaState:none, SchemaID:1, TableID:0, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:55.563 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:55.563 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:2, Type:create schema, State:queueing, SchemaState:none, SchemaID:1, TableID:0, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:55.563 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE DATABASE IF NOT EXISTS test"]
[2022/07/15 15:01:55.563 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 37, tp general"] [job="ID:2, Type:create schema, State:queueing, SchemaState:none, SchemaID:1, TableID:0, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:55.563 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:55.563 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 37, tp general"] [job="ID:2, Type:create schema, State:synced, SchemaState:public, SchemaID:1, TableID:0, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:55.563 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:55.563 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=2]
[2022/07/15 15:01:55.563 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:55.564 +08:00] [INFO] [domain.go:178] ["full load InfoSchema success"] [currentSchemaVersion=0] [neededSchemaVersion=1] ["start time"=402.459µs]
[2022/07/15 15:01:55.564 +08:00] [INFO] [domain.go:449] ["full load and reset schema validator"]
[2022/07/15 15:01:55.564 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=1] [cur_db=] [sql="CREATE DATABASE IF NOT EXISTS `mysql`"] [user=]
[2022/07/15 15:01:55.564 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:4, Type:create schema, State:queueing, SchemaState:none, SchemaID:3, TableID:0, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:55.564 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:55.564 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:4, Type:create schema, State:queueing, SchemaState:none, SchemaID:3, TableID:0, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:55.564 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE DATABASE IF NOT EXISTS `mysql`"]
[2022/07/15 15:01:55.564 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 37, tp general"] [job="ID:4, Type:create schema, State:queueing, SchemaState:none, SchemaID:3, TableID:0, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:55.564 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:55.564 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 37, tp general"] [job="ID:4, Type:create schema, State:synced, SchemaState:public, SchemaID:3, TableID:0, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:55.564 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:55.564 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=4]
[2022/07/15 15:01:55.564 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:55.565 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=1] [neededSchemaVersion=2] ["start time"=15.417µs] [phyTblIDs="[]"] [actionTypes="[]"]
[2022/07/15 15:01:55.565 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=2] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.user (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tauthentication_string\tTEXT,\n\t\tplugin\t\t\t\t\tCHAR(64),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tProcess_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_db_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tSuper_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_user_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_slave_priv\t    \tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_client_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_role_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_role_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAccount_locked\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShutdown_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReload_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tFILE_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tConfig_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_Tablespace_Priv  ENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (Host, User));"] [user=]
[2022/07/15 15:01:55.565 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:6, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:5, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:55.565 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:55.565 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:6, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:5, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:55.565 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.user (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tauthentication_string\tTEXT,\n\t\tplugin\t\t\t\t\tCHAR(64),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tProcess_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_db_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tSuper_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_user_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_slave_priv\t    \tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_client_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_role_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_role_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAccount_locked\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShutdown_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReload_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tFILE_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tConfig_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_Tablespace_Priv  ENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (Host, User));"]
[2022/07/15 15:01:55.565 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 37, tp general"] [job="ID:6, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:5, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:55.565 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:55.567 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 37, tp general"] [job="ID:6, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:5, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:55.565 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:55.568 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=6]
[2022/07/15 15:01:55.568 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:55.568 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=2] [neededSchemaVersion=3] ["start time"=261.792µs] [phyTblIDs="[5]"] [actionTypes="[8]"]
[2022/07/15 15:01:55.568 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=3] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.global_priv (Host CHAR(255) NOT NULL DEFAULT '',User CHAR(80) NOT NULL DEFAULT '',Priv LONGTEXT NOT NULL DEFAULT '',PRIMARY KEY (Host, User))"] [user=]
[2022/07/15 15:01:55.568 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:8, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:7, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:55.568 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:55.568 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:8, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:7, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:55.568 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.global_priv (Host CHAR(255) NOT NULL DEFAULT '',User CHAR(80) NOT NULL DEFAULT '',Priv LONGTEXT NOT NULL DEFAULT '',PRIMARY KEY (Host, User))"]
[2022/07/15 15:01:55.568 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 37, tp general"] [job="ID:8, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:7, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:55.568 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:55.568 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 37, tp general"] [job="ID:8, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:7, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:55.568 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:55.569 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=8]
[2022/07/15 15:01:55.569 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:55.569 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=3] [neededSchemaVersion=4] ["start time"=51.625µs] [phyTblIDs="[7]"] [actionTypes="[8]"]
[2022/07/15 15:01:55.569 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=4] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.db (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tDB\t\t\t\t\t\tCHAR(64),\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv \t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (Host, DB, User));"] [user=]
[2022/07/15 15:01:55.569 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:10, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:9, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:55.569 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:55.569 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:10, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:9, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:55.569 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.db (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tDB\t\t\t\t\t\tCHAR(64),\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv \t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (Host, DB, User));"]
[2022/07/15 15:01:55.569 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 37, tp general"] [job="ID:10, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:9, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:55.569 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:55.570 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 37, tp general"] [job="ID:10, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:9, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:55.569 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:55.571 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=10]
[2022/07/15 15:01:55.571 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:55.571 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=4] [neededSchemaVersion=5] ["start time"=169.833µs] [phyTblIDs="[9]"] [actionTypes="[8]"]
[2022/07/15 15:01:55.571 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=5] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.tables_priv (\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64),\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64),\n\t\tGrantor\t\tCHAR(77),\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tTable_priv\tSET('Select','Insert','Update','Delete','Create','Drop','Grant','Index','Alter','Create View','Show View','Trigger','References'),\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name));"] [user=]
[2022/07/15 15:01:55.571 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:12, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:11, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:55.571 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:55.571 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:12, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:11, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:55.571 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.tables_priv (\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64),\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64),\n\t\tGrantor\t\tCHAR(77),\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tTable_priv\tSET('Select','Insert','Update','Delete','Create','Drop','Grant','Index','Alter','Create View','Show View','Trigger','References'),\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name));"]
[2022/07/15 15:01:55.571 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 37, tp general"] [job="ID:12, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:11, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:55.571 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:55.572 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 37, tp general"] [job="ID:12, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:11, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:55.571 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:55.572 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=12]
[2022/07/15 15:01:55.572 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:55.572 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=5] [neededSchemaVersion=6] ["start time"=87.667µs] [phyTblIDs="[11]"] [actionTypes="[8]"]
[2022/07/15 15:01:55.572 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=6] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.columns_priv(\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64),\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64),\n\t\tColumn_name\tCHAR(64),\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name, Column_name));"] [user=]
[2022/07/15 15:01:55.572 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:14, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:13, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:55.572 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:55.572 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:14, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:13, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:55.572 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.columns_priv(\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64),\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64),\n\t\tColumn_name\tCHAR(64),\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name, Column_name));"]
[2022/07/15 15:01:55.572 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 37, tp general"] [job="ID:14, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:13, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:55.572 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:55.573 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 37, tp general"] [job="ID:14, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:13, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:55.572 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:55.573 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=14]
[2022/07/15 15:01:55.573 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:55.573 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=6] [neededSchemaVersion=7] ["start time"=79.25µs] [phyTblIDs="[13]"] [actionTypes="[8]"]
[2022/07/15 15:01:55.573 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=7] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.GLOBAL_VARIABLES(\n\t\tVARIABLE_NAME  VARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(1024) DEFAULT NULL);"] [user=]
[2022/07/15 15:01:55.573 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:16, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:15, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:55.573 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:55.573 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:16, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:15, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:55.573 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.GLOBAL_VARIABLES(\n\t\tVARIABLE_NAME  VARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(1024) DEFAULT NULL);"]
[2022/07/15 15:01:55.573 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 37, tp general"] [job="ID:16, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:15, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:55.573 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:55.574 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 37, tp general"] [job="ID:16, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:15, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:55.573 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:55.574 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=16]
[2022/07/15 15:01:55.574 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:55.574 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=7] [neededSchemaVersion=8] ["start time"=44.958µs] [phyTblIDs="[15]"] [actionTypes="[8]"]
[2022/07/15 15:01:55.574 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=8] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb(\n\t\tVARIABLE_NAME  \tVARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE \tVARCHAR(1024) DEFAULT NULL,\n\t\tCOMMENT \t\tVARCHAR(1024));"] [user=]
[2022/07/15 15:01:55.574 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:18, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:17, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:55.574 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:55.574 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:18, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:17, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:55.574 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb(\n\t\tVARIABLE_NAME  \tVARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE \tVARCHAR(1024) DEFAULT NULL,\n\t\tCOMMENT \t\tVARCHAR(1024));"]
[2022/07/15 15:01:55.574 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 37, tp general"] [job="ID:18, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:17, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:55.574 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:55.574 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 37, tp general"] [job="ID:18, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:17, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:55.574 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:55.574 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=18]
[2022/07/15 15:01:55.574 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:55.575 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=8] [neededSchemaVersion=9] ["start time"=50.916µs] [phyTblIDs="[17]"] [actionTypes="[8]"]
[2022/07/15 15:01:55.575 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=9] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.help_topic (\n  \t\thelp_topic_id \t\tINT(10) UNSIGNED NOT NULL,\n  \t\tname \t\t\t\tCHAR(64) NOT NULL,\n  \t\thelp_category_id \tSMALLINT(5) UNSIGNED NOT NULL,\n  \t\tdescription \t\tTEXT NOT NULL,\n  \t\texample \t\t\tTEXT NOT NULL,\n  \t\turl \t\t\t\tTEXT NOT NULL,\n  \t\tPRIMARY KEY (help_topic_id) clustered,\n  \t\tUNIQUE KEY name (name)\n\t\t) ENGINE=InnoDB DEFAULT CHARSET=utf8 STATS_PERSISTENT=0 COMMENT='help topics';"] [user=]
[2022/07/15 15:01:55.575 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:20, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:19, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:55.575 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:55.575 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:20, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:19, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:55.575 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.help_topic (\n  \t\thelp_topic_id \t\tINT(10) UNSIGNED NOT NULL,\n  \t\tname \t\t\t\tCHAR(64) NOT NULL,\n  \t\thelp_category_id \tSMALLINT(5) UNSIGNED NOT NULL,\n  \t\tdescription \t\tTEXT NOT NULL,\n  \t\texample \t\t\tTEXT NOT NULL,\n  \t\turl \t\t\t\tTEXT NOT NULL,\n  \t\tPRIMARY KEY (help_topic_id) clustered,\n  \t\tUNIQUE KEY name (name)\n\t\t) ENGINE=InnoDB DEFAULT CHARSET=utf8 STATS_PERSISTENT=0 COMMENT='help topics';"]
[2022/07/15 15:01:55.575 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 37, tp general"] [job="ID:20, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:19, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:55.575 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:55.575 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 37, tp general"] [job="ID:20, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:19, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:55.575 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:55.575 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=20]
[2022/07/15 15:01:55.575 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:55.575 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=9] [neededSchemaVersion=10] ["start time"=75.75µs] [phyTblIDs="[19]"] [actionTypes="[8]"]
[2022/07/15 15:01:55.576 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=10] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_meta (\n\t\tversion \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\ttable_id \t\tBIGINT(64) NOT NULL,\n\t\tmodify_count\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcount \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tsnapshot        BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tINDEX idx_ver(version),\n\t\tUNIQUE INDEX tbl(table_id)\n\t);"] [user=]
[2022/07/15 15:01:55.576 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:22, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:21, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:55.576 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:55.576 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:22, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:21, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:55.576 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_meta (\n\t\tversion \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\ttable_id \t\tBIGINT(64) NOT NULL,\n\t\tmodify_count\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcount \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tsnapshot        BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tINDEX idx_ver(version),\n\t\tUNIQUE INDEX tbl(table_id)\n\t);"]
[2022/07/15 15:01:55.576 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 37, tp general"] [job="ID:22, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:21, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:55.576 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:55.576 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 37, tp general"] [job="ID:22, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:21, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:55.576 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:55.576 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=22]
[2022/07/15 15:01:55.576 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:55.576 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=10] [neededSchemaVersion=11] ["start time"=66.584µs] [phyTblIDs="[21]"] [actionTypes="[8]"]
[2022/07/15 15:01:55.576 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=11] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_histograms (\n\t\ttable_id \t\t\tBIGINT(64) NOT NULL,\n\t\tis_index \t\t\tTINYINT(2) NOT NULL,\n\t\thist_id \t\t\tBIGINT(64) NOT NULL,\n\t\tdistinct_count \t\tBIGINT(64) NOT NULL,\n\t\tnull_count \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\ttot_col_size \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tmodify_count \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tversion \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tcm_sketch \t\t\tBLOB(6291456),\n\t\tstats_ver \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tflag \t\t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcorrelation \t\tDOUBLE NOT NULL DEFAULT 0,\n\t\tlast_analyze_pos \tLONGBLOB DEFAULT NULL,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id)\n\t);"] [user=]
[2022/07/15 15:01:55.576 +08:00] [INFO] [ddl_api.go:999] ["Automatically convert BLOB(6291456) to MEDIUMBLOB"]
[2022/07/15 15:01:55.577 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:24, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:23, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:55.577 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:55.577 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:24, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:23, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:55.577 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_histograms (\n\t\ttable_id \t\t\tBIGINT(64) NOT NULL,\n\t\tis_index \t\t\tTINYINT(2) NOT NULL,\n\t\thist_id \t\t\tBIGINT(64) NOT NULL,\n\t\tdistinct_count \t\tBIGINT(64) NOT NULL,\n\t\tnull_count \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\ttot_col_size \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tmodify_count \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tversion \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tcm_sketch \t\t\tBLOB(6291456),\n\t\tstats_ver \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tflag \t\t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcorrelation \t\tDOUBLE NOT NULL DEFAULT 0,\n\t\tlast_analyze_pos \tLONGBLOB DEFAULT NULL,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id)\n\t);"]
[2022/07/15 15:01:55.577 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 37, tp general"] [job="ID:24, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:23, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:55.577 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:55.577 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 37, tp general"] [job="ID:24, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:23, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:55.577 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:55.578 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=24]
[2022/07/15 15:01:55.578 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:55.578 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=11] [neededSchemaVersion=12] ["start time"=108.792µs] [phyTblIDs="[23]"] [actionTypes="[8]"]
[2022/07/15 15:01:55.578 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=12] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_buckets (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tbucket_id \tBIGINT(64) NOT NULL,\n\t\tcount \t\tBIGINT(64) NOT NULL,\n\t\trepeats \tBIGINT(64) NOT NULL,\n\t\tupper_bound LONGBLOB NOT NULL,\n\t\tlower_bound LONGBLOB ,\n\t\tndv         BIGINT NOT NULL DEFAULT 0,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id, bucket_id)\n\t);"] [user=]
[2022/07/15 15:01:55.578 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:26, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:25, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:55.578 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:55.578 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:26, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:25, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:55.578 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_buckets (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tbucket_id \tBIGINT(64) NOT NULL,\n\t\tcount \t\tBIGINT(64) NOT NULL,\n\t\trepeats \tBIGINT(64) NOT NULL,\n\t\tupper_bound LONGBLOB NOT NULL,\n\t\tlower_bound LONGBLOB ,\n\t\tndv         BIGINT NOT NULL DEFAULT 0,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id, bucket_id)\n\t);"]
[2022/07/15 15:01:55.578 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 37, tp general"] [job="ID:26, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:25, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:55.578 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:55.579 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 37, tp general"] [job="ID:26, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:25, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:55.578 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:55.579 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=26]
[2022/07/15 15:01:55.579 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:55.579 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=12] [neededSchemaVersion=13] ["start time"=84.916µs] [phyTblIDs="[25]"] [actionTypes="[8]"]
[2022/07/15 15:01:55.579 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=13] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_index (job_id, element_id)\n\t);"] [user=]
[2022/07/15 15:01:55.579 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:28, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:27, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:55.579 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:55.579 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:28, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:27, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:55.579 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_index (job_id, element_id)\n\t);"]
[2022/07/15 15:01:55.579 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 37, tp general"] [job="ID:28, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:27, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:55.579 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:55.580 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 37, tp general"] [job="ID:28, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:27, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:55.579 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:55.580 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=28]
[2022/07/15 15:01:55.580 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:55.580 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=13] [neededSchemaVersion=14] ["start time"=85.666µs] [phyTblIDs="[27]"] [actionTypes="[8]"]
[2022/07/15 15:01:55.580 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=14] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range_done (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_done_index (job_id, element_id)\n\t);"] [user=]
[2022/07/15 15:01:55.580 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:30, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:29, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:55.58 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:55.580 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:30, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:29, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:55.58 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range_done (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_done_index (job_id, element_id)\n\t);"]
[2022/07/15 15:01:55.580 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 37, tp general"] [job="ID:30, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:29, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:55.58 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:55.580 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 37, tp general"] [job="ID:30, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:29, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:55.58 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:55.581 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=30]
[2022/07/15 15:01:55.581 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:55.581 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=14] [neededSchemaVersion=15] ["start time"=62.708µs] [phyTblIDs="[29]"] [actionTypes="[8]"]
[2022/07/15 15:01:55.581 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=15] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_feedback (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tfeedback \tBLOB NOT NULL,\n\t\tINDEX hist(table_id, is_index, hist_id)\n\t);"] [user=]
[2022/07/15 15:01:55.581 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:32, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:31, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:55.581 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:55.581 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:32, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:31, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:55.581 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_feedback (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tfeedback \tBLOB NOT NULL,\n\t\tINDEX hist(table_id, is_index, hist_id)\n\t);"]
[2022/07/15 15:01:55.581 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 37, tp general"] [job="ID:32, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:31, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:55.581 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:55.581 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 37, tp general"] [job="ID:32, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:31, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:55.581 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:55.581 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=32]
[2022/07/15 15:01:55.581 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:55.581 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=15] [neededSchemaVersion=16] ["start time"=56.375µs] [phyTblIDs="[31]"] [actionTypes="[8]"]
[2022/07/15 15:01:55.582 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=16] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.role_edges (\n\t\tFROM_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tFROM_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tWITH_ADMIN_OPTION \tENUM('N','Y') CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (FROM_HOST,FROM_USER,TO_HOST,TO_USER)\n\t);"] [user=]
[2022/07/15 15:01:55.582 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:34, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:33, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:55.582 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:55.582 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:34, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:33, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:55.582 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.role_edges (\n\t\tFROM_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tFROM_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tWITH_ADMIN_OPTION \tENUM('N','Y') CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (FROM_HOST,FROM_USER,TO_HOST,TO_USER)\n\t);"]
[2022/07/15 15:01:55.582 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 37, tp general"] [job="ID:34, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:33, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:55.582 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:55.582 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 37, tp general"] [job="ID:34, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:33, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:55.582 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:55.582 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=34]
[2022/07/15 15:01:55.582 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:55.582 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=16] [neededSchemaVersion=17] ["start time"=62.75µs] [phyTblIDs="[33]"] [actionTypes="[8]"]
[2022/07/15 15:01:55.582 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=17] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.default_roles (\n\t\tHOST \t\t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tUSER \t\t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tDEFAULT_ROLE_HOST \tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '%',\n\t\tDEFAULT_ROLE_USER \tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tPRIMARY KEY (HOST,USER,DEFAULT_ROLE_HOST,DEFAULT_ROLE_USER)\n\t)"] [user=]
[2022/07/15 15:01:55.583 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:36, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:35, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:55.582 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:55.583 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:36, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:35, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:55.582 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.default_roles (\n\t\tHOST \t\t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tUSER \t\t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tDEFAULT_ROLE_HOST \tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '%',\n\t\tDEFAULT_ROLE_USER \tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tPRIMARY KEY (HOST,USER,DEFAULT_ROLE_HOST,DEFAULT_ROLE_USER)\n\t)"]
[2022/07/15 15:01:55.583 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 37, tp general"] [job="ID:36, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:35, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:55.582 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:55.583 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 37, tp general"] [job="ID:36, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:35, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:55.582 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:55.583 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=36]
[2022/07/15 15:01:55.583 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:55.583 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=17] [neededSchemaVersion=18] ["start time"=57.917µs] [phyTblIDs="[35]"] [actionTypes="[8]"]
[2022/07/15 15:01:55.583 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=18] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.bind_info (\n\t\toriginal_sql TEXT NOT NULL,\n\t\tbind_sql TEXT NOT NULL,\n\t\tdefault_db TEXT NOT NULL,\n\t\tstatus TEXT NOT NULL,\n\t\tcreate_time TIMESTAMP(3) NOT NULL,\n\t\tupdate_time TIMESTAMP(3) NOT NULL,\n\t\tcharset TEXT NOT NULL,\n\t\tcollation TEXT NOT NULL,\n\t\tsource VARCHAR(10) NOT NULL DEFAULT 'unknown',\n\t\tINDEX sql_index(original_sql(700),default_db(68)) COMMENT \"accelerate the speed when add global binding query\",\n\t\tINDEX time_index(update_time) COMMENT \"accelerate the speed when querying with last update time\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"] [user=]
[2022/07/15 15:01:55.583 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:38, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:37, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:55.583 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.bind_info (\n\t\toriginal_sql TEXT NOT NULL,\n\t\tbind_sql TEXT NOT NULL,\n\t\tdefault_db TEXT NOT NULL,\n\t\tstatus TEXT NOT NULL,\n\t\tcreate_time TIMESTAMP(3) NOT NULL,\n\t\tupdate_time TIMESTAMP(3) NOT NULL,\n\t\tcharset TEXT NOT NULL,\n\t\tcollation TEXT NOT NULL,\n\t\tsource VARCHAR(10) NOT NULL DEFAULT 'unknown',\n\t\tINDEX sql_index(original_sql(700),default_db(68)) COMMENT \"accelerate the speed when add global binding query\",\n\t\tINDEX time_index(update_time) COMMENT \"accelerate the speed when querying with last update time\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"]
[2022/07/15 15:01:55.583 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:38, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:37, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:55.583 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:55.584 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 37, tp general"] [job="ID:38, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:37, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:55.583 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:55.584 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 37, tp general"] [job="ID:38, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:37, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:55.583 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:55.584 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=38]
[2022/07/15 15:01:55.584 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:55.584 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=18] [neededSchemaVersion=19] ["start time"=87.083µs] [phyTblIDs="[37]"] [actionTypes="[8]"]
[2022/07/15 15:01:55.585 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=19] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_top_n (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tcount \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"] [user=]
[2022/07/15 15:01:55.585 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:40, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:39, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:55.585 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:55.585 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:40, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:39, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:55.585 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_top_n (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tcount \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"]
[2022/07/15 15:01:55.585 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 37, tp general"] [job="ID:40, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:39, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:55.585 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:55.585 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 37, tp general"] [job="ID:40, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:39, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:55.585 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:55.585 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=40]
[2022/07/15 15:01:55.585 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:55.585 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=19] [neededSchemaVersion=20] ["start time"=62.291µs] [phyTblIDs="[39]"] [actionTypes="[8]"]
[2022/07/15 15:01:55.586 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=20] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.expr_pushdown_blacklist (\n\t\tname \t\tCHAR(100) NOT NULL,\n\t\tstore_type \tCHAR(100) NOT NULL DEFAULT 'tikv,tiflash,tidb',\n\t\treason \t\tVARCHAR(200)\n\t);"] [user=]
[2022/07/15 15:01:55.586 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:42, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:41, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:55.586 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:55.586 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:42, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:41, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:55.586 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.expr_pushdown_blacklist (\n\t\tname \t\tCHAR(100) NOT NULL,\n\t\tstore_type \tCHAR(100) NOT NULL DEFAULT 'tikv,tiflash,tidb',\n\t\treason \t\tVARCHAR(200)\n\t);"]
[2022/07/15 15:01:55.586 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 37, tp general"] [job="ID:42, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:41, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:55.586 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:55.586 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 37, tp general"] [job="ID:42, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:41, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:55.586 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:55.586 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=42]
[2022/07/15 15:01:55.586 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:55.586 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=20] [neededSchemaVersion=21] ["start time"=44.25µs] [phyTblIDs="[41]"] [actionTypes="[8]"]
[2022/07/15 15:01:55.586 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=21] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.opt_rule_blacklist (\n\t\tname \tCHAR(100) NOT NULL\n\t);"] [user=]
[2022/07/15 15:01:55.586 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:44, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:43, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:55.586 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:55.586 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:44, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:43, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:55.586 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.opt_rule_blacklist (\n\t\tname \tCHAR(100) NOT NULL\n\t);"]
[2022/07/15 15:01:55.586 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 37, tp general"] [job="ID:44, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:43, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:55.586 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:55.587 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 37, tp general"] [job="ID:44, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:43, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:55.586 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:55.587 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=44]
[2022/07/15 15:01:55.587 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:55.587 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=21] [neededSchemaVersion=22] ["start time"=32.459µs] [phyTblIDs="[43]"] [actionTypes="[8]"]
[2022/07/15 15:01:55.587 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=22] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_extended (\n\t\tname varchar(32) NOT NULL,\n\t\ttype tinyint(4) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tcolumn_ids varchar(32) NOT NULL,\n\t\tstats blob DEFAULT NULL,\n\t\tversion bigint(64) unsigned NOT NULL,\n\t\tstatus tinyint(4) NOT NULL,\n\t\tPRIMARY KEY(name, table_id),\n\t\tKEY idx_1 (table_id, status, version),\n\t\tKEY idx_2 (status, version)\n\t);"] [user=]
[2022/07/15 15:01:55.587 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:46, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:45, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:55.587 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:55.587 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:46, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:45, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:55.587 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_extended (\n\t\tname varchar(32) NOT NULL,\n\t\ttype tinyint(4) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tcolumn_ids varchar(32) NOT NULL,\n\t\tstats blob DEFAULT NULL,\n\t\tversion bigint(64) unsigned NOT NULL,\n\t\tstatus tinyint(4) NOT NULL,\n\t\tPRIMARY KEY(name, table_id),\n\t\tKEY idx_1 (table_id, status, version),\n\t\tKEY idx_2 (status, version)\n\t);"]
[2022/07/15 15:01:55.587 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 37, tp general"] [job="ID:46, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:45, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:55.587 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:55.588 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 37, tp general"] [job="ID:46, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:45, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:55.587 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:55.588 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=46]
[2022/07/15 15:01:55.588 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:55.588 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=22] [neededSchemaVersion=23] ["start time"=88.875µs] [phyTblIDs="[45]"] [actionTypes="[8]"]
[2022/07/15 15:01:55.588 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=23] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.schema_index_usage (\n\t\tTABLE_ID bigint(64),\n\t\tINDEX_ID bigint(21),\n\t\tQUERY_COUNT bigint(64),\n\t\tROWS_SELECTED bigint(64),\n\t\tLAST_USED_AT timestamp,\n\t\tPRIMARY KEY(TABLE_ID, INDEX_ID)\n\t);"] [user=]
[2022/07/15 15:01:55.588 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:48, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:47, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:55.588 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:55.588 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:48, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:47, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:55.588 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.schema_index_usage (\n\t\tTABLE_ID bigint(64),\n\t\tINDEX_ID bigint(21),\n\t\tQUERY_COUNT bigint(64),\n\t\tROWS_SELECTED bigint(64),\n\t\tLAST_USED_AT timestamp,\n\t\tPRIMARY KEY(TABLE_ID, INDEX_ID)\n\t);"]
[2022/07/15 15:01:55.588 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 37, tp general"] [job="ID:48, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:47, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:55.588 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:55.589 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 37, tp general"] [job="ID:48, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:47, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:55.588 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:55.589 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=48]
[2022/07/15 15:01:55.589 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:55.589 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=23] [neededSchemaVersion=24] ["start time"=67.667µs] [phyTblIDs="[47]"] [actionTypes="[8]"]
[2022/07/15 15:01:55.589 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=24] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_fm_sketch (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"] [user=]
[2022/07/15 15:01:55.589 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:50, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:49, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:55.589 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:55.589 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:50, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:49, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:55.589 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_fm_sketch (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"]
[2022/07/15 15:01:55.589 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 37, tp general"] [job="ID:50, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:49, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:55.589 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:55.589 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 37, tp general"] [job="ID:50, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:49, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:55.589 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:55.590 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=50]
[2022/07/15 15:01:55.590 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:55.590 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=24] [neededSchemaVersion=25] ["start time"=62.5µs] [phyTblIDs="[49]"] [actionTypes="[8]"]
[2022/07/15 15:01:55.590 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=25] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.global_grants (\n\t\tUSER char(32) NOT NULL DEFAULT '',\n\t\tHOST char(255) NOT NULL DEFAULT '',\n\t\tPRIV char(32) NOT NULL DEFAULT '',\n\t\tWITH_GRANT_OPTION enum('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (USER,HOST,PRIV)\n\t);"] [user=]
[2022/07/15 15:01:55.590 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:52, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:51, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:55.59 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:55.590 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:52, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:51, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:55.59 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.global_grants (\n\t\tUSER char(32) NOT NULL DEFAULT '',\n\t\tHOST char(255) NOT NULL DEFAULT '',\n\t\tPRIV char(32) NOT NULL DEFAULT '',\n\t\tWITH_GRANT_OPTION enum('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (USER,HOST,PRIV)\n\t);"]
[2022/07/15 15:01:55.590 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 37, tp general"] [job="ID:52, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:51, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:55.59 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:55.590 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 37, tp general"] [job="ID:52, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:51, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:55.59 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:55.590 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=52]
[2022/07/15 15:01:55.590 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:55.591 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=25] [neededSchemaVersion=26] ["start time"=59.083µs] [phyTblIDs="[51]"] [actionTypes="[8]"]
[2022/07/15 15:01:55.591 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=26] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.capture_plan_baselines_blacklist (\n\t\tid bigint(64) auto_increment,\n\t\tfilter_type varchar(32) NOT NULL COMMENT \"type of the filter, only db, table and frequency supported now\",\n\t\tfilter_value varchar(32) NOT NULL,\n\t\tkey idx(filter_type),\n\t\tprimary key(id)\n\t);"] [user=]
[2022/07/15 15:01:55.591 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:54, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:53, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:55.591 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:55.591 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:54, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:53, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:55.591 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.capture_plan_baselines_blacklist (\n\t\tid bigint(64) auto_increment,\n\t\tfilter_type varchar(32) NOT NULL COMMENT \"type of the filter, only db, table and frequency supported now\",\n\t\tfilter_value varchar(32) NOT NULL,\n\t\tkey idx(filter_type),\n\t\tprimary key(id)\n\t);"]
[2022/07/15 15:01:55.591 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 37, tp general"] [job="ID:54, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:53, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:55.591 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:55.591 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 37, tp general"] [job="ID:54, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:53, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:55.591 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:55.591 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=54]
[2022/07/15 15:01:55.591 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:55.591 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=26] [neededSchemaVersion=27] ["start time"=51.125µs] [phyTblIDs="[53]"] [actionTypes="[8]"]
[2022/07/15 15:01:55.591 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=27] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.column_stats_usage (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tcolumn_id BIGINT(64) NOT NULL,\n\t\tlast_used_at TIMESTAMP,\n\t\tlast_analyzed_at TIMESTAMP,\n\t\tPRIMARY KEY (table_id, column_id) CLUSTERED\n\t);"] [user=]
[2022/07/15 15:01:55.591 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:56, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:55, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:55.591 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:55.592 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:56, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:55, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:55.591 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.column_stats_usage (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tcolumn_id BIGINT(64) NOT NULL,\n\t\tlast_used_at TIMESTAMP,\n\t\tlast_analyzed_at TIMESTAMP,\n\t\tPRIMARY KEY (table_id, column_id) CLUSTERED\n\t);"]
[2022/07/15 15:01:55.592 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 37, tp general"] [job="ID:56, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:55, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:55.591 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:55.592 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 37, tp general"] [job="ID:56, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:55, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:55.591 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:55.592 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=56]
[2022/07/15 15:01:55.592 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:55.592 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=27] [neededSchemaVersion=28] ["start time"=56.375µs] [phyTblIDs="[55]"] [actionTypes="[8]"]
[2022/07/15 15:01:55.592 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=28] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.table_cache_meta (\n\t\ttid bigint(11) NOT NULL DEFAULT 0,\n\t\tlock_type enum('NONE','READ', 'INTEND', 'WRITE') NOT NULL DEFAULT 'NONE',\n\t\tlease bigint(20) NOT NULL DEFAULT 0,\n\t\toldReadLease bigint(20) NOT NULL DEFAULT 0,\n\t\tPRIMARY KEY (tid)\n\t);"] [user=]
[2022/07/15 15:01:55.592 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:58, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:57, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:55.592 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:55.592 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:58, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:57, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:55.592 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.table_cache_meta (\n\t\ttid bigint(11) NOT NULL DEFAULT 0,\n\t\tlock_type enum('NONE','READ', 'INTEND', 'WRITE') NOT NULL DEFAULT 'NONE',\n\t\tlease bigint(20) NOT NULL DEFAULT 0,\n\t\toldReadLease bigint(20) NOT NULL DEFAULT 0,\n\t\tPRIMARY KEY (tid)\n\t);"]
[2022/07/15 15:01:55.592 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 37, tp general"] [job="ID:58, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:57, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:55.592 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:55.593 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 37, tp general"] [job="ID:58, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:57, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:55.592 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:55.593 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=58]
[2022/07/15 15:01:55.593 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:55.593 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=28] [neededSchemaVersion=29] ["start time"=50.916µs] [phyTblIDs="[57]"] [actionTypes="[8]"]
[2022/07/15 15:01:55.593 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=29] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.analyze_options (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tsample_num BIGINT(64) NOT NULL DEFAULT 0,\n\t\tsample_rate DOUBLE NOT NULL DEFAULT -1,\n\t\tbuckets BIGINT(64) NOT NULL DEFAULT 0,\n\t\ttopn BIGINT(64) NOT NULL DEFAULT -1,\n\t\tcolumn_choice enum('DEFAULT','ALL','PREDICATE','LIST') NOT NULL DEFAULT 'DEFAULT',\n\t\tcolumn_ids TEXT(19372),\n\t\tPRIMARY KEY (table_id) CLUSTERED\n\t);"] [user=]
[2022/07/15 15:01:55.593 +08:00] [INFO] [ddl_api.go:999] ["Automatically convert BLOB(19372) to MEDIUMBLOB"]
[2022/07/15 15:01:55.593 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:60, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:59, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:55.593 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:55.593 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:60, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:59, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:55.593 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.analyze_options (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tsample_num BIGINT(64) NOT NULL DEFAULT 0,\n\t\tsample_rate DOUBLE NOT NULL DEFAULT -1,\n\t\tbuckets BIGINT(64) NOT NULL DEFAULT 0,\n\t\ttopn BIGINT(64) NOT NULL DEFAULT -1,\n\t\tcolumn_choice enum('DEFAULT','ALL','PREDICATE','LIST') NOT NULL DEFAULT 'DEFAULT',\n\t\tcolumn_ids TEXT(19372),\n\t\tPRIMARY KEY (table_id) CLUSTERED\n\t);"]
[2022/07/15 15:01:55.593 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 37, tp general"] [job="ID:60, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:59, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:55.593 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:55.594 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 37, tp general"] [job="ID:60, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:59, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:55.593 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:55.594 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=60]
[2022/07/15 15:01:55.594 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:55.594 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=29] [neededSchemaVersion=30] ["start time"=70µs] [phyTblIDs="[59]"] [actionTypes="[8]"]
[2022/07/15 15:01:55.594 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=30] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tstats_data longblob NOT NULL,\n\t\tseq_no bigint(64) NOT NULL comment 'sequence number of the gzipped data slice',\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version_seq (table_id, version, seq_no),\n\t\tKEY table_create_time (table_id, create_time, seq_no)\n\t);"] [user=]
[2022/07/15 15:01:55.594 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:62, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:61, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:55.594 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:55.594 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:62, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:61, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:55.594 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tstats_data longblob NOT NULL,\n\t\tseq_no bigint(64) NOT NULL comment 'sequence number of the gzipped data slice',\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version_seq (table_id, version, seq_no),\n\t\tKEY table_create_time (table_id, create_time, seq_no)\n\t);"]
[2022/07/15 15:01:55.594 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 37, tp general"] [job="ID:62, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:61, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:55.594 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:55.595 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 37, tp general"] [job="ID:62, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:61, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:55.594 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:55.595 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=62]
[2022/07/15 15:01:55.595 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:55.595 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=30] [neededSchemaVersion=31] ["start time"=77.542µs] [phyTblIDs="[61]"] [actionTypes="[8]"]
[2022/07/15 15:01:55.595 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=31] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_meta_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL,\n\t\tcount bigint(64) NOT NULL,\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version (table_id, version),\n\t\tKEY table_create_time (table_id, create_time)\n\t);"] [user=]
[2022/07/15 15:01:55.595 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:64, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:63, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:55.595 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:55.595 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:64, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:63, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:55.595 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_meta_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL,\n\t\tcount bigint(64) NOT NULL,\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version (table_id, version),\n\t\tKEY table_create_time (table_id, create_time)\n\t);"]
[2022/07/15 15:01:55.595 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 37, tp general"] [job="ID:64, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:63, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:55.595 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:55.596 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 37, tp general"] [job="ID:64, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:63, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:55.595 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:55.596 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=64]
[2022/07/15 15:01:55.596 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:55.596 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=31] [neededSchemaVersion=32] ["start time"=73.041µs] [phyTblIDs="[63]"] [actionTypes="[8]"]
[2022/07/15 15:01:55.596 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=32] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.analyze_jobs (\n\t\tid BIGINT(64) UNSIGNED NOT NULL AUTO_INCREMENT,\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\ttable_schema CHAR(64) NOT NULL DEFAULT '',\n\t\ttable_name CHAR(64) NOT NULL DEFAULT '',\n\t\tpartition_name CHAR(64) NOT NULL DEFAULT '',\n\t\tjob_info TEXT NOT NULL,\n\t\tprocessed_rows BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tstart_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tstate ENUM('pending', 'running', 'finished', 'failed') NOT NULL,\n\t\tfail_reason TEXT,\n\t\tinstance VARCHAR(512) NOT NULL comment 'address of the TiDB instance executing the analyze job',\n\t\tprocess_id BIGINT(64) UNSIGNED comment 'ID of the process executing the analyze job',\n\t\tPRIMARY KEY (id),\n\t\tKEY (update_time)\n\t);"] [user=]
[2022/07/15 15:01:55.596 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:66, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:65, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:55.596 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:55.596 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:66, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:65, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:55.596 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.analyze_jobs (\n\t\tid BIGINT(64) UNSIGNED NOT NULL AUTO_INCREMENT,\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\ttable_schema CHAR(64) NOT NULL DEFAULT '',\n\t\ttable_name CHAR(64) NOT NULL DEFAULT '',\n\t\tpartition_name CHAR(64) NOT NULL DEFAULT '',\n\t\tjob_info TEXT NOT NULL,\n\t\tprocessed_rows BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tstart_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tstate ENUM('pending', 'running', 'finished', 'failed') NOT NULL,\n\t\tfail_reason TEXT,\n\t\tinstance VARCHAR(512) NOT NULL comment 'address of the TiDB instance executing the analyze job',\n\t\tprocess_id BIGINT(64) UNSIGNED comment 'ID of the process executing the analyze job',\n\t\tPRIMARY KEY (id),\n\t\tKEY (update_time)\n\t);"]
[2022/07/15 15:01:55.596 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 37, tp general"] [job="ID:66, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:65, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:55.596 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:55.597 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 37, tp general"] [job="ID:66, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:65, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:55.596 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:55.597 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=66]
[2022/07/15 15:01:55.597 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:55.597 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=32] [neededSchemaVersion=33] ["start time"=106.667µs] [phyTblIDs="[65]"] [actionTypes="[8]"]
[2022/07/15 15:01:55.597 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=33] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.advisory_locks (\n\t\tlock_name VARCHAR(64) NOT NULL PRIMARY KEY\n\t);"] [user=]
[2022/07/15 15:01:55.597 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:68, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:67, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:55.597 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:55.597 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:68, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:67, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:55.597 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.advisory_locks (\n\t\tlock_name VARCHAR(64) NOT NULL PRIMARY KEY\n\t);"]
[2022/07/15 15:01:55.597 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 37, tp general"] [job="ID:68, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:67, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:55.597 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:55.598 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 37, tp general"] [job="ID:68, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:67, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:55.597 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:55.598 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=68]
[2022/07/15 15:01:55.598 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:55.598 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=33] [neededSchemaVersion=34] ["start time"=37µs] [phyTblIDs="[67]"] [actionTypes="[8]"]
[2022/07/15 15:01:55.603 +08:00] [INFO] [bootstrap.go:448] ["bootstrap successful"] ["take time"=40.705208ms]
[2022/07/15 15:01:55.603 +08:00] [INFO] [ddl_worker.go:158] ["[ddl] DDL worker closed"] [worker="worker 37, tp general"] ["take time"=125ns]
[2022/07/15 15:01:55.603 +08:00] [INFO] [ddl_worker.go:158] ["[ddl] DDL worker closed"] [worker="worker 38, tp add index"] ["take time"=1.208µs]
[2022/07/15 15:01:55.603 +08:00] [INFO] [delete_range.go:148] ["[ddl] closing delRange"]
[2022/07/15 15:01:55.603 +08:00] [INFO] [session_pool.go:94] ["[ddl] closing sessionPool"]
[2022/07/15 15:01:55.603 +08:00] [INFO] [ddl.go:576] ["[ddl] DDL closed"] [ID=3d0bbd0e-6083-40e2-8b67-282c93641b04] ["take time"=57.292µs]
[2022/07/15 15:01:55.603 +08:00] [INFO] [ddl.go:464] ["[ddl] stop DDL"] [ID=3d0bbd0e-6083-40e2-8b67-282c93641b04]
[2022/07/15 15:01:55.603 +08:00] [INFO] [domain.go:498] ["topNSlowQueryLoop exited."]
[2022/07/15 15:01:55.603 +08:00] [INFO] [domain.go:575] ["topologySyncerKeeper exited."]
[2022/07/15 15:01:55.603 +08:00] [INFO] [domain.go:552] ["globalConfigSyncerKeeper exited."]
[2022/07/15 15:01:55.603 +08:00] [INFO] [domain.go:527] ["infoSyncerKeeper exited."]
[2022/07/15 15:01:55.603 +08:00] [INFO] [domain.go:733] ["domain closed"] ["take time"=108.375µs]
[2022/07/15 15:01:55.603 +08:00] [INFO] [tidb.go:74] ["new domain"] [store=5fd2e030-6f85-4dd2-8622-14a34bc01c90] ["ddl lease"=0s] ["stats lease"=-1ns] ["index usage sync lease"=0s]
[2022/07/15 15:01:55.606 +08:00] [INFO] [domain.go:178] ["full load InfoSchema success"] [currentSchemaVersion=0] [neededSchemaVersion=34] ["start time"=2.28625ms]
[2022/07/15 15:01:55.606 +08:00] [INFO] [domain.go:449] ["full load and reset schema validator"]
[2022/07/15 15:01:55.606 +08:00] [INFO] [ddl.go:483] ["[ddl] start DDL"] [ID=e40fedda-9217-4e56-8590-846a90ca3ef3] [runWorker=true]
[2022/07/15 15:01:55.606 +08:00] [INFO] [ddl.go:472] ["[ddl] start delRangeManager OK"] ["is a emulator"=true]
[2022/07/15 15:01:55.606 +08:00] [INFO] [ddl_worker.go:164] ["[ddl] start DDL worker"] [worker="worker 39, tp general"]
[2022/07/15 15:01:55.606 +08:00] [INFO] [ddl_worker.go:164] ["[ddl] start DDL worker"] [worker="worker 40, tp add index"]
[2022/07/15 15:01:55.606 +08:00] [INFO] [delete_range.go:158] ["[ddl] start delRange emulator"]
[2022/07/15 15:01:55.607 +08:00] [WARN] [sysvar_cache.go:53] ["sysvar cache is empty, triggering rebuild"]
[2022/07/15 15:01:55.610 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=34] [cur_db=test] [sql="drop table if exists t;"] [user=]
[2022/07/15 15:01:55.610 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=34] [cur_db=test] [sql="create table t(a int);"] [user=]
[2022/07/15 15:01:55.610 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:70, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:55.61 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:55.610 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:70, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:55.61 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="create table t(a int);"]
[2022/07/15 15:01:55.610 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 39, tp general"] [job="ID:70, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:55.61 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:55.611 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 39, tp general"] [job="ID:70, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:69, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:55.61 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:55.611 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=70]
[2022/07/15 15:01:55.611 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:55.611 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=34] [neededSchemaVersion=35] ["start time"=37.75µs] [phyTblIDs="[69]"] [actionTypes="[8]"]
[2022/07/15 15:01:55.611 +08:00] [INFO] [set.go:152] ["set global var"] [conn=0] [name=tidb_enable_collect_execution_info] [val=0]
[2022/07/15 15:01:55.611 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=35] [cur_db=test] [sql="alter table test.t set tiflash replica 1"] [user=]
[2022/07/15 15:01:55.611 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:71, Type:set tiflash replica, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:55.611 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:55.611 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:71, Type:set tiflash replica, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:55.611 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="alter table test.t set tiflash replica 1"]
[2022/07/15 15:01:55.611 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 39, tp general"] [job="ID:71, Type:set tiflash replica, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:55.611 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:55.611 +08:00] [INFO] [table.go:1109] ["Set TiFlash replica pd rule"] [tableID=69]
[2022/07/15 15:01:55.611 +08:00] [INFO] [info.go:1051] [ConfigureTiFlashPDForTable] [tableID=69] [count=1]
[2022/07/15 15:01:55.612 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 39, tp general"] [job="ID:71, Type:set tiflash replica, State:synced, SchemaState:public, SchemaID:1, TableID:69, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:55.611 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:55.612 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=71]
[2022/07/15 15:01:55.612 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:55.612 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=35] [neededSchemaVersion=36] ["start time"=40.375µs] [phyTblIDs="[]"] [actionTypes="[]"]
[2022/07/15 15:01:55.612 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:72, Type:update tiflash replica status, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:2, start time: 2022-07-15 15:01:55.612 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:55.612 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:72, Type:update tiflash replica status, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:2, start time: 2022-07-15 15:01:55.612 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query=]
[2022/07/15 15:01:55.612 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 39, tp general"] [job="ID:72, Type:update tiflash replica status, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:55.612 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:55.612 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 39, tp general"] [job="ID:72, Type:update tiflash replica status, State:synced, SchemaState:public, SchemaID:1, TableID:69, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:55.612 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:55.612 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=72]
[2022/07/15 15:01:55.612 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:55.612 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=36] [neededSchemaVersion=37] ["start time"=38.042µs] [phyTblIDs="[]"] [actionTypes="[]"]
[2022/07/15 15:01:55.614 +08:00] [INFO] [fragment.go:77] ["Mpp will generate tasks"] [plan="RightHashJoin{Recv()->Table(t)->Sel([not(isnull(test.t.a)) gt(test.t.a, 0)])}(test.t.a,test.t.a)->HashAgg->Send()"]
[2022/07/15 15:01:55.614 +08:00] [INFO] [batch_coprocessor.go:325] ["detecting available mpp stores"]
[2022/07/15 15:01:55.614 +08:00] [WARN] [batch_coprocessor.go:359] ["Store is not ready"] ["store address"=tiflash1] ["err message"="not support this request type MPPAlive"]
[2022/07/15 15:01:55.614 +08:00] [WARN] [batch_coprocessor.go:359] ["Store is not ready"] ["store address"=tiflash0] ["err message"="not support this request type MPPAlive"]
[2022/07/15 15:01:55.614 +08:00] [WARN] [batch_coprocessor.go:400] ["Meet regions that don't have an available store. Give up balancing"]
[2022/07/15 15:01:55.614 +08:00] [INFO] [batch_coprocessor.go:325] ["detecting available mpp stores"]
[2022/07/15 15:01:55.614 +08:00] [WARN] [batch_coprocessor.go:400] ["Meet regions that don't have an available store. Give up balancing"]
[2022/07/15 15:01:55.614 +08:00] [INFO] [mpp_gather.go:80] ["Dispatch mpp task"] [timestamp=434600284157116417] [ID=1] [address=tiflash0] [plan="Table(t)->Sel([not(isnull(test.t.a)) gt(test.t.a, 0)])->Send(2, )"]
[2022/07/15 15:01:55.614 +08:00] [INFO] [mpp_gather.go:80] ["Dispatch mpp task"] [timestamp=434600284157116417] [ID=2] [address=tiflash0] [plan="RightHashJoin{Recv(1, )->Table(t)->Sel([not(isnull(test.t.a)) gt(test.t.a, 0)])}(test.t.a,test.t.a)->HashAgg->Send(-1, )"]
[2022/07/15 15:01:56.615 +08:00] [WARN] [adapter.go:1067] ["# Txn_start_ts: 434600284157116417\n# Query_time: 1.000863875\n# Parse_time: 0.000024708\n# Compile_time: 0.000254875\n# Rewrite_time: 0.000021291\n# Optimize_time: 0.000175917\n# Wait_TS: 0.00000175\n# Cop_time: 1.000199916 Request_count: 1\n# DB: test\n# Is_internal: false\n# Digest: 3fc6c52b69b6a1292745c091ca88a9b2330063a1ceec95ad571e617940e829b5\n# Stats: t:pseudo\n# Num_cop_tasks: 1\n# Cop_proc_avg: 0 Cop_proc_addr: tiflash0\n# Cop_wait_avg: 0 Cop_wait_addr: tiflash0\n# Mem_max: 10100\n# Prepared: true\n# Plan_from_cache: false\n# Plan_from_binding: false\n# Has_more_results: false\n# KV_total: 0\n# PD_total: 0\n# Backoff_total: 0\n# Write_sql_response_total: 0\n# Result_rows: 0\n# Succ: true\n# IsExplicitTxn: false\n# Plan: tidb_decode_plan('jQSIMAk2XzQ1CTAJMQlmdW5jczpjb3VudChDb2x1bW4jNiktPkMJCyA1CjEJMzFfNDcFLJBkYXRhOkV4Y2hhbmdlU2VuZGVyXzQ2CjIJNDlfNDYJMV8xCTEJESBcVHlwZTogUGFzc1Rocm91Z2gKMwk2XzE0DScueAAcdGVzdC50LmEZeBw2CjQJMTdfNAkucDQxNjYuNjcJaW5uZXIgam9pbiwgZXF1YWw6W2VxFT4ELCAVSCBdCjUJNDhfMjMFbSQzMzMzLjMzCQo2AakEMjIyFQA2rwA8QnJvYWRjYXN0CjcJMV8yMTIrAARndB1sNDApLCBub3QoaXNudWxsFRkkKSkKOAk0M18yMAU70DEwMDAwCXRhYmxlOnQxLCBrZWVwIG9yZGVyOmZhbHNlLCBzdGF0czpwc2V1ZG8KNQkxXzI1BToRtZp1AAQ2CQF1KS8ydQAAMoJ1AA==')\n# Plan_digest: aa48826cbfcda4d084223a6f21369a80fa407f488fd0e17d27d82265ae7e33d5\nuse test;\nselect count(t1.a) from t t1 join t t2 on t1.a = t2.a where t1.a > ? [arguments: 0];"]
[2022/07/15 15:01:56.616 +08:00] [INFO] [fragment.go:77] ["Mpp will generate tasks"] [plan="RightHashJoin{Recv()->Table(t)->Sel([not(isnull(test.t.a)) gt(test.t.a, 1)])}(test.t.a,test.t.a)->HashAgg->Send()"]
[2022/07/15 15:01:56.616 +08:00] [INFO] [batch_coprocessor.go:325] ["detecting available mpp stores"]
[2022/07/15 15:01:56.616 +08:00] [WARN] [batch_coprocessor.go:359] ["Store is not ready"] ["store address"=tiflash1] ["err message"="not support this request type MPPAlive"]
[2022/07/15 15:01:56.616 +08:00] [WARN] [batch_coprocessor.go:359] ["Store is not ready"] ["store address"=tiflash0] ["err message"="not support this request type MPPAlive"]
[2022/07/15 15:01:56.616 +08:00] [WARN] [batch_coprocessor.go:400] ["Meet regions that don't have an available store. Give up balancing"]
[2022/07/15 15:01:56.616 +08:00] [INFO] [batch_coprocessor.go:325] ["detecting available mpp stores"]
[2022/07/15 15:01:56.616 +08:00] [WARN] [batch_coprocessor.go:400] ["Meet regions that don't have an available store. Give up balancing"]
[2022/07/15 15:01:56.616 +08:00] [INFO] [mpp_gather.go:80] ["Dispatch mpp task"] [timestamp=434600284419784704] [ID=1] [address=tiflash0] [plan="Table(t)->Sel([not(isnull(test.t.a)) gt(test.t.a, 1)])->Send(2, )"]
[2022/07/15 15:01:56.616 +08:00] [INFO] [mpp_gather.go:80] ["Dispatch mpp task"] [timestamp=434600284419784704] [ID=2] [address=tiflash0] [plan="RightHashJoin{Recv(1, )->Table(t)->Sel([not(isnull(test.t.a)) gt(test.t.a, 1)])}(test.t.a,test.t.a)->HashAgg->Send(-1, )"]
[2022/07/15 15:01:57.617 +08:00] [WARN] [adapter.go:1067] ["# Txn_start_ts: 434600284419784704\n# Query_time: 1.001343125\n# Parse_time: 0.000009375\n# Compile_time: 0.0004235\n# Rewrite_time: 0.000094375\n# Optimize_time: 0.000262416\n# Wait_TS: 0.000008625\n# DB: test\n# Is_internal: false\n# Digest: 3fc6c52b69b6a1292745c091ca88a9b2330063a1ceec95ad571e617940e829b5\n# Stats: t:pseudo\n# Num_cop_tasks: 0\n# Mem_max: 10100\n# Prepared: true\n# Plan_from_cache: false\n# Plan_from_binding: false\n# Has_more_results: false\n# KV_total: 0\n# PD_total: 0\n# Backoff_total: 0\n# Write_sql_response_total: 0\n# Result_rows: 0\n# Succ: true\n# IsExplicitTxn: false\n# Plan: tidb_decode_plan('jQSIMAk2XzQ1CTAJMQlmdW5jczpjb3VudChDb2x1bW4jNiktPkMJCyA1CjEJMzFfNDcFLJBkYXRhOkV4Y2hhbmdlU2VuZGVyXzQ2CjIJNDlfNDYJMV8xCTEJESBcVHlwZTogUGFzc1Rocm91Z2gKMwk2XzE0DScueAAcdGVzdC50LmEZeBw2CjQJMTdfNAkucDQxNjYuNjcJaW5uZXIgam9pbiwgZXF1YWw6W2VxFT4ELCAVSCBdCjUJNDhfMjMFbSQzMzMzLjMzCQo2AakEMjIyFQA2rwA8QnJvYWRjYXN0CjcJMV8yMTIrAARndB1sNDEpLCBub3QoaXNudWxsFRkkKSkKOAk0M18yMAU70DEwMDAwCXRhYmxlOnQxLCBrZWVwIG9yZGVyOmZhbHNlLCBzdGF0czpwc2V1ZG8KNQkxXzI1BToRtZp1AAQ2CQF1KS8ydQAAMoJ1AA==')\n# Plan_digest: aa48826cbfcda4d084223a6f21369a80fa407f488fd0e17d27d82265ae7e33d5\nselect count(t1.a) from t t1 join t t2 on t1.a = t2.a where t1.a > ? [arguments: 1];"]
[2022/07/15 15:01:57.617 +08:00] [INFO] [ddl_worker.go:158] ["[ddl] DDL worker closed"] [worker="worker 39, tp general"] ["take time"=2.792µs]
[2022/07/15 15:01:57.617 +08:00] [INFO] [ddl_worker.go:158] ["[ddl] DDL worker closed"] [worker="worker 40, tp add index"] ["take time"=83ns]
[2022/07/15 15:01:57.617 +08:00] [INFO] [delete_range.go:148] ["[ddl] closing delRange"]
[2022/07/15 15:01:57.617 +08:00] [INFO] [session_pool.go:94] ["[ddl] closing sessionPool"]
[2022/07/15 15:01:57.617 +08:00] [INFO] [ddl.go:576] ["[ddl] DDL closed"] [ID=e40fedda-9217-4e56-8590-846a90ca3ef3] ["take time"=50.875µs]
[2022/07/15 15:01:57.617 +08:00] [INFO] [ddl.go:464] ["[ddl] stop DDL"] [ID=e40fedda-9217-4e56-8590-846a90ca3ef3]
[2022/07/15 15:01:57.617 +08:00] [INFO] [domain.go:498] ["topNSlowQueryLoop exited."]
[2022/07/15 15:01:57.617 +08:00] [INFO] [domain.go:1288] ["dumpFileGcChecker exited."]
[2022/07/15 15:01:57.617 +08:00] [INFO] [handle_hist.go:156] ["SubLoadWorker exited."]
[2022/07/15 15:01:57.617 +08:00] [INFO] [domain.go:1203] ["handleEvolvePlanTasksLoop exited."]
[2022/07/15 15:01:57.617 +08:00] [INFO] [handle_hist.go:156] ["SubLoadWorker exited."]
[2022/07/15 15:01:57.617 +08:00] [INFO] [handle_hist.go:156] ["SubLoadWorker exited."]
[2022/07/15 15:01:57.617 +08:00] [INFO] [handle_hist.go:156] ["SubLoadWorker exited."]
[2022/07/15 15:01:57.617 +08:00] [INFO] [domain.go:1160] ["globalBindHandleWorkerLoop exited."]
[2022/07/15 15:01:57.617 +08:00] [INFO] [domain.go:1082] ["LoadSysVarCacheLoop exited."]
[2022/07/15 15:01:57.617 +08:00] [INFO] [domain.go:1032] ["loadPrivilegeInLoop exited."]
[2022/07/15 15:01:57.617 +08:00] [INFO] [domain.go:575] ["topologySyncerKeeper exited."]
[2022/07/15 15:01:57.617 +08:00] [INFO] [handle_hist.go:156] ["SubLoadWorker exited."]
[2022/07/15 15:01:57.617 +08:00] [INFO] [domain.go:552] ["globalConfigSyncerKeeper exited."]
[2022/07/15 15:01:57.617 +08:00] [INFO] [domain.go:527] ["infoSyncerKeeper exited."]
[2022/07/15 15:01:57.617 +08:00] [INFO] [domain.go:733] ["domain closed"] ["take time"=155.334µs]
[2022/07/15 15:01:57.636 +08:00] [INFO] [db.go:567] ["Closing database"]
[2022/07/15 15:01:57.636 +08:00] [INFO] [db.go:592] ["Memtable flushed"]
[2022/07/15 15:01:57.636 +08:00] [INFO] [db.go:596] ["Compaction finished"]
[2022/07/15 15:01:57.636 +08:00] [INFO] [db.go:615] ["BlobManager finished"]
[2022/07/15 15:01:57.636 +08:00] [INFO] [db.go:619] ["ResourceManager finished"]
[2022/07/15 15:01:57.636 +08:00] [INFO] [db.go:625] ["Waiting for closer"]
[2022/07/15 15:01:57.750 +08:00] [INFO] [tidb.go:74] ["new domain"] [store=46ef72da-db68-42b3-afbe-24a6b1035796] ["ddl lease"=0s] ["stats lease"=-1ns] ["index usage sync lease"=0s]
[2022/07/15 15:01:57.751 +08:00] [INFO] [domain.go:178] ["full load InfoSchema success"] [currentSchemaVersion=0] [neededSchemaVersion=0] ["start time"=516.959µs]
[2022/07/15 15:01:57.751 +08:00] [INFO] [domain.go:449] ["full load and reset schema validator"]
[2022/07/15 15:01:57.751 +08:00] [INFO] [ddl.go:483] ["[ddl] start DDL"] [ID=11f8679e-1a0f-4142-8d38-9ef0f2720aa8] [runWorker=true]
[2022/07/15 15:01:57.751 +08:00] [INFO] [ddl.go:472] ["[ddl] start delRangeManager OK"] ["is a emulator"=true]
[2022/07/15 15:01:57.751 +08:00] [INFO] [delete_range.go:158] ["[ddl] start delRange emulator"]
[2022/07/15 15:01:57.751 +08:00] [INFO] [ddl_worker.go:164] ["[ddl] start DDL worker"] [worker="worker 42, tp add index"]
[2022/07/15 15:01:57.751 +08:00] [INFO] [ddl_worker.go:164] ["[ddl] start DDL worker"] [worker="worker 41, tp general"]
[2022/07/15 15:01:57.751 +08:00] [INFO] [tidb.go:268] ["rollbackTxn called due to ddl/autocommit failure"]
[2022/07/15 15:01:57.751 +08:00] [WARN] [session.go:1983] ["run statement failed"] [schemaVersion=0] [error="[schema:1049]Unknown database 'mysql'"] [errorVerbose="[schema:1049]Unknown database 'mysql'\ngithub.com/pingcap/errors.AddStack\n\t/Users/hongyunyan/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20211224045212-9687c2b0f87c/errors.go:174\ngithub.com/pingcap/errors.(*Error).GenWithStackByArgs\n\t/Users/hongyunyan/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20211224045212-9687c2b0f87c/normalize.go:164\ngithub.com/pingcap/tidb/executor.(*SimpleExec).executeUse\n\t/Users/hongyunyan/Desktop/tidb/executor/simple.go:571\ngithub.com/pingcap/tidb/executor.(*SimpleExec).Next\n\t/Users/hongyunyan/Desktop/tidb/executor/simple.go:131\ngithub.com/pingcap/tidb/executor.Next\n\t/Users/hongyunyan/Desktop/tidb/executor/executor.go:319\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelayExecutor\n\t/Users/hongyunyan/Desktop/tidb/executor/adapter.go:673\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelay\n\t/Users/hongyunyan/Desktop/tidb/executor/adapter.go:523\ngithub.com/pingcap/tidb/executor.(*ExecStmt).Exec\n\t/Users/hongyunyan/Desktop/tidb/executor/adapter.go:472\ngithub.com/pingcap/tidb/session.runStmt\n\t/Users/hongyunyan/Desktop/tidb/session/session.go:2114\ngithub.com/pingcap/tidb/session.(*session).ExecuteStmt\n\t/Users/hongyunyan/Desktop/tidb/session/session.go:1980\ngithub.com/pingcap/tidb/session.(*session).ExecuteInternal\n\t/Users/hongyunyan/Desktop/tidb/session/session.go:1495\ngithub.com/pingcap/tidb/session.checkBootstrapped\n\t/Users/hongyunyan/Desktop/tidb/session/bootstrap.go:728\ngithub.com/pingcap/tidb/session.bootstrap\n\t/Users/hongyunyan/Desktop/tidb/session/bootstrap.go:431\ngithub.com/pingcap/tidb/session.runInBootstrapSession\n\t/Users/hongyunyan/Desktop/tidb/session/session.go:2834\ngithub.com/pingcap/tidb/session.BootstrapSession\n\t/Users/hongyunyan/Desktop/tidb/session/session.go:2720\ngithub.com/pingcap/tidb/testkit.bootstrap\n\t/Users/hongyunyan/Desktop/tidb/testkit/mockstore.go:71\ngithub.com/pingcap/tidb/testkit.CreateMockStoreAndDomain\n\t/Users/hongyunyan/Desktop/tidb/testkit/mockstore.go:64\ngithub.com/pingcap/tidb/testkit.CreateMockStore\n\t/Users/hongyunyan/Desktop/tidb/testkit/mockstore.go:56\ngithub.com/pingcap/tidb/executor/tiflashtest.TestDispatchTaskRetry\n\t/Users/hongyunyan/Desktop/tidb/executor/tiflashtest/tiflash_test.go:641\ntesting.tRunner\n\t/opt/homebrew/Cellar/go/1.18.3/libexec/src/testing/testing.go:1439\nruntime.goexit\n\t/opt/homebrew/Cellar/go/1.18.3/libexec/src/runtime/asm_arm64.s:1263"] [session="{\n  \"currDBName\": \"\",\n  \"id\": 0,\n  \"status\": 2,\n  \"strictMode\": true,\n  \"user\": null\n}"]
[2022/07/15 15:01:57.751 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=0] [cur_db=] [sql="CREATE DATABASE IF NOT EXISTS test"] [user=]
[2022/07/15 15:01:57.752 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:2, Type:create schema, State:queueing, SchemaState:none, SchemaID:1, TableID:0, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:57.752 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:57.752 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:2, Type:create schema, State:queueing, SchemaState:none, SchemaID:1, TableID:0, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:57.752 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE DATABASE IF NOT EXISTS test"]
[2022/07/15 15:01:57.752 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 41, tp general"] [job="ID:2, Type:create schema, State:queueing, SchemaState:none, SchemaID:1, TableID:0, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:57.752 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:57.752 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 41, tp general"] [job="ID:2, Type:create schema, State:synced, SchemaState:public, SchemaID:1, TableID:0, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:57.752 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:57.752 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=2]
[2022/07/15 15:01:57.752 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:57.752 +08:00] [INFO] [domain.go:178] ["full load InfoSchema success"] [currentSchemaVersion=0] [neededSchemaVersion=1] ["start time"=422.083µs]
[2022/07/15 15:01:57.753 +08:00] [INFO] [domain.go:449] ["full load and reset schema validator"]
[2022/07/15 15:01:57.753 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=1] [cur_db=] [sql="CREATE DATABASE IF NOT EXISTS `mysql`"] [user=]
[2022/07/15 15:01:57.753 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:4, Type:create schema, State:queueing, SchemaState:none, SchemaID:3, TableID:0, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:57.753 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:57.753 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:4, Type:create schema, State:queueing, SchemaState:none, SchemaID:3, TableID:0, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:57.753 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE DATABASE IF NOT EXISTS `mysql`"]
[2022/07/15 15:01:57.753 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 41, tp general"] [job="ID:4, Type:create schema, State:queueing, SchemaState:none, SchemaID:3, TableID:0, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:57.753 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:57.753 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 41, tp general"] [job="ID:4, Type:create schema, State:synced, SchemaState:public, SchemaID:3, TableID:0, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:57.753 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:57.753 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=4]
[2022/07/15 15:01:57.753 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:57.753 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=1] [neededSchemaVersion=2] ["start time"=15.125µs] [phyTblIDs="[]"] [actionTypes="[]"]
[2022/07/15 15:01:57.753 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=2] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.user (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tauthentication_string\tTEXT,\n\t\tplugin\t\t\t\t\tCHAR(64),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tProcess_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_db_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tSuper_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_user_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_slave_priv\t    \tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_client_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_role_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_role_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAccount_locked\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShutdown_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReload_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tFILE_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tConfig_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_Tablespace_Priv  ENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (Host, User));"] [user=]
[2022/07/15 15:01:57.754 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:6, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:5, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:57.753 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:57.754 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:6, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:5, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:57.753 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.user (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tauthentication_string\tTEXT,\n\t\tplugin\t\t\t\t\tCHAR(64),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tProcess_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_db_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tSuper_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_user_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_slave_priv\t    \tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_client_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_role_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_role_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAccount_locked\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShutdown_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReload_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tFILE_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tConfig_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_Tablespace_Priv  ENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (Host, User));"]
[2022/07/15 15:01:57.754 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 41, tp general"] [job="ID:6, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:5, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:57.753 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:57.755 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 41, tp general"] [job="ID:6, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:5, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:57.753 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:57.756 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=6]
[2022/07/15 15:01:57.756 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:57.756 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=2] [neededSchemaVersion=3] ["start time"=260.125µs] [phyTblIDs="[5]"] [actionTypes="[8]"]
[2022/07/15 15:01:57.756 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=3] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.global_priv (Host CHAR(255) NOT NULL DEFAULT '',User CHAR(80) NOT NULL DEFAULT '',Priv LONGTEXT NOT NULL DEFAULT '',PRIMARY KEY (Host, User))"] [user=]
[2022/07/15 15:01:57.756 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:8, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:7, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:57.756 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:57.756 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:8, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:7, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:57.756 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.global_priv (Host CHAR(255) NOT NULL DEFAULT '',User CHAR(80) NOT NULL DEFAULT '',Priv LONGTEXT NOT NULL DEFAULT '',PRIMARY KEY (Host, User))"]
[2022/07/15 15:01:57.756 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 41, tp general"] [job="ID:8, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:7, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:57.756 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:57.757 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 41, tp general"] [job="ID:8, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:7, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:57.756 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:57.757 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=8]
[2022/07/15 15:01:57.757 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:57.757 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=3] [neededSchemaVersion=4] ["start time"=55.458µs] [phyTblIDs="[7]"] [actionTypes="[8]"]
[2022/07/15 15:01:57.757 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=4] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.db (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tDB\t\t\t\t\t\tCHAR(64),\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv \t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (Host, DB, User));"] [user=]
[2022/07/15 15:01:57.757 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:10, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:9, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:57.757 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:57.757 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:10, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:9, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:57.757 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.db (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tDB\t\t\t\t\t\tCHAR(64),\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv \t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (Host, DB, User));"]
[2022/07/15 15:01:57.758 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 41, tp general"] [job="ID:10, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:9, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:57.757 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:57.759 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 41, tp general"] [job="ID:10, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:9, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:57.757 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:57.759 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=10]
[2022/07/15 15:01:57.759 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:57.759 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=4] [neededSchemaVersion=5] ["start time"=173.709µs] [phyTblIDs="[9]"] [actionTypes="[8]"]
[2022/07/15 15:01:57.759 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=5] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.tables_priv (\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64),\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64),\n\t\tGrantor\t\tCHAR(77),\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tTable_priv\tSET('Select','Insert','Update','Delete','Create','Drop','Grant','Index','Alter','Create View','Show View','Trigger','References'),\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name));"] [user=]
[2022/07/15 15:01:57.759 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:12, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:11, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:57.759 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:57.759 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:12, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:11, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:57.759 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.tables_priv (\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64),\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64),\n\t\tGrantor\t\tCHAR(77),\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tTable_priv\tSET('Select','Insert','Update','Delete','Create','Drop','Grant','Index','Alter','Create View','Show View','Trigger','References'),\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name));"]
[2022/07/15 15:01:57.759 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 41, tp general"] [job="ID:12, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:11, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:57.759 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:57.760 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 41, tp general"] [job="ID:12, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:11, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:57.759 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:57.760 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=12]
[2022/07/15 15:01:57.760 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:57.760 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=5] [neededSchemaVersion=6] ["start time"=86.042µs] [phyTblIDs="[11]"] [actionTypes="[8]"]
[2022/07/15 15:01:57.760 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=6] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.columns_priv(\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64),\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64),\n\t\tColumn_name\tCHAR(64),\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name, Column_name));"] [user=]
[2022/07/15 15:01:57.760 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:14, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:13, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:57.76 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:57.760 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:14, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:13, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:57.76 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.columns_priv(\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64),\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64),\n\t\tColumn_name\tCHAR(64),\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name, Column_name));"]
[2022/07/15 15:01:57.761 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 41, tp general"] [job="ID:14, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:13, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:57.76 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:57.761 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 41, tp general"] [job="ID:14, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:13, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:57.76 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:57.761 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=14]
[2022/07/15 15:01:57.761 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:57.761 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=6] [neededSchemaVersion=7] ["start time"=78.667µs] [phyTblIDs="[13]"] [actionTypes="[8]"]
[2022/07/15 15:01:57.761 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=7] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.GLOBAL_VARIABLES(\n\t\tVARIABLE_NAME  VARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(1024) DEFAULT NULL);"] [user=]
[2022/07/15 15:01:57.761 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:16, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:15, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:57.761 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:57.761 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:16, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:15, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:57.761 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.GLOBAL_VARIABLES(\n\t\tVARIABLE_NAME  VARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(1024) DEFAULT NULL);"]
[2022/07/15 15:01:57.761 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 41, tp general"] [job="ID:16, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:15, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:57.761 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:57.762 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 41, tp general"] [job="ID:16, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:15, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:57.761 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:57.762 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=16]
[2022/07/15 15:01:57.762 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:57.762 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=7] [neededSchemaVersion=8] ["start time"=43.875µs] [phyTblIDs="[15]"] [actionTypes="[8]"]
[2022/07/15 15:01:57.762 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=8] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb(\n\t\tVARIABLE_NAME  \tVARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE \tVARCHAR(1024) DEFAULT NULL,\n\t\tCOMMENT \t\tVARCHAR(1024));"] [user=]
[2022/07/15 15:01:57.762 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:18, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:17, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:57.762 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:57.762 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:18, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:17, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:57.762 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb(\n\t\tVARIABLE_NAME  \tVARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE \tVARCHAR(1024) DEFAULT NULL,\n\t\tCOMMENT \t\tVARCHAR(1024));"]
[2022/07/15 15:01:57.762 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 41, tp general"] [job="ID:18, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:17, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:57.762 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:57.762 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 41, tp general"] [job="ID:18, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:17, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:57.762 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:57.763 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=18]
[2022/07/15 15:01:57.763 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:57.763 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=8] [neededSchemaVersion=9] ["start time"=48.166µs] [phyTblIDs="[17]"] [actionTypes="[8]"]
[2022/07/15 15:01:57.763 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=9] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.help_topic (\n  \t\thelp_topic_id \t\tINT(10) UNSIGNED NOT NULL,\n  \t\tname \t\t\t\tCHAR(64) NOT NULL,\n  \t\thelp_category_id \tSMALLINT(5) UNSIGNED NOT NULL,\n  \t\tdescription \t\tTEXT NOT NULL,\n  \t\texample \t\t\tTEXT NOT NULL,\n  \t\turl \t\t\t\tTEXT NOT NULL,\n  \t\tPRIMARY KEY (help_topic_id) clustered,\n  \t\tUNIQUE KEY name (name)\n\t\t) ENGINE=InnoDB DEFAULT CHARSET=utf8 STATS_PERSISTENT=0 COMMENT='help topics';"] [user=]
[2022/07/15 15:01:57.763 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:20, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:19, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:57.763 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:57.763 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:20, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:19, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:57.763 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.help_topic (\n  \t\thelp_topic_id \t\tINT(10) UNSIGNED NOT NULL,\n  \t\tname \t\t\t\tCHAR(64) NOT NULL,\n  \t\thelp_category_id \tSMALLINT(5) UNSIGNED NOT NULL,\n  \t\tdescription \t\tTEXT NOT NULL,\n  \t\texample \t\t\tTEXT NOT NULL,\n  \t\turl \t\t\t\tTEXT NOT NULL,\n  \t\tPRIMARY KEY (help_topic_id) clustered,\n  \t\tUNIQUE KEY name (name)\n\t\t) ENGINE=InnoDB DEFAULT CHARSET=utf8 STATS_PERSISTENT=0 COMMENT='help topics';"]
[2022/07/15 15:01:57.763 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 41, tp general"] [job="ID:20, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:19, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:57.763 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:57.763 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 41, tp general"] [job="ID:20, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:19, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:57.763 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:57.763 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=20]
[2022/07/15 15:01:57.763 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:57.764 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=9] [neededSchemaVersion=10] ["start time"=65.25µs] [phyTblIDs="[19]"] [actionTypes="[8]"]
[2022/07/15 15:01:57.764 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=10] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_meta (\n\t\tversion \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\ttable_id \t\tBIGINT(64) NOT NULL,\n\t\tmodify_count\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcount \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tsnapshot        BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tINDEX idx_ver(version),\n\t\tUNIQUE INDEX tbl(table_id)\n\t);"] [user=]
[2022/07/15 15:01:57.764 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:22, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:21, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:57.764 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:57.764 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:22, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:21, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:57.764 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_meta (\n\t\tversion \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\ttable_id \t\tBIGINT(64) NOT NULL,\n\t\tmodify_count\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcount \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tsnapshot        BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tINDEX idx_ver(version),\n\t\tUNIQUE INDEX tbl(table_id)\n\t);"]
[2022/07/15 15:01:57.764 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 41, tp general"] [job="ID:22, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:21, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:57.764 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:57.764 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 41, tp general"] [job="ID:22, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:21, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:57.764 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:57.764 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=22]
[2022/07/15 15:01:57.764 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:57.764 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=10] [neededSchemaVersion=11] ["start time"=66.166µs] [phyTblIDs="[21]"] [actionTypes="[8]"]
[2022/07/15 15:01:57.765 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=11] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_histograms (\n\t\ttable_id \t\t\tBIGINT(64) NOT NULL,\n\t\tis_index \t\t\tTINYINT(2) NOT NULL,\n\t\thist_id \t\t\tBIGINT(64) NOT NULL,\n\t\tdistinct_count \t\tBIGINT(64) NOT NULL,\n\t\tnull_count \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\ttot_col_size \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tmodify_count \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tversion \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tcm_sketch \t\t\tBLOB(6291456),\n\t\tstats_ver \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tflag \t\t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcorrelation \t\tDOUBLE NOT NULL DEFAULT 0,\n\t\tlast_analyze_pos \tLONGBLOB DEFAULT NULL,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id)\n\t);"] [user=]
[2022/07/15 15:01:57.765 +08:00] [INFO] [ddl_api.go:999] ["Automatically convert BLOB(6291456) to MEDIUMBLOB"]
[2022/07/15 15:01:57.765 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:24, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:23, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:57.765 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:57.765 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:24, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:23, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:57.765 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_histograms (\n\t\ttable_id \t\t\tBIGINT(64) NOT NULL,\n\t\tis_index \t\t\tTINYINT(2) NOT NULL,\n\t\thist_id \t\t\tBIGINT(64) NOT NULL,\n\t\tdistinct_count \t\tBIGINT(64) NOT NULL,\n\t\tnull_count \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\ttot_col_size \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tmodify_count \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tversion \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tcm_sketch \t\t\tBLOB(6291456),\n\t\tstats_ver \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tflag \t\t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcorrelation \t\tDOUBLE NOT NULL DEFAULT 0,\n\t\tlast_analyze_pos \tLONGBLOB DEFAULT NULL,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id)\n\t);"]
[2022/07/15 15:01:57.765 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 41, tp general"] [job="ID:24, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:23, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:57.765 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:57.765 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 41, tp general"] [job="ID:24, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:23, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:57.765 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:57.766 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=24]
[2022/07/15 15:01:57.766 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:57.766 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=11] [neededSchemaVersion=12] ["start time"=118.125µs] [phyTblIDs="[23]"] [actionTypes="[8]"]
[2022/07/15 15:01:57.766 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=12] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_buckets (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tbucket_id \tBIGINT(64) NOT NULL,\n\t\tcount \t\tBIGINT(64) NOT NULL,\n\t\trepeats \tBIGINT(64) NOT NULL,\n\t\tupper_bound LONGBLOB NOT NULL,\n\t\tlower_bound LONGBLOB ,\n\t\tndv         BIGINT NOT NULL DEFAULT 0,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id, bucket_id)\n\t);"] [user=]
[2022/07/15 15:01:57.766 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:26, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:25, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:57.766 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:57.766 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:26, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:25, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:57.766 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_buckets (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tbucket_id \tBIGINT(64) NOT NULL,\n\t\tcount \t\tBIGINT(64) NOT NULL,\n\t\trepeats \tBIGINT(64) NOT NULL,\n\t\tupper_bound LONGBLOB NOT NULL,\n\t\tlower_bound LONGBLOB ,\n\t\tndv         BIGINT NOT NULL DEFAULT 0,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id, bucket_id)\n\t);"]
[2022/07/15 15:01:57.766 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 41, tp general"] [job="ID:26, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:25, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:57.766 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:57.767 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 41, tp general"] [job="ID:26, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:25, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:57.766 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:57.767 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=26]
[2022/07/15 15:01:57.767 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:57.767 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=12] [neededSchemaVersion=13] ["start time"=95.417µs] [phyTblIDs="[25]"] [actionTypes="[8]"]
[2022/07/15 15:01:57.767 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=13] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_index (job_id, element_id)\n\t);"] [user=]
[2022/07/15 15:01:57.767 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:28, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:27, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:57.767 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:57.767 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:28, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:27, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:57.767 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_index (job_id, element_id)\n\t);"]
[2022/07/15 15:01:57.767 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 41, tp general"] [job="ID:28, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:27, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:57.767 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:57.768 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 41, tp general"] [job="ID:28, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:27, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:57.767 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:57.768 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=28]
[2022/07/15 15:01:57.768 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:57.768 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=13] [neededSchemaVersion=14] ["start time"=70.25µs] [phyTblIDs="[27]"] [actionTypes="[8]"]
[2022/07/15 15:01:57.768 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=14] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range_done (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_done_index (job_id, element_id)\n\t);"] [user=]
[2022/07/15 15:01:57.768 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:30, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:29, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:57.768 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:57.768 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:30, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:29, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:57.768 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range_done (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_done_index (job_id, element_id)\n\t);"]
[2022/07/15 15:01:57.768 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 41, tp general"] [job="ID:30, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:29, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:57.768 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:57.768 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 41, tp general"] [job="ID:30, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:29, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:57.768 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:57.769 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=30]
[2022/07/15 15:01:57.769 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:57.769 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=14] [neededSchemaVersion=15] ["start time"=61.583µs] [phyTblIDs="[29]"] [actionTypes="[8]"]
[2022/07/15 15:01:57.769 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=15] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_feedback (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tfeedback \tBLOB NOT NULL,\n\t\tINDEX hist(table_id, is_index, hist_id)\n\t);"] [user=]
[2022/07/15 15:01:57.769 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:32, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:31, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:57.769 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:57.769 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:32, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:31, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:57.769 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_feedback (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tfeedback \tBLOB NOT NULL,\n\t\tINDEX hist(table_id, is_index, hist_id)\n\t);"]
[2022/07/15 15:01:57.769 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 41, tp general"] [job="ID:32, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:31, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:57.769 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:57.769 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 41, tp general"] [job="ID:32, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:31, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:57.769 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:57.769 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=32]
[2022/07/15 15:01:57.769 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:57.770 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=15] [neededSchemaVersion=16] ["start time"=63µs] [phyTblIDs="[31]"] [actionTypes="[8]"]
[2022/07/15 15:01:57.770 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=16] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.role_edges (\n\t\tFROM_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tFROM_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tWITH_ADMIN_OPTION \tENUM('N','Y') CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (FROM_HOST,FROM_USER,TO_HOST,TO_USER)\n\t);"] [user=]
[2022/07/15 15:01:57.770 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:34, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:33, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:57.77 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:57.770 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:34, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:33, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:57.77 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.role_edges (\n\t\tFROM_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tFROM_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tWITH_ADMIN_OPTION \tENUM('N','Y') CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (FROM_HOST,FROM_USER,TO_HOST,TO_USER)\n\t);"]
[2022/07/15 15:01:57.770 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 41, tp general"] [job="ID:34, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:33, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:57.77 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:57.770 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 41, tp general"] [job="ID:34, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:33, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:57.77 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:57.770 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=34]
[2022/07/15 15:01:57.770 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:57.770 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=16] [neededSchemaVersion=17] ["start time"=70.625µs] [phyTblIDs="[33]"] [actionTypes="[8]"]
[2022/07/15 15:01:57.771 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=17] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.default_roles (\n\t\tHOST \t\t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tUSER \t\t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tDEFAULT_ROLE_HOST \tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '%',\n\t\tDEFAULT_ROLE_USER \tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tPRIMARY KEY (HOST,USER,DEFAULT_ROLE_HOST,DEFAULT_ROLE_USER)\n\t)"] [user=]
[2022/07/15 15:01:57.771 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:36, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:35, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:57.771 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:57.771 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:36, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:35, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:57.771 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.default_roles (\n\t\tHOST \t\t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tUSER \t\t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tDEFAULT_ROLE_HOST \tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '%',\n\t\tDEFAULT_ROLE_USER \tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tPRIMARY KEY (HOST,USER,DEFAULT_ROLE_HOST,DEFAULT_ROLE_USER)\n\t)"]
[2022/07/15 15:01:57.771 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 41, tp general"] [job="ID:36, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:35, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:57.771 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:57.771 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 41, tp general"] [job="ID:36, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:35, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:57.771 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:57.771 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=36]
[2022/07/15 15:01:57.771 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:57.771 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=17] [neededSchemaVersion=18] ["start time"=62.125µs] [phyTblIDs="[35]"] [actionTypes="[8]"]
[2022/07/15 15:01:57.771 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=18] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.bind_info (\n\t\toriginal_sql TEXT NOT NULL,\n\t\tbind_sql TEXT NOT NULL,\n\t\tdefault_db TEXT NOT NULL,\n\t\tstatus TEXT NOT NULL,\n\t\tcreate_time TIMESTAMP(3) NOT NULL,\n\t\tupdate_time TIMESTAMP(3) NOT NULL,\n\t\tcharset TEXT NOT NULL,\n\t\tcollation TEXT NOT NULL,\n\t\tsource VARCHAR(10) NOT NULL DEFAULT 'unknown',\n\t\tINDEX sql_index(original_sql(700),default_db(68)) COMMENT \"accelerate the speed when add global binding query\",\n\t\tINDEX time_index(update_time) COMMENT \"accelerate the speed when querying with last update time\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"] [user=]
[2022/07/15 15:01:57.772 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:38, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:37, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:57.771 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:57.772 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:38, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:37, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:57.771 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.bind_info (\n\t\toriginal_sql TEXT NOT NULL,\n\t\tbind_sql TEXT NOT NULL,\n\t\tdefault_db TEXT NOT NULL,\n\t\tstatus TEXT NOT NULL,\n\t\tcreate_time TIMESTAMP(3) NOT NULL,\n\t\tupdate_time TIMESTAMP(3) NOT NULL,\n\t\tcharset TEXT NOT NULL,\n\t\tcollation TEXT NOT NULL,\n\t\tsource VARCHAR(10) NOT NULL DEFAULT 'unknown',\n\t\tINDEX sql_index(original_sql(700),default_db(68)) COMMENT \"accelerate the speed when add global binding query\",\n\t\tINDEX time_index(update_time) COMMENT \"accelerate the speed when querying with last update time\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"]
[2022/07/15 15:01:57.772 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 41, tp general"] [job="ID:38, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:37, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:57.771 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:57.772 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 41, tp general"] [job="ID:38, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:37, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:57.771 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:57.772 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=38]
[2022/07/15 15:01:57.772 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:57.772 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=18] [neededSchemaVersion=19] ["start time"=91.666µs] [phyTblIDs="[37]"] [actionTypes="[8]"]
[2022/07/15 15:01:57.773 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=19] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_top_n (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tcount \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"] [user=]
[2022/07/15 15:01:57.773 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:40, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:39, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:57.773 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:57.773 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:40, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:39, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:57.773 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_top_n (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tcount \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"]
[2022/07/15 15:01:57.773 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 41, tp general"] [job="ID:40, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:39, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:57.773 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:57.773 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 41, tp general"] [job="ID:40, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:39, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:57.773 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:57.773 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=40]
[2022/07/15 15:01:57.773 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:57.774 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=19] [neededSchemaVersion=20] ["start time"=70.459µs] [phyTblIDs="[39]"] [actionTypes="[8]"]
[2022/07/15 15:01:57.774 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=20] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.expr_pushdown_blacklist (\n\t\tname \t\tCHAR(100) NOT NULL,\n\t\tstore_type \tCHAR(100) NOT NULL DEFAULT 'tikv,tiflash,tidb',\n\t\treason \t\tVARCHAR(200)\n\t);"] [user=]
[2022/07/15 15:01:57.774 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:42, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:41, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:57.774 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:57.774 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:42, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:41, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:57.774 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.expr_pushdown_blacklist (\n\t\tname \t\tCHAR(100) NOT NULL,\n\t\tstore_type \tCHAR(100) NOT NULL DEFAULT 'tikv,tiflash,tidb',\n\t\treason \t\tVARCHAR(200)\n\t);"]
[2022/07/15 15:01:57.774 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 41, tp general"] [job="ID:42, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:41, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:57.774 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:57.774 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 41, tp general"] [job="ID:42, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:41, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:57.774 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:57.774 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=42]
[2022/07/15 15:01:57.774 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:57.774 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=20] [neededSchemaVersion=21] ["start time"=45.875µs] [phyTblIDs="[41]"] [actionTypes="[8]"]
[2022/07/15 15:01:57.774 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=21] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.opt_rule_blacklist (\n\t\tname \tCHAR(100) NOT NULL\n\t);"] [user=]
[2022/07/15 15:01:57.774 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:44, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:43, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:57.774 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:57.774 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:44, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:43, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:57.774 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.opt_rule_blacklist (\n\t\tname \tCHAR(100) NOT NULL\n\t);"]
[2022/07/15 15:01:57.774 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 41, tp general"] [job="ID:44, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:43, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:57.774 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:57.775 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 41, tp general"] [job="ID:44, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:43, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:57.774 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:57.775 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=44]
[2022/07/15 15:01:57.775 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:57.775 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=21] [neededSchemaVersion=22] ["start time"=30.333µs] [phyTblIDs="[43]"] [actionTypes="[8]"]
[2022/07/15 15:01:57.775 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=22] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_extended (\n\t\tname varchar(32) NOT NULL,\n\t\ttype tinyint(4) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tcolumn_ids varchar(32) NOT NULL,\n\t\tstats blob DEFAULT NULL,\n\t\tversion bigint(64) unsigned NOT NULL,\n\t\tstatus tinyint(4) NOT NULL,\n\t\tPRIMARY KEY(name, table_id),\n\t\tKEY idx_1 (table_id, status, version),\n\t\tKEY idx_2 (status, version)\n\t);"] [user=]
[2022/07/15 15:01:57.775 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:46, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:45, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:57.775 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:57.775 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:46, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:45, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:57.775 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_extended (\n\t\tname varchar(32) NOT NULL,\n\t\ttype tinyint(4) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tcolumn_ids varchar(32) NOT NULL,\n\t\tstats blob DEFAULT NULL,\n\t\tversion bigint(64) unsigned NOT NULL,\n\t\tstatus tinyint(4) NOT NULL,\n\t\tPRIMARY KEY(name, table_id),\n\t\tKEY idx_1 (table_id, status, version),\n\t\tKEY idx_2 (status, version)\n\t);"]
[2022/07/15 15:01:57.775 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 41, tp general"] [job="ID:46, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:45, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:57.775 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:57.776 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 41, tp general"] [job="ID:46, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:45, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:57.775 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:57.776 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=46]
[2022/07/15 15:01:57.776 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:57.776 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=22] [neededSchemaVersion=23] ["start time"=87.417µs] [phyTblIDs="[45]"] [actionTypes="[8]"]
[2022/07/15 15:01:57.776 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=23] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.schema_index_usage (\n\t\tTABLE_ID bigint(64),\n\t\tINDEX_ID bigint(21),\n\t\tQUERY_COUNT bigint(64),\n\t\tROWS_SELECTED bigint(64),\n\t\tLAST_USED_AT timestamp,\n\t\tPRIMARY KEY(TABLE_ID, INDEX_ID)\n\t);"] [user=]
[2022/07/15 15:01:57.776 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:48, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:47, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:57.776 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:57.776 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:48, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:47, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:57.776 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.schema_index_usage (\n\t\tTABLE_ID bigint(64),\n\t\tINDEX_ID bigint(21),\n\t\tQUERY_COUNT bigint(64),\n\t\tROWS_SELECTED bigint(64),\n\t\tLAST_USED_AT timestamp,\n\t\tPRIMARY KEY(TABLE_ID, INDEX_ID)\n\t);"]
[2022/07/15 15:01:57.776 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 41, tp general"] [job="ID:48, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:47, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:57.776 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:57.776 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 41, tp general"] [job="ID:48, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:47, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:57.776 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:57.777 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=48]
[2022/07/15 15:01:57.777 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:57.777 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=23] [neededSchemaVersion=24] ["start time"=58.917µs] [phyTblIDs="[47]"] [actionTypes="[8]"]
[2022/07/15 15:01:57.777 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=24] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_fm_sketch (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"] [user=]
[2022/07/15 15:01:57.777 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:50, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:49, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:57.777 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:57.777 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:50, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:49, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:57.777 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_fm_sketch (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"]
[2022/07/15 15:01:57.777 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 41, tp general"] [job="ID:50, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:49, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:57.777 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:57.777 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 41, tp general"] [job="ID:50, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:49, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:57.777 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:57.777 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=50]
[2022/07/15 15:01:57.777 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:57.777 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=24] [neededSchemaVersion=25] ["start time"=56.708µs] [phyTblIDs="[49]"] [actionTypes="[8]"]
[2022/07/15 15:01:57.777 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=25] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.global_grants (\n\t\tUSER char(32) NOT NULL DEFAULT '',\n\t\tHOST char(255) NOT NULL DEFAULT '',\n\t\tPRIV char(32) NOT NULL DEFAULT '',\n\t\tWITH_GRANT_OPTION enum('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (USER,HOST,PRIV)\n\t);"] [user=]
[2022/07/15 15:01:57.778 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:52, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:51, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:57.778 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:57.778 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:52, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:51, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:57.778 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.global_grants (\n\t\tUSER char(32) NOT NULL DEFAULT '',\n\t\tHOST char(255) NOT NULL DEFAULT '',\n\t\tPRIV char(32) NOT NULL DEFAULT '',\n\t\tWITH_GRANT_OPTION enum('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (USER,HOST,PRIV)\n\t);"]
[2022/07/15 15:01:57.778 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 41, tp general"] [job="ID:52, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:51, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:57.778 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:57.778 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 41, tp general"] [job="ID:52, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:51, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:57.778 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:57.778 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=52]
[2022/07/15 15:01:57.778 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:57.778 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=25] [neededSchemaVersion=26] ["start time"=55.375µs] [phyTblIDs="[51]"] [actionTypes="[8]"]
[2022/07/15 15:01:57.778 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=26] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.capture_plan_baselines_blacklist (\n\t\tid bigint(64) auto_increment,\n\t\tfilter_type varchar(32) NOT NULL COMMENT \"type of the filter, only db, table and frequency supported now\",\n\t\tfilter_value varchar(32) NOT NULL,\n\t\tkey idx(filter_type),\n\t\tprimary key(id)\n\t);"] [user=]
[2022/07/15 15:01:57.778 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:54, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:53, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:57.778 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:57.778 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:54, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:53, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:57.778 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.capture_plan_baselines_blacklist (\n\t\tid bigint(64) auto_increment,\n\t\tfilter_type varchar(32) NOT NULL COMMENT \"type of the filter, only db, table and frequency supported now\",\n\t\tfilter_value varchar(32) NOT NULL,\n\t\tkey idx(filter_type),\n\t\tprimary key(id)\n\t);"]
[2022/07/15 15:01:57.778 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 41, tp general"] [job="ID:54, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:53, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:57.778 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:57.779 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 41, tp general"] [job="ID:54, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:53, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:57.778 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:57.779 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=54]
[2022/07/15 15:01:57.779 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:57.779 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=26] [neededSchemaVersion=27] ["start time"=54.417µs] [phyTblIDs="[53]"] [actionTypes="[8]"]
[2022/07/15 15:01:57.779 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=27] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.column_stats_usage (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tcolumn_id BIGINT(64) NOT NULL,\n\t\tlast_used_at TIMESTAMP,\n\t\tlast_analyzed_at TIMESTAMP,\n\t\tPRIMARY KEY (table_id, column_id) CLUSTERED\n\t);"] [user=]
[2022/07/15 15:01:57.779 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:56, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:55, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:57.779 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:57.779 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:56, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:55, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:57.779 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.column_stats_usage (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tcolumn_id BIGINT(64) NOT NULL,\n\t\tlast_used_at TIMESTAMP,\n\t\tlast_analyzed_at TIMESTAMP,\n\t\tPRIMARY KEY (table_id, column_id) CLUSTERED\n\t);"]
[2022/07/15 15:01:57.779 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 41, tp general"] [job="ID:56, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:55, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:57.779 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:57.779 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 41, tp general"] [job="ID:56, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:55, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:57.779 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:57.780 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=56]
[2022/07/15 15:01:57.780 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:57.780 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=27] [neededSchemaVersion=28] ["start time"=58.25µs] [phyTblIDs="[55]"] [actionTypes="[8]"]
[2022/07/15 15:01:57.780 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=28] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.table_cache_meta (\n\t\ttid bigint(11) NOT NULL DEFAULT 0,\n\t\tlock_type enum('NONE','READ', 'INTEND', 'WRITE') NOT NULL DEFAULT 'NONE',\n\t\tlease bigint(20) NOT NULL DEFAULT 0,\n\t\toldReadLease bigint(20) NOT NULL DEFAULT 0,\n\t\tPRIMARY KEY (tid)\n\t);"] [user=]
[2022/07/15 15:01:57.780 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:58, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:57, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:57.78 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:57.780 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:58, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:57, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:57.78 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.table_cache_meta (\n\t\ttid bigint(11) NOT NULL DEFAULT 0,\n\t\tlock_type enum('NONE','READ', 'INTEND', 'WRITE') NOT NULL DEFAULT 'NONE',\n\t\tlease bigint(20) NOT NULL DEFAULT 0,\n\t\toldReadLease bigint(20) NOT NULL DEFAULT 0,\n\t\tPRIMARY KEY (tid)\n\t);"]
[2022/07/15 15:01:57.780 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 41, tp general"] [job="ID:58, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:57, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:57.78 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:57.780 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 41, tp general"] [job="ID:58, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:57, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:57.78 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:57.780 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=58]
[2022/07/15 15:01:57.780 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:57.780 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=28] [neededSchemaVersion=29] ["start time"=49.083µs] [phyTblIDs="[57]"] [actionTypes="[8]"]
[2022/07/15 15:01:57.780 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=29] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.analyze_options (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tsample_num BIGINT(64) NOT NULL DEFAULT 0,\n\t\tsample_rate DOUBLE NOT NULL DEFAULT -1,\n\t\tbuckets BIGINT(64) NOT NULL DEFAULT 0,\n\t\ttopn BIGINT(64) NOT NULL DEFAULT -1,\n\t\tcolumn_choice enum('DEFAULT','ALL','PREDICATE','LIST') NOT NULL DEFAULT 'DEFAULT',\n\t\tcolumn_ids TEXT(19372),\n\t\tPRIMARY KEY (table_id) CLUSTERED\n\t);"] [user=]
[2022/07/15 15:01:57.781 +08:00] [INFO] [ddl_api.go:999] ["Automatically convert BLOB(19372) to MEDIUMBLOB"]
[2022/07/15 15:01:57.781 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:60, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:59, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:57.781 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:57.781 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:60, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:59, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:57.781 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.analyze_options (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tsample_num BIGINT(64) NOT NULL DEFAULT 0,\n\t\tsample_rate DOUBLE NOT NULL DEFAULT -1,\n\t\tbuckets BIGINT(64) NOT NULL DEFAULT 0,\n\t\ttopn BIGINT(64) NOT NULL DEFAULT -1,\n\t\tcolumn_choice enum('DEFAULT','ALL','PREDICATE','LIST') NOT NULL DEFAULT 'DEFAULT',\n\t\tcolumn_ids TEXT(19372),\n\t\tPRIMARY KEY (table_id) CLUSTERED\n\t);"]
[2022/07/15 15:01:57.781 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 41, tp general"] [job="ID:60, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:59, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:57.781 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:57.781 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 41, tp general"] [job="ID:60, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:59, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:57.781 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:57.781 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=60]
[2022/07/15 15:01:57.781 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:57.782 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=29] [neededSchemaVersion=30] ["start time"=72.959µs] [phyTblIDs="[59]"] [actionTypes="[8]"]
[2022/07/15 15:01:57.782 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=30] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tstats_data longblob NOT NULL,\n\t\tseq_no bigint(64) NOT NULL comment 'sequence number of the gzipped data slice',\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version_seq (table_id, version, seq_no),\n\t\tKEY table_create_time (table_id, create_time, seq_no)\n\t);"] [user=]
[2022/07/15 15:01:57.782 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:62, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:61, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:57.782 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:57.782 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:62, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:61, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:57.782 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tstats_data longblob NOT NULL,\n\t\tseq_no bigint(64) NOT NULL comment 'sequence number of the gzipped data slice',\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version_seq (table_id, version, seq_no),\n\t\tKEY table_create_time (table_id, create_time, seq_no)\n\t);"]
[2022/07/15 15:01:57.782 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 41, tp general"] [job="ID:62, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:61, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:57.782 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:57.782 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 41, tp general"] [job="ID:62, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:61, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:57.782 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:57.782 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=62]
[2022/07/15 15:01:57.782 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:57.782 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=30] [neededSchemaVersion=31] ["start time"=79.667µs] [phyTblIDs="[61]"] [actionTypes="[8]"]
[2022/07/15 15:01:57.783 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=31] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_meta_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL,\n\t\tcount bigint(64) NOT NULL,\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version (table_id, version),\n\t\tKEY table_create_time (table_id, create_time)\n\t);"] [user=]
[2022/07/15 15:01:57.783 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:64, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:63, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:57.783 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:57.783 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:64, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:63, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:57.783 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_meta_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL,\n\t\tcount bigint(64) NOT NULL,\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version (table_id, version),\n\t\tKEY table_create_time (table_id, create_time)\n\t);"]
[2022/07/15 15:01:57.783 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 41, tp general"] [job="ID:64, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:63, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:57.783 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:57.783 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 41, tp general"] [job="ID:64, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:63, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:57.783 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:57.783 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=64]
[2022/07/15 15:01:57.783 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:57.783 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=31] [neededSchemaVersion=32] ["start time"=72.75µs] [phyTblIDs="[63]"] [actionTypes="[8]"]
[2022/07/15 15:01:57.783 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=32] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.analyze_jobs (\n\t\tid BIGINT(64) UNSIGNED NOT NULL AUTO_INCREMENT,\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\ttable_schema CHAR(64) NOT NULL DEFAULT '',\n\t\ttable_name CHAR(64) NOT NULL DEFAULT '',\n\t\tpartition_name CHAR(64) NOT NULL DEFAULT '',\n\t\tjob_info TEXT NOT NULL,\n\t\tprocessed_rows BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tstart_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tstate ENUM('pending', 'running', 'finished', 'failed') NOT NULL,\n\t\tfail_reason TEXT,\n\t\tinstance VARCHAR(512) NOT NULL comment 'address of the TiDB instance executing the analyze job',\n\t\tprocess_id BIGINT(64) UNSIGNED comment 'ID of the process executing the analyze job',\n\t\tPRIMARY KEY (id),\n\t\tKEY (update_time)\n\t);"] [user=]
[2022/07/15 15:01:57.784 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:66, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:65, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:57.784 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:57.784 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:66, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:65, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:57.784 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.analyze_jobs (\n\t\tid BIGINT(64) UNSIGNED NOT NULL AUTO_INCREMENT,\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\ttable_schema CHAR(64) NOT NULL DEFAULT '',\n\t\ttable_name CHAR(64) NOT NULL DEFAULT '',\n\t\tpartition_name CHAR(64) NOT NULL DEFAULT '',\n\t\tjob_info TEXT NOT NULL,\n\t\tprocessed_rows BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tstart_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tstate ENUM('pending', 'running', 'finished', 'failed') NOT NULL,\n\t\tfail_reason TEXT,\n\t\tinstance VARCHAR(512) NOT NULL comment 'address of the TiDB instance executing the analyze job',\n\t\tprocess_id BIGINT(64) UNSIGNED comment 'ID of the process executing the analyze job',\n\t\tPRIMARY KEY (id),\n\t\tKEY (update_time)\n\t);"]
[2022/07/15 15:01:57.784 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 41, tp general"] [job="ID:66, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:65, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:57.784 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:57.784 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 41, tp general"] [job="ID:66, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:65, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:57.784 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:57.785 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=66]
[2022/07/15 15:01:57.785 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:57.785 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=32] [neededSchemaVersion=33] ["start time"=110.75µs] [phyTblIDs="[65]"] [actionTypes="[8]"]
[2022/07/15 15:01:57.785 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=33] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.advisory_locks (\n\t\tlock_name VARCHAR(64) NOT NULL PRIMARY KEY\n\t);"] [user=]
[2022/07/15 15:01:57.785 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:68, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:67, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:57.785 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:57.785 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:68, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:67, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:57.785 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.advisory_locks (\n\t\tlock_name VARCHAR(64) NOT NULL PRIMARY KEY\n\t);"]
[2022/07/15 15:01:57.785 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 41, tp general"] [job="ID:68, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:67, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:57.785 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:57.785 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 41, tp general"] [job="ID:68, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:67, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:57.785 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:57.786 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=68]
[2022/07/15 15:01:57.786 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:57.786 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=33] [neededSchemaVersion=34] ["start time"=39.834µs] [phyTblIDs="[67]"] [actionTypes="[8]"]
[2022/07/15 15:01:57.791 +08:00] [INFO] [bootstrap.go:448] ["bootstrap successful"] ["take time"=40.102625ms]
[2022/07/15 15:01:57.791 +08:00] [INFO] [ddl_worker.go:158] ["[ddl] DDL worker closed"] [worker="worker 41, tp general"] ["take time"=125ns]
[2022/07/15 15:01:57.791 +08:00] [INFO] [ddl_worker.go:158] ["[ddl] DDL worker closed"] [worker="worker 42, tp add index"] ["take time"=125ns]
[2022/07/15 15:01:57.791 +08:00] [INFO] [delete_range.go:148] ["[ddl] closing delRange"]
[2022/07/15 15:01:57.791 +08:00] [INFO] [session_pool.go:94] ["[ddl] closing sessionPool"]
[2022/07/15 15:01:57.791 +08:00] [INFO] [ddl.go:576] ["[ddl] DDL closed"] [ID=11f8679e-1a0f-4142-8d38-9ef0f2720aa8] ["take time"=66.75µs]
[2022/07/15 15:01:57.791 +08:00] [INFO] [ddl.go:464] ["[ddl] stop DDL"] [ID=11f8679e-1a0f-4142-8d38-9ef0f2720aa8]
[2022/07/15 15:01:57.792 +08:00] [INFO] [domain.go:498] ["topNSlowQueryLoop exited."]
[2022/07/15 15:01:57.792 +08:00] [INFO] [domain.go:575] ["topologySyncerKeeper exited."]
[2022/07/15 15:01:57.792 +08:00] [INFO] [domain.go:552] ["globalConfigSyncerKeeper exited."]
[2022/07/15 15:01:57.792 +08:00] [INFO] [domain.go:527] ["infoSyncerKeeper exited."]
[2022/07/15 15:01:57.792 +08:00] [INFO] [domain.go:733] ["domain closed"] ["take time"=128.584µs]
[2022/07/15 15:01:57.792 +08:00] [INFO] [tidb.go:74] ["new domain"] [store=46ef72da-db68-42b3-afbe-24a6b1035796] ["ddl lease"=0s] ["stats lease"=-1ns] ["index usage sync lease"=0s]
[2022/07/15 15:01:57.794 +08:00] [INFO] [domain.go:178] ["full load InfoSchema success"] [currentSchemaVersion=0] [neededSchemaVersion=34] ["start time"=2.3895ms]
[2022/07/15 15:01:57.794 +08:00] [INFO] [domain.go:449] ["full load and reset schema validator"]
[2022/07/15 15:01:57.794 +08:00] [INFO] [ddl.go:483] ["[ddl] start DDL"] [ID=d1465162-08f6-423f-9e12-ec807bc0ba2f] [runWorker=true]
[2022/07/15 15:01:57.794 +08:00] [INFO] [ddl.go:472] ["[ddl] start delRangeManager OK"] ["is a emulator"=true]
[2022/07/15 15:01:57.794 +08:00] [INFO] [delete_range.go:158] ["[ddl] start delRange emulator"]
[2022/07/15 15:01:57.794 +08:00] [INFO] [ddl_worker.go:164] ["[ddl] start DDL worker"] [worker="worker 43, tp general"]
[2022/07/15 15:01:57.794 +08:00] [INFO] [ddl_worker.go:164] ["[ddl] start DDL worker"] [worker="worker 44, tp add index"]
[2022/07/15 15:01:57.795 +08:00] [WARN] [sysvar_cache.go:53] ["sysvar cache is empty, triggering rebuild"]
[2022/07/15 15:01:57.798 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=11] [schemaVersion=34] [cur_db=test] [sql="drop table if exists t"] [user=]
[2022/07/15 15:01:57.798 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=11] [schemaVersion=34] [cur_db=test] [sql="create table t(a int not null primary key, b int not null)"] [user=]
[2022/07/15 15:01:57.798 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:70, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:57.798 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:57.798 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:70, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:57.798 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="create table t(a int not null primary key, b int not null)"]
[2022/07/15 15:01:57.798 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 43, tp general"] [job="ID:70, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:57.798 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:57.799 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 43, tp general"] [job="ID:70, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:69, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:57.798 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:57.799 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=70]
[2022/07/15 15:01:57.799 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:57.799 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=34] [neededSchemaVersion=35] ["start time"=38µs] [phyTblIDs="[69]"] [actionTypes="[8]"]
[2022/07/15 15:01:57.799 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=11] [schemaVersion=35] [cur_db=test] [sql="alter table t set tiflash replica 1"] [user=]
[2022/07/15 15:01:57.799 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:71, Type:set tiflash replica, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:57.799 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:57.799 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:71, Type:set tiflash replica, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:57.799 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="alter table t set tiflash replica 1"]
[2022/07/15 15:01:57.799 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 43, tp general"] [job="ID:71, Type:set tiflash replica, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:57.799 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:57.799 +08:00] [INFO] [table.go:1109] ["Set TiFlash replica pd rule"] [tableID=69]
[2022/07/15 15:01:57.799 +08:00] [INFO] [info.go:1051] [ConfigureTiFlashPDForTable] [tableID=69] [count=1]
[2022/07/15 15:01:57.799 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 43, tp general"] [job="ID:71, Type:set tiflash replica, State:synced, SchemaState:public, SchemaID:1, TableID:69, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:57.799 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:57.799 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=71]
[2022/07/15 15:01:57.799 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:57.799 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=35] [neededSchemaVersion=36] ["start time"=40.542µs] [phyTblIDs="[]"] [actionTypes="[]"]
[2022/07/15 15:01:57.800 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:72, Type:update tiflash replica status, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:2, start time: 2022-07-15 15:01:57.8 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:57.800 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:72, Type:update tiflash replica status, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:2, start time: 2022-07-15 15:01:57.8 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query=]
[2022/07/15 15:01:57.800 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 43, tp general"] [job="ID:72, Type:update tiflash replica status, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:57.8 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:57.800 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 43, tp general"] [job="ID:72, Type:update tiflash replica status, State:synced, SchemaState:public, SchemaID:1, TableID:69, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:57.8 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:57.800 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=72]
[2022/07/15 15:01:57.800 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:57.800 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=36] [neededSchemaVersion=37] ["start time"=36µs] [phyTblIDs="[]"] [actionTypes="[]"]
[2022/07/15 15:01:57.800 +08:00] [INFO] [fragment.go:77] ["Mpp will generate tasks"] [plan=Table(t)->HashAgg->Send()]
[2022/07/15 15:01:57.800 +08:00] [INFO] [batch_coprocessor.go:325] ["detecting available mpp stores"]
[2022/07/15 15:01:57.800 +08:00] [WARN] [batch_coprocessor.go:359] ["Store is not ready"] ["store address"=tiflash1] ["err message"="not support this request type MPPAlive"]
[2022/07/15 15:01:57.800 +08:00] [WARN] [batch_coprocessor.go:359] ["Store is not ready"] ["store address"=tiflash0] ["err message"="not support this request type MPPAlive"]
[2022/07/15 15:01:57.800 +08:00] [WARN] [batch_coprocessor.go:400] ["Meet regions that don't have an available store. Give up balancing"]
[2022/07/15 15:01:57.800 +08:00] [INFO] [mpp_gather.go:80] ["Dispatch mpp task"] [timestamp=434600284730163213] [ID=1] [address=tiflash0] [plan="Table(t)->HashAgg->Send(-1, )"]
[2022/07/15 15:01:57.800 +08:00] [INFO] [region_cache.go:194] ["Send fail for 1 regions, will switch region peer for these regions. Only first 1 regions will be logged if the log level is higher than Debug"]
[2022/07/15 15:01:57.800 +08:00] [INFO] [region_cache.go:1016] ["mark store's regions need be refill"] [store=tiflash0]
[2022/07/15 15:01:57.800 +08:00] [INFO] [region_cache.go:999] ["switch region tiflash peer to next due to send request fail"] [region="{ region id: 2, ver: 1, confVer: 3 }"] [needReload=true] [error="rpc error"] [errorVerbose="rpc error\ngithub.com/pingcap/tidb/store/mockstore/unistore.(*RPCClient).SendRequest\n\t/Users/hongyunyan/Desktop/tidb/store/mockstore/unistore/rpc.go:272\ngithub.com/pingcap/tidb/store/mockstore.(*clientRedirector).SendRequest\n\t/Users/hongyunyan/Desktop/tidb/store/mockstore/redirector.go:72\ngithub.com/tikv/client-go/v2/internal/client.interceptedClient.SendRequest.func1\n\t/Users/hongyunyan/go/pkg/mod/github.com/tikv/client-go/v2@v2.0.1-0.20220627063500-947d923945fd/internal/client/client_interceptor.go:39\ngithub.com/pingcap/tidb/util/topsql/stmtstats.(*KvExecCounter).RPCInterceptor.func1.1\n\t/Users/hongyunyan/Desktop/tidb/util/topsql/stmtstats/kv_exec_count.go:57\ngithub.com/tikv/client-go/v2/internal/client.interceptedClient.SendRequest\n\t/Users/hongyunyan/go/pkg/mod/github.com/tikv/client-go/v2@v2.0.1-0.20220627063500-947d923945fd/internal/client/client_interceptor.go:40\ngithub.com/tikv/client-go/v2/internal/client.reqCollapse.SendRequest\n\t/Users/hongyunyan/go/pkg/mod/github.com/tikv/client-go/v2@v2.0.1-0.20220627063500-947d923945fd/internal/client/client_collapse.go:74\ngithub.com/pingcap/tidb/store/copr.(*tikvClient).SendRequest\n\t/Users/hongyunyan/Desktop/tidb/store/copr/store.go:69\ngithub.com/pingcap/tidb/store/copr.(*RegionBatchRequestSender).SendReqToAddr\n\t/Users/hongyunyan/Desktop/tidb/store/copr/batch_request_sender.go:76\ngithub.com/pingcap/tidb/store/copr.(*mppIterator).handleDispatchReq\n\t/Users/hongyunyan/Desktop/tidb/store/copr/mpp.go:250\ngithub.com/pingcap/tidb/store/copr.(*mppIterator).run.func1\n\t/Users/hongyunyan/Desktop/tidb/store/copr/mpp.go:187\nruntime.goexit\n\t/opt/homebrew/Cellar/go/1.18.3/libexec/src/runtime/asm_arm64.s:1263"]
[2022/07/15 15:01:57.869 +08:00] [WARN] [mpp.go:255] ["mpp dispatch meet io error"] [error="rpc error"] [timestamp=434600284730163213] [task=1]
[2022/07/15 15:01:57.869 +08:00] [WARN] [mpp.go:275] ["mpp dispatch meet error and retrying"] [error="rpc error"] [errorVerbose="rpc error\ngithub.com/pingcap/tidb/store/mockstore/unistore.(*RPCClient).SendRequest\n\t/Users/hongyunyan/Desktop/tidb/store/mockstore/unistore/rpc.go:272\ngithub.com/pingcap/tidb/store/mockstore.(*clientRedirector).SendRequest\n\t/Users/hongyunyan/Desktop/tidb/store/mockstore/redirector.go:72\ngithub.com/tikv/client-go/v2/internal/client.interceptedClient.SendRequest.func1\n\t/Users/hongyunyan/go/pkg/mod/github.com/tikv/client-go/v2@v2.0.1-0.20220627063500-947d923945fd/internal/client/client_interceptor.go:39\ngithub.com/pingcap/tidb/util/topsql/stmtstats.(*KvExecCounter).RPCInterceptor.func1.1\n\t/Users/hongyunyan/Desktop/tidb/util/topsql/stmtstats/kv_exec_count.go:57\ngithub.com/tikv/client-go/v2/internal/client.interceptedClient.SendRequest\n\t/Users/hongyunyan/go/pkg/mod/github.com/tikv/client-go/v2@v2.0.1-0.20220627063500-947d923945fd/internal/client/client_interceptor.go:40\ngithub.com/tikv/client-go/v2/internal/client.reqCollapse.SendRequest\n\t/Users/hongyunyan/go/pkg/mod/github.com/tikv/client-go/v2@v2.0.1-0.20220627063500-947d923945fd/internal/client/client_collapse.go:74\ngithub.com/pingcap/tidb/store/copr.(*tikvClient).SendRequest\n\t/Users/hongyunyan/Desktop/tidb/store/copr/store.go:69\ngithub.com/pingcap/tidb/store/copr.(*RegionBatchRequestSender).SendReqToAddr\n\t/Users/hongyunyan/Desktop/tidb/store/copr/batch_request_sender.go:76\ngithub.com/pingcap/tidb/store/copr.(*mppIterator).handleDispatchReq\n\t/Users/hongyunyan/Desktop/tidb/store/copr/mpp.go:250\ngithub.com/pingcap/tidb/store/copr.(*mppIterator).run.func1\n\t/Users/hongyunyan/Desktop/tidb/store/copr/mpp.go:187\nruntime.goexit\n\t/opt/homebrew/Cellar/go/1.18.3/libexec/src/runtime/asm_arm64.s:1263"] [timestamp=434600284730163213] [task=1]
[2022/07/15 15:01:57.869 +08:00] [INFO] [region_cache.go:194] ["Send fail for 1 regions, will switch region peer for these regions. Only first 1 regions will be logged if the log level is higher than Debug"]
[2022/07/15 15:01:57.869 +08:00] [INFO] [region_cache.go:999] ["switch region tiflash peer to next due to send request fail"] [region="{ region id: 2, ver: 1, confVer: 3 }"] [needReload=true] [error="rpc error"] [errorVerbose="rpc error\ngithub.com/pingcap/tidb/store/mockstore/unistore.(*RPCClient).SendRequest\n\t/Users/hongyunyan/Desktop/tidb/store/mockstore/unistore/rpc.go:272\ngithub.com/pingcap/tidb/store/mockstore.(*clientRedirector).SendRequest\n\t/Users/hongyunyan/Desktop/tidb/store/mockstore/redirector.go:72\ngithub.com/tikv/client-go/v2/internal/client.interceptedClient.SendRequest.func1\n\t/Users/hongyunyan/go/pkg/mod/github.com/tikv/client-go/v2@v2.0.1-0.20220627063500-947d923945fd/internal/client/client_interceptor.go:39\ngithub.com/pingcap/tidb/util/topsql/stmtstats.(*KvExecCounter).RPCInterceptor.func1.1\n\t/Users/hongyunyan/Desktop/tidb/util/topsql/stmtstats/kv_exec_count.go:57\ngithub.com/tikv/client-go/v2/internal/client.interceptedClient.SendRequest\n\t/Users/hongyunyan/go/pkg/mod/github.com/tikv/client-go/v2@v2.0.1-0.20220627063500-947d923945fd/internal/client/client_interceptor.go:40\ngithub.com/tikv/client-go/v2/internal/client.reqCollapse.SendRequest\n\t/Users/hongyunyan/go/pkg/mod/github.com/tikv/client-go/v2@v2.0.1-0.20220627063500-947d923945fd/internal/client/client_collapse.go:74\ngithub.com/pingcap/tidb/store/copr.(*tikvClient).SendRequest\n\t/Users/hongyunyan/Desktop/tidb/store/copr/store.go:69\ngithub.com/pingcap/tidb/store/copr.(*RegionBatchRequestSender).SendReqToAddr\n\t/Users/hongyunyan/Desktop/tidb/store/copr/batch_request_sender.go:76\ngithub.com/pingcap/tidb/store/copr.(*mppIterator).handleDispatchReq\n\t/Users/hongyunyan/Desktop/tidb/store/copr/mpp.go:250\ngithub.com/pingcap/tidb/store/copr.(*mppIterator).handleDispatchReq\n\t/Users/hongyunyan/Desktop/tidb/store/copr/mpp.go:276\ngithub.com/pingcap/tidb/store/copr.(*mppIterator).run.func1\n\t/Users/hongyunyan/Desktop/tidb/store/copr/mpp.go:187\nruntime.goexit\n\t/opt/homebrew/Cellar/go/1.18.3/libexec/src/runtime/asm_arm64.s:1263"]
[2022/07/15 15:01:58.066 +08:00] [WARN] [mpp.go:255] ["mpp dispatch meet io error"] [error="rpc error"] [timestamp=434600284730163213] [task=1]
[2022/07/15 15:01:58.066 +08:00] [WARN] [mpp.go:275] ["mpp dispatch meet error and retrying"] [error="rpc error"] [errorVerbose="rpc error\ngithub.com/pingcap/tidb/store/mockstore/unistore.(*RPCClient).SendRequest\n\t/Users/hongyunyan/Desktop/tidb/store/mockstore/unistore/rpc.go:272\ngithub.com/pingcap/tidb/store/mockstore.(*clientRedirector).SendRequest\n\t/Users/hongyunyan/Desktop/tidb/store/mockstore/redirector.go:72\ngithub.com/tikv/client-go/v2/internal/client.interceptedClient.SendRequest.func1\n\t/Users/hongyunyan/go/pkg/mod/github.com/tikv/client-go/v2@v2.0.1-0.20220627063500-947d923945fd/internal/client/client_interceptor.go:39\ngithub.com/pingcap/tidb/util/topsql/stmtstats.(*KvExecCounter).RPCInterceptor.func1.1\n\t/Users/hongyunyan/Desktop/tidb/util/topsql/stmtstats/kv_exec_count.go:57\ngithub.com/tikv/client-go/v2/internal/client.interceptedClient.SendRequest\n\t/Users/hongyunyan/go/pkg/mod/github.com/tikv/client-go/v2@v2.0.1-0.20220627063500-947d923945fd/internal/client/client_interceptor.go:40\ngithub.com/tikv/client-go/v2/internal/client.reqCollapse.SendRequest\n\t/Users/hongyunyan/go/pkg/mod/github.com/tikv/client-go/v2@v2.0.1-0.20220627063500-947d923945fd/internal/client/client_collapse.go:74\ngithub.com/pingcap/tidb/store/copr.(*tikvClient).SendRequest\n\t/Users/hongyunyan/Desktop/tidb/store/copr/store.go:69\ngithub.com/pingcap/tidb/store/copr.(*RegionBatchRequestSender).SendReqToAddr\n\t/Users/hongyunyan/Desktop/tidb/store/copr/batch_request_sender.go:76\ngithub.com/pingcap/tidb/store/copr.(*mppIterator).handleDispatchReq\n\t/Users/hongyunyan/Desktop/tidb/store/copr/mpp.go:250\ngithub.com/pingcap/tidb/store/copr.(*mppIterator).handleDispatchReq\n\t/Users/hongyunyan/Desktop/tidb/store/copr/mpp.go:276\ngithub.com/pingcap/tidb/store/copr.(*mppIterator).run.func1\n\t/Users/hongyunyan/Desktop/tidb/store/copr/mpp.go:187\nruntime.goexit\n\t/opt/homebrew/Cellar/go/1.18.3/libexec/src/runtime/asm_arm64.s:1263"] [timestamp=434600284730163213] [task=1]
[2022/07/15 15:01:58.066 +08:00] [INFO] [region_cache.go:194] ["Send fail for 1 regions, will switch region peer for these regions. Only first 1 regions will be logged if the log level is higher than Debug"]
[2022/07/15 15:01:58.066 +08:00] [INFO] [region_cache.go:999] ["switch region tiflash peer to next due to send request fail"] [region="{ region id: 2, ver: 1, confVer: 3 }"] [needReload=true] [error="rpc error"] [errorVerbose="rpc error\ngithub.com/pingcap/tidb/store/mockstore/unistore.(*RPCClient).SendRequest\n\t/Users/hongyunyan/Desktop/tidb/store/mockstore/unistore/rpc.go:272\ngithub.com/pingcap/tidb/store/mockstore.(*clientRedirector).SendRequest\n\t/Users/hongyunyan/Desktop/tidb/store/mockstore/redirector.go:72\ngithub.com/tikv/client-go/v2/internal/client.interceptedClient.SendRequest.func1\n\t/Users/hongyunyan/go/pkg/mod/github.com/tikv/client-go/v2@v2.0.1-0.20220627063500-947d923945fd/internal/client/client_interceptor.go:39\ngithub.com/pingcap/tidb/util/topsql/stmtstats.(*KvExecCounter).RPCInterceptor.func1.1\n\t/Users/hongyunyan/Desktop/tidb/util/topsql/stmtstats/kv_exec_count.go:57\ngithub.com/tikv/client-go/v2/internal/client.interceptedClient.SendRequest\n\t/Users/hongyunyan/go/pkg/mod/github.com/tikv/client-go/v2@v2.0.1-0.20220627063500-947d923945fd/internal/client/client_interceptor.go:40\ngithub.com/tikv/client-go/v2/internal/client.reqCollapse.SendRequest\n\t/Users/hongyunyan/go/pkg/mod/github.com/tikv/client-go/v2@v2.0.1-0.20220627063500-947d923945fd/internal/client/client_collapse.go:74\ngithub.com/pingcap/tidb/store/copr.(*tikvClient).SendRequest\n\t/Users/hongyunyan/Desktop/tidb/store/copr/store.go:69\ngithub.com/pingcap/tidb/store/copr.(*RegionBatchRequestSender).SendReqToAddr\n\t/Users/hongyunyan/Desktop/tidb/store/copr/batch_request_sender.go:76\ngithub.com/pingcap/tidb/store/copr.(*mppIterator).handleDispatchReq\n\t/Users/hongyunyan/Desktop/tidb/store/copr/mpp.go:250\ngithub.com/pingcap/tidb/store/copr.(*mppIterator).handleDispatchReq\n\t/Users/hongyunyan/Desktop/tidb/store/copr/mpp.go:276\ngithub.com/pingcap/tidb/store/copr.(*mppIterator).handleDispatchReq\n\t/Users/hongyunyan/Desktop/tidb/store/copr/mpp.go:276\ngithub.com/pingcap/tidb/store/copr.(*mppIterator).run.func1\n\t/Users/hongyunyan/Desktop/tidb/store/copr/mpp.go:187\nruntime.goexit\n\t/opt/homebrew/Cellar/go/1.18.3/libexec/src/runtime/asm_arm64.s:1263"]
[2022/07/15 15:01:58.455 +08:00] [WARN] [mpp.go:255] ["mpp dispatch meet io error"] [error="rpc error"] [timestamp=434600284730163213] [task=1]
[2022/07/15 15:01:58.455 +08:00] [WARN] [mpp.go:275] ["mpp dispatch meet error and retrying"] [error="rpc error"] [errorVerbose="rpc error\ngithub.com/pingcap/tidb/store/mockstore/unistore.(*RPCClient).SendRequest\n\t/Users/hongyunyan/Desktop/tidb/store/mockstore/unistore/rpc.go:272\ngithub.com/pingcap/tidb/store/mockstore.(*clientRedirector).SendRequest\n\t/Users/hongyunyan/Desktop/tidb/store/mockstore/redirector.go:72\ngithub.com/tikv/client-go/v2/internal/client.interceptedClient.SendRequest.func1\n\t/Users/hongyunyan/go/pkg/mod/github.com/tikv/client-go/v2@v2.0.1-0.20220627063500-947d923945fd/internal/client/client_interceptor.go:39\ngithub.com/pingcap/tidb/util/topsql/stmtstats.(*KvExecCounter).RPCInterceptor.func1.1\n\t/Users/hongyunyan/Desktop/tidb/util/topsql/stmtstats/kv_exec_count.go:57\ngithub.com/tikv/client-go/v2/internal/client.interceptedClient.SendRequest\n\t/Users/hongyunyan/go/pkg/mod/github.com/tikv/client-go/v2@v2.0.1-0.20220627063500-947d923945fd/internal/client/client_interceptor.go:40\ngithub.com/tikv/client-go/v2/internal/client.reqCollapse.SendRequest\n\t/Users/hongyunyan/go/pkg/mod/github.com/tikv/client-go/v2@v2.0.1-0.20220627063500-947d923945fd/internal/client/client_collapse.go:74\ngithub.com/pingcap/tidb/store/copr.(*tikvClient).SendRequest\n\t/Users/hongyunyan/Desktop/tidb/store/copr/store.go:69\ngithub.com/pingcap/tidb/store/copr.(*RegionBatchRequestSender).SendReqToAddr\n\t/Users/hongyunyan/Desktop/tidb/store/copr/batch_request_sender.go:76\ngithub.com/pingcap/tidb/store/copr.(*mppIterator).handleDispatchReq\n\t/Users/hongyunyan/Desktop/tidb/store/copr/mpp.go:250\ngithub.com/pingcap/tidb/store/copr.(*mppIterator).handleDispatchReq\n\t/Users/hongyunyan/Desktop/tidb/store/copr/mpp.go:276\ngithub.com/pingcap/tidb/store/copr.(*mppIterator).handleDispatchReq\n\t/Users/hongyunyan/Desktop/tidb/store/copr/mpp.go:276\ngithub.com/pingcap/tidb/store/copr.(*mppIterator).run.func1\n\t/Users/hongyunyan/Desktop/tidb/store/copr/mpp.go:187\nruntime.goexit\n\t/opt/homebrew/Cellar/go/1.18.3/libexec/src/runtime/asm_arm64.s:1263"] [timestamp=434600284730163213] [task=1]
[2022/07/15 15:01:59.455 +08:00] [WARN] [adapter.go:1067] ["# Txn_start_ts: 434600284730163213\n# Conn_ID: 11\n# Query_time: 1.655053334\n# Parse_time: 0.000009625\n# Compile_time: 0.00010425\n# Rewrite_time: 0.0000175\n# Optimize_time: 0.000073167\n# Wait_TS: 0.000002\n# Cop_time: 1.654709416 Backoff_time: 0.653 Request_count: 1\n# DB: test\n# Is_internal: false\n# Digest: 8e2dde9df445b943a04e3e717096baaafc4f20e463c06b0b7d16e03f529d62d6\n# Stats: t:pseudo\n# Num_cop_tasks: 1\n# Cop_proc_avg: 0 Cop_proc_addr: tiflash0\n# Cop_wait_avg: 0 Cop_wait_addr: tiflash0\n# Cop_backoff_tiflashRPC_total_times: 3 Cop_backoff_tiflashRPC_total_time: 0.653\n# Mem_max: 10100\n# Prepared: false\n# Plan_from_cache: false\n# Plan_from_binding: false\n# Has_more_results: false\n# KV_total: 0\n# PD_total: 0\n# Backoff_total: 0\n# Write_sql_response_total: 0\n# Result_rows: 0\n# Succ: true\n# IsExplicitTxn: false\n# Plan: tidb_decode_plan('1QGIMAk2XzIxCTAJMQlmdW5jczpjb3VudChDb2x1bW4jNSktPkMJCyAzCjEJMzFfMjMFLJBkYXRhOkV4Y2hhbmdlU2VuZGVyXzIyCjIJNDlfMjIJMV8xCTEJESBYVHlwZTogUGFzc1Rocm91Z2gKMwk2XzkNJi53AAAxGXAgNQo0CTQzXzIwCSewMDAwMAl0YWJsZTp0LCBrZWVwIG9yZGVyOmZhbHNlLCBzdGF0czpwc2V1ZG8K')\n# Plan_digest: c4b8117114f52a5899017691fd901435f4278c08cf00f994b16812e17431d9b1\nuse test;\nselect count(*) from t;"]
[2022/07/15 15:01:59.455 +08:00] [INFO] [ddl_worker.go:158] ["[ddl] DDL worker closed"] [worker="worker 43, tp general"] ["take time"=375ns]
[2022/07/15 15:01:59.455 +08:00] [INFO] [ddl_worker.go:158] ["[ddl] DDL worker closed"] [worker="worker 44, tp add index"] ["take time"=41ns]
[2022/07/15 15:01:59.455 +08:00] [INFO] [delete_range.go:148] ["[ddl] closing delRange"]
[2022/07/15 15:01:59.455 +08:00] [INFO] [session_pool.go:94] ["[ddl] closing sessionPool"]
[2022/07/15 15:01:59.455 +08:00] [INFO] [ddl.go:576] ["[ddl] DDL closed"] [ID=d1465162-08f6-423f-9e12-ec807bc0ba2f] ["take time"=58.458µs]
[2022/07/15 15:01:59.455 +08:00] [INFO] [ddl.go:464] ["[ddl] stop DDL"] [ID=d1465162-08f6-423f-9e12-ec807bc0ba2f]
[2022/07/15 15:01:59.455 +08:00] [INFO] [domain.go:498] ["topNSlowQueryLoop exited."]
[2022/07/15 15:01:59.455 +08:00] [INFO] [domain.go:1082] ["LoadSysVarCacheLoop exited."]
[2022/07/15 15:01:59.455 +08:00] [INFO] [domain.go:1032] ["loadPrivilegeInLoop exited."]
[2022/07/15 15:01:59.455 +08:00] [INFO] [domain.go:1203] ["handleEvolvePlanTasksLoop exited."]
[2022/07/15 15:01:59.455 +08:00] [INFO] [domain.go:1160] ["globalBindHandleWorkerLoop exited."]
[2022/07/15 15:01:59.455 +08:00] [INFO] [domain.go:1288] ["dumpFileGcChecker exited."]
[2022/07/15 15:01:59.455 +08:00] [INFO] [domain.go:527] ["infoSyncerKeeper exited."]
[2022/07/15 15:01:59.455 +08:00] [INFO] [domain.go:552] ["globalConfigSyncerKeeper exited."]
[2022/07/15 15:01:59.455 +08:00] [INFO] [handle_hist.go:156] ["SubLoadWorker exited."]
[2022/07/15 15:01:59.455 +08:00] [INFO] [handle_hist.go:156] ["SubLoadWorker exited."]
[2022/07/15 15:01:59.455 +08:00] [INFO] [domain.go:575] ["topologySyncerKeeper exited."]
[2022/07/15 15:01:59.455 +08:00] [INFO] [handle_hist.go:156] ["SubLoadWorker exited."]
[2022/07/15 15:01:59.455 +08:00] [INFO] [handle_hist.go:156] ["SubLoadWorker exited."]
[2022/07/15 15:01:59.455 +08:00] [INFO] [handle_hist.go:156] ["SubLoadWorker exited."]
[2022/07/15 15:01:59.456 +08:00] [INFO] [domain.go:733] ["domain closed"] ["take time"=176.375µs]
[2022/07/15 15:01:59.474 +08:00] [INFO] [db.go:567] ["Closing database"]
[2022/07/15 15:01:59.475 +08:00] [INFO] [db.go:592] ["Memtable flushed"]
[2022/07/15 15:01:59.475 +08:00] [INFO] [db.go:596] ["Compaction finished"]
[2022/07/15 15:01:59.475 +08:00] [INFO] [db.go:615] ["BlobManager finished"]
[2022/07/15 15:01:59.475 +08:00] [INFO] [db.go:619] ["ResourceManager finished"]
[2022/07/15 15:01:59.475 +08:00] [INFO] [db.go:625] ["Waiting for closer"]
[2022/07/15 15:01:59.587 +08:00] [INFO] [tidb.go:74] ["new domain"] [store=d4948124-de66-4521-9122-94c4bef502db] ["ddl lease"=0s] ["stats lease"=-1ns] ["index usage sync lease"=0s]
[2022/07/15 15:01:59.588 +08:00] [INFO] [domain.go:178] ["full load InfoSchema success"] [currentSchemaVersion=0] [neededSchemaVersion=0] ["start time"=495.5µs]
[2022/07/15 15:01:59.588 +08:00] [INFO] [domain.go:449] ["full load and reset schema validator"]
[2022/07/15 15:01:59.588 +08:00] [INFO] [ddl.go:483] ["[ddl] start DDL"] [ID=7ffadb5b-907f-4565-8edc-dc6cace6e3f4] [runWorker=true]
[2022/07/15 15:01:59.588 +08:00] [INFO] [ddl.go:472] ["[ddl] start delRangeManager OK"] ["is a emulator"=true]
[2022/07/15 15:01:59.588 +08:00] [INFO] [delete_range.go:158] ["[ddl] start delRange emulator"]
[2022/07/15 15:01:59.588 +08:00] [INFO] [ddl_worker.go:164] ["[ddl] start DDL worker"] [worker="worker 46, tp add index"]
[2022/07/15 15:01:59.588 +08:00] [INFO] [ddl_worker.go:164] ["[ddl] start DDL worker"] [worker="worker 45, tp general"]
[2022/07/15 15:01:59.588 +08:00] [INFO] [tidb.go:268] ["rollbackTxn called due to ddl/autocommit failure"]
[2022/07/15 15:01:59.588 +08:00] [WARN] [session.go:1983] ["run statement failed"] [schemaVersion=0] [error="[schema:1049]Unknown database 'mysql'"] [errorVerbose="[schema:1049]Unknown database 'mysql'\ngithub.com/pingcap/errors.AddStack\n\t/Users/hongyunyan/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20211224045212-9687c2b0f87c/errors.go:174\ngithub.com/pingcap/errors.(*Error).GenWithStackByArgs\n\t/Users/hongyunyan/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20211224045212-9687c2b0f87c/normalize.go:164\ngithub.com/pingcap/tidb/executor.(*SimpleExec).executeUse\n\t/Users/hongyunyan/Desktop/tidb/executor/simple.go:571\ngithub.com/pingcap/tidb/executor.(*SimpleExec).Next\n\t/Users/hongyunyan/Desktop/tidb/executor/simple.go:131\ngithub.com/pingcap/tidb/executor.Next\n\t/Users/hongyunyan/Desktop/tidb/executor/executor.go:319\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelayExecutor\n\t/Users/hongyunyan/Desktop/tidb/executor/adapter.go:673\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelay\n\t/Users/hongyunyan/Desktop/tidb/executor/adapter.go:523\ngithub.com/pingcap/tidb/executor.(*ExecStmt).Exec\n\t/Users/hongyunyan/Desktop/tidb/executor/adapter.go:472\ngithub.com/pingcap/tidb/session.runStmt\n\t/Users/hongyunyan/Desktop/tidb/session/session.go:2114\ngithub.com/pingcap/tidb/session.(*session).ExecuteStmt\n\t/Users/hongyunyan/Desktop/tidb/session/session.go:1980\ngithub.com/pingcap/tidb/session.(*session).ExecuteInternal\n\t/Users/hongyunyan/Desktop/tidb/session/session.go:1495\ngithub.com/pingcap/tidb/session.checkBootstrapped\n\t/Users/hongyunyan/Desktop/tidb/session/bootstrap.go:728\ngithub.com/pingcap/tidb/session.bootstrap\n\t/Users/hongyunyan/Desktop/tidb/session/bootstrap.go:431\ngithub.com/pingcap/tidb/session.runInBootstrapSession\n\t/Users/hongyunyan/Desktop/tidb/session/session.go:2834\ngithub.com/pingcap/tidb/session.BootstrapSession\n\t/Users/hongyunyan/Desktop/tidb/session/session.go:2720\ngithub.com/pingcap/tidb/testkit.bootstrap\n\t/Users/hongyunyan/Desktop/tidb/testkit/mockstore.go:71\ngithub.com/pingcap/tidb/testkit.CreateMockStoreAndDomain\n\t/Users/hongyunyan/Desktop/tidb/testkit/mockstore.go:64\ngithub.com/pingcap/tidb/testkit.CreateMockStore\n\t/Users/hongyunyan/Desktop/tidb/testkit/mockstore.go:56\ngithub.com/pingcap/tidb/executor/tiflashtest.TestCancelMppTasks\n\t/Users/hongyunyan/Desktop/tidb/executor/tiflashtest/tiflash_test.go:663\ntesting.tRunner\n\t/opt/homebrew/Cellar/go/1.18.3/libexec/src/testing/testing.go:1439\nruntime.goexit\n\t/opt/homebrew/Cellar/go/1.18.3/libexec/src/runtime/asm_arm64.s:1263"] [session="{\n  \"currDBName\": \"\",\n  \"id\": 0,\n  \"status\": 2,\n  \"strictMode\": true,\n  \"user\": null\n}"]
[2022/07/15 15:01:59.588 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=0] [cur_db=] [sql="CREATE DATABASE IF NOT EXISTS test"] [user=]
[2022/07/15 15:01:59.589 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:2, Type:create schema, State:queueing, SchemaState:none, SchemaID:1, TableID:0, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:59.589 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:59.589 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:2, Type:create schema, State:queueing, SchemaState:none, SchemaID:1, TableID:0, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:59.589 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE DATABASE IF NOT EXISTS test"]
[2022/07/15 15:01:59.589 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 45, tp general"] [job="ID:2, Type:create schema, State:queueing, SchemaState:none, SchemaID:1, TableID:0, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:59.589 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:59.589 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 45, tp general"] [job="ID:2, Type:create schema, State:synced, SchemaState:public, SchemaID:1, TableID:0, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:59.589 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:59.589 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=2]
[2022/07/15 15:01:59.589 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:59.590 +08:00] [INFO] [domain.go:178] ["full load InfoSchema success"] [currentSchemaVersion=0] [neededSchemaVersion=1] ["start time"=392.042µs]
[2022/07/15 15:01:59.590 +08:00] [INFO] [domain.go:449] ["full load and reset schema validator"]
[2022/07/15 15:01:59.590 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=1] [cur_db=] [sql="CREATE DATABASE IF NOT EXISTS `mysql`"] [user=]
[2022/07/15 15:01:59.590 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:4, Type:create schema, State:queueing, SchemaState:none, SchemaID:3, TableID:0, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:59.59 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE DATABASE IF NOT EXISTS `mysql`"]
[2022/07/15 15:01:59.590 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:4, Type:create schema, State:queueing, SchemaState:none, SchemaID:3, TableID:0, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:59.59 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:59.590 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 45, tp general"] [job="ID:4, Type:create schema, State:queueing, SchemaState:none, SchemaID:3, TableID:0, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:59.59 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:59.590 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 45, tp general"] [job="ID:4, Type:create schema, State:synced, SchemaState:public, SchemaID:3, TableID:0, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:59.59 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:59.591 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=4]
[2022/07/15 15:01:59.591 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:59.591 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=1] [neededSchemaVersion=2] ["start time"=17.083µs] [phyTblIDs="[]"] [actionTypes="[]"]
[2022/07/15 15:01:59.591 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=2] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.user (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tauthentication_string\tTEXT,\n\t\tplugin\t\t\t\t\tCHAR(64),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tProcess_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_db_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tSuper_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_user_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_slave_priv\t    \tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_client_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_role_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_role_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAccount_locked\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShutdown_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReload_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tFILE_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tConfig_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_Tablespace_Priv  ENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (Host, User));"] [user=]
[2022/07/15 15:01:59.591 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:6, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:5, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:59.591 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:59.591 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:6, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:5, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:59.591 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.user (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tauthentication_string\tTEXT,\n\t\tplugin\t\t\t\t\tCHAR(64),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tProcess_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_db_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tSuper_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_user_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_slave_priv\t    \tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_client_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_role_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_role_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAccount_locked\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShutdown_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReload_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tFILE_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tConfig_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_Tablespace_Priv  ENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (Host, User));"]
[2022/07/15 15:01:59.592 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 45, tp general"] [job="ID:6, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:5, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:59.591 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:59.594 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 45, tp general"] [job="ID:6, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:5, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:59.591 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:59.594 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=6]
[2022/07/15 15:01:59.594 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:59.595 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=2] [neededSchemaVersion=3] ["start time"=290.667µs] [phyTblIDs="[5]"] [actionTypes="[8]"]
[2022/07/15 15:01:59.595 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=3] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.global_priv (Host CHAR(255) NOT NULL DEFAULT '',User CHAR(80) NOT NULL DEFAULT '',Priv LONGTEXT NOT NULL DEFAULT '',PRIMARY KEY (Host, User))"] [user=]
[2022/07/15 15:01:59.595 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:8, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:7, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:59.595 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:59.595 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:8, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:7, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:59.595 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.global_priv (Host CHAR(255) NOT NULL DEFAULT '',User CHAR(80) NOT NULL DEFAULT '',Priv LONGTEXT NOT NULL DEFAULT '',PRIMARY KEY (Host, User))"]
[2022/07/15 15:01:59.595 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 45, tp general"] [job="ID:8, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:7, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:59.595 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:59.596 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 45, tp general"] [job="ID:8, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:7, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:59.595 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:59.596 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=8]
[2022/07/15 15:01:59.596 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:59.596 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=3] [neededSchemaVersion=4] ["start time"=56.167µs] [phyTblIDs="[7]"] [actionTypes="[8]"]
[2022/07/15 15:01:59.596 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=4] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.db (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tDB\t\t\t\t\t\tCHAR(64),\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv \t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (Host, DB, User));"] [user=]
[2022/07/15 15:01:59.596 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:10, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:9, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:59.596 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:59.596 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:10, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:9, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:59.596 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.db (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tDB\t\t\t\t\t\tCHAR(64),\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv \t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (Host, DB, User));"]
[2022/07/15 15:01:59.596 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 45, tp general"] [job="ID:10, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:9, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:59.596 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:59.598 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 45, tp general"] [job="ID:10, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:9, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:59.596 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:59.598 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=10]
[2022/07/15 15:01:59.598 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:59.598 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=4] [neededSchemaVersion=5] ["start time"=169.958µs] [phyTblIDs="[9]"] [actionTypes="[8]"]
[2022/07/15 15:01:59.598 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=5] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.tables_priv (\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64),\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64),\n\t\tGrantor\t\tCHAR(77),\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tTable_priv\tSET('Select','Insert','Update','Delete','Create','Drop','Grant','Index','Alter','Create View','Show View','Trigger','References'),\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name));"] [user=]
[2022/07/15 15:01:59.599 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:12, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:11, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:59.599 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:59.599 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:12, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:11, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:59.599 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.tables_priv (\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64),\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64),\n\t\tGrantor\t\tCHAR(77),\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tTable_priv\tSET('Select','Insert','Update','Delete','Create','Drop','Grant','Index','Alter','Create View','Show View','Trigger','References'),\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name));"]
[2022/07/15 15:01:59.599 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 45, tp general"] [job="ID:12, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:11, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:59.599 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:59.600 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 45, tp general"] [job="ID:12, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:11, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:59.599 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:59.600 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=12]
[2022/07/15 15:01:59.600 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:59.600 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=5] [neededSchemaVersion=6] ["start time"=87.083µs] [phyTblIDs="[11]"] [actionTypes="[8]"]
[2022/07/15 15:01:59.600 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=6] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.columns_priv(\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64),\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64),\n\t\tColumn_name\tCHAR(64),\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name, Column_name));"] [user=]
[2022/07/15 15:01:59.601 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:14, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:13, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:59.6 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:59.601 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:14, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:13, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:59.6 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.columns_priv(\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64),\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64),\n\t\tColumn_name\tCHAR(64),\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name, Column_name));"]
[2022/07/15 15:01:59.601 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 45, tp general"] [job="ID:14, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:13, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:59.6 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:59.601 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 45, tp general"] [job="ID:14, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:13, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:59.6 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:59.601 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=14]
[2022/07/15 15:01:59.601 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:59.601 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=6] [neededSchemaVersion=7] ["start time"=79.625µs] [phyTblIDs="[13]"] [actionTypes="[8]"]
[2022/07/15 15:01:59.602 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=7] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.GLOBAL_VARIABLES(\n\t\tVARIABLE_NAME  VARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(1024) DEFAULT NULL);"] [user=]
[2022/07/15 15:01:59.602 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:16, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:15, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:59.602 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:59.602 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:16, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:15, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:59.602 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.GLOBAL_VARIABLES(\n\t\tVARIABLE_NAME  VARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(1024) DEFAULT NULL);"]
[2022/07/15 15:01:59.602 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 45, tp general"] [job="ID:16, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:15, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:59.602 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:59.602 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 45, tp general"] [job="ID:16, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:15, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:59.602 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:59.602 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=16]
[2022/07/15 15:01:59.602 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:59.602 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=7] [neededSchemaVersion=8] ["start time"=42.75µs] [phyTblIDs="[15]"] [actionTypes="[8]"]
[2022/07/15 15:01:59.602 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=8] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb(\n\t\tVARIABLE_NAME  \tVARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE \tVARCHAR(1024) DEFAULT NULL,\n\t\tCOMMENT \t\tVARCHAR(1024));"] [user=]
[2022/07/15 15:01:59.603 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:18, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:17, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:59.603 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:59.603 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:18, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:17, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:59.603 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb(\n\t\tVARIABLE_NAME  \tVARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE \tVARCHAR(1024) DEFAULT NULL,\n\t\tCOMMENT \t\tVARCHAR(1024));"]
[2022/07/15 15:01:59.603 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 45, tp general"] [job="ID:18, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:17, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:59.603 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:59.603 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 45, tp general"] [job="ID:18, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:17, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:59.603 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:59.603 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=18]
[2022/07/15 15:01:59.603 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:59.603 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=8] [neededSchemaVersion=9] ["start time"=51.292µs] [phyTblIDs="[17]"] [actionTypes="[8]"]
[2022/07/15 15:01:59.603 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=9] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.help_topic (\n  \t\thelp_topic_id \t\tINT(10) UNSIGNED NOT NULL,\n  \t\tname \t\t\t\tCHAR(64) NOT NULL,\n  \t\thelp_category_id \tSMALLINT(5) UNSIGNED NOT NULL,\n  \t\tdescription \t\tTEXT NOT NULL,\n  \t\texample \t\t\tTEXT NOT NULL,\n  \t\turl \t\t\t\tTEXT NOT NULL,\n  \t\tPRIMARY KEY (help_topic_id) clustered,\n  \t\tUNIQUE KEY name (name)\n\t\t) ENGINE=InnoDB DEFAULT CHARSET=utf8 STATS_PERSISTENT=0 COMMENT='help topics';"] [user=]
[2022/07/15 15:01:59.604 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:20, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:19, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:59.604 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:59.604 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:20, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:19, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:59.604 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.help_topic (\n  \t\thelp_topic_id \t\tINT(10) UNSIGNED NOT NULL,\n  \t\tname \t\t\t\tCHAR(64) NOT NULL,\n  \t\thelp_category_id \tSMALLINT(5) UNSIGNED NOT NULL,\n  \t\tdescription \t\tTEXT NOT NULL,\n  \t\texample \t\t\tTEXT NOT NULL,\n  \t\turl \t\t\t\tTEXT NOT NULL,\n  \t\tPRIMARY KEY (help_topic_id) clustered,\n  \t\tUNIQUE KEY name (name)\n\t\t) ENGINE=InnoDB DEFAULT CHARSET=utf8 STATS_PERSISTENT=0 COMMENT='help topics';"]
[2022/07/15 15:01:59.604 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 45, tp general"] [job="ID:20, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:19, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:59.604 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:59.604 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 45, tp general"] [job="ID:20, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:19, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:59.604 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:59.605 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=20]
[2022/07/15 15:01:59.605 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:59.605 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=9] [neededSchemaVersion=10] ["start time"=70.75µs] [phyTblIDs="[19]"] [actionTypes="[8]"]
[2022/07/15 15:01:59.605 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=10] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_meta (\n\t\tversion \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\ttable_id \t\tBIGINT(64) NOT NULL,\n\t\tmodify_count\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcount \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tsnapshot        BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tINDEX idx_ver(version),\n\t\tUNIQUE INDEX tbl(table_id)\n\t);"] [user=]
[2022/07/15 15:01:59.605 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:22, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:21, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:59.605 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:59.605 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:22, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:21, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:59.605 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_meta (\n\t\tversion \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\ttable_id \t\tBIGINT(64) NOT NULL,\n\t\tmodify_count\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcount \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tsnapshot        BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tINDEX idx_ver(version),\n\t\tUNIQUE INDEX tbl(table_id)\n\t);"]
[2022/07/15 15:01:59.605 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 45, tp general"] [job="ID:22, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:21, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:59.605 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:59.605 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 45, tp general"] [job="ID:22, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:21, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:59.605 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:59.606 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=22]
[2022/07/15 15:01:59.606 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:59.606 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=10] [neededSchemaVersion=11] ["start time"=67.292µs] [phyTblIDs="[21]"] [actionTypes="[8]"]
[2022/07/15 15:01:59.606 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=11] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_histograms (\n\t\ttable_id \t\t\tBIGINT(64) NOT NULL,\n\t\tis_index \t\t\tTINYINT(2) NOT NULL,\n\t\thist_id \t\t\tBIGINT(64) NOT NULL,\n\t\tdistinct_count \t\tBIGINT(64) NOT NULL,\n\t\tnull_count \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\ttot_col_size \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tmodify_count \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tversion \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tcm_sketch \t\t\tBLOB(6291456),\n\t\tstats_ver \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tflag \t\t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcorrelation \t\tDOUBLE NOT NULL DEFAULT 0,\n\t\tlast_analyze_pos \tLONGBLOB DEFAULT NULL,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id)\n\t);"] [user=]
[2022/07/15 15:01:59.606 +08:00] [INFO] [ddl_api.go:999] ["Automatically convert BLOB(6291456) to MEDIUMBLOB"]
[2022/07/15 15:01:59.606 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:24, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:23, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:59.606 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:59.606 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:24, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:23, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:59.606 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_histograms (\n\t\ttable_id \t\t\tBIGINT(64) NOT NULL,\n\t\tis_index \t\t\tTINYINT(2) NOT NULL,\n\t\thist_id \t\t\tBIGINT(64) NOT NULL,\n\t\tdistinct_count \t\tBIGINT(64) NOT NULL,\n\t\tnull_count \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\ttot_col_size \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tmodify_count \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tversion \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tcm_sketch \t\t\tBLOB(6291456),\n\t\tstats_ver \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tflag \t\t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcorrelation \t\tDOUBLE NOT NULL DEFAULT 0,\n\t\tlast_analyze_pos \tLONGBLOB DEFAULT NULL,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id)\n\t);"]
[2022/07/15 15:01:59.606 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 45, tp general"] [job="ID:24, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:23, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:59.606 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:59.607 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 45, tp general"] [job="ID:24, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:23, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:59.606 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:59.608 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=24]
[2022/07/15 15:01:59.608 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:59.608 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=11] [neededSchemaVersion=12] ["start time"=188.417µs] [phyTblIDs="[23]"] [actionTypes="[8]"]
[2022/07/15 15:01:59.608 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=12] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_buckets (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tbucket_id \tBIGINT(64) NOT NULL,\n\t\tcount \t\tBIGINT(64) NOT NULL,\n\t\trepeats \tBIGINT(64) NOT NULL,\n\t\tupper_bound LONGBLOB NOT NULL,\n\t\tlower_bound LONGBLOB ,\n\t\tndv         BIGINT NOT NULL DEFAULT 0,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id, bucket_id)\n\t);"] [user=]
[2022/07/15 15:01:59.608 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:26, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:25, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:59.608 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:59.608 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:26, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:25, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:59.608 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_buckets (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tbucket_id \tBIGINT(64) NOT NULL,\n\t\tcount \t\tBIGINT(64) NOT NULL,\n\t\trepeats \tBIGINT(64) NOT NULL,\n\t\tupper_bound LONGBLOB NOT NULL,\n\t\tlower_bound LONGBLOB ,\n\t\tndv         BIGINT NOT NULL DEFAULT 0,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id, bucket_id)\n\t);"]
[2022/07/15 15:01:59.609 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 45, tp general"] [job="ID:26, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:25, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:59.608 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:59.609 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 45, tp general"] [job="ID:26, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:25, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:59.608 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:59.609 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=26]
[2022/07/15 15:01:59.609 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:59.610 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=12] [neededSchemaVersion=13] ["start time"=111.167µs] [phyTblIDs="[25]"] [actionTypes="[8]"]
[2022/07/15 15:01:59.610 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=13] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_index (job_id, element_id)\n\t);"] [user=]
[2022/07/15 15:01:59.610 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:28, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:27, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:59.61 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:59.610 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:28, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:27, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:59.61 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_index (job_id, element_id)\n\t);"]
[2022/07/15 15:01:59.610 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 45, tp general"] [job="ID:28, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:27, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:59.61 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:59.610 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 45, tp general"] [job="ID:28, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:27, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:59.61 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:59.611 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=28]
[2022/07/15 15:01:59.611 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:59.611 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=13] [neededSchemaVersion=14] ["start time"=64.625µs] [phyTblIDs="[27]"] [actionTypes="[8]"]
[2022/07/15 15:01:59.611 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=14] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range_done (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_done_index (job_id, element_id)\n\t);"] [user=]
[2022/07/15 15:01:59.611 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:30, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:29, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:59.611 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:59.611 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:30, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:29, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:59.611 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range_done (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_done_index (job_id, element_id)\n\t);"]
[2022/07/15 15:01:59.611 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 45, tp general"] [job="ID:30, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:29, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:59.611 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:59.612 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 45, tp general"] [job="ID:30, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:29, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:59.611 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:59.612 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=30]
[2022/07/15 15:01:59.612 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:59.612 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=14] [neededSchemaVersion=15] ["start time"=88.5µs] [phyTblIDs="[29]"] [actionTypes="[8]"]
[2022/07/15 15:01:59.612 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=15] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_feedback (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tfeedback \tBLOB NOT NULL,\n\t\tINDEX hist(table_id, is_index, hist_id)\n\t);"] [user=]
[2022/07/15 15:01:59.612 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:32, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:31, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:59.612 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:59.612 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:32, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:31, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:59.612 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_feedback (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tfeedback \tBLOB NOT NULL,\n\t\tINDEX hist(table_id, is_index, hist_id)\n\t);"]
[2022/07/15 15:01:59.612 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 45, tp general"] [job="ID:32, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:31, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:59.612 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:59.613 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 45, tp general"] [job="ID:32, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:31, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:59.612 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:59.613 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=32]
[2022/07/15 15:01:59.613 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:59.613 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=15] [neededSchemaVersion=16] ["start time"=61.791µs] [phyTblIDs="[31]"] [actionTypes="[8]"]
[2022/07/15 15:01:59.613 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=16] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.role_edges (\n\t\tFROM_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tFROM_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tWITH_ADMIN_OPTION \tENUM('N','Y') CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (FROM_HOST,FROM_USER,TO_HOST,TO_USER)\n\t);"] [user=]
[2022/07/15 15:01:59.613 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:34, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:33, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:59.613 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:59.613 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:34, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:33, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:59.613 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.role_edges (\n\t\tFROM_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tFROM_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tWITH_ADMIN_OPTION \tENUM('N','Y') CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (FROM_HOST,FROM_USER,TO_HOST,TO_USER)\n\t);"]
[2022/07/15 15:01:59.613 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 45, tp general"] [job="ID:34, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:33, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:59.613 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:59.614 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 45, tp general"] [job="ID:34, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:33, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:59.613 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:59.614 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=34]
[2022/07/15 15:01:59.614 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:59.614 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=16] [neededSchemaVersion=17] ["start time"=75.541µs] [phyTblIDs="[33]"] [actionTypes="[8]"]
[2022/07/15 15:01:59.614 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=17] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.default_roles (\n\t\tHOST \t\t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tUSER \t\t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tDEFAULT_ROLE_HOST \tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '%',\n\t\tDEFAULT_ROLE_USER \tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tPRIMARY KEY (HOST,USER,DEFAULT_ROLE_HOST,DEFAULT_ROLE_USER)\n\t)"] [user=]
[2022/07/15 15:01:59.615 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:36, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:35, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:59.614 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:59.615 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:36, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:35, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:59.614 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.default_roles (\n\t\tHOST \t\t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tUSER \t\t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tDEFAULT_ROLE_HOST \tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '%',\n\t\tDEFAULT_ROLE_USER \tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tPRIMARY KEY (HOST,USER,DEFAULT_ROLE_HOST,DEFAULT_ROLE_USER)\n\t)"]
[2022/07/15 15:01:59.615 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 45, tp general"] [job="ID:36, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:35, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:59.614 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:59.615 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 45, tp general"] [job="ID:36, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:35, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:59.614 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:59.615 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=36]
[2022/07/15 15:01:59.615 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:59.615 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=17] [neededSchemaVersion=18] ["start time"=61.75µs] [phyTblIDs="[35]"] [actionTypes="[8]"]
[2022/07/15 15:01:59.616 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=18] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.bind_info (\n\t\toriginal_sql TEXT NOT NULL,\n\t\tbind_sql TEXT NOT NULL,\n\t\tdefault_db TEXT NOT NULL,\n\t\tstatus TEXT NOT NULL,\n\t\tcreate_time TIMESTAMP(3) NOT NULL,\n\t\tupdate_time TIMESTAMP(3) NOT NULL,\n\t\tcharset TEXT NOT NULL,\n\t\tcollation TEXT NOT NULL,\n\t\tsource VARCHAR(10) NOT NULL DEFAULT 'unknown',\n\t\tINDEX sql_index(original_sql(700),default_db(68)) COMMENT \"accelerate the speed when add global binding query\",\n\t\tINDEX time_index(update_time) COMMENT \"accelerate the speed when querying with last update time\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"] [user=]
[2022/07/15 15:01:59.616 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:38, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:37, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:59.616 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:59.616 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:38, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:37, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:59.616 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.bind_info (\n\t\toriginal_sql TEXT NOT NULL,\n\t\tbind_sql TEXT NOT NULL,\n\t\tdefault_db TEXT NOT NULL,\n\t\tstatus TEXT NOT NULL,\n\t\tcreate_time TIMESTAMP(3) NOT NULL,\n\t\tupdate_time TIMESTAMP(3) NOT NULL,\n\t\tcharset TEXT NOT NULL,\n\t\tcollation TEXT NOT NULL,\n\t\tsource VARCHAR(10) NOT NULL DEFAULT 'unknown',\n\t\tINDEX sql_index(original_sql(700),default_db(68)) COMMENT \"accelerate the speed when add global binding query\",\n\t\tINDEX time_index(update_time) COMMENT \"accelerate the speed when querying with last update time\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"]
[2022/07/15 15:01:59.616 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 45, tp general"] [job="ID:38, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:37, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:59.616 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:59.617 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 45, tp general"] [job="ID:38, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:37, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:59.616 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:59.617 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=38]
[2022/07/15 15:01:59.617 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:59.617 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=18] [neededSchemaVersion=19] ["start time"=96.584µs] [phyTblIDs="[37]"] [actionTypes="[8]"]
[2022/07/15 15:01:59.617 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=19] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_top_n (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tcount \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"] [user=]
[2022/07/15 15:01:59.618 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:40, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:39, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:59.618 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:59.618 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:40, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:39, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:59.618 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_top_n (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tcount \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"]
[2022/07/15 15:01:59.618 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 45, tp general"] [job="ID:40, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:39, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:59.618 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:59.618 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 45, tp general"] [job="ID:40, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:39, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:59.618 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:59.618 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=40]
[2022/07/15 15:01:59.618 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:59.619 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=19] [neededSchemaVersion=20] ["start time"=86.792µs] [phyTblIDs="[39]"] [actionTypes="[8]"]
[2022/07/15 15:01:59.619 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=20] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.expr_pushdown_blacklist (\n\t\tname \t\tCHAR(100) NOT NULL,\n\t\tstore_type \tCHAR(100) NOT NULL DEFAULT 'tikv,tiflash,tidb',\n\t\treason \t\tVARCHAR(200)\n\t);"] [user=]
[2022/07/15 15:01:59.619 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:42, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:41, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:59.619 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:59.619 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:42, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:41, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:59.619 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.expr_pushdown_blacklist (\n\t\tname \t\tCHAR(100) NOT NULL,\n\t\tstore_type \tCHAR(100) NOT NULL DEFAULT 'tikv,tiflash,tidb',\n\t\treason \t\tVARCHAR(200)\n\t);"]
[2022/07/15 15:01:59.619 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 45, tp general"] [job="ID:42, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:41, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:59.619 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:59.619 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 45, tp general"] [job="ID:42, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:41, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:59.619 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:59.619 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=42]
[2022/07/15 15:01:59.619 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:59.620 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=20] [neededSchemaVersion=21] ["start time"=58.625µs] [phyTblIDs="[41]"] [actionTypes="[8]"]
[2022/07/15 15:01:59.620 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=21] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.opt_rule_blacklist (\n\t\tname \tCHAR(100) NOT NULL\n\t);"] [user=]
[2022/07/15 15:01:59.620 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:44, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:43, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:59.62 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:59.620 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:44, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:43, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:59.62 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.opt_rule_blacklist (\n\t\tname \tCHAR(100) NOT NULL\n\t);"]
[2022/07/15 15:01:59.620 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 45, tp general"] [job="ID:44, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:43, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:59.62 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:59.620 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 45, tp general"] [job="ID:44, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:43, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:59.62 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:59.620 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=44]
[2022/07/15 15:01:59.620 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:59.620 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=21] [neededSchemaVersion=22] ["start time"=35.125µs] [phyTblIDs="[43]"] [actionTypes="[8]"]
[2022/07/15 15:01:59.620 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=22] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_extended (\n\t\tname varchar(32) NOT NULL,\n\t\ttype tinyint(4) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tcolumn_ids varchar(32) NOT NULL,\n\t\tstats blob DEFAULT NULL,\n\t\tversion bigint(64) unsigned NOT NULL,\n\t\tstatus tinyint(4) NOT NULL,\n\t\tPRIMARY KEY(name, table_id),\n\t\tKEY idx_1 (table_id, status, version),\n\t\tKEY idx_2 (status, version)\n\t);"] [user=]
[2022/07/15 15:01:59.621 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:46, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:45, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:59.62 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:59.621 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:46, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:45, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:59.62 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_extended (\n\t\tname varchar(32) NOT NULL,\n\t\ttype tinyint(4) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tcolumn_ids varchar(32) NOT NULL,\n\t\tstats blob DEFAULT NULL,\n\t\tversion bigint(64) unsigned NOT NULL,\n\t\tstatus tinyint(4) NOT NULL,\n\t\tPRIMARY KEY(name, table_id),\n\t\tKEY idx_1 (table_id, status, version),\n\t\tKEY idx_2 (status, version)\n\t);"]
[2022/07/15 15:01:59.621 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 45, tp general"] [job="ID:46, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:45, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:59.62 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:59.621 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 45, tp general"] [job="ID:46, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:45, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:59.62 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:59.622 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=46]
[2022/07/15 15:01:59.622 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:59.622 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=22] [neededSchemaVersion=23] ["start time"=109.459µs] [phyTblIDs="[45]"] [actionTypes="[8]"]
[2022/07/15 15:01:59.622 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=23] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.schema_index_usage (\n\t\tTABLE_ID bigint(64),\n\t\tINDEX_ID bigint(21),\n\t\tQUERY_COUNT bigint(64),\n\t\tROWS_SELECTED bigint(64),\n\t\tLAST_USED_AT timestamp,\n\t\tPRIMARY KEY(TABLE_ID, INDEX_ID)\n\t);"] [user=]
[2022/07/15 15:01:59.622 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:48, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:47, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:59.622 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:59.622 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:48, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:47, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:59.622 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.schema_index_usage (\n\t\tTABLE_ID bigint(64),\n\t\tINDEX_ID bigint(21),\n\t\tQUERY_COUNT bigint(64),\n\t\tROWS_SELECTED bigint(64),\n\t\tLAST_USED_AT timestamp,\n\t\tPRIMARY KEY(TABLE_ID, INDEX_ID)\n\t);"]
[2022/07/15 15:01:59.622 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 45, tp general"] [job="ID:48, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:47, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:59.622 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:59.622 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 45, tp general"] [job="ID:48, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:47, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:59.622 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:59.623 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=48]
[2022/07/15 15:01:59.623 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:59.623 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=23] [neededSchemaVersion=24] ["start time"=66.667µs] [phyTblIDs="[47]"] [actionTypes="[8]"]
[2022/07/15 15:01:59.623 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=24] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_fm_sketch (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"] [user=]
[2022/07/15 15:01:59.623 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:50, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:49, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:59.623 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:59.623 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:50, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:49, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:59.623 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_fm_sketch (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"]
[2022/07/15 15:01:59.623 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 45, tp general"] [job="ID:50, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:49, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:59.623 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:59.624 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 45, tp general"] [job="ID:50, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:49, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:59.623 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:59.624 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=50]
[2022/07/15 15:01:59.624 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:59.624 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=24] [neededSchemaVersion=25] ["start time"=76.583µs] [phyTblIDs="[49]"] [actionTypes="[8]"]
[2022/07/15 15:01:59.624 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=25] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.global_grants (\n\t\tUSER char(32) NOT NULL DEFAULT '',\n\t\tHOST char(255) NOT NULL DEFAULT '',\n\t\tPRIV char(32) NOT NULL DEFAULT '',\n\t\tWITH_GRANT_OPTION enum('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (USER,HOST,PRIV)\n\t);"] [user=]
[2022/07/15 15:01:59.624 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:52, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:51, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:59.624 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:59.624 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:52, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:51, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:59.624 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.global_grants (\n\t\tUSER char(32) NOT NULL DEFAULT '',\n\t\tHOST char(255) NOT NULL DEFAULT '',\n\t\tPRIV char(32) NOT NULL DEFAULT '',\n\t\tWITH_GRANT_OPTION enum('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (USER,HOST,PRIV)\n\t);"]
[2022/07/15 15:01:59.624 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 45, tp general"] [job="ID:52, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:51, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:59.624 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:59.625 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 45, tp general"] [job="ID:52, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:51, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:59.624 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:59.625 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=52]
[2022/07/15 15:01:59.625 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:59.625 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=25] [neededSchemaVersion=26] ["start time"=61.791µs] [phyTblIDs="[51]"] [actionTypes="[8]"]
[2022/07/15 15:01:59.625 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=26] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.capture_plan_baselines_blacklist (\n\t\tid bigint(64) auto_increment,\n\t\tfilter_type varchar(32) NOT NULL COMMENT \"type of the filter, only db, table and frequency supported now\",\n\t\tfilter_value varchar(32) NOT NULL,\n\t\tkey idx(filter_type),\n\t\tprimary key(id)\n\t);"] [user=]
[2022/07/15 15:01:59.625 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:54, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:53, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:59.625 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:59.625 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:54, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:53, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:59.625 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.capture_plan_baselines_blacklist (\n\t\tid bigint(64) auto_increment,\n\t\tfilter_type varchar(32) NOT NULL COMMENT \"type of the filter, only db, table and frequency supported now\",\n\t\tfilter_value varchar(32) NOT NULL,\n\t\tkey idx(filter_type),\n\t\tprimary key(id)\n\t);"]
[2022/07/15 15:01:59.625 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 45, tp general"] [job="ID:54, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:53, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:59.625 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:59.626 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 45, tp general"] [job="ID:54, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:53, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:59.625 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:59.626 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=54]
[2022/07/15 15:01:59.626 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:59.626 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=26] [neededSchemaVersion=27] ["start time"=51.833µs] [phyTblIDs="[53]"] [actionTypes="[8]"]
[2022/07/15 15:01:59.626 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=27] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.column_stats_usage (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tcolumn_id BIGINT(64) NOT NULL,\n\t\tlast_used_at TIMESTAMP,\n\t\tlast_analyzed_at TIMESTAMP,\n\t\tPRIMARY KEY (table_id, column_id) CLUSTERED\n\t);"] [user=]
[2022/07/15 15:01:59.626 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:56, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:55, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:59.626 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:59.626 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:56, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:55, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:59.626 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.column_stats_usage (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tcolumn_id BIGINT(64) NOT NULL,\n\t\tlast_used_at TIMESTAMP,\n\t\tlast_analyzed_at TIMESTAMP,\n\t\tPRIMARY KEY (table_id, column_id) CLUSTERED\n\t);"]
[2022/07/15 15:01:59.626 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 45, tp general"] [job="ID:56, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:55, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:59.626 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:59.626 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 45, tp general"] [job="ID:56, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:55, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:59.626 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:59.627 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=56]
[2022/07/15 15:01:59.627 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:59.627 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=27] [neededSchemaVersion=28] ["start time"=68.792µs] [phyTblIDs="[55]"] [actionTypes="[8]"]
[2022/07/15 15:01:59.627 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=28] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.table_cache_meta (\n\t\ttid bigint(11) NOT NULL DEFAULT 0,\n\t\tlock_type enum('NONE','READ', 'INTEND', 'WRITE') NOT NULL DEFAULT 'NONE',\n\t\tlease bigint(20) NOT NULL DEFAULT 0,\n\t\toldReadLease bigint(20) NOT NULL DEFAULT 0,\n\t\tPRIMARY KEY (tid)\n\t);"] [user=]
[2022/07/15 15:01:59.627 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:58, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:57, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:59.627 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:59.627 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:58, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:57, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:59.627 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.table_cache_meta (\n\t\ttid bigint(11) NOT NULL DEFAULT 0,\n\t\tlock_type enum('NONE','READ', 'INTEND', 'WRITE') NOT NULL DEFAULT 'NONE',\n\t\tlease bigint(20) NOT NULL DEFAULT 0,\n\t\toldReadLease bigint(20) NOT NULL DEFAULT 0,\n\t\tPRIMARY KEY (tid)\n\t);"]
[2022/07/15 15:01:59.627 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 45, tp general"] [job="ID:58, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:57, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:59.627 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:59.627 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 45, tp general"] [job="ID:58, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:57, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:59.627 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:59.628 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=58]
[2022/07/15 15:01:59.628 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:59.628 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=28] [neededSchemaVersion=29] ["start time"=56.917µs] [phyTblIDs="[57]"] [actionTypes="[8]"]
[2022/07/15 15:01:59.628 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=29] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.analyze_options (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tsample_num BIGINT(64) NOT NULL DEFAULT 0,\n\t\tsample_rate DOUBLE NOT NULL DEFAULT -1,\n\t\tbuckets BIGINT(64) NOT NULL DEFAULT 0,\n\t\ttopn BIGINT(64) NOT NULL DEFAULT -1,\n\t\tcolumn_choice enum('DEFAULT','ALL','PREDICATE','LIST') NOT NULL DEFAULT 'DEFAULT',\n\t\tcolumn_ids TEXT(19372),\n\t\tPRIMARY KEY (table_id) CLUSTERED\n\t);"] [user=]
[2022/07/15 15:01:59.628 +08:00] [INFO] [ddl_api.go:999] ["Automatically convert BLOB(19372) to MEDIUMBLOB"]
[2022/07/15 15:01:59.628 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:60, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:59, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:59.628 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:59.628 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:60, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:59, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:59.628 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.analyze_options (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tsample_num BIGINT(64) NOT NULL DEFAULT 0,\n\t\tsample_rate DOUBLE NOT NULL DEFAULT -1,\n\t\tbuckets BIGINT(64) NOT NULL DEFAULT 0,\n\t\ttopn BIGINT(64) NOT NULL DEFAULT -1,\n\t\tcolumn_choice enum('DEFAULT','ALL','PREDICATE','LIST') NOT NULL DEFAULT 'DEFAULT',\n\t\tcolumn_ids TEXT(19372),\n\t\tPRIMARY KEY (table_id) CLUSTERED\n\t);"]
[2022/07/15 15:01:59.628 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 45, tp general"] [job="ID:60, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:59, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:59.628 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:59.628 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 45, tp general"] [job="ID:60, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:59, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:59.628 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:59.629 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=60]
[2022/07/15 15:01:59.629 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:59.629 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=29] [neededSchemaVersion=30] ["start time"=88.584µs] [phyTblIDs="[59]"] [actionTypes="[8]"]
[2022/07/15 15:01:59.629 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=30] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tstats_data longblob NOT NULL,\n\t\tseq_no bigint(64) NOT NULL comment 'sequence number of the gzipped data slice',\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version_seq (table_id, version, seq_no),\n\t\tKEY table_create_time (table_id, create_time, seq_no)\n\t);"] [user=]
[2022/07/15 15:01:59.629 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:62, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:61, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:59.629 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:59.629 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:62, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:61, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:59.629 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tstats_data longblob NOT NULL,\n\t\tseq_no bigint(64) NOT NULL comment 'sequence number of the gzipped data slice',\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version_seq (table_id, version, seq_no),\n\t\tKEY table_create_time (table_id, create_time, seq_no)\n\t);"]
[2022/07/15 15:01:59.629 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 45, tp general"] [job="ID:62, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:61, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:59.629 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:59.630 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 45, tp general"] [job="ID:62, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:61, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:59.629 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:59.630 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=62]
[2022/07/15 15:01:59.630 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:59.630 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=30] [neededSchemaVersion=31] ["start time"=75.375µs] [phyTblIDs="[61]"] [actionTypes="[8]"]
[2022/07/15 15:01:59.630 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=31] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_meta_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL,\n\t\tcount bigint(64) NOT NULL,\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version (table_id, version),\n\t\tKEY table_create_time (table_id, create_time)\n\t);"] [user=]
[2022/07/15 15:01:59.630 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:64, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:63, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:59.63 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:59.630 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:64, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:63, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:59.63 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_meta_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL,\n\t\tcount bigint(64) NOT NULL,\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version (table_id, version),\n\t\tKEY table_create_time (table_id, create_time)\n\t);"]
[2022/07/15 15:01:59.630 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 45, tp general"] [job="ID:64, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:63, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:59.63 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:59.631 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 45, tp general"] [job="ID:64, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:63, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:59.63 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:59.631 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=64]
[2022/07/15 15:01:59.631 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:59.631 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=31] [neededSchemaVersion=32] ["start time"=72.75µs] [phyTblIDs="[63]"] [actionTypes="[8]"]
[2022/07/15 15:01:59.631 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=32] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.analyze_jobs (\n\t\tid BIGINT(64) UNSIGNED NOT NULL AUTO_INCREMENT,\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\ttable_schema CHAR(64) NOT NULL DEFAULT '',\n\t\ttable_name CHAR(64) NOT NULL DEFAULT '',\n\t\tpartition_name CHAR(64) NOT NULL DEFAULT '',\n\t\tjob_info TEXT NOT NULL,\n\t\tprocessed_rows BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tstart_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tstate ENUM('pending', 'running', 'finished', 'failed') NOT NULL,\n\t\tfail_reason TEXT,\n\t\tinstance VARCHAR(512) NOT NULL comment 'address of the TiDB instance executing the analyze job',\n\t\tprocess_id BIGINT(64) UNSIGNED comment 'ID of the process executing the analyze job',\n\t\tPRIMARY KEY (id),\n\t\tKEY (update_time)\n\t);"] [user=]
[2022/07/15 15:01:59.631 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:66, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:65, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:59.631 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:59.631 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:66, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:65, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:59.631 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.analyze_jobs (\n\t\tid BIGINT(64) UNSIGNED NOT NULL AUTO_INCREMENT,\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\ttable_schema CHAR(64) NOT NULL DEFAULT '',\n\t\ttable_name CHAR(64) NOT NULL DEFAULT '',\n\t\tpartition_name CHAR(64) NOT NULL DEFAULT '',\n\t\tjob_info TEXT NOT NULL,\n\t\tprocessed_rows BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tstart_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tstate ENUM('pending', 'running', 'finished', 'failed') NOT NULL,\n\t\tfail_reason TEXT,\n\t\tinstance VARCHAR(512) NOT NULL comment 'address of the TiDB instance executing the analyze job',\n\t\tprocess_id BIGINT(64) UNSIGNED comment 'ID of the process executing the analyze job',\n\t\tPRIMARY KEY (id),\n\t\tKEY (update_time)\n\t);"]
[2022/07/15 15:01:59.631 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 45, tp general"] [job="ID:66, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:65, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:59.631 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:59.632 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 45, tp general"] [job="ID:66, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:65, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:59.631 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:59.632 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=66]
[2022/07/15 15:01:59.632 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:59.633 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=32] [neededSchemaVersion=33] ["start time"=125.5µs] [phyTblIDs="[65]"] [actionTypes="[8]"]
[2022/07/15 15:01:59.633 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=33] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.advisory_locks (\n\t\tlock_name VARCHAR(64) NOT NULL PRIMARY KEY\n\t);"] [user=]
[2022/07/15 15:01:59.633 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:68, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:67, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:59.633 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:59.633 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:68, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:67, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:59.633 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.advisory_locks (\n\t\tlock_name VARCHAR(64) NOT NULL PRIMARY KEY\n\t);"]
[2022/07/15 15:01:59.633 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 45, tp general"] [job="ID:68, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:67, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:59.633 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:59.633 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 45, tp general"] [job="ID:68, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:67, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:59.633 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:59.633 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=68]
[2022/07/15 15:01:59.633 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:59.633 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=33] [neededSchemaVersion=34] ["start time"=44.958µs] [phyTblIDs="[67]"] [actionTypes="[8]"]
[2022/07/15 15:01:59.639 +08:00] [INFO] [bootstrap.go:448] ["bootstrap successful"] ["take time"=50.977458ms]
[2022/07/15 15:01:59.639 +08:00] [INFO] [ddl_worker.go:158] ["[ddl] DDL worker closed"] [worker="worker 45, tp general"] ["take time"=125ns]
[2022/07/15 15:01:59.639 +08:00] [INFO] [ddl_worker.go:158] ["[ddl] DDL worker closed"] [worker="worker 46, tp add index"] ["take time"=42ns]
[2022/07/15 15:01:59.639 +08:00] [INFO] [delete_range.go:148] ["[ddl] closing delRange"]
[2022/07/15 15:01:59.639 +08:00] [INFO] [session_pool.go:94] ["[ddl] closing sessionPool"]
[2022/07/15 15:01:59.639 +08:00] [INFO] [ddl.go:576] ["[ddl] DDL closed"] [ID=7ffadb5b-907f-4565-8edc-dc6cace6e3f4] ["take time"=62.667µs]
[2022/07/15 15:01:59.639 +08:00] [INFO] [ddl.go:464] ["[ddl] stop DDL"] [ID=7ffadb5b-907f-4565-8edc-dc6cace6e3f4]
[2022/07/15 15:01:59.639 +08:00] [INFO] [domain.go:498] ["topNSlowQueryLoop exited."]
[2022/07/15 15:01:59.639 +08:00] [INFO] [domain.go:552] ["globalConfigSyncerKeeper exited."]
[2022/07/15 15:01:59.639 +08:00] [INFO] [domain.go:527] ["infoSyncerKeeper exited."]
[2022/07/15 15:01:59.639 +08:00] [INFO] [domain.go:575] ["topologySyncerKeeper exited."]
[2022/07/15 15:01:59.639 +08:00] [INFO] [domain.go:733] ["domain closed"] ["take time"=103.958µs]
[2022/07/15 15:01:59.639 +08:00] [INFO] [tidb.go:74] ["new domain"] [store=d4948124-de66-4521-9122-94c4bef502db] ["ddl lease"=0s] ["stats lease"=-1ns] ["index usage sync lease"=0s]
[2022/07/15 15:01:59.642 +08:00] [INFO] [domain.go:178] ["full load InfoSchema success"] [currentSchemaVersion=0] [neededSchemaVersion=34] ["start time"=2.380375ms]
[2022/07/15 15:01:59.642 +08:00] [INFO] [domain.go:449] ["full load and reset schema validator"]
[2022/07/15 15:01:59.642 +08:00] [INFO] [ddl.go:483] ["[ddl] start DDL"] [ID=0fba4e19-fe12-4ab6-a93d-4fbfd9f24fbc] [runWorker=true]
[2022/07/15 15:01:59.642 +08:00] [INFO] [ddl.go:472] ["[ddl] start delRangeManager OK"] ["is a emulator"=true]
[2022/07/15 15:01:59.642 +08:00] [INFO] [ddl_worker.go:164] ["[ddl] start DDL worker"] [worker="worker 47, tp general"]
[2022/07/15 15:01:59.642 +08:00] [INFO] [ddl_worker.go:164] ["[ddl] start DDL worker"] [worker="worker 48, tp add index"]
[2022/07/15 15:01:59.642 +08:00] [INFO] [delete_range.go:158] ["[ddl] start delRange emulator"]
[2022/07/15 15:01:59.643 +08:00] [WARN] [sysvar_cache.go:53] ["sysvar cache is empty, triggering rebuild"]
[2022/07/15 15:01:59.646 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=12] [schemaVersion=34] [cur_db=test] [sql="drop table if exists t"] [user=]
[2022/07/15 15:01:59.646 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=12] [schemaVersion=34] [cur_db=test] [sql="create table t(a int not null primary key, b int not null)"] [user=]
[2022/07/15 15:01:59.647 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:70, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:59.646 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:59.647 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:70, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:59.646 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="create table t(a int not null primary key, b int not null)"]
[2022/07/15 15:01:59.647 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 47, tp general"] [job="ID:70, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:59.646 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:59.647 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 47, tp general"] [job="ID:70, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:69, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:59.646 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:59.647 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=70]
[2022/07/15 15:01:59.647 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:59.647 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=34] [neededSchemaVersion=35] ["start time"=44.792µs] [phyTblIDs="[69]"] [actionTypes="[8]"]
[2022/07/15 15:01:59.647 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=12] [schemaVersion=35] [cur_db=test] [sql="alter table t set tiflash replica 1"] [user=]
[2022/07/15 15:01:59.647 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:71, Type:set tiflash replica, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:59.647 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:59.647 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:71, Type:set tiflash replica, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:1, start time: 2022-07-15 15:01:59.647 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="alter table t set tiflash replica 1"]
[2022/07/15 15:01:59.647 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 47, tp general"] [job="ID:71, Type:set tiflash replica, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:59.647 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:59.647 +08:00] [INFO] [table.go:1109] ["Set TiFlash replica pd rule"] [tableID=69]
[2022/07/15 15:01:59.647 +08:00] [INFO] [info.go:1051] [ConfigureTiFlashPDForTable] [tableID=69] [count=1]
[2022/07/15 15:01:59.648 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 47, tp general"] [job="ID:71, Type:set tiflash replica, State:synced, SchemaState:public, SchemaID:1, TableID:69, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:59.647 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:59.648 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=71]
[2022/07/15 15:01:59.648 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:59.648 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=35] [neededSchemaVersion=36] ["start time"=50.792µs] [phyTblIDs="[]"] [actionTypes="[]"]
[2022/07/15 15:01:59.648 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:72, Type:update tiflash replica status, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:2, start time: 2022-07-15 15:01:59.648 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:01:59.648 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:72, Type:update tiflash replica status, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:2, start time: 2022-07-15 15:01:59.648 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query=]
[2022/07/15 15:01:59.648 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 47, tp general"] [job="ID:72, Type:update tiflash replica status, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:59.648 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:59.648 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 47, tp general"] [job="ID:72, Type:update tiflash replica status, State:synced, SchemaState:public, SchemaID:1, TableID:69, RowCount:0, ArgLen:0, start time: 2022-07-15 15:01:59.648 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:01:59.649 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=72]
[2022/07/15 15:01:59.649 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:01:59.649 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=36] [neededSchemaVersion=37] ["start time"=37.625µs] [phyTblIDs="[]"] [actionTypes="[]"]
[2022/07/15 15:01:59.649 +08:00] [INFO] [fragment.go:77] ["Mpp will generate tasks"] [plan=RightHashJoin{Recv()->Table(t)}(test.t.a,test.t.a)->HashAgg->Send()]
[2022/07/15 15:01:59.649 +08:00] [INFO] [batch_coprocessor.go:325] ["detecting available mpp stores"]
[2022/07/15 15:01:59.649 +08:00] [WARN] [batch_coprocessor.go:359] ["Store is not ready"] ["store address"=tiflash1] ["err message"="not support this request type MPPAlive"]
[2022/07/15 15:01:59.649 +08:00] [WARN] [batch_coprocessor.go:359] ["Store is not ready"] ["store address"=tiflash0] ["err message"="not support this request type MPPAlive"]
[2022/07/15 15:01:59.649 +08:00] [WARN] [batch_coprocessor.go:400] ["Meet regions that don't have an available store. Give up balancing"]
[2022/07/15 15:01:59.649 +08:00] [INFO] [batch_coprocessor.go:325] ["detecting available mpp stores"]
[2022/07/15 15:01:59.649 +08:00] [WARN] [batch_coprocessor.go:400] ["Meet regions that don't have an available store. Give up balancing"]
[2022/07/15 15:01:59.649 +08:00] [INFO] [mpp_gather.go:80] ["Dispatch mpp task"] [timestamp=434600285214867458] [ID=1] [address=tiflash0] [plan="Table(t)->Send(2, )"]
[2022/07/15 15:01:59.649 +08:00] [INFO] [mpp_gather.go:80] ["Dispatch mpp task"] [timestamp=434600285214867458] [ID=2] [address=tiflash0] [plan="RightHashJoin{Recv(1, )->Table(t)}(test.t.a,test.t.a)->HashAgg->Send(-1, )"]
[2022/07/15 15:02:03.650 +08:00] [WARN] [mpp.go:438] ["other error"] [txnStartTS=434600285214867458] [storeAddr=tiflash0] [error="other error for mpp stream: context canceled"] [errorVerbose="other error for mpp stream: context canceled\ngithub.com/pingcap/tidb/store/copr.(*mppIterator).handleMPPStreamResponse\n\t/Users/hongyunyan/Desktop/tidb/store/copr/mpp.go:437\ngithub.com/pingcap/tidb/store/copr.(*mppIterator).establishMPPConns\n\t/Users/hongyunyan/Desktop/tidb/store/copr/mpp.go:395\ngithub.com/pingcap/tidb/store/copr.(*mppIterator).handleDispatchReq\n\t/Users/hongyunyan/Desktop/tidb/store/copr/mpp.go:318\ngithub.com/pingcap/tidb/store/copr.(*mppIterator).run.func1\n\t/Users/hongyunyan/Desktop/tidb/store/copr/mpp.go:187\nruntime.goexit\n\t/opt/homebrew/Cellar/go/1.18.3/libexec/src/runtime/asm_arm64.s:1263"]
[2022/07/15 15:02:03.650 +08:00] [WARN] [adapter.go:1067] ["# Txn_start_ts: 434600285214867458\n# Conn_ID: 12\n# Query_time: 4.001377375\n# Parse_time: 0.000035791\n# Compile_time: 0.000176542\n# Rewrite_time: 0.000035958\n# Optimize_time: 0.000120041\n# Wait_TS: 0.00000825\n# DB: test\n# Is_internal: false\n# Digest: fcbc3f11d4d42c938668b9bfd37bcfbe4f403d37049ea6584a44fff014ec0cfb\n# Stats: t:pseudo\n# Num_cop_tasks: 0\n# Mem_max: 10100\n# Prepared: false\n# Plan_from_cache: false\n# Plan_from_binding: false\n# Has_more_results: false\n# KV_total: 0\n# PD_total: 0\n# Backoff_total: 0\n# Write_sql_response_total: 0\n# Result_rows: 0\n# Succ: false\n# IsExplicitTxn: false\n# Plan: tidb_decode_plan('iwOIMAk2XzM0CTAJMQlmdW5jczpjb3VudChDb2x1bW4jNiktPkMJCyA1CjEJMzFfMzYFLJBkYXRhOkV4Y2hhbmdlU2VuZGVyXzM1CjIJNDlfMzUJMV8xCTEJESBcVHlwZTogUGFzc1Rocm91Z2gKMwk2XzEyDScueAAAMRlxIDYKNAkxN18zMwknkDI1MDAJaW5uZXIgam9pbiwgZXF1YWw6W2VxKHRlc3QudC5hLCARCiQpXQo1CTQ4XzIxCT0YMDAwMAkKNgGeBDIwHRM2ogBAQnJvYWRjYXN0CjcJNDNfMTkdKrh0YWJsZTp0MSwga2VlcCBvcmRlcjpmYWxzZSwgc3RhdHM6cHNldWRvCjUJNDNfMg3cBXgNO4I6AA==')\n# Plan_digest: 1af5e4d1f7dc5ebf7f78e144d98a44d2fba0702c8cdcf64eaf7d062e1a99ba02\nuse test;\nselect count(*) from t as t1 , t where t1.a = t.a;"]
[2022/07/15 15:02:03.650 +08:00] [INFO] [ddl_worker.go:158] ["[ddl] DDL worker closed"] [worker="worker 47, tp general"] ["take time"=4.083µs]
[2022/07/15 15:02:03.650 +08:00] [INFO] [ddl_worker.go:158] ["[ddl] DDL worker closed"] [worker="worker 48, tp add index"] ["take time"=41ns]
[2022/07/15 15:02:03.650 +08:00] [INFO] [delete_range.go:148] ["[ddl] closing delRange"]
[2022/07/15 15:02:03.650 +08:00] [INFO] [session_pool.go:94] ["[ddl] closing sessionPool"]
[2022/07/15 15:02:03.650 +08:00] [INFO] [ddl.go:576] ["[ddl] DDL closed"] [ID=0fba4e19-fe12-4ab6-a93d-4fbfd9f24fbc] ["take time"=61.625µs]
[2022/07/15 15:02:03.650 +08:00] [INFO] [ddl.go:464] ["[ddl] stop DDL"] [ID=0fba4e19-fe12-4ab6-a93d-4fbfd9f24fbc]
[2022/07/15 15:02:03.650 +08:00] [INFO] [domain.go:498] ["topNSlowQueryLoop exited."]
[2022/07/15 15:02:03.650 +08:00] [INFO] [domain.go:1160] ["globalBindHandleWorkerLoop exited."]
[2022/07/15 15:02:03.650 +08:00] [INFO] [domain.go:1203] ["handleEvolvePlanTasksLoop exited."]
[2022/07/15 15:02:03.650 +08:00] [INFO] [domain.go:1082] ["LoadSysVarCacheLoop exited."]
[2022/07/15 15:02:03.650 +08:00] [INFO] [handle_hist.go:156] ["SubLoadWorker exited."]
[2022/07/15 15:02:03.650 +08:00] [INFO] [domain.go:1032] ["loadPrivilegeInLoop exited."]
[2022/07/15 15:02:03.650 +08:00] [INFO] [domain.go:575] ["topologySyncerKeeper exited."]
[2022/07/15 15:02:03.650 +08:00] [INFO] [domain.go:527] ["infoSyncerKeeper exited."]
[2022/07/15 15:02:03.650 +08:00] [INFO] [domain.go:552] ["globalConfigSyncerKeeper exited."]
[2022/07/15 15:02:03.650 +08:00] [INFO] [handle_hist.go:156] ["SubLoadWorker exited."]
[2022/07/15 15:02:03.650 +08:00] [INFO] [domain.go:1288] ["dumpFileGcChecker exited."]
[2022/07/15 15:02:03.650 +08:00] [INFO] [handle_hist.go:156] ["SubLoadWorker exited."]
[2022/07/15 15:02:03.650 +08:00] [INFO] [handle_hist.go:156] ["SubLoadWorker exited."]
[2022/07/15 15:02:03.650 +08:00] [INFO] [handle_hist.go:156] ["SubLoadWorker exited."]
[2022/07/15 15:02:03.650 +08:00] [INFO] [domain.go:733] ["domain closed"] ["take time"=176.208µs]
[2022/07/15 15:02:03.669 +08:00] [INFO] [db.go:567] ["Closing database"]
[2022/07/15 15:02:03.669 +08:00] [INFO] [db.go:592] ["Memtable flushed"]
[2022/07/15 15:02:03.669 +08:00] [INFO] [db.go:596] ["Compaction finished"]
[2022/07/15 15:02:03.670 +08:00] [INFO] [db.go:615] ["BlobManager finished"]
[2022/07/15 15:02:03.670 +08:00] [INFO] [db.go:619] ["ResourceManager finished"]
[2022/07/15 15:02:03.670 +08:00] [INFO] [db.go:625] ["Waiting for closer"]
[2022/07/15 15:02:03.747 +08:00] [INFO] [tidb.go:74] ["new domain"] [store=0d50e318-2b3b-466b-a1aa-8594cfa1e5d6] ["ddl lease"=0s] ["stats lease"=-1ns] ["index usage sync lease"=0s]
[2022/07/15 15:02:03.748 +08:00] [INFO] [domain.go:178] ["full load InfoSchema success"] [currentSchemaVersion=0] [neededSchemaVersion=0] ["start time"=501.666µs]
[2022/07/15 15:02:03.748 +08:00] [INFO] [domain.go:449] ["full load and reset schema validator"]
[2022/07/15 15:02:03.748 +08:00] [INFO] [ddl.go:483] ["[ddl] start DDL"] [ID=ba38ab4f-3178-4424-a5f6-0db1a90dd018] [runWorker=true]
[2022/07/15 15:02:03.748 +08:00] [INFO] [ddl.go:472] ["[ddl] start delRangeManager OK"] ["is a emulator"=true]
[2022/07/15 15:02:03.748 +08:00] [INFO] [delete_range.go:158] ["[ddl] start delRange emulator"]
[2022/07/15 15:02:03.748 +08:00] [INFO] [ddl_worker.go:164] ["[ddl] start DDL worker"] [worker="worker 49, tp general"]
[2022/07/15 15:02:03.748 +08:00] [INFO] [ddl_worker.go:164] ["[ddl] start DDL worker"] [worker="worker 50, tp add index"]
[2022/07/15 15:02:03.748 +08:00] [INFO] [tidb.go:268] ["rollbackTxn called due to ddl/autocommit failure"]
[2022/07/15 15:02:03.749 +08:00] [WARN] [session.go:1983] ["run statement failed"] [schemaVersion=0] [error="[schema:1049]Unknown database 'mysql'"] [errorVerbose="[schema:1049]Unknown database 'mysql'\ngithub.com/pingcap/errors.AddStack\n\t/Users/hongyunyan/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20211224045212-9687c2b0f87c/errors.go:174\ngithub.com/pingcap/errors.(*Error).GenWithStackByArgs\n\t/Users/hongyunyan/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20211224045212-9687c2b0f87c/normalize.go:164\ngithub.com/pingcap/tidb/executor.(*SimpleExec).executeUse\n\t/Users/hongyunyan/Desktop/tidb/executor/simple.go:571\ngithub.com/pingcap/tidb/executor.(*SimpleExec).Next\n\t/Users/hongyunyan/Desktop/tidb/executor/simple.go:131\ngithub.com/pingcap/tidb/executor.Next\n\t/Users/hongyunyan/Desktop/tidb/executor/executor.go:319\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelayExecutor\n\t/Users/hongyunyan/Desktop/tidb/executor/adapter.go:673\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelay\n\t/Users/hongyunyan/Desktop/tidb/executor/adapter.go:523\ngithub.com/pingcap/tidb/executor.(*ExecStmt).Exec\n\t/Users/hongyunyan/Desktop/tidb/executor/adapter.go:472\ngithub.com/pingcap/tidb/session.runStmt\n\t/Users/hongyunyan/Desktop/tidb/session/session.go:2114\ngithub.com/pingcap/tidb/session.(*session).ExecuteStmt\n\t/Users/hongyunyan/Desktop/tidb/session/session.go:1980\ngithub.com/pingcap/tidb/session.(*session).ExecuteInternal\n\t/Users/hongyunyan/Desktop/tidb/session/session.go:1495\ngithub.com/pingcap/tidb/session.checkBootstrapped\n\t/Users/hongyunyan/Desktop/tidb/session/bootstrap.go:728\ngithub.com/pingcap/tidb/session.bootstrap\n\t/Users/hongyunyan/Desktop/tidb/session/bootstrap.go:431\ngithub.com/pingcap/tidb/session.runInBootstrapSession\n\t/Users/hongyunyan/Desktop/tidb/session/session.go:2834\ngithub.com/pingcap/tidb/session.BootstrapSession\n\t/Users/hongyunyan/Desktop/tidb/session/session.go:2720\ngithub.com/pingcap/tidb/testkit.bootstrap\n\t/Users/hongyunyan/Desktop/tidb/testkit/mockstore.go:71\ngithub.com/pingcap/tidb/testkit.CreateMockStoreAndDomain\n\t/Users/hongyunyan/Desktop/tidb/testkit/mockstore.go:64\ngithub.com/pingcap/tidb/testkit.CreateMockStore\n\t/Users/hongyunyan/Desktop/tidb/testkit/mockstore.go:56\ngithub.com/pingcap/tidb/executor/tiflashtest.TestMppGoroutinesExitFromErrors\n\t/Users/hongyunyan/Desktop/tidb/executor/tiflashtest/tiflash_test.go:704\ntesting.tRunner\n\t/opt/homebrew/Cellar/go/1.18.3/libexec/src/testing/testing.go:1439\nruntime.goexit\n\t/opt/homebrew/Cellar/go/1.18.3/libexec/src/runtime/asm_arm64.s:1263"] [session="{\n  \"currDBName\": \"\",\n  \"id\": 0,\n  \"status\": 2,\n  \"strictMode\": true,\n  \"user\": null\n}"]
[2022/07/15 15:02:03.749 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=0] [cur_db=] [sql="CREATE DATABASE IF NOT EXISTS test"] [user=]
[2022/07/15 15:02:03.749 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:2, Type:create schema, State:queueing, SchemaState:none, SchemaID:1, TableID:0, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:03.749 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:03.749 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:2, Type:create schema, State:queueing, SchemaState:none, SchemaID:1, TableID:0, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:03.749 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE DATABASE IF NOT EXISTS test"]
[2022/07/15 15:02:03.750 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 49, tp general"] [job="ID:2, Type:create schema, State:queueing, SchemaState:none, SchemaID:1, TableID:0, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:03.749 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:03.750 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 49, tp general"] [job="ID:2, Type:create schema, State:synced, SchemaState:public, SchemaID:1, TableID:0, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:03.749 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:03.750 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=2]
[2022/07/15 15:02:03.750 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:03.750 +08:00] [INFO] [domain.go:178] ["full load InfoSchema success"] [currentSchemaVersion=0] [neededSchemaVersion=1] ["start time"=440.084µs]
[2022/07/15 15:02:03.750 +08:00] [INFO] [domain.go:449] ["full load and reset schema validator"]
[2022/07/15 15:02:03.750 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=1] [cur_db=] [sql="CREATE DATABASE IF NOT EXISTS `mysql`"] [user=]
[2022/07/15 15:02:03.750 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:4, Type:create schema, State:queueing, SchemaState:none, SchemaID:3, TableID:0, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:03.75 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:03.750 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:4, Type:create schema, State:queueing, SchemaState:none, SchemaID:3, TableID:0, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:03.75 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE DATABASE IF NOT EXISTS `mysql`"]
[2022/07/15 15:02:03.751 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 49, tp general"] [job="ID:4, Type:create schema, State:queueing, SchemaState:none, SchemaID:3, TableID:0, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:03.75 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:03.751 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 49, tp general"] [job="ID:4, Type:create schema, State:synced, SchemaState:public, SchemaID:3, TableID:0, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:03.75 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:03.751 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=4]
[2022/07/15 15:02:03.751 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:03.751 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=1] [neededSchemaVersion=2] ["start time"=15.959µs] [phyTblIDs="[]"] [actionTypes="[]"]
[2022/07/15 15:02:03.751 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=2] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.user (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tauthentication_string\tTEXT,\n\t\tplugin\t\t\t\t\tCHAR(64),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tProcess_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_db_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tSuper_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_user_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_slave_priv\t    \tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_client_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_role_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_role_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAccount_locked\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShutdown_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReload_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tFILE_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tConfig_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_Tablespace_Priv  ENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (Host, User));"] [user=]
[2022/07/15 15:02:03.751 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:6, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:5, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:03.751 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:03.751 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:6, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:5, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:03.751 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.user (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tauthentication_string\tTEXT,\n\t\tplugin\t\t\t\t\tCHAR(64),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tProcess_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_db_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tSuper_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_user_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_slave_priv\t    \tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_client_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_role_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_role_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAccount_locked\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShutdown_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReload_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tFILE_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tConfig_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_Tablespace_Priv  ENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (Host, User));"]
[2022/07/15 15:02:03.752 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 49, tp general"] [job="ID:6, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:5, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:03.751 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:03.753 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 49, tp general"] [job="ID:6, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:5, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:03.751 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:03.754 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=6]
[2022/07/15 15:02:03.754 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:03.754 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=2] [neededSchemaVersion=3] ["start time"=260.416µs] [phyTblIDs="[5]"] [actionTypes="[8]"]
[2022/07/15 15:02:03.754 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=3] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.global_priv (Host CHAR(255) NOT NULL DEFAULT '',User CHAR(80) NOT NULL DEFAULT '',Priv LONGTEXT NOT NULL DEFAULT '',PRIMARY KEY (Host, User))"] [user=]
[2022/07/15 15:02:03.754 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:8, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:7, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:03.754 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.global_priv (Host CHAR(255) NOT NULL DEFAULT '',User CHAR(80) NOT NULL DEFAULT '',Priv LONGTEXT NOT NULL DEFAULT '',PRIMARY KEY (Host, User))"]
[2022/07/15 15:02:03.754 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:8, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:7, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:03.754 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:03.754 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 49, tp general"] [job="ID:8, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:7, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:03.754 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:03.755 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 49, tp general"] [job="ID:8, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:7, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:03.754 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:03.755 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=8]
[2022/07/15 15:02:03.755 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:03.755 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=3] [neededSchemaVersion=4] ["start time"=52.209µs] [phyTblIDs="[7]"] [actionTypes="[8]"]
[2022/07/15 15:02:03.755 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=4] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.db (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tDB\t\t\t\t\t\tCHAR(64),\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv \t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (Host, DB, User));"] [user=]
[2022/07/15 15:02:03.755 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:10, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:9, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:03.755 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:03.755 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:10, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:9, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:03.755 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.db (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tDB\t\t\t\t\t\tCHAR(64),\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv \t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (Host, DB, User));"]
[2022/07/15 15:02:03.756 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 49, tp general"] [job="ID:10, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:9, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:03.755 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:03.757 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 49, tp general"] [job="ID:10, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:9, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:03.755 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:03.757 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=10]
[2022/07/15 15:02:03.757 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:03.757 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=4] [neededSchemaVersion=5] ["start time"=177.5µs] [phyTblIDs="[9]"] [actionTypes="[8]"]
[2022/07/15 15:02:03.757 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=5] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.tables_priv (\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64),\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64),\n\t\tGrantor\t\tCHAR(77),\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tTable_priv\tSET('Select','Insert','Update','Delete','Create','Drop','Grant','Index','Alter','Create View','Show View','Trigger','References'),\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name));"] [user=]
[2022/07/15 15:02:03.758 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:12, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:11, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:03.758 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:03.758 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:12, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:11, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:03.758 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.tables_priv (\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64),\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64),\n\t\tGrantor\t\tCHAR(77),\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tTable_priv\tSET('Select','Insert','Update','Delete','Create','Drop','Grant','Index','Alter','Create View','Show View','Trigger','References'),\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name));"]
[2022/07/15 15:02:03.758 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 49, tp general"] [job="ID:12, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:11, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:03.758 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:03.758 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 49, tp general"] [job="ID:12, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:11, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:03.758 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:03.759 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=12]
[2022/07/15 15:02:03.759 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:03.759 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=5] [neededSchemaVersion=6] ["start time"=87.791µs] [phyTblIDs="[11]"] [actionTypes="[8]"]
[2022/07/15 15:02:03.759 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=6] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.columns_priv(\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64),\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64),\n\t\tColumn_name\tCHAR(64),\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name, Column_name));"] [user=]
[2022/07/15 15:02:03.759 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:14, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:13, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:03.759 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:03.759 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:14, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:13, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:03.759 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.columns_priv(\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64),\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64),\n\t\tColumn_name\tCHAR(64),\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name, Column_name));"]
[2022/07/15 15:02:03.759 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 49, tp general"] [job="ID:14, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:13, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:03.759 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:03.760 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 49, tp general"] [job="ID:14, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:13, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:03.759 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:03.760 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=14]
[2022/07/15 15:02:03.760 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:03.760 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=6] [neededSchemaVersion=7] ["start time"=88.5µs] [phyTblIDs="[13]"] [actionTypes="[8]"]
[2022/07/15 15:02:03.760 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=7] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.GLOBAL_VARIABLES(\n\t\tVARIABLE_NAME  VARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(1024) DEFAULT NULL);"] [user=]
[2022/07/15 15:02:03.760 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:16, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:15, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:03.76 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:03.760 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:16, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:15, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:03.76 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.GLOBAL_VARIABLES(\n\t\tVARIABLE_NAME  VARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(1024) DEFAULT NULL);"]
[2022/07/15 15:02:03.760 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 49, tp general"] [job="ID:16, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:15, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:03.76 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:03.761 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 49, tp general"] [job="ID:16, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:15, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:03.76 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:03.761 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=16]
[2022/07/15 15:02:03.761 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:03.761 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=7] [neededSchemaVersion=8] ["start time"=45.083µs] [phyTblIDs="[15]"] [actionTypes="[8]"]
[2022/07/15 15:02:03.761 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=8] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb(\n\t\tVARIABLE_NAME  \tVARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE \tVARCHAR(1024) DEFAULT NULL,\n\t\tCOMMENT \t\tVARCHAR(1024));"] [user=]
[2022/07/15 15:02:03.761 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:18, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:17, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:03.761 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:03.761 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:18, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:17, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:03.761 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb(\n\t\tVARIABLE_NAME  \tVARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE \tVARCHAR(1024) DEFAULT NULL,\n\t\tCOMMENT \t\tVARCHAR(1024));"]
[2022/07/15 15:02:03.761 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 49, tp general"] [job="ID:18, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:17, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:03.761 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:03.762 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 49, tp general"] [job="ID:18, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:17, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:03.761 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:03.762 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=18]
[2022/07/15 15:02:03.762 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:03.762 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=8] [neededSchemaVersion=9] ["start time"=58.416µs] [phyTblIDs="[17]"] [actionTypes="[8]"]
[2022/07/15 15:02:03.762 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=9] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.help_topic (\n  \t\thelp_topic_id \t\tINT(10) UNSIGNED NOT NULL,\n  \t\tname \t\t\t\tCHAR(64) NOT NULL,\n  \t\thelp_category_id \tSMALLINT(5) UNSIGNED NOT NULL,\n  \t\tdescription \t\tTEXT NOT NULL,\n  \t\texample \t\t\tTEXT NOT NULL,\n  \t\turl \t\t\t\tTEXT NOT NULL,\n  \t\tPRIMARY KEY (help_topic_id) clustered,\n  \t\tUNIQUE KEY name (name)\n\t\t) ENGINE=InnoDB DEFAULT CHARSET=utf8 STATS_PERSISTENT=0 COMMENT='help topics';"] [user=]
[2022/07/15 15:02:03.762 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:20, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:19, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:03.762 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:03.762 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:20, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:19, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:03.762 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.help_topic (\n  \t\thelp_topic_id \t\tINT(10) UNSIGNED NOT NULL,\n  \t\tname \t\t\t\tCHAR(64) NOT NULL,\n  \t\thelp_category_id \tSMALLINT(5) UNSIGNED NOT NULL,\n  \t\tdescription \t\tTEXT NOT NULL,\n  \t\texample \t\t\tTEXT NOT NULL,\n  \t\turl \t\t\t\tTEXT NOT NULL,\n  \t\tPRIMARY KEY (help_topic_id) clustered,\n  \t\tUNIQUE KEY name (name)\n\t\t) ENGINE=InnoDB DEFAULT CHARSET=utf8 STATS_PERSISTENT=0 COMMENT='help topics';"]
[2022/07/15 15:02:03.762 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 49, tp general"] [job="ID:20, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:19, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:03.762 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:03.763 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 49, tp general"] [job="ID:20, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:19, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:03.762 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:03.763 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=20]
[2022/07/15 15:02:03.763 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:03.763 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=9] [neededSchemaVersion=10] ["start time"=67.583µs] [phyTblIDs="[19]"] [actionTypes="[8]"]
[2022/07/15 15:02:03.763 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=10] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_meta (\n\t\tversion \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\ttable_id \t\tBIGINT(64) NOT NULL,\n\t\tmodify_count\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcount \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tsnapshot        BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tINDEX idx_ver(version),\n\t\tUNIQUE INDEX tbl(table_id)\n\t);"] [user=]
[2022/07/15 15:02:03.763 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:22, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:21, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:03.763 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:03.763 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:22, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:21, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:03.763 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_meta (\n\t\tversion \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\ttable_id \t\tBIGINT(64) NOT NULL,\n\t\tmodify_count\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcount \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tsnapshot        BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tINDEX idx_ver(version),\n\t\tUNIQUE INDEX tbl(table_id)\n\t);"]
[2022/07/15 15:02:03.763 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 49, tp general"] [job="ID:22, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:21, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:03.763 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:03.764 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 49, tp general"] [job="ID:22, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:21, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:03.763 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:03.764 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=22]
[2022/07/15 15:02:03.764 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:03.764 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=10] [neededSchemaVersion=11] ["start time"=74.709µs] [phyTblIDs="[21]"] [actionTypes="[8]"]
[2022/07/15 15:02:03.764 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=11] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_histograms (\n\t\ttable_id \t\t\tBIGINT(64) NOT NULL,\n\t\tis_index \t\t\tTINYINT(2) NOT NULL,\n\t\thist_id \t\t\tBIGINT(64) NOT NULL,\n\t\tdistinct_count \t\tBIGINT(64) NOT NULL,\n\t\tnull_count \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\ttot_col_size \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tmodify_count \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tversion \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tcm_sketch \t\t\tBLOB(6291456),\n\t\tstats_ver \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tflag \t\t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcorrelation \t\tDOUBLE NOT NULL DEFAULT 0,\n\t\tlast_analyze_pos \tLONGBLOB DEFAULT NULL,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id)\n\t);"] [user=]
[2022/07/15 15:02:03.764 +08:00] [INFO] [ddl_api.go:999] ["Automatically convert BLOB(6291456) to MEDIUMBLOB"]
[2022/07/15 15:02:03.764 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:24, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:23, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:03.764 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:03.764 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:24, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:23, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:03.764 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_histograms (\n\t\ttable_id \t\t\tBIGINT(64) NOT NULL,\n\t\tis_index \t\t\tTINYINT(2) NOT NULL,\n\t\thist_id \t\t\tBIGINT(64) NOT NULL,\n\t\tdistinct_count \t\tBIGINT(64) NOT NULL,\n\t\tnull_count \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\ttot_col_size \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tmodify_count \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tversion \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tcm_sketch \t\t\tBLOB(6291456),\n\t\tstats_ver \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tflag \t\t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcorrelation \t\tDOUBLE NOT NULL DEFAULT 0,\n\t\tlast_analyze_pos \tLONGBLOB DEFAULT NULL,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id)\n\t);"]
[2022/07/15 15:02:03.764 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 49, tp general"] [job="ID:24, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:23, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:03.764 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:03.765 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 49, tp general"] [job="ID:24, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:23, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:03.764 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:03.765 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=24]
[2022/07/15 15:02:03.765 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:03.765 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=11] [neededSchemaVersion=12] ["start time"=110.792µs] [phyTblIDs="[23]"] [actionTypes="[8]"]
[2022/07/15 15:02:03.765 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=12] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_buckets (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tbucket_id \tBIGINT(64) NOT NULL,\n\t\tcount \t\tBIGINT(64) NOT NULL,\n\t\trepeats \tBIGINT(64) NOT NULL,\n\t\tupper_bound LONGBLOB NOT NULL,\n\t\tlower_bound LONGBLOB ,\n\t\tndv         BIGINT NOT NULL DEFAULT 0,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id, bucket_id)\n\t);"] [user=]
[2022/07/15 15:02:03.766 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:26, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:25, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:03.766 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:03.766 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:26, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:25, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:03.766 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_buckets (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tbucket_id \tBIGINT(64) NOT NULL,\n\t\tcount \t\tBIGINT(64) NOT NULL,\n\t\trepeats \tBIGINT(64) NOT NULL,\n\t\tupper_bound LONGBLOB NOT NULL,\n\t\tlower_bound LONGBLOB ,\n\t\tndv         BIGINT NOT NULL DEFAULT 0,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id, bucket_id)\n\t);"]
[2022/07/15 15:02:03.766 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 49, tp general"] [job="ID:26, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:25, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:03.766 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:03.766 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 49, tp general"] [job="ID:26, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:25, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:03.766 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:03.767 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=26]
[2022/07/15 15:02:03.767 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:03.767 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=12] [neededSchemaVersion=13] ["start time"=89.458µs] [phyTblIDs="[25]"] [actionTypes="[8]"]
[2022/07/15 15:02:03.767 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=13] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_index (job_id, element_id)\n\t);"] [user=]
[2022/07/15 15:02:03.767 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:28, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:27, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:03.767 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:03.767 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:28, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:27, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:03.767 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_index (job_id, element_id)\n\t);"]
[2022/07/15 15:02:03.767 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 49, tp general"] [job="ID:28, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:27, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:03.767 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:03.767 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 49, tp general"] [job="ID:28, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:27, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:03.767 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:03.768 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=28]
[2022/07/15 15:02:03.768 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:03.768 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=13] [neededSchemaVersion=14] ["start time"=63.25µs] [phyTblIDs="[27]"] [actionTypes="[8]"]
[2022/07/15 15:02:03.768 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=14] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range_done (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_done_index (job_id, element_id)\n\t);"] [user=]
[2022/07/15 15:02:03.768 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:30, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:29, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:03.768 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:03.768 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:30, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:29, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:03.768 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range_done (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_done_index (job_id, element_id)\n\t);"]
[2022/07/15 15:02:03.768 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 49, tp general"] [job="ID:30, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:29, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:03.768 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:03.768 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 49, tp general"] [job="ID:30, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:29, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:03.768 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:03.769 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=30]
[2022/07/15 15:02:03.769 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:03.769 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=14] [neededSchemaVersion=15] ["start time"=65.375µs] [phyTblIDs="[29]"] [actionTypes="[8]"]
[2022/07/15 15:02:03.769 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=15] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_feedback (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tfeedback \tBLOB NOT NULL,\n\t\tINDEX hist(table_id, is_index, hist_id)\n\t);"] [user=]
[2022/07/15 15:02:03.769 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:32, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:31, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:03.769 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:03.769 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:32, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:31, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:03.769 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_feedback (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tfeedback \tBLOB NOT NULL,\n\t\tINDEX hist(table_id, is_index, hist_id)\n\t);"]
[2022/07/15 15:02:03.769 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 49, tp general"] [job="ID:32, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:31, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:03.769 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:03.769 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 49, tp general"] [job="ID:32, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:31, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:03.769 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:03.770 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=32]
[2022/07/15 15:02:03.770 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:03.770 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=15] [neededSchemaVersion=16] ["start time"=71.375µs] [phyTblIDs="[31]"] [actionTypes="[8]"]
[2022/07/15 15:02:03.770 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=16] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.role_edges (\n\t\tFROM_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tFROM_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tWITH_ADMIN_OPTION \tENUM('N','Y') CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (FROM_HOST,FROM_USER,TO_HOST,TO_USER)\n\t);"] [user=]
[2022/07/15 15:02:03.770 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:34, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:33, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:03.77 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:03.770 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:34, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:33, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:03.77 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.role_edges (\n\t\tFROM_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tFROM_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tWITH_ADMIN_OPTION \tENUM('N','Y') CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (FROM_HOST,FROM_USER,TO_HOST,TO_USER)\n\t);"]
[2022/07/15 15:02:03.770 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 49, tp general"] [job="ID:34, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:33, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:03.77 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:03.771 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 49, tp general"] [job="ID:34, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:33, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:03.77 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:03.771 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=34]
[2022/07/15 15:02:03.771 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:03.771 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=16] [neededSchemaVersion=17] ["start time"=67.333µs] [phyTblIDs="[33]"] [actionTypes="[8]"]
[2022/07/15 15:02:03.771 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=17] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.default_roles (\n\t\tHOST \t\t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tUSER \t\t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tDEFAULT_ROLE_HOST \tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '%',\n\t\tDEFAULT_ROLE_USER \tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tPRIMARY KEY (HOST,USER,DEFAULT_ROLE_HOST,DEFAULT_ROLE_USER)\n\t)"] [user=]
[2022/07/15 15:02:03.771 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:36, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:35, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:03.771 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:03.771 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:36, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:35, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:03.771 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.default_roles (\n\t\tHOST \t\t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tUSER \t\t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tDEFAULT_ROLE_HOST \tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '%',\n\t\tDEFAULT_ROLE_USER \tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tPRIMARY KEY (HOST,USER,DEFAULT_ROLE_HOST,DEFAULT_ROLE_USER)\n\t)"]
[2022/07/15 15:02:03.771 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 49, tp general"] [job="ID:36, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:35, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:03.771 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:03.772 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 49, tp general"] [job="ID:36, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:35, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:03.771 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:03.772 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=36]
[2022/07/15 15:02:03.772 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:03.772 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=17] [neededSchemaVersion=18] ["start time"=66µs] [phyTblIDs="[35]"] [actionTypes="[8]"]
[2022/07/15 15:02:03.772 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=18] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.bind_info (\n\t\toriginal_sql TEXT NOT NULL,\n\t\tbind_sql TEXT NOT NULL,\n\t\tdefault_db TEXT NOT NULL,\n\t\tstatus TEXT NOT NULL,\n\t\tcreate_time TIMESTAMP(3) NOT NULL,\n\t\tupdate_time TIMESTAMP(3) NOT NULL,\n\t\tcharset TEXT NOT NULL,\n\t\tcollation TEXT NOT NULL,\n\t\tsource VARCHAR(10) NOT NULL DEFAULT 'unknown',\n\t\tINDEX sql_index(original_sql(700),default_db(68)) COMMENT \"accelerate the speed when add global binding query\",\n\t\tINDEX time_index(update_time) COMMENT \"accelerate the speed when querying with last update time\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"] [user=]
[2022/07/15 15:02:03.772 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:38, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:37, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:03.772 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:03.772 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:38, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:37, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:03.772 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.bind_info (\n\t\toriginal_sql TEXT NOT NULL,\n\t\tbind_sql TEXT NOT NULL,\n\t\tdefault_db TEXT NOT NULL,\n\t\tstatus TEXT NOT NULL,\n\t\tcreate_time TIMESTAMP(3) NOT NULL,\n\t\tupdate_time TIMESTAMP(3) NOT NULL,\n\t\tcharset TEXT NOT NULL,\n\t\tcollation TEXT NOT NULL,\n\t\tsource VARCHAR(10) NOT NULL DEFAULT 'unknown',\n\t\tINDEX sql_index(original_sql(700),default_db(68)) COMMENT \"accelerate the speed when add global binding query\",\n\t\tINDEX time_index(update_time) COMMENT \"accelerate the speed when querying with last update time\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"]
[2022/07/15 15:02:03.772 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 49, tp general"] [job="ID:38, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:37, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:03.772 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:03.773 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 49, tp general"] [job="ID:38, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:37, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:03.772 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:03.773 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=38]
[2022/07/15 15:02:03.773 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:03.773 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=18] [neededSchemaVersion=19] ["start time"=96.042µs] [phyTblIDs="[37]"] [actionTypes="[8]"]
[2022/07/15 15:02:03.773 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=19] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_top_n (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tcount \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"] [user=]
[2022/07/15 15:02:03.774 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:40, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:39, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:03.773 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:03.774 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:40, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:39, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:03.773 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_top_n (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tcount \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"]
[2022/07/15 15:02:03.774 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 49, tp general"] [job="ID:40, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:39, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:03.773 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:03.774 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 49, tp general"] [job="ID:40, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:39, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:03.773 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:03.774 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=40]
[2022/07/15 15:02:03.774 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:03.774 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=19] [neededSchemaVersion=20] ["start time"=65.167µs] [phyTblIDs="[39]"] [actionTypes="[8]"]
[2022/07/15 15:02:03.774 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=20] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.expr_pushdown_blacklist (\n\t\tname \t\tCHAR(100) NOT NULL,\n\t\tstore_type \tCHAR(100) NOT NULL DEFAULT 'tikv,tiflash,tidb',\n\t\treason \t\tVARCHAR(200)\n\t);"] [user=]
[2022/07/15 15:02:03.774 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:42, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:41, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:03.774 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:03.774 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:42, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:41, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:03.774 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.expr_pushdown_blacklist (\n\t\tname \t\tCHAR(100) NOT NULL,\n\t\tstore_type \tCHAR(100) NOT NULL DEFAULT 'tikv,tiflash,tidb',\n\t\treason \t\tVARCHAR(200)\n\t);"]
[2022/07/15 15:02:03.775 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 49, tp general"] [job="ID:42, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:41, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:03.774 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:03.775 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 49, tp general"] [job="ID:42, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:41, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:03.774 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:03.775 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=42]
[2022/07/15 15:02:03.775 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:03.775 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=20] [neededSchemaVersion=21] ["start time"=65.542µs] [phyTblIDs="[41]"] [actionTypes="[8]"]
[2022/07/15 15:02:03.775 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=21] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.opt_rule_blacklist (\n\t\tname \tCHAR(100) NOT NULL\n\t);"] [user=]
[2022/07/15 15:02:03.775 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:44, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:43, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:03.775 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:03.775 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:44, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:43, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:03.775 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.opt_rule_blacklist (\n\t\tname \tCHAR(100) NOT NULL\n\t);"]
[2022/07/15 15:02:03.775 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 49, tp general"] [job="ID:44, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:43, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:03.775 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:03.775 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 49, tp general"] [job="ID:44, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:43, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:03.775 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:03.775 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=44]
[2022/07/15 15:02:03.776 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:03.776 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=21] [neededSchemaVersion=22] ["start time"=32.583µs] [phyTblIDs="[43]"] [actionTypes="[8]"]
[2022/07/15 15:02:03.776 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=22] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_extended (\n\t\tname varchar(32) NOT NULL,\n\t\ttype tinyint(4) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tcolumn_ids varchar(32) NOT NULL,\n\t\tstats blob DEFAULT NULL,\n\t\tversion bigint(64) unsigned NOT NULL,\n\t\tstatus tinyint(4) NOT NULL,\n\t\tPRIMARY KEY(name, table_id),\n\t\tKEY idx_1 (table_id, status, version),\n\t\tKEY idx_2 (status, version)\n\t);"] [user=]
[2022/07/15 15:02:03.776 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:46, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:45, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:03.776 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:03.776 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:46, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:45, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:03.776 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_extended (\n\t\tname varchar(32) NOT NULL,\n\t\ttype tinyint(4) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tcolumn_ids varchar(32) NOT NULL,\n\t\tstats blob DEFAULT NULL,\n\t\tversion bigint(64) unsigned NOT NULL,\n\t\tstatus tinyint(4) NOT NULL,\n\t\tPRIMARY KEY(name, table_id),\n\t\tKEY idx_1 (table_id, status, version),\n\t\tKEY idx_2 (status, version)\n\t);"]
[2022/07/15 15:02:03.776 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 49, tp general"] [job="ID:46, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:45, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:03.776 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:03.776 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 49, tp general"] [job="ID:46, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:45, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:03.776 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:03.777 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=46]
[2022/07/15 15:02:03.777 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:03.777 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=22] [neededSchemaVersion=23] ["start time"=89µs] [phyTblIDs="[45]"] [actionTypes="[8]"]
[2022/07/15 15:02:03.777 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=23] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.schema_index_usage (\n\t\tTABLE_ID bigint(64),\n\t\tINDEX_ID bigint(21),\n\t\tQUERY_COUNT bigint(64),\n\t\tROWS_SELECTED bigint(64),\n\t\tLAST_USED_AT timestamp,\n\t\tPRIMARY KEY(TABLE_ID, INDEX_ID)\n\t);"] [user=]
[2022/07/15 15:02:03.777 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:48, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:47, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:03.777 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:03.777 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:48, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:47, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:03.777 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.schema_index_usage (\n\t\tTABLE_ID bigint(64),\n\t\tINDEX_ID bigint(21),\n\t\tQUERY_COUNT bigint(64),\n\t\tROWS_SELECTED bigint(64),\n\t\tLAST_USED_AT timestamp,\n\t\tPRIMARY KEY(TABLE_ID, INDEX_ID)\n\t);"]
[2022/07/15 15:02:03.777 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 49, tp general"] [job="ID:48, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:47, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:03.777 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:03.777 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 49, tp general"] [job="ID:48, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:47, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:03.777 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:03.778 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=48]
[2022/07/15 15:02:03.778 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:03.778 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=23] [neededSchemaVersion=24] ["start time"=63.917µs] [phyTblIDs="[47]"] [actionTypes="[8]"]
[2022/07/15 15:02:03.778 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=24] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_fm_sketch (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"] [user=]
[2022/07/15 15:02:03.778 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:50, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:49, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:03.778 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:03.778 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:50, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:49, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:03.778 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_fm_sketch (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"]
[2022/07/15 15:02:03.778 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 49, tp general"] [job="ID:50, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:49, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:03.778 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:03.778 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 49, tp general"] [job="ID:50, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:49, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:03.778 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:03.778 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=50]
[2022/07/15 15:02:03.778 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:03.778 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=24] [neededSchemaVersion=25] ["start time"=59.167µs] [phyTblIDs="[49]"] [actionTypes="[8]"]
[2022/07/15 15:02:03.779 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=25] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.global_grants (\n\t\tUSER char(32) NOT NULL DEFAULT '',\n\t\tHOST char(255) NOT NULL DEFAULT '',\n\t\tPRIV char(32) NOT NULL DEFAULT '',\n\t\tWITH_GRANT_OPTION enum('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (USER,HOST,PRIV)\n\t);"] [user=]
[2022/07/15 15:02:03.779 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:52, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:51, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:03.779 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:03.779 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:52, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:51, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:03.779 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.global_grants (\n\t\tUSER char(32) NOT NULL DEFAULT '',\n\t\tHOST char(255) NOT NULL DEFAULT '',\n\t\tPRIV char(32) NOT NULL DEFAULT '',\n\t\tWITH_GRANT_OPTION enum('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (USER,HOST,PRIV)\n\t);"]
[2022/07/15 15:02:03.779 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 49, tp general"] [job="ID:52, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:51, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:03.779 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:03.779 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 49, tp general"] [job="ID:52, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:51, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:03.779 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:03.779 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=52]
[2022/07/15 15:02:03.779 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:03.779 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=25] [neededSchemaVersion=26] ["start time"=57.542µs] [phyTblIDs="[51]"] [actionTypes="[8]"]
[2022/07/15 15:02:03.780 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=26] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.capture_plan_baselines_blacklist (\n\t\tid bigint(64) auto_increment,\n\t\tfilter_type varchar(32) NOT NULL COMMENT \"type of the filter, only db, table and frequency supported now\",\n\t\tfilter_value varchar(32) NOT NULL,\n\t\tkey idx(filter_type),\n\t\tprimary key(id)\n\t);"] [user=]
[2022/07/15 15:02:03.780 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:54, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:53, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:03.78 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:03.780 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:54, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:53, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:03.78 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.capture_plan_baselines_blacklist (\n\t\tid bigint(64) auto_increment,\n\t\tfilter_type varchar(32) NOT NULL COMMENT \"type of the filter, only db, table and frequency supported now\",\n\t\tfilter_value varchar(32) NOT NULL,\n\t\tkey idx(filter_type),\n\t\tprimary key(id)\n\t);"]
[2022/07/15 15:02:03.780 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 49, tp general"] [job="ID:54, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:53, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:03.78 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:03.780 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 49, tp general"] [job="ID:54, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:53, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:03.78 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:03.780 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=54]
[2022/07/15 15:02:03.780 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:03.780 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=26] [neededSchemaVersion=27] ["start time"=50.042µs] [phyTblIDs="[53]"] [actionTypes="[8]"]
[2022/07/15 15:02:03.780 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=27] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.column_stats_usage (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tcolumn_id BIGINT(64) NOT NULL,\n\t\tlast_used_at TIMESTAMP,\n\t\tlast_analyzed_at TIMESTAMP,\n\t\tPRIMARY KEY (table_id, column_id) CLUSTERED\n\t);"] [user=]
[2022/07/15 15:02:03.780 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:56, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:55, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:03.78 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:03.780 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:56, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:55, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:03.78 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.column_stats_usage (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tcolumn_id BIGINT(64) NOT NULL,\n\t\tlast_used_at TIMESTAMP,\n\t\tlast_analyzed_at TIMESTAMP,\n\t\tPRIMARY KEY (table_id, column_id) CLUSTERED\n\t);"]
[2022/07/15 15:02:03.781 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 49, tp general"] [job="ID:56, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:55, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:03.78 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:03.781 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 49, tp general"] [job="ID:56, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:55, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:03.78 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:03.781 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=56]
[2022/07/15 15:02:03.781 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:03.781 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=27] [neededSchemaVersion=28] ["start time"=66.916µs] [phyTblIDs="[55]"] [actionTypes="[8]"]
[2022/07/15 15:02:03.781 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=28] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.table_cache_meta (\n\t\ttid bigint(11) NOT NULL DEFAULT 0,\n\t\tlock_type enum('NONE','READ', 'INTEND', 'WRITE') NOT NULL DEFAULT 'NONE',\n\t\tlease bigint(20) NOT NULL DEFAULT 0,\n\t\toldReadLease bigint(20) NOT NULL DEFAULT 0,\n\t\tPRIMARY KEY (tid)\n\t);"] [user=]
[2022/07/15 15:02:03.781 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:58, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:57, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:03.781 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:03.781 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:58, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:57, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:03.781 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.table_cache_meta (\n\t\ttid bigint(11) NOT NULL DEFAULT 0,\n\t\tlock_type enum('NONE','READ', 'INTEND', 'WRITE') NOT NULL DEFAULT 'NONE',\n\t\tlease bigint(20) NOT NULL DEFAULT 0,\n\t\toldReadLease bigint(20) NOT NULL DEFAULT 0,\n\t\tPRIMARY KEY (tid)\n\t);"]
[2022/07/15 15:02:03.781 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 49, tp general"] [job="ID:58, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:57, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:03.781 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:03.782 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 49, tp general"] [job="ID:58, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:57, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:03.781 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:03.782 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=58]
[2022/07/15 15:02:03.782 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:03.782 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=28] [neededSchemaVersion=29] ["start time"=50.834µs] [phyTblIDs="[57]"] [actionTypes="[8]"]
[2022/07/15 15:02:03.782 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=29] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.analyze_options (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tsample_num BIGINT(64) NOT NULL DEFAULT 0,\n\t\tsample_rate DOUBLE NOT NULL DEFAULT -1,\n\t\tbuckets BIGINT(64) NOT NULL DEFAULT 0,\n\t\ttopn BIGINT(64) NOT NULL DEFAULT -1,\n\t\tcolumn_choice enum('DEFAULT','ALL','PREDICATE','LIST') NOT NULL DEFAULT 'DEFAULT',\n\t\tcolumn_ids TEXT(19372),\n\t\tPRIMARY KEY (table_id) CLUSTERED\n\t);"] [user=]
[2022/07/15 15:02:03.782 +08:00] [INFO] [ddl_api.go:999] ["Automatically convert BLOB(19372) to MEDIUMBLOB"]
[2022/07/15 15:02:03.782 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:60, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:59, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:03.782 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:03.782 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:60, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:59, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:03.782 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.analyze_options (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tsample_num BIGINT(64) NOT NULL DEFAULT 0,\n\t\tsample_rate DOUBLE NOT NULL DEFAULT -1,\n\t\tbuckets BIGINT(64) NOT NULL DEFAULT 0,\n\t\ttopn BIGINT(64) NOT NULL DEFAULT -1,\n\t\tcolumn_choice enum('DEFAULT','ALL','PREDICATE','LIST') NOT NULL DEFAULT 'DEFAULT',\n\t\tcolumn_ids TEXT(19372),\n\t\tPRIMARY KEY (table_id) CLUSTERED\n\t);"]
[2022/07/15 15:02:03.782 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 49, tp general"] [job="ID:60, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:59, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:03.782 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:03.783 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 49, tp general"] [job="ID:60, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:59, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:03.782 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:03.783 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=60]
[2022/07/15 15:02:03.783 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:03.783 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=29] [neededSchemaVersion=30] ["start time"=71.292µs] [phyTblIDs="[59]"] [actionTypes="[8]"]
[2022/07/15 15:02:03.783 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=30] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tstats_data longblob NOT NULL,\n\t\tseq_no bigint(64) NOT NULL comment 'sequence number of the gzipped data slice',\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version_seq (table_id, version, seq_no),\n\t\tKEY table_create_time (table_id, create_time, seq_no)\n\t);"] [user=]
[2022/07/15 15:02:03.783 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:62, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:61, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:03.783 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:03.783 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:62, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:61, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:03.783 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tstats_data longblob NOT NULL,\n\t\tseq_no bigint(64) NOT NULL comment 'sequence number of the gzipped data slice',\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version_seq (table_id, version, seq_no),\n\t\tKEY table_create_time (table_id, create_time, seq_no)\n\t);"]
[2022/07/15 15:02:03.783 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 49, tp general"] [job="ID:62, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:61, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:03.783 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:03.783 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 49, tp general"] [job="ID:62, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:61, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:03.783 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:03.784 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=62]
[2022/07/15 15:02:03.784 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:03.784 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=30] [neededSchemaVersion=31] ["start time"=72.25µs] [phyTblIDs="[61]"] [actionTypes="[8]"]
[2022/07/15 15:02:03.784 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=31] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_meta_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL,\n\t\tcount bigint(64) NOT NULL,\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version (table_id, version),\n\t\tKEY table_create_time (table_id, create_time)\n\t);"] [user=]
[2022/07/15 15:02:03.784 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:64, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:63, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:03.784 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:03.784 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:64, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:63, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:03.784 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_meta_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL,\n\t\tcount bigint(64) NOT NULL,\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version (table_id, version),\n\t\tKEY table_create_time (table_id, create_time)\n\t);"]
[2022/07/15 15:02:03.784 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 49, tp general"] [job="ID:64, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:63, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:03.784 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:03.784 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 49, tp general"] [job="ID:64, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:63, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:03.784 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:03.785 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=64]
[2022/07/15 15:02:03.785 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:03.785 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=31] [neededSchemaVersion=32] ["start time"=76.417µs] [phyTblIDs="[63]"] [actionTypes="[8]"]
[2022/07/15 15:02:03.785 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=32] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.analyze_jobs (\n\t\tid BIGINT(64) UNSIGNED NOT NULL AUTO_INCREMENT,\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\ttable_schema CHAR(64) NOT NULL DEFAULT '',\n\t\ttable_name CHAR(64) NOT NULL DEFAULT '',\n\t\tpartition_name CHAR(64) NOT NULL DEFAULT '',\n\t\tjob_info TEXT NOT NULL,\n\t\tprocessed_rows BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tstart_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tstate ENUM('pending', 'running', 'finished', 'failed') NOT NULL,\n\t\tfail_reason TEXT,\n\t\tinstance VARCHAR(512) NOT NULL comment 'address of the TiDB instance executing the analyze job',\n\t\tprocess_id BIGINT(64) UNSIGNED comment 'ID of the process executing the analyze job',\n\t\tPRIMARY KEY (id),\n\t\tKEY (update_time)\n\t);"] [user=]
[2022/07/15 15:02:03.785 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:66, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:65, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:03.785 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:03.785 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:66, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:65, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:03.785 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.analyze_jobs (\n\t\tid BIGINT(64) UNSIGNED NOT NULL AUTO_INCREMENT,\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\ttable_schema CHAR(64) NOT NULL DEFAULT '',\n\t\ttable_name CHAR(64) NOT NULL DEFAULT '',\n\t\tpartition_name CHAR(64) NOT NULL DEFAULT '',\n\t\tjob_info TEXT NOT NULL,\n\t\tprocessed_rows BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tstart_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tstate ENUM('pending', 'running', 'finished', 'failed') NOT NULL,\n\t\tfail_reason TEXT,\n\t\tinstance VARCHAR(512) NOT NULL comment 'address of the TiDB instance executing the analyze job',\n\t\tprocess_id BIGINT(64) UNSIGNED comment 'ID of the process executing the analyze job',\n\t\tPRIMARY KEY (id),\n\t\tKEY (update_time)\n\t);"]
[2022/07/15 15:02:03.785 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 49, tp general"] [job="ID:66, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:65, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:03.785 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:03.786 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 49, tp general"] [job="ID:66, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:65, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:03.785 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:03.786 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=66]
[2022/07/15 15:02:03.786 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:03.786 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=32] [neededSchemaVersion=33] ["start time"=118.958µs] [phyTblIDs="[65]"] [actionTypes="[8]"]
[2022/07/15 15:02:03.786 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=33] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.advisory_locks (\n\t\tlock_name VARCHAR(64) NOT NULL PRIMARY KEY\n\t);"] [user=]
[2022/07/15 15:02:03.787 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:68, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:67, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:03.786 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:03.787 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:68, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:67, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:03.786 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.advisory_locks (\n\t\tlock_name VARCHAR(64) NOT NULL PRIMARY KEY\n\t);"]
[2022/07/15 15:02:03.787 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 49, tp general"] [job="ID:68, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:67, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:03.786 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:03.787 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 49, tp general"] [job="ID:68, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:67, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:03.786 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:03.787 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=68]
[2022/07/15 15:02:03.787 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:03.787 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=33] [neededSchemaVersion=34] ["start time"=48.25µs] [phyTblIDs="[67]"] [actionTypes="[8]"]
[2022/07/15 15:02:03.792 +08:00] [INFO] [bootstrap.go:448] ["bootstrap successful"] ["take time"=44.145625ms]
[2022/07/15 15:02:03.793 +08:00] [INFO] [ddl_worker.go:158] ["[ddl] DDL worker closed"] [worker="worker 49, tp general"] ["take time"=125ns]
[2022/07/15 15:02:03.793 +08:00] [INFO] [ddl_worker.go:158] ["[ddl] DDL worker closed"] [worker="worker 50, tp add index"] ["take time"=41ns]
[2022/07/15 15:02:03.793 +08:00] [INFO] [delete_range.go:148] ["[ddl] closing delRange"]
[2022/07/15 15:02:03.793 +08:00] [INFO] [session_pool.go:94] ["[ddl] closing sessionPool"]
[2022/07/15 15:02:03.793 +08:00] [INFO] [ddl.go:576] ["[ddl] DDL closed"] [ID=ba38ab4f-3178-4424-a5f6-0db1a90dd018] ["take time"=75.042µs]
[2022/07/15 15:02:03.793 +08:00] [INFO] [ddl.go:464] ["[ddl] stop DDL"] [ID=ba38ab4f-3178-4424-a5f6-0db1a90dd018]
[2022/07/15 15:02:03.793 +08:00] [INFO] [domain.go:498] ["topNSlowQueryLoop exited."]
[2022/07/15 15:02:03.793 +08:00] [INFO] [domain.go:575] ["topologySyncerKeeper exited."]
[2022/07/15 15:02:03.793 +08:00] [INFO] [domain.go:527] ["infoSyncerKeeper exited."]
[2022/07/15 15:02:03.793 +08:00] [INFO] [domain.go:552] ["globalConfigSyncerKeeper exited."]
[2022/07/15 15:02:03.793 +08:00] [INFO] [domain.go:733] ["domain closed"] ["take time"=131.042µs]
[2022/07/15 15:02:03.793 +08:00] [INFO] [tidb.go:74] ["new domain"] [store=0d50e318-2b3b-466b-a1aa-8594cfa1e5d6] ["ddl lease"=0s] ["stats lease"=-1ns] ["index usage sync lease"=0s]
[2022/07/15 15:02:03.796 +08:00] [INFO] [domain.go:178] ["full load InfoSchema success"] [currentSchemaVersion=0] [neededSchemaVersion=34] ["start time"=3.363166ms]
[2022/07/15 15:02:03.796 +08:00] [INFO] [domain.go:449] ["full load and reset schema validator"]
[2022/07/15 15:02:03.796 +08:00] [INFO] [ddl.go:483] ["[ddl] start DDL"] [ID=e0bbdbd8-2694-48a7-baf0-2404350ca751] [runWorker=true]
[2022/07/15 15:02:03.796 +08:00] [INFO] [ddl.go:472] ["[ddl] start delRangeManager OK"] ["is a emulator"=true]
[2022/07/15 15:02:03.796 +08:00] [INFO] [delete_range.go:158] ["[ddl] start delRange emulator"]
[2022/07/15 15:02:03.796 +08:00] [INFO] [ddl_worker.go:164] ["[ddl] start DDL worker"] [worker="worker 51, tp general"]
[2022/07/15 15:02:03.796 +08:00] [INFO] [ddl_worker.go:164] ["[ddl] start DDL worker"] [worker="worker 52, tp add index"]
[2022/07/15 15:02:03.797 +08:00] [WARN] [sysvar_cache.go:53] ["sysvar cache is empty, triggering rebuild"]
[2022/07/15 15:02:03.800 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=13] [schemaVersion=34] [cur_db=test] [sql="drop table if exists t"] [user=]
[2022/07/15 15:02:03.801 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=13] [schemaVersion=34] [cur_db=test] [sql="create table t(a int not null primary key, b int not null)"] [user=]
[2022/07/15 15:02:03.801 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:70, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:03.801 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:03.801 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:70, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:03.801 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="create table t(a int not null primary key, b int not null)"]
[2022/07/15 15:02:03.801 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 51, tp general"] [job="ID:70, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:03.801 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:03.801 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 51, tp general"] [job="ID:70, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:69, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:03.801 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:03.801 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=70]
[2022/07/15 15:02:03.801 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:03.801 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=34] [neededSchemaVersion=35] ["start time"=45.833µs] [phyTblIDs="[69]"] [actionTypes="[8]"]
[2022/07/15 15:02:03.801 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=13] [schemaVersion=35] [cur_db=test] [sql="alter table t set tiflash replica 1"] [user=]
[2022/07/15 15:02:03.801 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:71, Type:set tiflash replica, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:03.801 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:03.801 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:71, Type:set tiflash replica, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:03.801 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="alter table t set tiflash replica 1"]
[2022/07/15 15:02:03.802 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 51, tp general"] [job="ID:71, Type:set tiflash replica, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:03.801 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:03.802 +08:00] [INFO] [table.go:1109] ["Set TiFlash replica pd rule"] [tableID=69]
[2022/07/15 15:02:03.802 +08:00] [INFO] [info.go:1051] [ConfigureTiFlashPDForTable] [tableID=69] [count=1]
[2022/07/15 15:02:03.802 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 51, tp general"] [job="ID:71, Type:set tiflash replica, State:synced, SchemaState:public, SchemaID:1, TableID:69, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:03.801 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:03.802 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=71]
[2022/07/15 15:02:03.802 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:03.802 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=35] [neededSchemaVersion=36] ["start time"=44.083µs] [phyTblIDs="[]"] [actionTypes="[]"]
[2022/07/15 15:02:03.802 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:72, Type:update tiflash replica status, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:2, start time: 2022-07-15 15:02:03.802 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:03.802 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:72, Type:update tiflash replica status, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:2, start time: 2022-07-15 15:02:03.802 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query=]
[2022/07/15 15:02:03.802 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 51, tp general"] [job="ID:72, Type:update tiflash replica status, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:03.802 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:03.802 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 51, tp general"] [job="ID:72, Type:update tiflash replica status, State:synced, SchemaState:public, SchemaID:1, TableID:69, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:03.802 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:03.802 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=72]
[2022/07/15 15:02:03.802 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:03.802 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=36] [neededSchemaVersion=37] ["start time"=43.25µs] [phyTblIDs="[]"] [actionTypes="[]"]
[2022/07/15 15:02:03.803 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=13] [schemaVersion=37] [cur_db=test] [sql="drop table if exists t1"] [user=]
[2022/07/15 15:02:03.803 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=13] [schemaVersion=37] [cur_db=test] [sql="create table t1(a int not null primary key, b int not null)"] [user=]
[2022/07/15 15:02:03.803 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:74, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:73, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:03.803 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:03.803 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:74, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:73, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:03.803 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="create table t1(a int not null primary key, b int not null)"]
[2022/07/15 15:02:03.803 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 51, tp general"] [job="ID:74, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:73, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:03.803 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:03.803 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 51, tp general"] [job="ID:74, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:73, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:03.803 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:03.803 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=74]
[2022/07/15 15:02:03.803 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:03.803 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=37] [neededSchemaVersion=38] ["start time"=37.375µs] [phyTblIDs="[73]"] [actionTypes="[8]"]
[2022/07/15 15:02:03.803 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=13] [schemaVersion=38] [cur_db=test] [sql="alter table t1 set tiflash replica 1"] [user=]
[2022/07/15 15:02:03.804 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:75, Type:set tiflash replica, State:queueing, SchemaState:none, SchemaID:1, TableID:73, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:03.804 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:03.804 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:75, Type:set tiflash replica, State:queueing, SchemaState:none, SchemaID:1, TableID:73, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:03.804 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="alter table t1 set tiflash replica 1"]
[2022/07/15 15:02:03.804 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 51, tp general"] [job="ID:75, Type:set tiflash replica, State:queueing, SchemaState:none, SchemaID:1, TableID:73, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:03.804 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:03.804 +08:00] [INFO] [table.go:1109] ["Set TiFlash replica pd rule"] [tableID=73]
[2022/07/15 15:02:03.804 +08:00] [INFO] [info.go:1051] [ConfigureTiFlashPDForTable] [tableID=73] [count=1]
[2022/07/15 15:02:03.804 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 51, tp general"] [job="ID:75, Type:set tiflash replica, State:synced, SchemaState:public, SchemaID:1, TableID:73, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:03.804 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:03.804 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=75]
[2022/07/15 15:02:03.804 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:03.804 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=38] [neededSchemaVersion=39] ["start time"=38.583µs] [phyTblIDs="[]"] [actionTypes="[]"]
[2022/07/15 15:02:03.804 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:76, Type:update tiflash replica status, State:queueing, SchemaState:none, SchemaID:1, TableID:73, RowCount:0, ArgLen:2, start time: 2022-07-15 15:02:03.804 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:03.804 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:76, Type:update tiflash replica status, State:queueing, SchemaState:none, SchemaID:1, TableID:73, RowCount:0, ArgLen:2, start time: 2022-07-15 15:02:03.804 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query=]
[2022/07/15 15:02:03.804 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 51, tp general"] [job="ID:76, Type:update tiflash replica status, State:queueing, SchemaState:none, SchemaID:1, TableID:73, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:03.804 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:03.804 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 51, tp general"] [job="ID:76, Type:update tiflash replica status, State:synced, SchemaState:public, SchemaID:1, TableID:73, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:03.804 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:03.804 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=76]
[2022/07/15 15:02:03.804 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:03.804 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=39] [neededSchemaVersion=40] ["start time"=33.958µs] [phyTblIDs="[]"] [actionTypes="[]"]
[2022/07/15 15:02:03.805 +08:00] [INFO] [fragment.go:77] ["Mpp will generate tasks"] [plan=RightHashJoin{Recv()->Table(t)}(test.t.a,test.t.a)->HashAgg->Send()]
[2022/07/15 15:02:03.805 +08:00] [INFO] [batch_coprocessor.go:325] ["detecting available mpp stores"]
[2022/07/15 15:02:03.805 +08:00] [WARN] [batch_coprocessor.go:359] ["Store is not ready"] ["store address"=tiflash1] ["err message"="not support this request type MPPAlive"]
[2022/07/15 15:02:03.805 +08:00] [WARN] [batch_coprocessor.go:359] ["Store is not ready"] ["store address"=tiflash0] ["err message"="not support this request type MPPAlive"]
[2022/07/15 15:02:03.805 +08:00] [WARN] [batch_coprocessor.go:400] ["Meet regions that don't have an available store. Give up balancing"]
[2022/07/15 15:02:03.805 +08:00] [INFO] [batch_coprocessor.go:325] ["detecting available mpp stores"]
[2022/07/15 15:02:03.805 +08:00] [WARN] [batch_coprocessor.go:400] ["Meet regions that don't have an available store. Give up balancing"]
[2022/07/15 15:02:03.805 +08:00] [INFO] [mpp_gather.go:80] ["Dispatch mpp task"] [timestamp=434600286304337926] [ID=1] [address=tiflash0] [plan="Table(t)->Send(2, )"]
[2022/07/15 15:02:03.805 +08:00] [INFO] [mpp_gather.go:80] ["Dispatch mpp task"] [timestamp=434600286304337926] [ID=2] [address=tiflash0] [plan="RightHashJoin{Recv(1, )->Table(t)}(test.t.a,test.t.a)->HashAgg->Send(-1, )"]
[2022/07/15 15:02:05.805 +08:00] [WARN] [mpp.go:438] ["other error"] [txnStartTS=434600286304337926] [storeAddr=tiflash0] [error="other error for mpp stream: context canceled"] [errorVerbose="other error for mpp stream: context canceled\ngithub.com/pingcap/tidb/store/copr.(*mppIterator).handleMPPStreamResponse\n\t/Users/hongyunyan/Desktop/tidb/store/copr/mpp.go:437\ngithub.com/pingcap/tidb/store/copr.(*mppIterator).establishMPPConns\n\t/Users/hongyunyan/Desktop/tidb/store/copr/mpp.go:395\ngithub.com/pingcap/tidb/store/copr.(*mppIterator).handleDispatchReq\n\t/Users/hongyunyan/Desktop/tidb/store/copr/mpp.go:318\ngithub.com/pingcap/tidb/store/copr.(*mppIterator).run.func1\n\t/Users/hongyunyan/Desktop/tidb/store/copr/mpp.go:187\nruntime.goexit\n\t/opt/homebrew/Cellar/go/1.18.3/libexec/src/runtime/asm_arm64.s:1263"]
[2022/07/15 15:02:05.806 +08:00] [WARN] [adapter.go:1067] ["# Txn_start_ts: 434600286304337926\n# Conn_ID: 13\n# Query_time: 2.000714125\n# Parse_time: 0.000017916\n# Compile_time: 0.000171042\n# Rewrite_time: 0.000038416\n# Optimize_time: 0.0001145\n# Wait_TS: 0.000001833\n# DB: test\n# Is_internal: false\n# Digest: fcbc3f11d4d42c938668b9bfd37bcfbe4f403d37049ea6584a44fff014ec0cfb\n# Stats: t:pseudo\n# Num_cop_tasks: 0\n# Mem_max: 10100\n# Prepared: false\n# Plan_from_cache: false\n# Plan_from_binding: false\n# Has_more_results: false\n# KV_total: 0\n# PD_total: 0\n# Backoff_total: 0\n# Write_sql_response_total: 0\n# Result_rows: 0\n# Succ: false\n# IsExplicitTxn: false\n# Plan: tidb_decode_plan('iwOIMAk2XzM0CTAJMQlmdW5jczpjb3VudChDb2x1bW4jNiktPkMJCyA1CjEJMzFfMzYFLJBkYXRhOkV4Y2hhbmdlU2VuZGVyXzM1CjIJNDlfMzUJMV8xCTEJESBcVHlwZTogUGFzc1Rocm91Z2gKMwk2XzEyDScueAAAMRlxIDYKNAkxN18zMwknkDI1MDAJaW5uZXIgam9pbiwgZXF1YWw6W2VxKHRlc3QudC5hLCARCiQpXQo1CTQ4XzIxCT0YMDAwMAkKNgGeBDIwHRM2ogBAQnJvYWRjYXN0CjcJNDNfMTkdKrh0YWJsZTp0MSwga2VlcCBvcmRlcjpmYWxzZSwgc3RhdHM6cHNldWRvCjUJNDNfMg3cBXgNO4I6AA==')\n# Plan_digest: 1af5e4d1f7dc5ebf7f78e144d98a44d2fba0702c8cdcf64eaf7d062e1a99ba02\nuse test;\nselect count(*) from t as t1 , t where t1.a = t.a;"]
[2022/07/15 15:02:05.806 +08:00] [INFO] [ddl_worker.go:158] ["[ddl] DDL worker closed"] [worker="worker 52, tp add index"] ["take time"=291ns]
[2022/07/15 15:02:05.806 +08:00] [INFO] [ddl_worker.go:158] ["[ddl] DDL worker closed"] [worker="worker 51, tp general"] ["take time"=42ns]
[2022/07/15 15:02:05.806 +08:00] [INFO] [delete_range.go:148] ["[ddl] closing delRange"]
[2022/07/15 15:02:05.806 +08:00] [INFO] [session_pool.go:94] ["[ddl] closing sessionPool"]
[2022/07/15 15:02:05.806 +08:00] [INFO] [ddl.go:576] ["[ddl] DDL closed"] [ID=e0bbdbd8-2694-48a7-baf0-2404350ca751] ["take time"=61.708µs]
[2022/07/15 15:02:05.806 +08:00] [INFO] [ddl.go:464] ["[ddl] stop DDL"] [ID=e0bbdbd8-2694-48a7-baf0-2404350ca751]
[2022/07/15 15:02:05.806 +08:00] [INFO] [domain.go:498] ["topNSlowQueryLoop exited."]
[2022/07/15 15:02:05.806 +08:00] [INFO] [domain.go:1032] ["loadPrivilegeInLoop exited."]
[2022/07/15 15:02:05.806 +08:00] [INFO] [domain.go:1082] ["LoadSysVarCacheLoop exited."]
[2022/07/15 15:02:05.806 +08:00] [INFO] [domain.go:1203] ["handleEvolvePlanTasksLoop exited."]
[2022/07/15 15:02:05.806 +08:00] [INFO] [domain.go:1160] ["globalBindHandleWorkerLoop exited."]
[2022/07/15 15:02:05.806 +08:00] [INFO] [domain.go:1288] ["dumpFileGcChecker exited."]
[2022/07/15 15:02:05.806 +08:00] [INFO] [handle_hist.go:156] ["SubLoadWorker exited."]
[2022/07/15 15:02:05.806 +08:00] [INFO] [handle_hist.go:156] ["SubLoadWorker exited."]
[2022/07/15 15:02:05.806 +08:00] [INFO] [domain.go:575] ["topologySyncerKeeper exited."]
[2022/07/15 15:02:05.806 +08:00] [INFO] [handle_hist.go:156] ["SubLoadWorker exited."]
[2022/07/15 15:02:05.806 +08:00] [INFO] [domain.go:527] ["infoSyncerKeeper exited."]
[2022/07/15 15:02:05.806 +08:00] [INFO] [domain.go:552] ["globalConfigSyncerKeeper exited."]
[2022/07/15 15:02:05.806 +08:00] [INFO] [handle_hist.go:156] ["SubLoadWorker exited."]
[2022/07/15 15:02:05.806 +08:00] [INFO] [domain.go:733] ["domain closed"] ["take time"=176.666µs]
[2022/07/15 15:02:05.806 +08:00] [INFO] [handle_hist.go:156] ["SubLoadWorker exited."]
[2022/07/15 15:02:05.825 +08:00] [INFO] [db.go:567] ["Closing database"]
[2022/07/15 15:02:05.825 +08:00] [INFO] [db.go:592] ["Memtable flushed"]
[2022/07/15 15:02:05.825 +08:00] [INFO] [db.go:596] ["Compaction finished"]
[2022/07/15 15:02:05.825 +08:00] [INFO] [db.go:615] ["BlobManager finished"]
[2022/07/15 15:02:05.825 +08:00] [INFO] [db.go:619] ["ResourceManager finished"]
[2022/07/15 15:02:05.825 +08:00] [INFO] [db.go:625] ["Waiting for closer"]
[2022/07/15 15:02:05.899 +08:00] [INFO] [tidb.go:74] ["new domain"] [store=ad4036ea-1d6e-4cc7-8f3c-1aaffc0526ea] ["ddl lease"=0s] ["stats lease"=-1ns] ["index usage sync lease"=0s]
[2022/07/15 15:02:05.900 +08:00] [INFO] [domain.go:178] ["full load InfoSchema success"] [currentSchemaVersion=0] [neededSchemaVersion=0] ["start time"=488.25µs]
[2022/07/15 15:02:05.900 +08:00] [INFO] [domain.go:449] ["full load and reset schema validator"]
[2022/07/15 15:02:05.900 +08:00] [INFO] [ddl.go:483] ["[ddl] start DDL"] [ID=a1529d3f-bbee-4a70-94b5-7214b3586c5e] [runWorker=true]
[2022/07/15 15:02:05.900 +08:00] [INFO] [ddl.go:472] ["[ddl] start delRangeManager OK"] ["is a emulator"=true]
[2022/07/15 15:02:05.900 +08:00] [INFO] [delete_range.go:158] ["[ddl] start delRange emulator"]
[2022/07/15 15:02:05.900 +08:00] [INFO] [ddl_worker.go:164] ["[ddl] start DDL worker"] [worker="worker 53, tp general"]
[2022/07/15 15:02:05.900 +08:00] [INFO] [ddl_worker.go:164] ["[ddl] start DDL worker"] [worker="worker 54, tp add index"]
[2022/07/15 15:02:05.900 +08:00] [INFO] [tidb.go:268] ["rollbackTxn called due to ddl/autocommit failure"]
[2022/07/15 15:02:05.900 +08:00] [WARN] [session.go:1983] ["run statement failed"] [schemaVersion=0] [error="[schema:1049]Unknown database 'mysql'"] [errorVerbose="[schema:1049]Unknown database 'mysql'\ngithub.com/pingcap/errors.AddStack\n\t/Users/hongyunyan/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20211224045212-9687c2b0f87c/errors.go:174\ngithub.com/pingcap/errors.(*Error).GenWithStackByArgs\n\t/Users/hongyunyan/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20211224045212-9687c2b0f87c/normalize.go:164\ngithub.com/pingcap/tidb/executor.(*SimpleExec).executeUse\n\t/Users/hongyunyan/Desktop/tidb/executor/simple.go:571\ngithub.com/pingcap/tidb/executor.(*SimpleExec).Next\n\t/Users/hongyunyan/Desktop/tidb/executor/simple.go:131\ngithub.com/pingcap/tidb/executor.Next\n\t/Users/hongyunyan/Desktop/tidb/executor/executor.go:319\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelayExecutor\n\t/Users/hongyunyan/Desktop/tidb/executor/adapter.go:673\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelay\n\t/Users/hongyunyan/Desktop/tidb/executor/adapter.go:523\ngithub.com/pingcap/tidb/executor.(*ExecStmt).Exec\n\t/Users/hongyunyan/Desktop/tidb/executor/adapter.go:472\ngithub.com/pingcap/tidb/session.runStmt\n\t/Users/hongyunyan/Desktop/tidb/session/session.go:2114\ngithub.com/pingcap/tidb/session.(*session).ExecuteStmt\n\t/Users/hongyunyan/Desktop/tidb/session/session.go:1980\ngithub.com/pingcap/tidb/session.(*session).ExecuteInternal\n\t/Users/hongyunyan/Desktop/tidb/session/session.go:1495\ngithub.com/pingcap/tidb/session.checkBootstrapped\n\t/Users/hongyunyan/Desktop/tidb/session/bootstrap.go:728\ngithub.com/pingcap/tidb/session.bootstrap\n\t/Users/hongyunyan/Desktop/tidb/session/bootstrap.go:431\ngithub.com/pingcap/tidb/session.runInBootstrapSession\n\t/Users/hongyunyan/Desktop/tidb/session/session.go:2834\ngithub.com/pingcap/tidb/session.BootstrapSession\n\t/Users/hongyunyan/Desktop/tidb/session/session.go:2720\ngithub.com/pingcap/tidb/testkit.bootstrap\n\t/Users/hongyunyan/Desktop/tidb/testkit/mockstore.go:71\ngithub.com/pingcap/tidb/testkit.CreateMockStoreAndDomain\n\t/Users/hongyunyan/Desktop/tidb/testkit/mockstore.go:64\ngithub.com/pingcap/tidb/testkit.CreateMockStore\n\t/Users/hongyunyan/Desktop/tidb/testkit/mockstore.go:56\ngithub.com/pingcap/tidb/executor/tiflashtest.TestMppUnionAll\n\t/Users/hongyunyan/Desktop/tidb/executor/tiflashtest/tiflash_test.go:742\ntesting.tRunner\n\t/opt/homebrew/Cellar/go/1.18.3/libexec/src/testing/testing.go:1439\nruntime.goexit\n\t/opt/homebrew/Cellar/go/1.18.3/libexec/src/runtime/asm_arm64.s:1263"] [session="{\n  \"currDBName\": \"\",\n  \"id\": 0,\n  \"status\": 2,\n  \"strictMode\": true,\n  \"user\": null\n}"]
[2022/07/15 15:02:05.900 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=0] [cur_db=] [sql="CREATE DATABASE IF NOT EXISTS test"] [user=]
[2022/07/15 15:02:05.900 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:2, Type:create schema, State:queueing, SchemaState:none, SchemaID:1, TableID:0, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:05.9 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:05.900 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:2, Type:create schema, State:queueing, SchemaState:none, SchemaID:1, TableID:0, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:05.9 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE DATABASE IF NOT EXISTS test"]
[2022/07/15 15:02:05.900 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 53, tp general"] [job="ID:2, Type:create schema, State:queueing, SchemaState:none, SchemaID:1, TableID:0, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:05.9 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:05.901 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 53, tp general"] [job="ID:2, Type:create schema, State:synced, SchemaState:public, SchemaID:1, TableID:0, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:05.9 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:05.901 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=2]
[2022/07/15 15:02:05.901 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:05.901 +08:00] [INFO] [domain.go:178] ["full load InfoSchema success"] [currentSchemaVersion=0] [neededSchemaVersion=1] ["start time"=387.875µs]
[2022/07/15 15:02:05.901 +08:00] [INFO] [domain.go:449] ["full load and reset schema validator"]
[2022/07/15 15:02:05.901 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=1] [cur_db=] [sql="CREATE DATABASE IF NOT EXISTS `mysql`"] [user=]
[2022/07/15 15:02:05.901 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:4, Type:create schema, State:queueing, SchemaState:none, SchemaID:3, TableID:0, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:05.901 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:05.901 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:4, Type:create schema, State:queueing, SchemaState:none, SchemaID:3, TableID:0, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:05.901 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE DATABASE IF NOT EXISTS `mysql`"]
[2022/07/15 15:02:05.901 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 53, tp general"] [job="ID:4, Type:create schema, State:queueing, SchemaState:none, SchemaID:3, TableID:0, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:05.901 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:05.901 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 53, tp general"] [job="ID:4, Type:create schema, State:synced, SchemaState:public, SchemaID:3, TableID:0, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:05.901 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:05.902 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=4]
[2022/07/15 15:02:05.902 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:05.902 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=1] [neededSchemaVersion=2] ["start time"=14.75µs] [phyTblIDs="[]"] [actionTypes="[]"]
[2022/07/15 15:02:05.902 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=2] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.user (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tauthentication_string\tTEXT,\n\t\tplugin\t\t\t\t\tCHAR(64),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tProcess_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_db_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tSuper_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_user_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_slave_priv\t    \tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_client_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_role_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_role_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAccount_locked\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShutdown_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReload_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tFILE_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tConfig_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_Tablespace_Priv  ENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (Host, User));"] [user=]
[2022/07/15 15:02:05.902 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:6, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:5, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:05.902 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:05.902 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:6, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:5, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:05.902 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.user (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tauthentication_string\tTEXT,\n\t\tplugin\t\t\t\t\tCHAR(64),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tProcess_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_db_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tSuper_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_user_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_slave_priv\t    \tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_client_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_role_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_role_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAccount_locked\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShutdown_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReload_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tFILE_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tConfig_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_Tablespace_Priv  ENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (Host, User));"]
[2022/07/15 15:02:05.902 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 53, tp general"] [job="ID:6, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:5, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:05.902 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:05.904 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 53, tp general"] [job="ID:6, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:5, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:05.902 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:05.904 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=6]
[2022/07/15 15:02:05.904 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:05.905 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=2] [neededSchemaVersion=3] ["start time"=252.125µs] [phyTblIDs="[5]"] [actionTypes="[8]"]
[2022/07/15 15:02:05.905 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=3] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.global_priv (Host CHAR(255) NOT NULL DEFAULT '',User CHAR(80) NOT NULL DEFAULT '',Priv LONGTEXT NOT NULL DEFAULT '',PRIMARY KEY (Host, User))"] [user=]
[2022/07/15 15:02:05.905 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:8, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:7, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:05.905 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:05.905 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:8, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:7, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:05.905 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.global_priv (Host CHAR(255) NOT NULL DEFAULT '',User CHAR(80) NOT NULL DEFAULT '',Priv LONGTEXT NOT NULL DEFAULT '',PRIMARY KEY (Host, User))"]
[2022/07/15 15:02:05.905 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 53, tp general"] [job="ID:8, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:7, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:05.905 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:05.905 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 53, tp general"] [job="ID:8, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:7, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:05.905 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:05.905 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=8]
[2022/07/15 15:02:05.905 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:05.905 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=3] [neededSchemaVersion=4] ["start time"=48.708µs] [phyTblIDs="[7]"] [actionTypes="[8]"]
[2022/07/15 15:02:05.906 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=4] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.db (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tDB\t\t\t\t\t\tCHAR(64),\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv \t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (Host, DB, User));"] [user=]
[2022/07/15 15:02:05.906 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:10, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:9, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:05.906 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:05.906 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:10, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:9, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:05.906 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.db (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tDB\t\t\t\t\t\tCHAR(64),\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv \t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (Host, DB, User));"]
[2022/07/15 15:02:05.906 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 53, tp general"] [job="ID:10, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:9, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:05.906 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:05.907 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 53, tp general"] [job="ID:10, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:9, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:05.906 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:05.907 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=10]
[2022/07/15 15:02:05.907 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:05.907 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=4] [neededSchemaVersion=5] ["start time"=163.041µs] [phyTblIDs="[9]"] [actionTypes="[8]"]
[2022/07/15 15:02:05.907 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=5] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.tables_priv (\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64),\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64),\n\t\tGrantor\t\tCHAR(77),\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tTable_priv\tSET('Select','Insert','Update','Delete','Create','Drop','Grant','Index','Alter','Create View','Show View','Trigger','References'),\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name));"] [user=]
[2022/07/15 15:02:05.908 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:12, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:11, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:05.908 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:05.908 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:12, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:11, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:05.908 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.tables_priv (\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64),\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64),\n\t\tGrantor\t\tCHAR(77),\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tTable_priv\tSET('Select','Insert','Update','Delete','Create','Drop','Grant','Index','Alter','Create View','Show View','Trigger','References'),\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name));"]
[2022/07/15 15:02:05.908 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 53, tp general"] [job="ID:12, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:11, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:05.908 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:05.908 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 53, tp general"] [job="ID:12, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:11, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:05.908 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:05.908 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=12]
[2022/07/15 15:02:05.908 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:05.909 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=5] [neededSchemaVersion=6] ["start time"=86.625µs] [phyTblIDs="[11]"] [actionTypes="[8]"]
[2022/07/15 15:02:05.909 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=6] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.columns_priv(\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64),\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64),\n\t\tColumn_name\tCHAR(64),\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name, Column_name));"] [user=]
[2022/07/15 15:02:05.909 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:14, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:13, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:05.909 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:05.909 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:14, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:13, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:05.909 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.columns_priv(\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64),\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64),\n\t\tColumn_name\tCHAR(64),\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name, Column_name));"]
[2022/07/15 15:02:05.909 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 53, tp general"] [job="ID:14, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:13, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:05.909 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:05.909 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 53, tp general"] [job="ID:14, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:13, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:05.909 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:05.909 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=14]
[2022/07/15 15:02:05.909 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:05.910 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=6] [neededSchemaVersion=7] ["start time"=74.584µs] [phyTblIDs="[13]"] [actionTypes="[8]"]
[2022/07/15 15:02:05.910 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=7] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.GLOBAL_VARIABLES(\n\t\tVARIABLE_NAME  VARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(1024) DEFAULT NULL);"] [user=]
[2022/07/15 15:02:05.910 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:16, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:15, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:05.91 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:05.910 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:16, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:15, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:05.91 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.GLOBAL_VARIABLES(\n\t\tVARIABLE_NAME  VARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(1024) DEFAULT NULL);"]
[2022/07/15 15:02:05.910 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 53, tp general"] [job="ID:16, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:15, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:05.91 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:05.910 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 53, tp general"] [job="ID:16, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:15, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:05.91 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:05.910 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=16]
[2022/07/15 15:02:05.910 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:05.910 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=7] [neededSchemaVersion=8] ["start time"=50.333µs] [phyTblIDs="[15]"] [actionTypes="[8]"]
[2022/07/15 15:02:05.910 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=8] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb(\n\t\tVARIABLE_NAME  \tVARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE \tVARCHAR(1024) DEFAULT NULL,\n\t\tCOMMENT \t\tVARCHAR(1024));"] [user=]
[2022/07/15 15:02:05.910 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:18, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:17, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:05.91 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:05.910 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:18, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:17, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:05.91 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb(\n\t\tVARIABLE_NAME  \tVARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE \tVARCHAR(1024) DEFAULT NULL,\n\t\tCOMMENT \t\tVARCHAR(1024));"]
[2022/07/15 15:02:05.911 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 53, tp general"] [job="ID:18, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:17, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:05.91 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:05.911 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 53, tp general"] [job="ID:18, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:17, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:05.91 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:05.911 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=18]
[2022/07/15 15:02:05.911 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:05.911 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=8] [neededSchemaVersion=9] ["start time"=53.083µs] [phyTblIDs="[17]"] [actionTypes="[8]"]
[2022/07/15 15:02:05.911 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=9] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.help_topic (\n  \t\thelp_topic_id \t\tINT(10) UNSIGNED NOT NULL,\n  \t\tname \t\t\t\tCHAR(64) NOT NULL,\n  \t\thelp_category_id \tSMALLINT(5) UNSIGNED NOT NULL,\n  \t\tdescription \t\tTEXT NOT NULL,\n  \t\texample \t\t\tTEXT NOT NULL,\n  \t\turl \t\t\t\tTEXT NOT NULL,\n  \t\tPRIMARY KEY (help_topic_id) clustered,\n  \t\tUNIQUE KEY name (name)\n\t\t) ENGINE=InnoDB DEFAULT CHARSET=utf8 STATS_PERSISTENT=0 COMMENT='help topics';"] [user=]
[2022/07/15 15:02:05.911 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:20, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:19, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:05.911 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:05.911 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:20, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:19, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:05.911 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.help_topic (\n  \t\thelp_topic_id \t\tINT(10) UNSIGNED NOT NULL,\n  \t\tname \t\t\t\tCHAR(64) NOT NULL,\n  \t\thelp_category_id \tSMALLINT(5) UNSIGNED NOT NULL,\n  \t\tdescription \t\tTEXT NOT NULL,\n  \t\texample \t\t\tTEXT NOT NULL,\n  \t\turl \t\t\t\tTEXT NOT NULL,\n  \t\tPRIMARY KEY (help_topic_id) clustered,\n  \t\tUNIQUE KEY name (name)\n\t\t) ENGINE=InnoDB DEFAULT CHARSET=utf8 STATS_PERSISTENT=0 COMMENT='help topics';"]
[2022/07/15 15:02:05.912 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 53, tp general"] [job="ID:20, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:19, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:05.911 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:05.912 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 53, tp general"] [job="ID:20, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:19, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:05.911 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:05.912 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=20]
[2022/07/15 15:02:05.912 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:05.912 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=9] [neededSchemaVersion=10] ["start time"=64.25µs] [phyTblIDs="[19]"] [actionTypes="[8]"]
[2022/07/15 15:02:05.912 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=10] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_meta (\n\t\tversion \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\ttable_id \t\tBIGINT(64) NOT NULL,\n\t\tmodify_count\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcount \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tsnapshot        BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tINDEX idx_ver(version),\n\t\tUNIQUE INDEX tbl(table_id)\n\t);"] [user=]
[2022/07/15 15:02:05.912 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:22, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:21, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:05.912 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:05.912 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:22, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:21, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:05.912 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_meta (\n\t\tversion \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\ttable_id \t\tBIGINT(64) NOT NULL,\n\t\tmodify_count\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcount \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tsnapshot        BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tINDEX idx_ver(version),\n\t\tUNIQUE INDEX tbl(table_id)\n\t);"]
[2022/07/15 15:02:05.913 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 53, tp general"] [job="ID:22, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:21, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:05.912 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:05.913 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 53, tp general"] [job="ID:22, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:21, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:05.912 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:05.913 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=22]
[2022/07/15 15:02:05.913 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:05.913 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=10] [neededSchemaVersion=11] ["start time"=70.167µs] [phyTblIDs="[21]"] [actionTypes="[8]"]
[2022/07/15 15:02:05.913 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=11] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_histograms (\n\t\ttable_id \t\t\tBIGINT(64) NOT NULL,\n\t\tis_index \t\t\tTINYINT(2) NOT NULL,\n\t\thist_id \t\t\tBIGINT(64) NOT NULL,\n\t\tdistinct_count \t\tBIGINT(64) NOT NULL,\n\t\tnull_count \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\ttot_col_size \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tmodify_count \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tversion \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tcm_sketch \t\t\tBLOB(6291456),\n\t\tstats_ver \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tflag \t\t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcorrelation \t\tDOUBLE NOT NULL DEFAULT 0,\n\t\tlast_analyze_pos \tLONGBLOB DEFAULT NULL,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id)\n\t);"] [user=]
[2022/07/15 15:02:05.913 +08:00] [INFO] [ddl_api.go:999] ["Automatically convert BLOB(6291456) to MEDIUMBLOB"]
[2022/07/15 15:02:05.914 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:24, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:23, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:05.913 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:05.914 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:24, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:23, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:05.913 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_histograms (\n\t\ttable_id \t\t\tBIGINT(64) NOT NULL,\n\t\tis_index \t\t\tTINYINT(2) NOT NULL,\n\t\thist_id \t\t\tBIGINT(64) NOT NULL,\n\t\tdistinct_count \t\tBIGINT(64) NOT NULL,\n\t\tnull_count \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\ttot_col_size \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tmodify_count \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tversion \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tcm_sketch \t\t\tBLOB(6291456),\n\t\tstats_ver \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tflag \t\t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcorrelation \t\tDOUBLE NOT NULL DEFAULT 0,\n\t\tlast_analyze_pos \tLONGBLOB DEFAULT NULL,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id)\n\t);"]
[2022/07/15 15:02:05.914 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 53, tp general"] [job="ID:24, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:23, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:05.913 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:05.914 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 53, tp general"] [job="ID:24, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:23, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:05.913 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:05.915 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=24]
[2022/07/15 15:02:05.915 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:05.915 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=11] [neededSchemaVersion=12] ["start time"=109.166µs] [phyTblIDs="[23]"] [actionTypes="[8]"]
[2022/07/15 15:02:05.915 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=12] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_buckets (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tbucket_id \tBIGINT(64) NOT NULL,\n\t\tcount \t\tBIGINT(64) NOT NULL,\n\t\trepeats \tBIGINT(64) NOT NULL,\n\t\tupper_bound LONGBLOB NOT NULL,\n\t\tlower_bound LONGBLOB ,\n\t\tndv         BIGINT NOT NULL DEFAULT 0,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id, bucket_id)\n\t);"] [user=]
[2022/07/15 15:02:05.915 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:26, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:25, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:05.915 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:05.915 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:26, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:25, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:05.915 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_buckets (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tbucket_id \tBIGINT(64) NOT NULL,\n\t\tcount \t\tBIGINT(64) NOT NULL,\n\t\trepeats \tBIGINT(64) NOT NULL,\n\t\tupper_bound LONGBLOB NOT NULL,\n\t\tlower_bound LONGBLOB ,\n\t\tndv         BIGINT NOT NULL DEFAULT 0,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id, bucket_id)\n\t);"]
[2022/07/15 15:02:05.915 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 53, tp general"] [job="ID:26, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:25, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:05.915 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:05.916 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 53, tp general"] [job="ID:26, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:25, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:05.915 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:05.916 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=26]
[2022/07/15 15:02:05.916 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:05.916 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=12] [neededSchemaVersion=13] ["start time"=96.416µs] [phyTblIDs="[25]"] [actionTypes="[8]"]
[2022/07/15 15:02:05.916 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=13] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_index (job_id, element_id)\n\t);"] [user=]
[2022/07/15 15:02:05.916 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:28, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:27, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:05.916 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:05.916 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:28, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:27, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:05.916 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_index (job_id, element_id)\n\t);"]
[2022/07/15 15:02:05.916 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 53, tp general"] [job="ID:28, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:27, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:05.916 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:05.917 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 53, tp general"] [job="ID:28, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:27, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:05.916 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:05.917 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=28]
[2022/07/15 15:02:05.917 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:05.917 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=13] [neededSchemaVersion=14] ["start time"=64.75µs] [phyTblIDs="[27]"] [actionTypes="[8]"]
[2022/07/15 15:02:05.917 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=14] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range_done (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_done_index (job_id, element_id)\n\t);"] [user=]
[2022/07/15 15:02:05.917 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:30, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:29, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:05.917 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:05.917 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:30, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:29, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:05.917 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range_done (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_done_index (job_id, element_id)\n\t);"]
[2022/07/15 15:02:05.917 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 53, tp general"] [job="ID:30, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:29, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:05.917 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:05.918 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 53, tp general"] [job="ID:30, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:29, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:05.917 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:05.918 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=30]
[2022/07/15 15:02:05.918 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:05.918 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=14] [neededSchemaVersion=15] ["start time"=64.083µs] [phyTblIDs="[29]"] [actionTypes="[8]"]
[2022/07/15 15:02:05.918 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=15] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_feedback (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tfeedback \tBLOB NOT NULL,\n\t\tINDEX hist(table_id, is_index, hist_id)\n\t);"] [user=]
[2022/07/15 15:02:05.918 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:32, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:31, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:05.918 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:05.918 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:32, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:31, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:05.918 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_feedback (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tfeedback \tBLOB NOT NULL,\n\t\tINDEX hist(table_id, is_index, hist_id)\n\t);"]
[2022/07/15 15:02:05.918 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 53, tp general"] [job="ID:32, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:31, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:05.918 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:05.919 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 53, tp general"] [job="ID:32, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:31, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:05.918 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:05.919 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=32]
[2022/07/15 15:02:05.919 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:05.919 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=15] [neededSchemaVersion=16] ["start time"=57.375µs] [phyTblIDs="[31]"] [actionTypes="[8]"]
[2022/07/15 15:02:05.919 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=16] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.role_edges (\n\t\tFROM_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tFROM_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tWITH_ADMIN_OPTION \tENUM('N','Y') CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (FROM_HOST,FROM_USER,TO_HOST,TO_USER)\n\t);"] [user=]
[2022/07/15 15:02:05.919 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:34, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:33, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:05.919 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:05.919 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:34, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:33, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:05.919 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.role_edges (\n\t\tFROM_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tFROM_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tWITH_ADMIN_OPTION \tENUM('N','Y') CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (FROM_HOST,FROM_USER,TO_HOST,TO_USER)\n\t);"]
[2022/07/15 15:02:05.919 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 53, tp general"] [job="ID:34, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:33, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:05.919 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:05.920 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 53, tp general"] [job="ID:34, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:33, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:05.919 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:05.920 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=34]
[2022/07/15 15:02:05.920 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:05.920 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=16] [neededSchemaVersion=17] ["start time"=80.083µs] [phyTblIDs="[33]"] [actionTypes="[8]"]
[2022/07/15 15:02:05.920 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=17] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.default_roles (\n\t\tHOST \t\t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tUSER \t\t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tDEFAULT_ROLE_HOST \tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '%',\n\t\tDEFAULT_ROLE_USER \tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tPRIMARY KEY (HOST,USER,DEFAULT_ROLE_HOST,DEFAULT_ROLE_USER)\n\t)"] [user=]
[2022/07/15 15:02:05.920 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:36, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:35, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:05.92 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:05.920 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:36, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:35, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:05.92 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.default_roles (\n\t\tHOST \t\t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tUSER \t\t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tDEFAULT_ROLE_HOST \tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '%',\n\t\tDEFAULT_ROLE_USER \tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tPRIMARY KEY (HOST,USER,DEFAULT_ROLE_HOST,DEFAULT_ROLE_USER)\n\t)"]
[2022/07/15 15:02:05.920 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 53, tp general"] [job="ID:36, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:35, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:05.92 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:05.921 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 53, tp general"] [job="ID:36, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:35, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:05.92 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:05.921 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=36]
[2022/07/15 15:02:05.921 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:05.921 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=17] [neededSchemaVersion=18] ["start time"=58.25µs] [phyTblIDs="[35]"] [actionTypes="[8]"]
[2022/07/15 15:02:05.921 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=18] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.bind_info (\n\t\toriginal_sql TEXT NOT NULL,\n\t\tbind_sql TEXT NOT NULL,\n\t\tdefault_db TEXT NOT NULL,\n\t\tstatus TEXT NOT NULL,\n\t\tcreate_time TIMESTAMP(3) NOT NULL,\n\t\tupdate_time TIMESTAMP(3) NOT NULL,\n\t\tcharset TEXT NOT NULL,\n\t\tcollation TEXT NOT NULL,\n\t\tsource VARCHAR(10) NOT NULL DEFAULT 'unknown',\n\t\tINDEX sql_index(original_sql(700),default_db(68)) COMMENT \"accelerate the speed when add global binding query\",\n\t\tINDEX time_index(update_time) COMMENT \"accelerate the speed when querying with last update time\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"] [user=]
[2022/07/15 15:02:05.921 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:38, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:37, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:05.921 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:05.921 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:38, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:37, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:05.921 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.bind_info (\n\t\toriginal_sql TEXT NOT NULL,\n\t\tbind_sql TEXT NOT NULL,\n\t\tdefault_db TEXT NOT NULL,\n\t\tstatus TEXT NOT NULL,\n\t\tcreate_time TIMESTAMP(3) NOT NULL,\n\t\tupdate_time TIMESTAMP(3) NOT NULL,\n\t\tcharset TEXT NOT NULL,\n\t\tcollation TEXT NOT NULL,\n\t\tsource VARCHAR(10) NOT NULL DEFAULT 'unknown',\n\t\tINDEX sql_index(original_sql(700),default_db(68)) COMMENT \"accelerate the speed when add global binding query\",\n\t\tINDEX time_index(update_time) COMMENT \"accelerate the speed when querying with last update time\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"]
[2022/07/15 15:02:05.921 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 53, tp general"] [job="ID:38, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:37, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:05.921 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:05.922 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 53, tp general"] [job="ID:38, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:37, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:05.921 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:05.922 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=38]
[2022/07/15 15:02:05.922 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:05.922 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=18] [neededSchemaVersion=19] ["start time"=96.5µs] [phyTblIDs="[37]"] [actionTypes="[8]"]
[2022/07/15 15:02:05.922 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=19] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_top_n (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tcount \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"] [user=]
[2022/07/15 15:02:05.923 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:40, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:39, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:05.923 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:05.923 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:40, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:39, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:05.923 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_top_n (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tcount \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"]
[2022/07/15 15:02:05.923 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 53, tp general"] [job="ID:40, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:39, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:05.923 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:05.923 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 53, tp general"] [job="ID:40, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:39, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:05.923 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:05.923 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=40]
[2022/07/15 15:02:05.923 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:05.923 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=19] [neededSchemaVersion=20] ["start time"=70.5µs] [phyTblIDs="[39]"] [actionTypes="[8]"]
[2022/07/15 15:02:05.923 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=20] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.expr_pushdown_blacklist (\n\t\tname \t\tCHAR(100) NOT NULL,\n\t\tstore_type \tCHAR(100) NOT NULL DEFAULT 'tikv,tiflash,tidb',\n\t\treason \t\tVARCHAR(200)\n\t);"] [user=]
[2022/07/15 15:02:05.924 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:42, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:41, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:05.924 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:05.924 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:42, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:41, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:05.924 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.expr_pushdown_blacklist (\n\t\tname \t\tCHAR(100) NOT NULL,\n\t\tstore_type \tCHAR(100) NOT NULL DEFAULT 'tikv,tiflash,tidb',\n\t\treason \t\tVARCHAR(200)\n\t);"]
[2022/07/15 15:02:05.924 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 53, tp general"] [job="ID:42, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:41, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:05.924 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:05.924 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 53, tp general"] [job="ID:42, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:41, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:05.924 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:05.924 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=42]
[2022/07/15 15:02:05.924 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:05.924 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=20] [neededSchemaVersion=21] ["start time"=45.958µs] [phyTblIDs="[41]"] [actionTypes="[8]"]
[2022/07/15 15:02:05.924 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=21] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.opt_rule_blacklist (\n\t\tname \tCHAR(100) NOT NULL\n\t);"] [user=]
[2022/07/15 15:02:05.924 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:44, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:43, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:05.924 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:05.924 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:44, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:43, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:05.924 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.opt_rule_blacklist (\n\t\tname \tCHAR(100) NOT NULL\n\t);"]
[2022/07/15 15:02:05.924 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 53, tp general"] [job="ID:44, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:43, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:05.924 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:05.925 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 53, tp general"] [job="ID:44, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:43, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:05.924 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:05.925 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=44]
[2022/07/15 15:02:05.925 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:05.925 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=21] [neededSchemaVersion=22] ["start time"=34.792µs] [phyTblIDs="[43]"] [actionTypes="[8]"]
[2022/07/15 15:02:05.925 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=22] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_extended (\n\t\tname varchar(32) NOT NULL,\n\t\ttype tinyint(4) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tcolumn_ids varchar(32) NOT NULL,\n\t\tstats blob DEFAULT NULL,\n\t\tversion bigint(64) unsigned NOT NULL,\n\t\tstatus tinyint(4) NOT NULL,\n\t\tPRIMARY KEY(name, table_id),\n\t\tKEY idx_1 (table_id, status, version),\n\t\tKEY idx_2 (status, version)\n\t);"] [user=]
[2022/07/15 15:02:05.925 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:46, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:45, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:05.925 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:05.925 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:46, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:45, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:05.925 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_extended (\n\t\tname varchar(32) NOT NULL,\n\t\ttype tinyint(4) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tcolumn_ids varchar(32) NOT NULL,\n\t\tstats blob DEFAULT NULL,\n\t\tversion bigint(64) unsigned NOT NULL,\n\t\tstatus tinyint(4) NOT NULL,\n\t\tPRIMARY KEY(name, table_id),\n\t\tKEY idx_1 (table_id, status, version),\n\t\tKEY idx_2 (status, version)\n\t);"]
[2022/07/15 15:02:05.925 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 53, tp general"] [job="ID:46, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:45, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:05.925 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:05.926 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 53, tp general"] [job="ID:46, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:45, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:05.925 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:05.926 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=46]
[2022/07/15 15:02:05.926 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:05.926 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=22] [neededSchemaVersion=23] ["start time"=83.75µs] [phyTblIDs="[45]"] [actionTypes="[8]"]
[2022/07/15 15:02:05.926 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=23] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.schema_index_usage (\n\t\tTABLE_ID bigint(64),\n\t\tINDEX_ID bigint(21),\n\t\tQUERY_COUNT bigint(64),\n\t\tROWS_SELECTED bigint(64),\n\t\tLAST_USED_AT timestamp,\n\t\tPRIMARY KEY(TABLE_ID, INDEX_ID)\n\t);"] [user=]
[2022/07/15 15:02:05.926 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:48, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:47, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:05.926 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:05.926 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:48, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:47, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:05.926 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.schema_index_usage (\n\t\tTABLE_ID bigint(64),\n\t\tINDEX_ID bigint(21),\n\t\tQUERY_COUNT bigint(64),\n\t\tROWS_SELECTED bigint(64),\n\t\tLAST_USED_AT timestamp,\n\t\tPRIMARY KEY(TABLE_ID, INDEX_ID)\n\t);"]
[2022/07/15 15:02:05.926 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 53, tp general"] [job="ID:48, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:47, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:05.926 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:05.927 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 53, tp general"] [job="ID:48, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:47, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:05.926 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:05.927 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=48]
[2022/07/15 15:02:05.927 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:05.927 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=23] [neededSchemaVersion=24] ["start time"=64.167µs] [phyTblIDs="[47]"] [actionTypes="[8]"]
[2022/07/15 15:02:05.927 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=24] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_fm_sketch (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"] [user=]
[2022/07/15 15:02:05.927 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:50, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:49, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:05.927 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:05.927 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:50, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:49, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:05.927 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_fm_sketch (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"]
[2022/07/15 15:02:05.927 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 53, tp general"] [job="ID:50, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:49, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:05.927 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:05.928 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 53, tp general"] [job="ID:50, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:49, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:05.927 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:05.928 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=50]
[2022/07/15 15:02:05.928 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:05.928 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=24] [neededSchemaVersion=25] ["start time"=55.334µs] [phyTblIDs="[49]"] [actionTypes="[8]"]
[2022/07/15 15:02:05.928 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=25] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.global_grants (\n\t\tUSER char(32) NOT NULL DEFAULT '',\n\t\tHOST char(255) NOT NULL DEFAULT '',\n\t\tPRIV char(32) NOT NULL DEFAULT '',\n\t\tWITH_GRANT_OPTION enum('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (USER,HOST,PRIV)\n\t);"] [user=]
[2022/07/15 15:02:05.928 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:52, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:51, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:05.928 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:05.928 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:52, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:51, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:05.928 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.global_grants (\n\t\tUSER char(32) NOT NULL DEFAULT '',\n\t\tHOST char(255) NOT NULL DEFAULT '',\n\t\tPRIV char(32) NOT NULL DEFAULT '',\n\t\tWITH_GRANT_OPTION enum('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (USER,HOST,PRIV)\n\t);"]
[2022/07/15 15:02:05.928 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 53, tp general"] [job="ID:52, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:51, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:05.928 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:05.928 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 53, tp general"] [job="ID:52, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:51, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:05.928 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:05.929 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=52]
[2022/07/15 15:02:05.929 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:05.929 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=25] [neededSchemaVersion=26] ["start time"=55.958µs] [phyTblIDs="[51]"] [actionTypes="[8]"]
[2022/07/15 15:02:05.929 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=26] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.capture_plan_baselines_blacklist (\n\t\tid bigint(64) auto_increment,\n\t\tfilter_type varchar(32) NOT NULL COMMENT \"type of the filter, only db, table and frequency supported now\",\n\t\tfilter_value varchar(32) NOT NULL,\n\t\tkey idx(filter_type),\n\t\tprimary key(id)\n\t);"] [user=]
[2022/07/15 15:02:05.929 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:54, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:53, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:05.929 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:05.929 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:54, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:53, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:05.929 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.capture_plan_baselines_blacklist (\n\t\tid bigint(64) auto_increment,\n\t\tfilter_type varchar(32) NOT NULL COMMENT \"type of the filter, only db, table and frequency supported now\",\n\t\tfilter_value varchar(32) NOT NULL,\n\t\tkey idx(filter_type),\n\t\tprimary key(id)\n\t);"]
[2022/07/15 15:02:05.929 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 53, tp general"] [job="ID:54, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:53, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:05.929 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:05.929 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 53, tp general"] [job="ID:54, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:53, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:05.929 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:05.930 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=54]
[2022/07/15 15:02:05.930 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:05.930 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=26] [neededSchemaVersion=27] ["start time"=53.375µs] [phyTblIDs="[53]"] [actionTypes="[8]"]
[2022/07/15 15:02:05.930 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=27] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.column_stats_usage (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tcolumn_id BIGINT(64) NOT NULL,\n\t\tlast_used_at TIMESTAMP,\n\t\tlast_analyzed_at TIMESTAMP,\n\t\tPRIMARY KEY (table_id, column_id) CLUSTERED\n\t);"] [user=]
[2022/07/15 15:02:05.930 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:56, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:55, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:05.93 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:05.930 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:56, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:55, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:05.93 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.column_stats_usage (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tcolumn_id BIGINT(64) NOT NULL,\n\t\tlast_used_at TIMESTAMP,\n\t\tlast_analyzed_at TIMESTAMP,\n\t\tPRIMARY KEY (table_id, column_id) CLUSTERED\n\t);"]
[2022/07/15 15:02:05.930 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 53, tp general"] [job="ID:56, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:55, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:05.93 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:05.930 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 53, tp general"] [job="ID:56, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:55, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:05.93 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:05.930 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=56]
[2022/07/15 15:02:05.930 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:05.931 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=27] [neededSchemaVersion=28] ["start time"=63.542µs] [phyTblIDs="[55]"] [actionTypes="[8]"]
[2022/07/15 15:02:05.931 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=28] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.table_cache_meta (\n\t\ttid bigint(11) NOT NULL DEFAULT 0,\n\t\tlock_type enum('NONE','READ', 'INTEND', 'WRITE') NOT NULL DEFAULT 'NONE',\n\t\tlease bigint(20) NOT NULL DEFAULT 0,\n\t\toldReadLease bigint(20) NOT NULL DEFAULT 0,\n\t\tPRIMARY KEY (tid)\n\t);"] [user=]
[2022/07/15 15:02:05.931 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:58, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:57, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:05.931 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:05.931 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:58, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:57, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:05.931 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.table_cache_meta (\n\t\ttid bigint(11) NOT NULL DEFAULT 0,\n\t\tlock_type enum('NONE','READ', 'INTEND', 'WRITE') NOT NULL DEFAULT 'NONE',\n\t\tlease bigint(20) NOT NULL DEFAULT 0,\n\t\toldReadLease bigint(20) NOT NULL DEFAULT 0,\n\t\tPRIMARY KEY (tid)\n\t);"]
[2022/07/15 15:02:05.931 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 53, tp general"] [job="ID:58, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:57, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:05.931 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:05.931 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 53, tp general"] [job="ID:58, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:57, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:05.931 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:05.931 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=58]
[2022/07/15 15:02:05.931 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:05.931 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=28] [neededSchemaVersion=29] ["start time"=51.541µs] [phyTblIDs="[57]"] [actionTypes="[8]"]
[2022/07/15 15:02:05.931 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=29] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.analyze_options (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tsample_num BIGINT(64) NOT NULL DEFAULT 0,\n\t\tsample_rate DOUBLE NOT NULL DEFAULT -1,\n\t\tbuckets BIGINT(64) NOT NULL DEFAULT 0,\n\t\ttopn BIGINT(64) NOT NULL DEFAULT -1,\n\t\tcolumn_choice enum('DEFAULT','ALL','PREDICATE','LIST') NOT NULL DEFAULT 'DEFAULT',\n\t\tcolumn_ids TEXT(19372),\n\t\tPRIMARY KEY (table_id) CLUSTERED\n\t);"] [user=]
[2022/07/15 15:02:05.931 +08:00] [INFO] [ddl_api.go:999] ["Automatically convert BLOB(19372) to MEDIUMBLOB"]
[2022/07/15 15:02:05.931 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:60, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:59, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:05.931 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:05.931 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:60, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:59, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:05.931 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.analyze_options (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tsample_num BIGINT(64) NOT NULL DEFAULT 0,\n\t\tsample_rate DOUBLE NOT NULL DEFAULT -1,\n\t\tbuckets BIGINT(64) NOT NULL DEFAULT 0,\n\t\ttopn BIGINT(64) NOT NULL DEFAULT -1,\n\t\tcolumn_choice enum('DEFAULT','ALL','PREDICATE','LIST') NOT NULL DEFAULT 'DEFAULT',\n\t\tcolumn_ids TEXT(19372),\n\t\tPRIMARY KEY (table_id) CLUSTERED\n\t);"]
[2022/07/15 15:02:05.932 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 53, tp general"] [job="ID:60, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:59, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:05.931 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:05.932 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 53, tp general"] [job="ID:60, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:59, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:05.931 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:05.932 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=60]
[2022/07/15 15:02:05.932 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:05.932 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=29] [neededSchemaVersion=30] ["start time"=68.042µs] [phyTblIDs="[59]"] [actionTypes="[8]"]
[2022/07/15 15:02:05.932 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=30] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tstats_data longblob NOT NULL,\n\t\tseq_no bigint(64) NOT NULL comment 'sequence number of the gzipped data slice',\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version_seq (table_id, version, seq_no),\n\t\tKEY table_create_time (table_id, create_time, seq_no)\n\t);"] [user=]
[2022/07/15 15:02:05.932 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:62, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:61, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:05.932 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:05.932 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:62, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:61, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:05.932 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tstats_data longblob NOT NULL,\n\t\tseq_no bigint(64) NOT NULL comment 'sequence number of the gzipped data slice',\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version_seq (table_id, version, seq_no),\n\t\tKEY table_create_time (table_id, create_time, seq_no)\n\t);"]
[2022/07/15 15:02:05.932 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 53, tp general"] [job="ID:62, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:61, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:05.932 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:05.933 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 53, tp general"] [job="ID:62, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:61, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:05.932 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:05.933 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=62]
[2022/07/15 15:02:05.933 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:05.933 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=30] [neededSchemaVersion=31] ["start time"=73.834µs] [phyTblIDs="[61]"] [actionTypes="[8]"]
[2022/07/15 15:02:05.933 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=31] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_meta_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL,\n\t\tcount bigint(64) NOT NULL,\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version (table_id, version),\n\t\tKEY table_create_time (table_id, create_time)\n\t);"] [user=]
[2022/07/15 15:02:05.933 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:64, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:63, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:05.933 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:05.933 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:64, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:63, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:05.933 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_meta_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL,\n\t\tcount bigint(64) NOT NULL,\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version (table_id, version),\n\t\tKEY table_create_time (table_id, create_time)\n\t);"]
[2022/07/15 15:02:05.933 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 53, tp general"] [job="ID:64, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:63, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:05.933 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:05.934 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 53, tp general"] [job="ID:64, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:63, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:05.933 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:05.934 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=64]
[2022/07/15 15:02:05.934 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:05.934 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=31] [neededSchemaVersion=32] ["start time"=71.958µs] [phyTblIDs="[63]"] [actionTypes="[8]"]
[2022/07/15 15:02:05.934 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=32] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.analyze_jobs (\n\t\tid BIGINT(64) UNSIGNED NOT NULL AUTO_INCREMENT,\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\ttable_schema CHAR(64) NOT NULL DEFAULT '',\n\t\ttable_name CHAR(64) NOT NULL DEFAULT '',\n\t\tpartition_name CHAR(64) NOT NULL DEFAULT '',\n\t\tjob_info TEXT NOT NULL,\n\t\tprocessed_rows BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tstart_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tstate ENUM('pending', 'running', 'finished', 'failed') NOT NULL,\n\t\tfail_reason TEXT,\n\t\tinstance VARCHAR(512) NOT NULL comment 'address of the TiDB instance executing the analyze job',\n\t\tprocess_id BIGINT(64) UNSIGNED comment 'ID of the process executing the analyze job',\n\t\tPRIMARY KEY (id),\n\t\tKEY (update_time)\n\t);"] [user=]
[2022/07/15 15:02:05.934 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:66, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:65, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:05.934 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:05.934 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:66, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:65, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:05.934 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.analyze_jobs (\n\t\tid BIGINT(64) UNSIGNED NOT NULL AUTO_INCREMENT,\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\ttable_schema CHAR(64) NOT NULL DEFAULT '',\n\t\ttable_name CHAR(64) NOT NULL DEFAULT '',\n\t\tpartition_name CHAR(64) NOT NULL DEFAULT '',\n\t\tjob_info TEXT NOT NULL,\n\t\tprocessed_rows BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tstart_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tstate ENUM('pending', 'running', 'finished', 'failed') NOT NULL,\n\t\tfail_reason TEXT,\n\t\tinstance VARCHAR(512) NOT NULL comment 'address of the TiDB instance executing the analyze job',\n\t\tprocess_id BIGINT(64) UNSIGNED comment 'ID of the process executing the analyze job',\n\t\tPRIMARY KEY (id),\n\t\tKEY (update_time)\n\t);"]
[2022/07/15 15:02:05.934 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 53, tp general"] [job="ID:66, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:65, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:05.934 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:05.935 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 53, tp general"] [job="ID:66, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:65, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:05.934 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:05.935 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=66]
[2022/07/15 15:02:05.935 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:05.935 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=32] [neededSchemaVersion=33] ["start time"=107.375µs] [phyTblIDs="[65]"] [actionTypes="[8]"]
[2022/07/15 15:02:05.935 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=33] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.advisory_locks (\n\t\tlock_name VARCHAR(64) NOT NULL PRIMARY KEY\n\t);"] [user=]
[2022/07/15 15:02:05.936 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:68, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:67, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:05.936 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:05.936 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:68, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:67, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:05.936 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.advisory_locks (\n\t\tlock_name VARCHAR(64) NOT NULL PRIMARY KEY\n\t);"]
[2022/07/15 15:02:05.936 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 53, tp general"] [job="ID:68, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:67, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:05.936 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:05.936 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 53, tp general"] [job="ID:68, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:67, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:05.936 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:05.936 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=68]
[2022/07/15 15:02:05.936 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:05.936 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=33] [neededSchemaVersion=34] ["start time"=38.791µs] [phyTblIDs="[67]"] [actionTypes="[8]"]
[2022/07/15 15:02:05.942 +08:00] [INFO] [bootstrap.go:448] ["bootstrap successful"] ["take time"=41.72625ms]
[2022/07/15 15:02:05.942 +08:00] [INFO] [ddl_worker.go:158] ["[ddl] DDL worker closed"] [worker="worker 53, tp general"] ["take time"=625ns]
[2022/07/15 15:02:05.942 +08:00] [INFO] [ddl_worker.go:158] ["[ddl] DDL worker closed"] [worker="worker 54, tp add index"] ["take time"=84ns]
[2022/07/15 15:02:05.942 +08:00] [INFO] [delete_range.go:148] ["[ddl] closing delRange"]
[2022/07/15 15:02:05.942 +08:00] [INFO] [session_pool.go:94] ["[ddl] closing sessionPool"]
[2022/07/15 15:02:05.942 +08:00] [INFO] [ddl.go:576] ["[ddl] DDL closed"] [ID=a1529d3f-bbee-4a70-94b5-7214b3586c5e] ["take time"=82.875µs]
[2022/07/15 15:02:05.942 +08:00] [INFO] [ddl.go:464] ["[ddl] stop DDL"] [ID=a1529d3f-bbee-4a70-94b5-7214b3586c5e]
[2022/07/15 15:02:05.942 +08:00] [INFO] [domain.go:498] ["topNSlowQueryLoop exited."]
[2022/07/15 15:02:05.942 +08:00] [INFO] [domain.go:527] ["infoSyncerKeeper exited."]
[2022/07/15 15:02:05.942 +08:00] [INFO] [domain.go:552] ["globalConfigSyncerKeeper exited."]
[2022/07/15 15:02:05.942 +08:00] [INFO] [domain.go:575] ["topologySyncerKeeper exited."]
[2022/07/15 15:02:05.942 +08:00] [INFO] [domain.go:733] ["domain closed"] ["take time"=133.292µs]
[2022/07/15 15:02:05.942 +08:00] [INFO] [tidb.go:74] ["new domain"] [store=ad4036ea-1d6e-4cc7-8f3c-1aaffc0526ea] ["ddl lease"=0s] ["stats lease"=-1ns] ["index usage sync lease"=0s]
[2022/07/15 15:02:05.944 +08:00] [INFO] [domain.go:178] ["full load InfoSchema success"] [currentSchemaVersion=0] [neededSchemaVersion=34] ["start time"=2.3125ms]
[2022/07/15 15:02:05.944 +08:00] [INFO] [domain.go:449] ["full load and reset schema validator"]
[2022/07/15 15:02:05.944 +08:00] [INFO] [ddl.go:483] ["[ddl] start DDL"] [ID=91edd429-dc92-43a2-95a8-c5b470670378] [runWorker=true]
[2022/07/15 15:02:05.944 +08:00] [INFO] [ddl.go:472] ["[ddl] start delRangeManager OK"] ["is a emulator"=true]
[2022/07/15 15:02:05.944 +08:00] [INFO] [delete_range.go:158] ["[ddl] start delRange emulator"]
[2022/07/15 15:02:05.944 +08:00] [INFO] [ddl_worker.go:164] ["[ddl] start DDL worker"] [worker="worker 55, tp general"]
[2022/07/15 15:02:05.944 +08:00] [INFO] [ddl_worker.go:164] ["[ddl] start DDL worker"] [worker="worker 56, tp add index"]
[2022/07/15 15:02:05.945 +08:00] [WARN] [sysvar_cache.go:53] ["sysvar cache is empty, triggering rebuild"]
[2022/07/15 15:02:05.949 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=14] [schemaVersion=34] [cur_db=test] [sql="drop table if exists x1"] [user=]
[2022/07/15 15:02:05.949 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=14] [schemaVersion=34] [cur_db=test] [sql="create table x1(a int , b int);"] [user=]
[2022/07/15 15:02:05.949 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:70, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:05.949 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:05.949 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:70, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:05.949 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="create table x1(a int , b int);"]
[2022/07/15 15:02:05.949 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 55, tp general"] [job="ID:70, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:05.949 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:05.950 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 55, tp general"] [job="ID:70, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:69, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:05.949 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:05.950 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=70]
[2022/07/15 15:02:05.950 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:05.950 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=34] [neededSchemaVersion=35] ["start time"=45.542µs] [phyTblIDs="[69]"] [actionTypes="[8]"]
[2022/07/15 15:02:05.950 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=14] [schemaVersion=35] [cur_db=test] [sql="alter table x1 set tiflash replica 1"] [user=]
[2022/07/15 15:02:05.950 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:71, Type:set tiflash replica, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:05.95 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:05.950 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:71, Type:set tiflash replica, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:05.95 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="alter table x1 set tiflash replica 1"]
[2022/07/15 15:02:05.950 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 55, tp general"] [job="ID:71, Type:set tiflash replica, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:05.95 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:05.950 +08:00] [INFO] [table.go:1109] ["Set TiFlash replica pd rule"] [tableID=69]
[2022/07/15 15:02:05.950 +08:00] [INFO] [info.go:1051] [ConfigureTiFlashPDForTable] [tableID=69] [count=1]
[2022/07/15 15:02:05.950 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 55, tp general"] [job="ID:71, Type:set tiflash replica, State:synced, SchemaState:public, SchemaID:1, TableID:69, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:05.95 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:05.950 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=71]
[2022/07/15 15:02:05.950 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:05.950 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=35] [neededSchemaVersion=36] ["start time"=43.042µs] [phyTblIDs="[]"] [actionTypes="[]"]
[2022/07/15 15:02:05.950 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=14] [schemaVersion=36] [cur_db=test] [sql="drop table if exists x2"] [user=]
[2022/07/15 15:02:05.951 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=14] [schemaVersion=36] [cur_db=test] [sql="create table x2(a int , b int);"] [user=]
[2022/07/15 15:02:05.951 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:73, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:72, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:05.951 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:05.951 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:73, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:72, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:05.951 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="create table x2(a int , b int);"]
[2022/07/15 15:02:05.951 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 55, tp general"] [job="ID:73, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:72, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:05.951 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:05.951 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 55, tp general"] [job="ID:73, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:72, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:05.951 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:05.951 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=73]
[2022/07/15 15:02:05.951 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:05.951 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=36] [neededSchemaVersion=37] ["start time"=42.208µs] [phyTblIDs="[72]"] [actionTypes="[8]"]
[2022/07/15 15:02:05.951 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=14] [schemaVersion=37] [cur_db=test] [sql="alter table x2 set tiflash replica 1"] [user=]
[2022/07/15 15:02:05.951 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:74, Type:set tiflash replica, State:queueing, SchemaState:none, SchemaID:1, TableID:72, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:05.951 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:05.951 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:74, Type:set tiflash replica, State:queueing, SchemaState:none, SchemaID:1, TableID:72, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:05.951 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="alter table x2 set tiflash replica 1"]
[2022/07/15 15:02:05.951 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 55, tp general"] [job="ID:74, Type:set tiflash replica, State:queueing, SchemaState:none, SchemaID:1, TableID:72, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:05.951 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:05.951 +08:00] [INFO] [table.go:1109] ["Set TiFlash replica pd rule"] [tableID=72]
[2022/07/15 15:02:05.951 +08:00] [INFO] [info.go:1051] [ConfigureTiFlashPDForTable] [tableID=72] [count=1]
[2022/07/15 15:02:05.952 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 55, tp general"] [job="ID:74, Type:set tiflash replica, State:synced, SchemaState:public, SchemaID:1, TableID:72, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:05.951 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:05.952 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=74]
[2022/07/15 15:02:05.952 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:05.952 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=37] [neededSchemaVersion=38] ["start time"=43.959µs] [phyTblIDs="[]"] [actionTypes="[]"]
[2022/07/15 15:02:05.952 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:75, Type:update tiflash replica status, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:2, start time: 2022-07-15 15:02:05.952 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:05.952 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:75, Type:update tiflash replica status, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:2, start time: 2022-07-15 15:02:05.952 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query=]
[2022/07/15 15:02:05.952 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 55, tp general"] [job="ID:75, Type:update tiflash replica status, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:05.952 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:05.952 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 55, tp general"] [job="ID:75, Type:update tiflash replica status, State:synced, SchemaState:public, SchemaID:1, TableID:69, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:05.952 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:05.952 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=75]
[2022/07/15 15:02:05.952 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:05.952 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=38] [neededSchemaVersion=39] ["start time"=38.833µs] [phyTblIDs="[]"] [actionTypes="[]"]
[2022/07/15 15:02:05.952 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:76, Type:update tiflash replica status, State:queueing, SchemaState:none, SchemaID:1, TableID:72, RowCount:0, ArgLen:2, start time: 2022-07-15 15:02:05.952 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:05.952 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:76, Type:update tiflash replica status, State:queueing, SchemaState:none, SchemaID:1, TableID:72, RowCount:0, ArgLen:2, start time: 2022-07-15 15:02:05.952 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query=]
[2022/07/15 15:02:05.953 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 55, tp general"] [job="ID:76, Type:update tiflash replica status, State:queueing, SchemaState:none, SchemaID:1, TableID:72, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:05.952 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:05.953 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 55, tp general"] [job="ID:76, Type:update tiflash replica status, State:synced, SchemaState:public, SchemaID:1, TableID:72, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:05.952 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:05.953 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=76]
[2022/07/15 15:02:05.953 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:05.953 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=39] [neededSchemaVersion=40] ["start time"=41µs] [phyTblIDs="[]"] [actionTypes="[]"]
[2022/07/15 15:02:05.953 +08:00] [WARN] [2pc.go:1806] ["schemaLeaseChecker is not set for this transaction"] [sessionID=14] [startTS=434600286867423241] [checkTS=434600286867423242]
[2022/07/15 15:02:05.953 +08:00] [WARN] [2pc.go:1806] ["schemaLeaseChecker is not set for this transaction"] [sessionID=14] [startTS=434600286867423245] [checkTS=434600286867423246]
[2022/07/15 15:02:05.954 +08:00] [INFO] [fragment.go:77] ["Mpp will generate tasks"] [plan=LeftHashJoin{Recv()->Recv()}(test.x1.a,Column#13)->Send()]
[2022/07/15 15:02:05.954 +08:00] [INFO] [batch_coprocessor.go:325] ["detecting available mpp stores"]
[2022/07/15 15:02:05.954 +08:00] [WARN] [batch_coprocessor.go:359] ["Store is not ready"] ["store address"=tiflash1] ["err message"="not support this request type MPPAlive"]
[2022/07/15 15:02:05.954 +08:00] [WARN] [batch_coprocessor.go:359] ["Store is not ready"] ["store address"=tiflash0] ["err message"="not support this request type MPPAlive"]
[2022/07/15 15:02:05.954 +08:00] [WARN] [batch_coprocessor.go:400] ["Meet regions that don't have an available store. Give up balancing"]
[2022/07/15 15:02:05.954 +08:00] [INFO] [batch_coprocessor.go:325] ["detecting available mpp stores"]
[2022/07/15 15:02:05.954 +08:00] [WARN] [batch_coprocessor.go:400] ["Meet regions that don't have an available store. Give up balancing"]
[2022/07/15 15:02:05.954 +08:00] [INFO] [batch_coprocessor.go:325] ["detecting available mpp stores"]
[2022/07/15 15:02:05.954 +08:00] [WARN] [batch_coprocessor.go:400] ["Meet regions that don't have an available store. Give up balancing"]
[2022/07/15 15:02:05.954 +08:00] [INFO] [batch_coprocessor.go:325] ["detecting available mpp stores"]
[2022/07/15 15:02:05.954 +08:00] [WARN] [batch_coprocessor.go:400] ["Meet regions that don't have an available store. Give up balancing"]
[2022/07/15 15:02:05.954 +08:00] [INFO] [mpp_gather.go:80] ["Dispatch mpp task"] [timestamp=434600286867685376] [ID=1] [address=tiflash0] [plan="Table(x1)->Send(5, )"]
[2022/07/15 15:02:05.954 +08:00] [INFO] [mpp_gather.go:80] ["Dispatch mpp task"] [timestamp=434600286867685376] [ID=2] [address=tiflash0] [plan="Table(x1)->Sel([not(isnull(test.x1.a))])->Send(3, )"]
[2022/07/15 15:02:05.954 +08:00] [INFO] [mpp_gather.go:80] ["Dispatch mpp task"] [timestamp=434600286867685376] [ID=3] [address=tiflash0] [plan="RightHashJoin{Recv(2, )->Table(x2)->Sel([not(isnull(test.x2.b))])}(test.x1.a,test.x2.b)->Projection->Send(5, )"]
[2022/07/15 15:02:05.954 +08:00] [INFO] [mpp_gather.go:80] ["Dispatch mpp task"] [timestamp=434600286867685376] [ID=4] [address=tiflash0] [plan="Table(x1)->Sel([not(isnull(test.x1.a))])->Send(5, )"]
[2022/07/15 15:02:05.954 +08:00] [INFO] [mpp_gather.go:80] ["Dispatch mpp task"] [timestamp=434600286867685376] [ID=5] [address=tiflash0] [plan="LeftHashJoin{Recv(1, )->Recv(3, 4, )}(test.x1.a,Column#13)->Send(-1, )"]
[2022/07/15 15:02:06.955 +08:00] [WARN] [adapter.go:1067] ["# Txn_start_ts: 434600286867685376\n# Conn_ID: 14\n# Query_time: 1.001446041\n# Parse_time: 0.000030208\n# Compile_time: 0.000247916\n# Rewrite_time: 0.00005025\n# Optimize_time: 0.00016525\n# Wait_TS: 0.000002458\n# Cop_time: 1.000722251 Request_count: 8\n# DB: test\n# Is_internal: false\n# Digest: 24e9c45d2f8f2941cdcf77e9a5e41dcc10a892e4e0c9eb2fcef0573581682289\n# Stats: x1:pseudo,x2:pseudo\n# Num_cop_tasks: 8\n# Cop_proc_avg: 0 Cop_proc_p90: 0 Cop_proc_max: 0 Cop_proc_addr: tiflash0\n# Cop_wait_avg: 0 Cop_wait_p90: 0 Cop_wait_max: 0 Cop_wait_addr: tiflash0\n# Mem_max: 824\n# Prepared: false\n# Plan_from_cache: false\n# Plan_from_binding: false\n# Has_more_results: false\n# KV_total: 0\n# PD_total: 0\n# Backoff_total: 0\n# Write_sql_response_total: 0\n# Result_rows: 0\n# Succ: true\n# IsExplicitTxn: false\n# Plan: tidb_decode_plan('uAccMAkxNF8xNwkBCFwwNjIuNTAJdGVzdC54MS5hCjEJMzFfNDEuHQCQZGF0YTpFeGNoYW5nZVNlbmRlcl80MAoyCTQ5XzQwCTFfMQkxNA1JESdcVHlwZTogUGFzc1Rocm91Z2gKMwkxN18yOi8AaGxlZnQgb3V0ZXIgam9pbiwgZXF1YWw6W2VxKBWTUCwgQ29sdW1uIzEzKV0KNAk0OF8yNQl2GDAwMDAJCjUBiQQyNB0TAEUNrQmGNEhhc2hQYXJ0aXRpb24sBQ8BUyRzOiBbbmFtZTogHWtcY29sbGF0ZTogYmluYXJ5XQo2CTQzXzIzHV2gdGFibGU6eDEsIGtlZXAgb3JkZXI6ZmFsc2UsIHN0YXRzOnBzZXVkbwoFqwQzOQU7EDIyNDc3IWoJrgQzODYWALqxADURACxOsQAMOV8yNjZfABgKNwkzXzI3BRUQMTI0ODcBign2EDIuYgo4JZsJkxUfCGlubnaWARVADCldCjkhlgQzMgVhNDk5OTAJCjEwCTQ5XzMxGRM25AAoQnJvYWRjYXN0CjEBJAAzSRkFPChub3QoaXNudWxsKAlkIDEuYSkpCjEyCSGLADkFUin7oosBATUAM0kiVmMACDIuYgFjADABYwAzSu4BADKC7gEhXgAzAQUAMVpjAAnGADgFYimgusUA')\n# Plan_digest: 36493d4e9f4b2a959852dde0e5826d4dff8ed8d6feaaff92adb4bf5537f3b6d7\nuse test;\nselect x1.a, x.a from x1 left join (select x2.b a, x1.b from x1 join x2 on x1.a = x2.b union all select * from x1 ) x on x1.a = x.a order by x1.a;"]
[2022/07/15 15:02:06.955 +08:00] [INFO] [fragment.go:77] ["Mpp will generate tasks"] [plan=LeftHashJoin{Recv()->Recv()}(test.x1.a,Column#12)->Send()]
[2022/07/15 15:02:06.955 +08:00] [INFO] [batch_coprocessor.go:325] ["detecting available mpp stores"]
[2022/07/15 15:02:06.955 +08:00] [WARN] [batch_coprocessor.go:359] ["Store is not ready"] ["store address"=tiflash1] ["err message"="not support this request type MPPAlive"]
[2022/07/15 15:02:06.956 +08:00] [WARN] [batch_coprocessor.go:359] ["Store is not ready"] ["store address"=tiflash0] ["err message"="not support this request type MPPAlive"]
[2022/07/15 15:02:06.956 +08:00] [WARN] [batch_coprocessor.go:400] ["Meet regions that don't have an available store. Give up balancing"]
[2022/07/15 15:02:06.956 +08:00] [INFO] [batch_coprocessor.go:325] ["detecting available mpp stores"]
[2022/07/15 15:02:06.956 +08:00] [WARN] [batch_coprocessor.go:400] ["Meet regions that don't have an available store. Give up balancing"]
[2022/07/15 15:02:06.956 +08:00] [INFO] [batch_coprocessor.go:325] ["detecting available mpp stores"]
[2022/07/15 15:02:06.956 +08:00] [WARN] [batch_coprocessor.go:400] ["Meet regions that don't have an available store. Give up balancing"]
[2022/07/15 15:02:06.956 +08:00] [INFO] [mpp_gather.go:80] ["Dispatch mpp task"] [timestamp=434600287130091520] [ID=1] [address=tiflash0] [plan="Table(x1)->Projection->Send(5, )"]
[2022/07/15 15:02:06.956 +08:00] [INFO] [mpp_gather.go:80] ["Dispatch mpp task"] [timestamp=434600287130091520] [ID=2] [address=tiflash0] [plan="Table(x1)->Send(3, )"]
[2022/07/15 15:02:06.956 +08:00] [INFO] [mpp_gather.go:80] ["Dispatch mpp task"] [timestamp=434600287130091520] [ID=3] [address=tiflash0] [plan="Recv(2, )->HashAgg->Projection->Projection->Send(5, )"]
[2022/07/15 15:02:06.956 +08:00] [INFO] [mpp_gather.go:80] ["Dispatch mpp task"] [timestamp=434600287130091520] [ID=4] [address=tiflash0] [plan="Table(x2)->Sel([not(isnull(cast(test.x2.a, bigint(21) BINARY)))])->Projection->Send(5, )"]
[2022/07/15 15:02:06.956 +08:00] [INFO] [mpp_gather.go:80] ["Dispatch mpp task"] [timestamp=434600287130091520] [ID=5] [address=tiflash0] [plan="LeftHashJoin{Recv(1, )->Recv(3, 4, )}(test.x1.a,Column#12)->Send(-1, )"]
[2022/07/15 15:02:07.957 +08:00] [WARN] [adapter.go:1067] ["# Txn_start_ts: 434600287130091520\n# Conn_ID: 14\n# Query_time: 1.001848125\n# Parse_time: 0.000063084\n# Compile_time: 0.000332666\n# Rewrite_time: 0.000080875\n# Optimize_time: 0.000188167\n# Wait_TS: 0.000004667\n# Cop_time: 1.00090225 Request_count: 7\n# DB: test\n# Is_internal: false\n# Digest: 76c6341419e987446e5e251f4884d0c746edbf9361b5e21ee50822a7098911e4\n# Stats: x1:pseudo,x2:pseudo\n# Num_cop_tasks: 7\n# Cop_proc_avg: 0 Cop_proc_p90: 0 Cop_proc_max: 0 Cop_proc_addr: tiflash0\n# Cop_wait_avg: 0 Cop_wait_p90: 0 Cop_wait_max: 0 Cop_wait_addr: tiflash0\n# Mem_max: 9500\n# Prepared: false\n# Plan_from_cache: false\n# Plan_from_binding: false\n# Has_more_results: false\n# KV_total: 0\n# PD_total: 0\n# Backoff_total: 0\n# Write_sql_response_total: 0\n# Result_rows: 0\n# Succ: true\n# IsExplicitTxn: false\n# Plan: tidb_decode_plan('0QgoMAkxNF8xNAkwCTEBAUwuMTEJdGVzdC54MS5hCjEJM18xNlIcAEgsIENvbHVtbiMxMgoyCTMxXzQ1LigAiGRhdGE6RXhjaGFuZ2VTZW5kZXJfNDQKMwk0OV80NAkxXzEJAW8FcBEnYFR5cGU6IFBhc3NUaHJvdWdoCjQJMTdfMTc2LwBobGVmdCBvdXRlciBqb2luLCBlcXVhbDpbZXEoFbodniQpXQo1CTQ4XzQzCUcYMDAwMAkKNgWJADIdEzaGADRIYXNoUGFydGl0aW9uLAUPAfEgczogW25hbWU6AQ0F/mQ3LCBjb2xsYXRlOiBiaW5hcnldCjcJM180MR1cHZgMY2FzdC6oADBiaWdpbnQoMjApKS0+MVMgNwo4CTQzXzIwLkQAmGFibGU6eDEsIGtlZXAgb3JkZXI6ZmFsc2UsIHN0YXRzOnBzZXVkbw3uDTsANhnuBDM5CU4FE9ruAAAyUu4ACDlfMi1dBVwUCjgJM184CW4AOAGABfQR3AQyLBX0IDEpIEJJTkFSWR37GDIKOQkzXzMJvwU+DTkgNwoxMAk2XzI1BcYFGiBncm91cCBieTo9YDBmdW5jczpjb3VudCgxGVgMNwoxMUEGADIJl00GBDEyQQcEMjgFUwkUuhkBHXpCBwIIMTMJIcVNv0V4osUBIUMEMzYFmAXrJUMJbQwyLmEsgkMBCDFfMwnWBT4obm90KGlzbnVsbCiGSQAEKSkhagw0M18zSroAADKCfwI=')\n# Plan_digest: dc15627fa291ce852720ae336d050e0c6bb1e5d32a5279ec05a090cce5bd0a2e\nselect x1.a, x.a from x1 left join (select count(*) a, sum(b) b from x1 group by a union all select * from x2 ) x on x1.a = x.a order by x1.a;"]
[2022/07/15 15:02:07.957 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=14] [schemaVersion=40] [cur_db=test] [sql="drop table if exists x3"] [user=]
[2022/07/15 15:02:07.957 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=14] [schemaVersion=40] [cur_db=test] [sql="create table x3(a int , b int);"] [user=]
[2022/07/15 15:02:07.957 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:78, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:77, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:07.957 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:07.957 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:78, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:77, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:07.957 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="create table x3(a int , b int);"]
[2022/07/15 15:02:07.958 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 55, tp general"] [job="ID:78, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:77, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:07.957 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:07.958 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 55, tp general"] [job="ID:78, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:77, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:07.957 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:07.958 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=78]
[2022/07/15 15:02:07.958 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:07.958 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=40] [neededSchemaVersion=41] ["start time"=45.042µs] [phyTblIDs="[77]"] [actionTypes="[8]"]
[2022/07/15 15:02:07.958 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=14] [schemaVersion=41] [cur_db=test] [sql="alter table x3 set tiflash replica 1"] [user=]
[2022/07/15 15:02:07.958 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:79, Type:set tiflash replica, State:queueing, SchemaState:none, SchemaID:1, TableID:77, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:07.958 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:07.958 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:79, Type:set tiflash replica, State:queueing, SchemaState:none, SchemaID:1, TableID:77, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:07.958 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="alter table x3 set tiflash replica 1"]
[2022/07/15 15:02:07.958 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 55, tp general"] [job="ID:79, Type:set tiflash replica, State:queueing, SchemaState:none, SchemaID:1, TableID:77, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:07.958 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:07.958 +08:00] [INFO] [table.go:1109] ["Set TiFlash replica pd rule"] [tableID=77]
[2022/07/15 15:02:07.958 +08:00] [INFO] [info.go:1051] [ConfigureTiFlashPDForTable] [tableID=77] [count=1]
[2022/07/15 15:02:07.958 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 55, tp general"] [job="ID:79, Type:set tiflash replica, State:synced, SchemaState:public, SchemaID:1, TableID:77, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:07.958 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:07.959 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=79]
[2022/07/15 15:02:07.959 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:07.959 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=41] [neededSchemaVersion=42] ["start time"=41.708µs] [phyTblIDs="[]"] [actionTypes="[]"]
[2022/07/15 15:02:07.959 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:80, Type:update tiflash replica status, State:queueing, SchemaState:none, SchemaID:1, TableID:77, RowCount:0, ArgLen:2, start time: 2022-07-15 15:02:07.959 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:07.959 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:80, Type:update tiflash replica status, State:queueing, SchemaState:none, SchemaID:1, TableID:77, RowCount:0, ArgLen:2, start time: 2022-07-15 15:02:07.959 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query=]
[2022/07/15 15:02:07.959 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 55, tp general"] [job="ID:80, Type:update tiflash replica status, State:queueing, SchemaState:none, SchemaID:1, TableID:77, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:07.959 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:07.959 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 55, tp general"] [job="ID:80, Type:update tiflash replica status, State:synced, SchemaState:public, SchemaID:1, TableID:77, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:07.959 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:07.959 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=80]
[2022/07/15 15:02:07.959 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:07.959 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=42] [neededSchemaVersion=43] ["start time"=36.667µs] [phyTblIDs="[]"] [actionTypes="[]"]
[2022/07/15 15:02:07.959 +08:00] [WARN] [2pc.go:1806] ["schemaLeaseChecker is not set for this transaction"] [sessionID=14] [startTS=434600287393284112] [checkTS=434600287393284113]
[2022/07/15 15:02:07.960 +08:00] [INFO] [fragment.go:77] ["Mpp will generate tasks"] [plan=UnionAll{Table(x1)->Table(x3)->LeftHashJoin{UnionAll{Table(x3)->Table(x2)}->Recv()}(Column#13,test.x1.b)->Projection}->HashAgg->Send()]
[2022/07/15 15:02:07.960 +08:00] [INFO] [batch_coprocessor.go:325] ["detecting available mpp stores"]
[2022/07/15 15:02:07.960 +08:00] [WARN] [batch_coprocessor.go:359] ["Store is not ready"] ["store address"=tiflash1] ["err message"="not support this request type MPPAlive"]
[2022/07/15 15:02:07.960 +08:00] [WARN] [batch_coprocessor.go:359] ["Store is not ready"] ["store address"=tiflash0] ["err message"="not support this request type MPPAlive"]
[2022/07/15 15:02:07.960 +08:00] [WARN] [batch_coprocessor.go:400] ["Meet regions that don't have an available store. Give up balancing"]
[2022/07/15 15:02:07.960 +08:00] [INFO] [batch_coprocessor.go:325] ["detecting available mpp stores"]
[2022/07/15 15:02:07.960 +08:00] [WARN] [batch_coprocessor.go:400] ["Meet regions that don't have an available store. Give up balancing"]
[2022/07/15 15:02:07.960 +08:00] [INFO] [batch_coprocessor.go:325] ["detecting available mpp stores"]
[2022/07/15 15:02:07.960 +08:00] [WARN] [batch_coprocessor.go:400] ["Meet regions that don't have an available store. Give up balancing"]
[2022/07/15 15:02:07.960 +08:00] [INFO] [batch_coprocessor.go:325] ["detecting available mpp stores"]
[2022/07/15 15:02:07.960 +08:00] [WARN] [batch_coprocessor.go:400] ["Meet regions that don't have an available store. Give up balancing"]
[2022/07/15 15:02:07.960 +08:00] [INFO] [batch_coprocessor.go:325] ["detecting available mpp stores"]
[2022/07/15 15:02:07.960 +08:00] [WARN] [batch_coprocessor.go:400] ["Meet regions that don't have an available store. Give up balancing"]
[2022/07/15 15:02:07.960 +08:00] [INFO] [mpp_gather.go:80] ["Dispatch mpp task"] [timestamp=434600287393546240] [ID=3] [address=tiflash0] [plan="Table(x1)->Sel([not(isnull(test.x1.b))])->Send(4, 5, )"]
[2022/07/15 15:02:07.960 +08:00] [INFO] [mpp_gather.go:80] ["Dispatch mpp task"] [timestamp=434600287393546240] [ID=1] [address=tiflash0] [plan="Table(x1)->HashAgg->Send(-1, )"]
[2022/07/15 15:02:07.960 +08:00] [INFO] [mpp_gather.go:80] ["Dispatch mpp task"] [timestamp=434600287393546240] [ID=2] [address=tiflash0] [plan="Table(x3)->HashAgg->Send(-1, )"]
[2022/07/15 15:02:07.960 +08:00] [INFO] [mpp_gather.go:80] ["Dispatch mpp task"] [timestamp=434600287393546240] [ID=4] [address=tiflash0] [plan="LeftHashJoin{Table(x3)->Recv(3, )}(Column#13,test.x1.b)->Projection->HashAgg->Send(-1, )"]
[2022/07/15 15:02:07.960 +08:00] [INFO] [mpp_gather.go:80] ["Dispatch mpp task"] [timestamp=434600287393546240] [ID=5] [address=tiflash0] [plan="LeftHashJoin{Table(x2)->Recv(3, )}(Column#13,test.x1.b)->Projection->HashAgg->Send(-1, )"]
[2022/07/15 15:02:08.961 +08:00] [WARN] [adapter.go:1067] ["# Txn_start_ts: 434600287393546240\n# Conn_ID: 14\n# Query_time: 1.001419458\n# Parse_time: 0.000054625\n# Compile_time: 0.000402792\n# Rewrite_time: 0.000099875\n# Optimize_time: 0.00025475\n# Wait_TS: 0.000005833\n# Cop_time: 1.000369625 Request_count: 4\n# DB: test\n# Is_internal: false\n# Digest: b9de7582046776375aea798adb160cedc395871644889a095b962d64fe3ece8d\n# Stats: x1:pseudo,x3:pseudo,x2:pseudo\n# Num_cop_tasks: 4\n# Cop_proc_avg: 0 Cop_proc_p90: 0 Cop_proc_max: 0 Cop_proc_addr: tiflash0\n# Cop_wait_avg: 0 Cop_wait_p90: 0 Cop_wait_max: 0 Cop_wait_addr: tiflash0\n# Mem_max: 10100\n# Prepared: false\n# Plan_from_cache: false\n# Plan_from_binding: false\n# Has_more_results: false\n# KV_total: 0\n# PD_total: 0\n# Backoff_total: 0\n# Write_sql_response_total: 0\n# Result_rows: 0\n# Succ: true\n# IsExplicitTxn: false\n# Plan: tidb_decode_plan('twWIMAk2Xzg1CTAJMQlmdW5jczpjb3VudChDb2x1bW4jMjEpLT4RDCAwCjEJMzFfODcFLpBkYXRhOkV4Y2hhbmdlU2VuZGVyXzg2CjIJNDlfODYJMV8xCTEJESBYVHlwZTogUGFzc1Rocm91Z2gKMwk2XzIRJy56AC5yABwxCjQJOV84NAVONDQwMDAwCQo1CTQzXzc3BRMAMQUToHRhYmxlOngxLCBrZWVwIG9yZGVyOmZhbHNlLCBzdGF0czpwc2V1ZG8KCTsAOUY7AAAzijsADDNfODAFOgAyCXUkZXN0LngxLmEsIC0gJDE0CjYJMTdfODEdJ2RsZWZ0IG91dGVyIGpvaW4sIGVxdWFsOltlcTFjDDEzLCARTSRiKV0KNwk5XzQ1HUMYCjgJNDNfNEryAIa3AAk7SvIAADKC8gAYNwk0OF81MwWJDDk5OTAFiAw5XzUyGRI23gEkQnJvYWRjYXN0CgFwADUpBgA5AToobm90KGlzbnVsbCgZ6gwpCjEwAdkANSlWussB')\n# Plan_digest: bcc4ec56ffdcbe85fced960d53a1e7b7742b361c9b1b4f562ef677a470aabc6e\nselect count(*) from (select a, b from x1 union all select a, b from x3 union all (select x1.a, x3.b from (select * from x3 union all select * from x2) x3 left join x1 on x3.a = x1.b));"]
[2022/07/15 15:02:08.962 +08:00] [INFO] [fragment.go:77] ["Mpp will generate tasks"] [plan=RightHashJoin{Recv()->Recv()}(Column#10,Column#22)->HashAgg->Send()]
[2022/07/15 15:02:08.962 +08:00] [INFO] [batch_coprocessor.go:325] ["detecting available mpp stores"]
[2022/07/15 15:02:08.962 +08:00] [WARN] [batch_coprocessor.go:359] ["Store is not ready"] ["store address"=tiflash0] ["err message"="not support this request type MPPAlive"]
[2022/07/15 15:02:08.962 +08:00] [WARN] [batch_coprocessor.go:359] ["Store is not ready"] ["store address"=tiflash1] ["err message"="not support this request type MPPAlive"]
[2022/07/15 15:02:08.962 +08:00] [WARN] [batch_coprocessor.go:400] ["Meet regions that don't have an available store. Give up balancing"]
[2022/07/15 15:02:08.962 +08:00] [INFO] [batch_coprocessor.go:325] ["detecting available mpp stores"]
[2022/07/15 15:02:08.962 +08:00] [WARN] [batch_coprocessor.go:400] ["Meet regions that don't have an available store. Give up balancing"]
[2022/07/15 15:02:08.962 +08:00] [INFO] [batch_coprocessor.go:325] ["detecting available mpp stores"]
[2022/07/15 15:02:08.962 +08:00] [WARN] [batch_coprocessor.go:400] ["Meet regions that don't have an available store. Give up balancing"]
[2022/07/15 15:02:08.962 +08:00] [INFO] [batch_coprocessor.go:325] ["detecting available mpp stores"]
[2022/07/15 15:02:08.962 +08:00] [WARN] [batch_coprocessor.go:400] ["Meet regions that don't have an available store. Give up balancing"]
[2022/07/15 15:02:08.962 +08:00] [INFO] [batch_coprocessor.go:325] ["detecting available mpp stores"]
[2022/07/15 15:02:08.962 +08:00] [WARN] [batch_coprocessor.go:400] ["Meet regions that don't have an available store. Give up balancing"]
[2022/07/15 15:02:08.962 +08:00] [INFO] [batch_coprocessor.go:325] ["detecting available mpp stores"]
[2022/07/15 15:02:08.962 +08:00] [WARN] [batch_coprocessor.go:400] ["Meet regions that don't have an available store. Give up balancing"]
[2022/07/15 15:02:08.962 +08:00] [INFO] [mpp_gather.go:80] ["Dispatch mpp task"] [timestamp=434600287656214528] [ID=1] [address=tiflash0] [plan="Table(x1)->Sel([not(isnull(test.x1.a))])->Send(7, )"]
[2022/07/15 15:02:08.962 +08:00] [INFO] [mpp_gather.go:80] ["Dispatch mpp task"] [timestamp=434600287656214528] [ID=2] [address=tiflash0] [plan="Table(x2)->Sel([not(isnull(test.x2.a))])->Send(7, )"]
[2022/07/15 15:02:08.962 +08:00] [INFO] [mpp_gather.go:80] ["Dispatch mpp task"] [timestamp=434600287656214528] [ID=3] [address=tiflash0] [plan="Table(x3)->Sel([not(isnull(test.x3.a))])->Send(7, )"]
[2022/07/15 15:02:08.962 +08:00] [INFO] [mpp_gather.go:80] ["Dispatch mpp task"] [timestamp=434600287656214528] [ID=4] [address=tiflash0] [plan="Table(x1)->Sel([not(isnull(test.x1.b))])->Send(7, )"]
[2022/07/15 15:02:08.962 +08:00] [INFO] [mpp_gather.go:80] ["Dispatch mpp task"] [timestamp=434600287656214528] [ID=5] [address=tiflash0] [plan="Table(x2)->Sel([not(isnull(test.x2.b))])->Send(7, )"]
[2022/07/15 15:02:08.962 +08:00] [INFO] [mpp_gather.go:80] ["Dispatch mpp task"] [timestamp=434600287656214528] [ID=6] [address=tiflash0] [plan="Table(x3)->Sel([not(isnull(test.x3.b))])->Send(7, )"]
[2022/07/15 15:02:08.962 +08:00] [INFO] [mpp_gather.go:80] ["Dispatch mpp task"] [timestamp=434600287656214528] [ID=7] [address=tiflash0] [plan="RightHashJoin{Recv(1, 2, 3, )->Recv(4, 5, 6, )}(Column#10,Column#22)->HashAgg->Send(-1, )"]
[2022/07/15 15:02:09.963 +08:00] [WARN] [adapter.go:1067] ["# Txn_start_ts: 434600287656214528\n# Conn_ID: 14\n# Query_time: 1.001811251\n# Parse_time: 0.000080667\n# Compile_time: 0.000494917\n# Rewrite_time: 0.00011025\n# Optimize_time: 0.000318125\n# Wait_TS: 0.000004833\n# Cop_time: 1.000211209 Request_count: 1\n# DB: test\n# Is_internal: false\n# Digest: 0cab2e19872342ba64417c7f09493d4070d3f507cd5122935e1b5612f536bc50\n# Stats: x2:pseudo,x3:pseudo,x1:pseudo\n# Num_cop_tasks: 1\n# Cop_proc_avg: 0 Cop_proc_addr: tiflash0\n# Cop_wait_avg: 0 Cop_wait_addr: tiflash0\n# Mem_max: 10100\n# Prepared: false\n# Plan_from_cache: false\n# Plan_from_binding: false\n# Has_more_results: false\n# KV_total: 0\n# PD_total: 0\n# Backoff_total: 0\n# Write_sql_response_total: 0\n# Result_rows: 0\n# Succ: true\n# IsExplicitTxn: false\n# Plan: tidb_decode_plan('tgiQMAk2XzExMwkwCTEJZnVuY3M6Y291bnQoQ29sdW1uIzI0KS0+Qw0MJDMKMQkzMV8xMTUFL2xkYXRhOkV4Y2hhbmdlU2VuZGVyXzExNAoyCTQ5AQkYCTFfMQkxCREiXFR5cGU6IFBhc3NUaHJvdWdoCjMJNl8zMA0nLn0AADEddSQ0CjQJMTdfMTEyBSl0Mzc0NjIuNTAJaW5uZXIgam9pbiwgZXF1YWw6W2VxEbcMMTAsIBHCKDIpXQo1CTQ4XzQ3BUIcMjk5NzAJCjYBpgQ0Nh0TNqkANEhhc2hQYXJ0aXRpb24sBQ8BUyBzOiBbbmFtZToBDSEiAWtUY29sbGF0ZTogYmluYXJ5XQo3CTlfMy5cABgKOAkxXzM5BW6IOTk5MAlub3QoaXNudWxsKHRlc3QueDEuYSkpCjkJNDNfMzgFKLgxMDAwMAl0YWJsZTp4MSwga2VlcCBvcmRlcjpmYWxzZSwgc3RhdHM6cHNldWRvCgFiADQpJVZiAAAyGWIENDFGYgAAMpZiAAA1BTpWYgAAMx1iLf8uxAAAM4JiACWoADUpJy6oAQA1Ad0AMQ0T1qgBCDIyLFaoAQA0LlwAJagANSkeVuQACDEuYjGoADVNvC7kAJaoAQA1KR5WYgAAMh1iADMlbjJiAJaoAQA1Se1WYgAAMx1iSaYyYgCGqAE=')\n# Plan_digest: 8be14449dd9e41d231f07d66d11c7fcc5f8a00961faf74f4ecb385c7a757d781\nselect count(*) from (select * from x1 union all select * from x2 union all select * from x3) x join (select * from x1 union all select * from x2 union all select * from x3) y on x.a = y.b;"]
[2022/07/15 15:02:09.964 +08:00] [INFO] [fragment.go:77] ["Mpp will generate tasks"] [plan="RightHashJoin{Recv()->UnionAll{Table(x1)->Sel([not(isnull(test.x1.b))])->Table(x2)->Sel([not(isnull(test.x2.b))])->Table(x3)->Sel([not(isnull(test.x3.b))])}}(Column#10,Column#22)->HashAgg->Send()"]
[2022/07/15 15:02:09.964 +08:00] [INFO] [batch_coprocessor.go:325] ["detecting available mpp stores"]
[2022/07/15 15:02:09.964 +08:00] [WARN] [batch_coprocessor.go:359] ["Store is not ready"] ["store address"=tiflash1] ["err message"="not support this request type MPPAlive"]
[2022/07/15 15:02:09.964 +08:00] [WARN] [batch_coprocessor.go:359] ["Store is not ready"] ["store address"=tiflash0] ["err message"="not support this request type MPPAlive"]
[2022/07/15 15:02:09.964 +08:00] [WARN] [batch_coprocessor.go:400] ["Meet regions that don't have an available store. Give up balancing"]
[2022/07/15 15:02:09.964 +08:00] [INFO] [batch_coprocessor.go:325] ["detecting available mpp stores"]
[2022/07/15 15:02:09.964 +08:00] [WARN] [batch_coprocessor.go:400] ["Meet regions that don't have an available store. Give up balancing"]
[2022/07/15 15:02:09.964 +08:00] [INFO] [batch_coprocessor.go:325] ["detecting available mpp stores"]
[2022/07/15 15:02:09.964 +08:00] [WARN] [batch_coprocessor.go:400] ["Meet regions that don't have an available store. Give up balancing"]
[2022/07/15 15:02:09.964 +08:00] [INFO] [batch_coprocessor.go:325] ["detecting available mpp stores"]
[2022/07/15 15:02:09.964 +08:00] [WARN] [batch_coprocessor.go:400] ["Meet regions that don't have an available store. Give up balancing"]
[2022/07/15 15:02:09.964 +08:00] [INFO] [batch_coprocessor.go:325] ["detecting available mpp stores"]
[2022/07/15 15:02:09.964 +08:00] [WARN] [batch_coprocessor.go:400] ["Meet regions that don't have an available store. Give up balancing"]
[2022/07/15 15:02:09.964 +08:00] [INFO] [batch_coprocessor.go:325] ["detecting available mpp stores"]
[2022/07/15 15:02:09.965 +08:00] [WARN] [batch_coprocessor.go:400] ["Meet regions that don't have an available store. Give up balancing"]
[2022/07/15 15:02:09.965 +08:00] [INFO] [mpp_gather.go:80] ["Dispatch mpp task"] [timestamp=434600287918882816] [ID=1] [address=tiflash0] [plan="Table(x1)->Sel([not(isnull(test.x1.a))])->Send(4, 5, 6, )"]
[2022/07/15 15:02:09.965 +08:00] [INFO] [mpp_gather.go:80] ["Dispatch mpp task"] [timestamp=434600287918882816] [ID=2] [address=tiflash0] [plan="Table(x2)->Sel([not(isnull(test.x2.a))])->Send(4, 5, 6, )"]
[2022/07/15 15:02:09.965 +08:00] [INFO] [mpp_gather.go:80] ["Dispatch mpp task"] [timestamp=434600287918882816] [ID=3] [address=tiflash0] [plan="Table(x3)->Sel([not(isnull(test.x3.a))])->Send(4, 5, 6, )"]
[2022/07/15 15:02:09.965 +08:00] [INFO] [mpp_gather.go:80] ["Dispatch mpp task"] [timestamp=434600287918882816] [ID=4] [address=tiflash0] [plan="RightHashJoin{Recv(1, 2, 3, )->Table(x1)->Sel([not(isnull(test.x1.b))])}(Column#10,Column#22)->HashAgg->Send(-1, )"]
[2022/07/15 15:02:09.965 +08:00] [INFO] [mpp_gather.go:80] ["Dispatch mpp task"] [timestamp=434600287918882816] [ID=5] [address=tiflash0] [plan="RightHashJoin{Recv(1, 2, 3, )->Table(x2)->Sel([not(isnull(test.x2.b))])}(Column#10,Column#22)->HashAgg->Send(-1, )"]
[2022/07/15 15:02:09.965 +08:00] [INFO] [mpp_gather.go:80] ["Dispatch mpp task"] [timestamp=434600287918882816] [ID=6] [address=tiflash0] [plan="RightHashJoin{Recv(1, 2, 3, )->Table(x3)->Sel([not(isnull(test.x3.b))])}(Column#10,Column#22)->HashAgg->Send(-1, )"]
[2022/07/15 15:02:10.966 +08:00] [WARN] [adapter.go:1067] ["# Txn_start_ts: 434600287918882816\n# Conn_ID: 14\n# Query_time: 1.002582167\n# Parse_time: 0.000093125\n# Compile_time: 0.000622542\n# Rewrite_time: 0.000154\n# Optimize_time: 0.00039825\n# Wait_TS: 0.000012917\n# Cop_time: 1.000864166 Request_count: 3\n# DB: test\n# Is_internal: false\n# Digest: 0cab2e19872342ba64417c7f09493d4070d3f507cd5122935e1b5612f536bc50\n# Stats: x1:pseudo,x2:pseudo,x3:pseudo\n# Num_cop_tasks: 3\n# Cop_proc_avg: 0 Cop_proc_p90: 0 Cop_proc_max: 0 Cop_proc_addr: tiflash0\n# Cop_wait_avg: 0 Cop_wait_p90: 0 Cop_wait_max: 0 Cop_wait_addr: tiflash0\n# Mem_max: 10100\n# Prepared: false\n# Plan_from_cache: false\n# Plan_from_binding: false\n# Has_more_results: false\n# KV_total: 0\n# PD_total: 0\n# Backoff_total: 0\n# Write_sql_response_total: 0\n# Result_rows: 0\n# Succ: true\n# IsExplicitTxn: false\n# Plan: tidb_decode_plan('kweQMAk2XzExMQkwCTEJZnVuY3M6Y291bnQoQ29sdW1uIzI0KS0+Qw0MJDMKMQkzMV8xMTMFL2xkYXRhOkV4Y2hhbmdlU2VuZGVyXzExMgoyCTQ5AQkYCTFfMQkxCREiXFR5cGU6IFBhc3NUaHJvdWdoCjMJNl8zMA0nLn0AADEddSA0CjQJMTdfMTEJKXQzNzQ2Mi41MAlpbm5lciBqb2luLCBlcXVhbDpbZXERtwwxMCwgEcIoMildCjUJNDhfNDcFaxwyOTk3MAkKNgGmBDQ2HRM2qQA4QnJvYWRjYXN0CjcJOV8zLikAGAo4CTFfMzkFO4g5OTkwCW5vdChpc251bGwodGVzdC54MS5hKSkKOQk0M18zOAUouDEwMDAwCXRhYmxlOngxLCBrZWVwIG9yZGVyOmZhbHNlLCBzdGF0czpwc2V1ZG8KAWIANClCVmIAADIZYgQ0MUZiAAAylmIAADUFOlZiAAAzHWIANAUoMsQAADOCYgAQNQk5XzQByQAxOXQIMV81Ca5WdAAsMS5iKSkKNwk0M181KfAydACGOAEhpwA1Ca5WYgAAMh1iADNG1gCGOAEFYklKVmIAADMdYgEtADE2xACGOAE=')\n# Plan_digest: 048c6e7f58b045a5f188bc303ab196ac3b55a40bfc34340402d190e118b0aa0d\nselect count(*) from (select * from x1 union all select * from x2 union all select * from x3) x join (select * from x1 union all select * from x2 union all select * from x3) y on x.a = y.b;"]
[2022/07/15 15:02:10.966 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=14] [schemaVersion=43] [cur_db=test] [sql="drop table if exists x4"] [user=]
[2022/07/15 15:02:10.966 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=14] [schemaVersion=43] [cur_db=test] [sql="create table x4(a int not null, b int not null);"] [user=]
[2022/07/15 15:02:10.966 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:82, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:81, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:10.966 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:10.966 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:82, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:81, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:10.966 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="create table x4(a int not null, b int not null);"]
[2022/07/15 15:02:10.966 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 55, tp general"] [job="ID:82, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:81, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:10.966 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:10.967 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 55, tp general"] [job="ID:82, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:81, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:10.966 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:10.967 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=82]
[2022/07/15 15:02:10.967 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:10.967 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=43] [neededSchemaVersion=44] ["start time"=46.5µs] [phyTblIDs="[81]"] [actionTypes="[8]"]
[2022/07/15 15:02:10.967 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=14] [schemaVersion=44] [cur_db=test] [sql="alter table x4 set tiflash replica 1"] [user=]
[2022/07/15 15:02:10.967 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:83, Type:set tiflash replica, State:queueing, SchemaState:none, SchemaID:1, TableID:81, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:10.967 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:10.967 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:83, Type:set tiflash replica, State:queueing, SchemaState:none, SchemaID:1, TableID:81, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:10.967 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="alter table x4 set tiflash replica 1"]
[2022/07/15 15:02:10.967 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 55, tp general"] [job="ID:83, Type:set tiflash replica, State:queueing, SchemaState:none, SchemaID:1, TableID:81, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:10.967 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:10.967 +08:00] [INFO] [table.go:1109] ["Set TiFlash replica pd rule"] [tableID=81]
[2022/07/15 15:02:10.967 +08:00] [INFO] [info.go:1051] [ConfigureTiFlashPDForTable] [tableID=81] [count=1]
[2022/07/15 15:02:10.967 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 55, tp general"] [job="ID:83, Type:set tiflash replica, State:synced, SchemaState:public, SchemaID:1, TableID:81, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:10.967 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:10.968 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=83]
[2022/07/15 15:02:10.968 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:10.968 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=44] [neededSchemaVersion=45] ["start time"=40.209µs] [phyTblIDs="[]"] [actionTypes="[]"]
[2022/07/15 15:02:10.968 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:84, Type:update tiflash replica status, State:queueing, SchemaState:none, SchemaID:1, TableID:81, RowCount:0, ArgLen:2, start time: 2022-07-15 15:02:10.968 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:10.968 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:84, Type:update tiflash replica status, State:queueing, SchemaState:none, SchemaID:1, TableID:81, RowCount:0, ArgLen:2, start time: 2022-07-15 15:02:10.968 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query=]
[2022/07/15 15:02:10.968 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 55, tp general"] [job="ID:84, Type:update tiflash replica status, State:queueing, SchemaState:none, SchemaID:1, TableID:81, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:10.968 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:10.968 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 55, tp general"] [job="ID:84, Type:update tiflash replica status, State:synced, SchemaState:public, SchemaID:1, TableID:81, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:10.968 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:10.968 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=84]
[2022/07/15 15:02:10.968 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:10.968 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=45] [neededSchemaVersion=46] ["start time"=41.917µs] [phyTblIDs="[]"] [actionTypes="[]"]
[2022/07/15 15:02:10.968 +08:00] [WARN] [2pc.go:1806] ["schemaLeaseChecker is not set for this transaction"] [sessionID=14] [startTS=434600288182075407] [checkTS=434600288182075408]
[2022/07/15 15:02:10.969 +08:00] [INFO] [fragment.go:77] ["Mpp will generate tasks"] [plan=UnionAll{Table(x1)->Table(x4)->Projection}->Send()]
[2022/07/15 15:02:10.969 +08:00] [INFO] [batch_coprocessor.go:325] ["detecting available mpp stores"]
[2022/07/15 15:02:10.969 +08:00] [WARN] [batch_coprocessor.go:359] ["Store is not ready"] ["store address"=tiflash1] ["err message"="not support this request type MPPAlive"]
[2022/07/15 15:02:10.969 +08:00] [WARN] [batch_coprocessor.go:359] ["Store is not ready"] ["store address"=tiflash0] ["err message"="not support this request type MPPAlive"]
[2022/07/15 15:02:10.969 +08:00] [WARN] [batch_coprocessor.go:400] ["Meet regions that don't have an available store. Give up balancing"]
[2022/07/15 15:02:10.969 +08:00] [INFO] [batch_coprocessor.go:325] ["detecting available mpp stores"]
[2022/07/15 15:02:10.969 +08:00] [WARN] [batch_coprocessor.go:400] ["Meet regions that don't have an available store. Give up balancing"]
[2022/07/15 15:02:10.969 +08:00] [INFO] [mpp_gather.go:80] ["Dispatch mpp task"] [timestamp=434600288182337536] [ID=1] [address=tiflash0] [plan="Table(x1)->Send(-1, )"]
[2022/07/15 15:02:10.969 +08:00] [INFO] [mpp_gather.go:80] ["Dispatch mpp task"] [timestamp=434600288182337536] [ID=2] [address=tiflash0] [plan="Table(x4)->Projection->Send(-1, )"]
[2022/07/15 15:02:11.969 +08:00] [WARN] [adapter.go:1067] ["# Txn_start_ts: 434600288182337536\n# Conn_ID: 14\n# Query_time: 1.000485376\n# Parse_time: 0.000028167\n# Compile_time: 0.000146\n# Rewrite_time: 0.000041041\n# Optimize_time: 0.00007425\n# Wait_TS: 0.000002041\n# Cop_time: 1.000085876 Request_count: 2\n# DB: test\n# Is_internal: false\n# Digest: c9eb58d97158daad621e73bfb38e9b7a0dd6abe0c779987ed950f8eb00d510f7\n# Stats: x1:pseudo,x4:pseudo\n# Num_cop_tasks: 2\n# Cop_proc_avg: 0 Cop_proc_p90: 0 Cop_proc_max: 0 Cop_proc_addr: tiflash0\n# Cop_wait_avg: 0 Cop_wait_p90: 0 Cop_wait_max: 0 Cop_wait_addr: tiflash0\n# Mem_max: 808\n# Prepared: false\n# Plan_from_cache: false\n# Plan_from_binding: false\n# Has_more_results: false\n# KV_total: 0\n# PD_total: 0\n# Backoff_total: 0\n# Write_sql_response_total: 0\n# Result_rows: 0\n# Succ: true\n# IsExplicitTxn: false\n# Plan: tidb_decode_plan('4wJgMAkxNF85CTAJMjAwMDAJQ29sdW1uIzcsIA0KIDgKMQkzMV8zNBUjiGRhdGE6RXhjaGFuZ2VTZW5kZXJfMzMKMgk0OV8zMwkxXzEJCUwRJFxUeXBlOiBQYXNzVGhyb3VnaAozCTlfMTIdKxwKNAk0M18xOQUTADEFirh0YWJsZTp4MSwga2VlcCBvcmRlcjpmYWxzZSwgc3RhdHM6cHNldWRvCjQJM18zNR06gGNhc3QodGVzdC54NC5hLCBpbnQoMTEpIEJJTkFSWSktPg3bCDcsIDIrAABiZisAIDgKNQk0M18yOB1nDaEENCx+oQA=')\n# Plan_digest: b4fe94e5756cc459f29b6aabb3d958f75fa208a5a15e389a0a5ccebe5287a9da\n(select * from x1 union all select * from x4) order by a, b;"]
[2022/07/15 15:02:11.969 +08:00] [INFO] [ddl_worker.go:158] ["[ddl] DDL worker closed"] [worker="worker 55, tp general"] ["take time"=6.75µs]
[2022/07/15 15:02:11.969 +08:00] [INFO] [ddl_worker.go:158] ["[ddl] DDL worker closed"] [worker="worker 56, tp add index"] ["take time"=42ns]
[2022/07/15 15:02:11.969 +08:00] [INFO] [delete_range.go:148] ["[ddl] closing delRange"]
[2022/07/15 15:02:11.969 +08:00] [INFO] [session_pool.go:94] ["[ddl] closing sessionPool"]
[2022/07/15 15:02:11.969 +08:00] [INFO] [ddl.go:576] ["[ddl] DDL closed"] [ID=91edd429-dc92-43a2-95a8-c5b470670378] ["take time"=69µs]
[2022/07/15 15:02:11.969 +08:00] [INFO] [ddl.go:464] ["[ddl] stop DDL"] [ID=91edd429-dc92-43a2-95a8-c5b470670378]
[2022/07/15 15:02:11.969 +08:00] [INFO] [domain.go:498] ["topNSlowQueryLoop exited."]
[2022/07/15 15:02:11.969 +08:00] [INFO] [handle_hist.go:156] ["SubLoadWorker exited."]
[2022/07/15 15:02:11.969 +08:00] [INFO] [handle_hist.go:156] ["SubLoadWorker exited."]
[2022/07/15 15:02:11.969 +08:00] [INFO] [domain.go:1082] ["LoadSysVarCacheLoop exited."]
[2022/07/15 15:02:11.969 +08:00] [INFO] [domain.go:1288] ["dumpFileGcChecker exited."]
[2022/07/15 15:02:11.969 +08:00] [INFO] [domain.go:1032] ["loadPrivilegeInLoop exited."]
[2022/07/15 15:02:11.969 +08:00] [INFO] [domain.go:1160] ["globalBindHandleWorkerLoop exited."]
[2022/07/15 15:02:11.969 +08:00] [INFO] [domain.go:575] ["topologySyncerKeeper exited."]
[2022/07/15 15:02:11.969 +08:00] [INFO] [handle_hist.go:156] ["SubLoadWorker exited."]
[2022/07/15 15:02:11.969 +08:00] [INFO] [domain.go:733] ["domain closed"] ["take time"=166.791µs]
[2022/07/15 15:02:11.969 +08:00] [INFO] [handle_hist.go:156] ["SubLoadWorker exited."]
[2022/07/15 15:02:11.969 +08:00] [INFO] [domain.go:552] ["globalConfigSyncerKeeper exited."]
[2022/07/15 15:02:11.969 +08:00] [INFO] [handle_hist.go:156] ["SubLoadWorker exited."]
[2022/07/15 15:02:11.969 +08:00] [INFO] [domain.go:1203] ["handleEvolvePlanTasksLoop exited."]
[2022/07/15 15:02:11.969 +08:00] [INFO] [domain.go:527] ["infoSyncerKeeper exited."]
[2022/07/15 15:02:11.988 +08:00] [INFO] [db.go:567] ["Closing database"]
[2022/07/15 15:02:11.988 +08:00] [INFO] [db.go:592] ["Memtable flushed"]
[2022/07/15 15:02:11.988 +08:00] [INFO] [db.go:596] ["Compaction finished"]
[2022/07/15 15:02:11.988 +08:00] [INFO] [db.go:615] ["BlobManager finished"]
[2022/07/15 15:02:11.988 +08:00] [INFO] [db.go:619] ["ResourceManager finished"]
[2022/07/15 15:02:11.988 +08:00] [INFO] [db.go:625] ["Waiting for closer"]
[2022/07/15 15:02:12.097 +08:00] [INFO] [tidb.go:74] ["new domain"] [store=8d03e270-022d-43ce-a676-1b29d367f852] ["ddl lease"=0s] ["stats lease"=-1ns] ["index usage sync lease"=0s]
[2022/07/15 15:02:12.098 +08:00] [INFO] [domain.go:178] ["full load InfoSchema success"] [currentSchemaVersion=0] [neededSchemaVersion=0] ["start time"=449.125µs]
[2022/07/15 15:02:12.098 +08:00] [INFO] [domain.go:449] ["full load and reset schema validator"]
[2022/07/15 15:02:12.098 +08:00] [INFO] [ddl.go:483] ["[ddl] start DDL"] [ID=ec56c1ec-73c0-41c1-b081-46cba5018b30] [runWorker=true]
[2022/07/15 15:02:12.098 +08:00] [INFO] [ddl.go:472] ["[ddl] start delRangeManager OK"] ["is a emulator"=true]
[2022/07/15 15:02:12.098 +08:00] [INFO] [delete_range.go:158] ["[ddl] start delRange emulator"]
[2022/07/15 15:02:12.098 +08:00] [INFO] [ddl_worker.go:164] ["[ddl] start DDL worker"] [worker="worker 57, tp general"]
[2022/07/15 15:02:12.098 +08:00] [INFO] [ddl_worker.go:164] ["[ddl] start DDL worker"] [worker="worker 58, tp add index"]
[2022/07/15 15:02:12.098 +08:00] [INFO] [tidb.go:268] ["rollbackTxn called due to ddl/autocommit failure"]
[2022/07/15 15:02:12.098 +08:00] [WARN] [session.go:1983] ["run statement failed"] [schemaVersion=0] [error="[schema:1049]Unknown database 'mysql'"] [errorVerbose="[schema:1049]Unknown database 'mysql'\ngithub.com/pingcap/errors.AddStack\n\t/Users/hongyunyan/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20211224045212-9687c2b0f87c/errors.go:174\ngithub.com/pingcap/errors.(*Error).GenWithStackByArgs\n\t/Users/hongyunyan/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20211224045212-9687c2b0f87c/normalize.go:164\ngithub.com/pingcap/tidb/executor.(*SimpleExec).executeUse\n\t/Users/hongyunyan/Desktop/tidb/executor/simple.go:571\ngithub.com/pingcap/tidb/executor.(*SimpleExec).Next\n\t/Users/hongyunyan/Desktop/tidb/executor/simple.go:131\ngithub.com/pingcap/tidb/executor.Next\n\t/Users/hongyunyan/Desktop/tidb/executor/executor.go:319\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelayExecutor\n\t/Users/hongyunyan/Desktop/tidb/executor/adapter.go:673\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelay\n\t/Users/hongyunyan/Desktop/tidb/executor/adapter.go:523\ngithub.com/pingcap/tidb/executor.(*ExecStmt).Exec\n\t/Users/hongyunyan/Desktop/tidb/executor/adapter.go:472\ngithub.com/pingcap/tidb/session.runStmt\n\t/Users/hongyunyan/Desktop/tidb/session/session.go:2114\ngithub.com/pingcap/tidb/session.(*session).ExecuteStmt\n\t/Users/hongyunyan/Desktop/tidb/session/session.go:1980\ngithub.com/pingcap/tidb/session.(*session).ExecuteInternal\n\t/Users/hongyunyan/Desktop/tidb/session/session.go:1495\ngithub.com/pingcap/tidb/session.checkBootstrapped\n\t/Users/hongyunyan/Desktop/tidb/session/bootstrap.go:728\ngithub.com/pingcap/tidb/session.bootstrap\n\t/Users/hongyunyan/Desktop/tidb/session/bootstrap.go:431\ngithub.com/pingcap/tidb/session.runInBootstrapSession\n\t/Users/hongyunyan/Desktop/tidb/session/session.go:2834\ngithub.com/pingcap/tidb/session.BootstrapSession\n\t/Users/hongyunyan/Desktop/tidb/session/session.go:2720\ngithub.com/pingcap/tidb/testkit.bootstrap\n\t/Users/hongyunyan/Desktop/tidb/testkit/mockstore.go:71\ngithub.com/pingcap/tidb/testkit.CreateMockStoreAndDomain\n\t/Users/hongyunyan/Desktop/tidb/testkit/mockstore.go:64\ngithub.com/pingcap/tidb/testkit.CreateMockStore\n\t/Users/hongyunyan/Desktop/tidb/testkit/mockstore.go:56\ngithub.com/pingcap/tidb/executor/tiflashtest.TestUnionWithEmptyDualTable\n\t/Users/hongyunyan/Desktop/tidb/executor/tiflashtest/tiflash_test.go:800\ntesting.tRunner\n\t/opt/homebrew/Cellar/go/1.18.3/libexec/src/testing/testing.go:1439\nruntime.goexit\n\t/opt/homebrew/Cellar/go/1.18.3/libexec/src/runtime/asm_arm64.s:1263"] [session="{\n  \"currDBName\": \"\",\n  \"id\": 0,\n  \"status\": 2,\n  \"strictMode\": true,\n  \"user\": null\n}"]
[2022/07/15 15:02:12.098 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=0] [cur_db=] [sql="CREATE DATABASE IF NOT EXISTS test"] [user=]
[2022/07/15 15:02:12.098 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:2, Type:create schema, State:queueing, SchemaState:none, SchemaID:1, TableID:0, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:12.098 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:12.098 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:2, Type:create schema, State:queueing, SchemaState:none, SchemaID:1, TableID:0, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:12.098 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE DATABASE IF NOT EXISTS test"]
[2022/07/15 15:02:12.099 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 57, tp general"] [job="ID:2, Type:create schema, State:queueing, SchemaState:none, SchemaID:1, TableID:0, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:12.098 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:12.099 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 57, tp general"] [job="ID:2, Type:create schema, State:synced, SchemaState:public, SchemaID:1, TableID:0, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:12.098 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:12.099 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=2]
[2022/07/15 15:02:12.099 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:12.099 +08:00] [INFO] [domain.go:178] ["full load InfoSchema success"] [currentSchemaVersion=0] [neededSchemaVersion=1] ["start time"=481.416µs]
[2022/07/15 15:02:12.099 +08:00] [INFO] [domain.go:449] ["full load and reset schema validator"]
[2022/07/15 15:02:12.099 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=1] [cur_db=] [sql="CREATE DATABASE IF NOT EXISTS `mysql`"] [user=]
[2022/07/15 15:02:12.100 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:4, Type:create schema, State:queueing, SchemaState:none, SchemaID:3, TableID:0, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:12.1 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:12.100 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:4, Type:create schema, State:queueing, SchemaState:none, SchemaID:3, TableID:0, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:12.1 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE DATABASE IF NOT EXISTS `mysql`"]
[2022/07/15 15:02:12.100 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 57, tp general"] [job="ID:4, Type:create schema, State:queueing, SchemaState:none, SchemaID:3, TableID:0, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:12.1 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:12.100 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 57, tp general"] [job="ID:4, Type:create schema, State:synced, SchemaState:public, SchemaID:3, TableID:0, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:12.1 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:12.100 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=4]
[2022/07/15 15:02:12.100 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:12.100 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=1] [neededSchemaVersion=2] ["start time"=18.583µs] [phyTblIDs="[]"] [actionTypes="[]"]
[2022/07/15 15:02:12.100 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=2] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.user (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tauthentication_string\tTEXT,\n\t\tplugin\t\t\t\t\tCHAR(64),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tProcess_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_db_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tSuper_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_user_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_slave_priv\t    \tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_client_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_role_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_role_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAccount_locked\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShutdown_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReload_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tFILE_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tConfig_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_Tablespace_Priv  ENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (Host, User));"] [user=]
[2022/07/15 15:02:12.101 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:6, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:5, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:12.1 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:12.101 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:6, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:5, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:12.1 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.user (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tauthentication_string\tTEXT,\n\t\tplugin\t\t\t\t\tCHAR(64),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tProcess_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_db_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tSuper_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_user_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_slave_priv\t    \tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_client_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_role_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_role_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAccount_locked\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShutdown_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReload_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tFILE_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tConfig_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_Tablespace_Priv  ENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (Host, User));"]
[2022/07/15 15:02:12.101 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 57, tp general"] [job="ID:6, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:5, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:12.1 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:12.102 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 57, tp general"] [job="ID:6, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:5, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:12.1 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:12.103 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=6]
[2022/07/15 15:02:12.103 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:12.103 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=2] [neededSchemaVersion=3] ["start time"=275.375µs] [phyTblIDs="[5]"] [actionTypes="[8]"]
[2022/07/15 15:02:12.103 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=3] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.global_priv (Host CHAR(255) NOT NULL DEFAULT '',User CHAR(80) NOT NULL DEFAULT '',Priv LONGTEXT NOT NULL DEFAULT '',PRIMARY KEY (Host, User))"] [user=]
[2022/07/15 15:02:12.103 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:8, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:7, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:12.103 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:12.104 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:8, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:7, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:12.103 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.global_priv (Host CHAR(255) NOT NULL DEFAULT '',User CHAR(80) NOT NULL DEFAULT '',Priv LONGTEXT NOT NULL DEFAULT '',PRIMARY KEY (Host, User))"]
[2022/07/15 15:02:12.104 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 57, tp general"] [job="ID:8, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:7, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:12.103 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:12.104 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 57, tp general"] [job="ID:8, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:7, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:12.103 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:12.104 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=8]
[2022/07/15 15:02:12.104 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:12.104 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=3] [neededSchemaVersion=4] ["start time"=50.791µs] [phyTblIDs="[7]"] [actionTypes="[8]"]
[2022/07/15 15:02:12.104 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=4] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.db (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tDB\t\t\t\t\t\tCHAR(64),\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv \t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (Host, DB, User));"] [user=]
[2022/07/15 15:02:12.104 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:10, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:9, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:12.104 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:12.104 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:10, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:9, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:12.104 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.db (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tDB\t\t\t\t\t\tCHAR(64),\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv \t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (Host, DB, User));"]
[2022/07/15 15:02:12.105 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 57, tp general"] [job="ID:10, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:9, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:12.104 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:12.106 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 57, tp general"] [job="ID:10, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:9, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:12.104 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:12.106 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=10]
[2022/07/15 15:02:12.106 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:12.106 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=4] [neededSchemaVersion=5] ["start time"=162.208µs] [phyTblIDs="[9]"] [actionTypes="[8]"]
[2022/07/15 15:02:12.106 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=5] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.tables_priv (\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64),\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64),\n\t\tGrantor\t\tCHAR(77),\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tTable_priv\tSET('Select','Insert','Update','Delete','Create','Drop','Grant','Index','Alter','Create View','Show View','Trigger','References'),\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name));"] [user=]
[2022/07/15 15:02:12.106 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:12, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:11, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:12.106 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:12.106 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:12, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:11, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:12.106 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.tables_priv (\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64),\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64),\n\t\tGrantor\t\tCHAR(77),\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tTable_priv\tSET('Select','Insert','Update','Delete','Create','Drop','Grant','Index','Alter','Create View','Show View','Trigger','References'),\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name));"]
[2022/07/15 15:02:12.106 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 57, tp general"] [job="ID:12, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:11, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:12.106 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:12.107 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 57, tp general"] [job="ID:12, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:11, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:12.106 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:12.107 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=12]
[2022/07/15 15:02:12.107 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:12.107 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=5] [neededSchemaVersion=6] ["start time"=86.125µs] [phyTblIDs="[11]"] [actionTypes="[8]"]
[2022/07/15 15:02:12.107 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=6] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.columns_priv(\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64),\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64),\n\t\tColumn_name\tCHAR(64),\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name, Column_name));"] [user=]
[2022/07/15 15:02:12.107 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:14, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:13, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:12.107 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:12.107 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:14, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:13, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:12.107 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.columns_priv(\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64),\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64),\n\t\tColumn_name\tCHAR(64),\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name, Column_name));"]
[2022/07/15 15:02:12.108 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 57, tp general"] [job="ID:14, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:13, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:12.107 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:12.108 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 57, tp general"] [job="ID:14, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:13, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:12.107 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:12.108 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=14]
[2022/07/15 15:02:12.108 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:12.108 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=6] [neededSchemaVersion=7] ["start time"=77.708µs] [phyTblIDs="[13]"] [actionTypes="[8]"]
[2022/07/15 15:02:12.108 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=7] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.GLOBAL_VARIABLES(\n\t\tVARIABLE_NAME  VARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(1024) DEFAULT NULL);"] [user=]
[2022/07/15 15:02:12.108 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:16, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:15, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:12.108 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:12.108 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:16, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:15, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:12.108 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.GLOBAL_VARIABLES(\n\t\tVARIABLE_NAME  VARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(1024) DEFAULT NULL);"]
[2022/07/15 15:02:12.109 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 57, tp general"] [job="ID:16, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:15, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:12.108 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:12.109 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 57, tp general"] [job="ID:16, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:15, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:12.108 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:12.109 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=16]
[2022/07/15 15:02:12.109 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:12.109 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=7] [neededSchemaVersion=8] ["start time"=41.833µs] [phyTblIDs="[15]"] [actionTypes="[8]"]
[2022/07/15 15:02:12.109 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=8] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb(\n\t\tVARIABLE_NAME  \tVARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE \tVARCHAR(1024) DEFAULT NULL,\n\t\tCOMMENT \t\tVARCHAR(1024));"] [user=]
[2022/07/15 15:02:12.109 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:18, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:17, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:12.109 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:12.109 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:18, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:17, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:12.109 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb(\n\t\tVARIABLE_NAME  \tVARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE \tVARCHAR(1024) DEFAULT NULL,\n\t\tCOMMENT \t\tVARCHAR(1024));"]
[2022/07/15 15:02:12.109 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 57, tp general"] [job="ID:18, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:17, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:12.109 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:12.109 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 57, tp general"] [job="ID:18, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:17, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:12.109 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:12.110 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=18]
[2022/07/15 15:02:12.110 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:12.110 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=8] [neededSchemaVersion=9] ["start time"=46.125µs] [phyTblIDs="[17]"] [actionTypes="[8]"]
[2022/07/15 15:02:12.110 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=9] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.help_topic (\n  \t\thelp_topic_id \t\tINT(10) UNSIGNED NOT NULL,\n  \t\tname \t\t\t\tCHAR(64) NOT NULL,\n  \t\thelp_category_id \tSMALLINT(5) UNSIGNED NOT NULL,\n  \t\tdescription \t\tTEXT NOT NULL,\n  \t\texample \t\t\tTEXT NOT NULL,\n  \t\turl \t\t\t\tTEXT NOT NULL,\n  \t\tPRIMARY KEY (help_topic_id) clustered,\n  \t\tUNIQUE KEY name (name)\n\t\t) ENGINE=InnoDB DEFAULT CHARSET=utf8 STATS_PERSISTENT=0 COMMENT='help topics';"] [user=]
[2022/07/15 15:02:12.110 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:20, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:19, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:12.11 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:12.110 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:20, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:19, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:12.11 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.help_topic (\n  \t\thelp_topic_id \t\tINT(10) UNSIGNED NOT NULL,\n  \t\tname \t\t\t\tCHAR(64) NOT NULL,\n  \t\thelp_category_id \tSMALLINT(5) UNSIGNED NOT NULL,\n  \t\tdescription \t\tTEXT NOT NULL,\n  \t\texample \t\t\tTEXT NOT NULL,\n  \t\turl \t\t\t\tTEXT NOT NULL,\n  \t\tPRIMARY KEY (help_topic_id) clustered,\n  \t\tUNIQUE KEY name (name)\n\t\t) ENGINE=InnoDB DEFAULT CHARSET=utf8 STATS_PERSISTENT=0 COMMENT='help topics';"]
[2022/07/15 15:02:12.110 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 57, tp general"] [job="ID:20, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:19, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:12.11 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:12.110 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 57, tp general"] [job="ID:20, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:19, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:12.11 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:12.110 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=20]
[2022/07/15 15:02:12.110 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:12.111 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=9] [neededSchemaVersion=10] ["start time"=64.416µs] [phyTblIDs="[19]"] [actionTypes="[8]"]
[2022/07/15 15:02:12.111 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=10] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_meta (\n\t\tversion \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\ttable_id \t\tBIGINT(64) NOT NULL,\n\t\tmodify_count\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcount \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tsnapshot        BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tINDEX idx_ver(version),\n\t\tUNIQUE INDEX tbl(table_id)\n\t);"] [user=]
[2022/07/15 15:02:12.111 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:22, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:21, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:12.111 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:12.111 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:22, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:21, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:12.111 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_meta (\n\t\tversion \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\ttable_id \t\tBIGINT(64) NOT NULL,\n\t\tmodify_count\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcount \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tsnapshot        BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tINDEX idx_ver(version),\n\t\tUNIQUE INDEX tbl(table_id)\n\t);"]
[2022/07/15 15:02:12.111 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 57, tp general"] [job="ID:22, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:21, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:12.111 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:12.111 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 57, tp general"] [job="ID:22, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:21, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:12.111 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:12.111 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=22]
[2022/07/15 15:02:12.111 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:12.111 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=10] [neededSchemaVersion=11] ["start time"=65.625µs] [phyTblIDs="[21]"] [actionTypes="[8]"]
[2022/07/15 15:02:12.111 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=11] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_histograms (\n\t\ttable_id \t\t\tBIGINT(64) NOT NULL,\n\t\tis_index \t\t\tTINYINT(2) NOT NULL,\n\t\thist_id \t\t\tBIGINT(64) NOT NULL,\n\t\tdistinct_count \t\tBIGINT(64) NOT NULL,\n\t\tnull_count \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\ttot_col_size \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tmodify_count \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tversion \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tcm_sketch \t\t\tBLOB(6291456),\n\t\tstats_ver \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tflag \t\t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcorrelation \t\tDOUBLE NOT NULL DEFAULT 0,\n\t\tlast_analyze_pos \tLONGBLOB DEFAULT NULL,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id)\n\t);"] [user=]
[2022/07/15 15:02:12.112 +08:00] [INFO] [ddl_api.go:999] ["Automatically convert BLOB(6291456) to MEDIUMBLOB"]
[2022/07/15 15:02:12.112 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:24, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:23, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:12.112 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:12.112 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:24, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:23, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:12.112 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_histograms (\n\t\ttable_id \t\t\tBIGINT(64) NOT NULL,\n\t\tis_index \t\t\tTINYINT(2) NOT NULL,\n\t\thist_id \t\t\tBIGINT(64) NOT NULL,\n\t\tdistinct_count \t\tBIGINT(64) NOT NULL,\n\t\tnull_count \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\ttot_col_size \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tmodify_count \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tversion \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tcm_sketch \t\t\tBLOB(6291456),\n\t\tstats_ver \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tflag \t\t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcorrelation \t\tDOUBLE NOT NULL DEFAULT 0,\n\t\tlast_analyze_pos \tLONGBLOB DEFAULT NULL,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id)\n\t);"]
[2022/07/15 15:02:12.112 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 57, tp general"] [job="ID:24, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:23, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:12.112 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:12.113 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 57, tp general"] [job="ID:24, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:23, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:12.112 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:12.113 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=24]
[2022/07/15 15:02:12.113 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:12.113 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=11] [neededSchemaVersion=12] ["start time"=116.208µs] [phyTblIDs="[23]"] [actionTypes="[8]"]
[2022/07/15 15:02:12.113 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=12] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_buckets (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tbucket_id \tBIGINT(64) NOT NULL,\n\t\tcount \t\tBIGINT(64) NOT NULL,\n\t\trepeats \tBIGINT(64) NOT NULL,\n\t\tupper_bound LONGBLOB NOT NULL,\n\t\tlower_bound LONGBLOB ,\n\t\tndv         BIGINT NOT NULL DEFAULT 0,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id, bucket_id)\n\t);"] [user=]
[2022/07/15 15:02:12.113 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:26, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:25, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:12.113 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:12.113 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:26, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:25, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:12.113 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_buckets (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tbucket_id \tBIGINT(64) NOT NULL,\n\t\tcount \t\tBIGINT(64) NOT NULL,\n\t\trepeats \tBIGINT(64) NOT NULL,\n\t\tupper_bound LONGBLOB NOT NULL,\n\t\tlower_bound LONGBLOB ,\n\t\tndv         BIGINT NOT NULL DEFAULT 0,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id, bucket_id)\n\t);"]
[2022/07/15 15:02:12.113 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 57, tp general"] [job="ID:26, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:25, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:12.113 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:12.114 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 57, tp general"] [job="ID:26, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:25, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:12.113 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:12.114 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=26]
[2022/07/15 15:02:12.114 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:12.114 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=12] [neededSchemaVersion=13] ["start time"=85.916µs] [phyTblIDs="[25]"] [actionTypes="[8]"]
[2022/07/15 15:02:12.114 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=13] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_index (job_id, element_id)\n\t);"] [user=]
[2022/07/15 15:02:12.114 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:28, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:27, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:12.114 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:12.114 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:28, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:27, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:12.114 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_index (job_id, element_id)\n\t);"]
[2022/07/15 15:02:12.115 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 57, tp general"] [job="ID:28, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:27, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:12.114 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:12.115 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 57, tp general"] [job="ID:28, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:27, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:12.114 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:12.115 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=28]
[2022/07/15 15:02:12.115 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:12.115 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=13] [neededSchemaVersion=14] ["start time"=70.209µs] [phyTblIDs="[27]"] [actionTypes="[8]"]
[2022/07/15 15:02:12.115 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=14] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range_done (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_done_index (job_id, element_id)\n\t);"] [user=]
[2022/07/15 15:02:12.115 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:30, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:29, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:12.115 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:12.115 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:30, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:29, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:12.115 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range_done (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_done_index (job_id, element_id)\n\t);"]
[2022/07/15 15:02:12.116 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 57, tp general"] [job="ID:30, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:29, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:12.115 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:12.116 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 57, tp general"] [job="ID:30, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:29, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:12.115 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:12.116 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=30]
[2022/07/15 15:02:12.116 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:12.116 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=14] [neededSchemaVersion=15] ["start time"=62.5µs] [phyTblIDs="[29]"] [actionTypes="[8]"]
[2022/07/15 15:02:12.116 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=15] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_feedback (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tfeedback \tBLOB NOT NULL,\n\t\tINDEX hist(table_id, is_index, hist_id)\n\t);"] [user=]
[2022/07/15 15:02:12.116 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:32, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:31, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:12.116 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:12.116 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:32, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:31, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:12.116 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_feedback (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tfeedback \tBLOB NOT NULL,\n\t\tINDEX hist(table_id, is_index, hist_id)\n\t);"]
[2022/07/15 15:02:12.117 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 57, tp general"] [job="ID:32, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:31, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:12.116 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:12.117 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 57, tp general"] [job="ID:32, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:31, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:12.116 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:12.117 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=32]
[2022/07/15 15:02:12.117 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:12.117 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=15] [neededSchemaVersion=16] ["start time"=58.708µs] [phyTblIDs="[31]"] [actionTypes="[8]"]
[2022/07/15 15:02:12.117 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=16] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.role_edges (\n\t\tFROM_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tFROM_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tWITH_ADMIN_OPTION \tENUM('N','Y') CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (FROM_HOST,FROM_USER,TO_HOST,TO_USER)\n\t);"] [user=]
[2022/07/15 15:02:12.117 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:34, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:33, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:12.117 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:12.117 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:34, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:33, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:12.117 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.role_edges (\n\t\tFROM_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tFROM_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tWITH_ADMIN_OPTION \tENUM('N','Y') CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (FROM_HOST,FROM_USER,TO_HOST,TO_USER)\n\t);"]
[2022/07/15 15:02:12.118 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 57, tp general"] [job="ID:34, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:33, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:12.117 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:12.118 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 57, tp general"] [job="ID:34, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:33, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:12.117 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:12.118 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=34]
[2022/07/15 15:02:12.118 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:12.118 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=16] [neededSchemaVersion=17] ["start time"=65.25µs] [phyTblIDs="[33]"] [actionTypes="[8]"]
[2022/07/15 15:02:12.118 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=17] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.default_roles (\n\t\tHOST \t\t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tUSER \t\t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tDEFAULT_ROLE_HOST \tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '%',\n\t\tDEFAULT_ROLE_USER \tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tPRIMARY KEY (HOST,USER,DEFAULT_ROLE_HOST,DEFAULT_ROLE_USER)\n\t)"] [user=]
[2022/07/15 15:02:12.118 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:36, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:35, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:12.118 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:12.118 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:36, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:35, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:12.118 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.default_roles (\n\t\tHOST \t\t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tUSER \t\t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tDEFAULT_ROLE_HOST \tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '%',\n\t\tDEFAULT_ROLE_USER \tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tPRIMARY KEY (HOST,USER,DEFAULT_ROLE_HOST,DEFAULT_ROLE_USER)\n\t)"]
[2022/07/15 15:02:12.118 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 57, tp general"] [job="ID:36, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:35, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:12.118 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:12.119 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 57, tp general"] [job="ID:36, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:35, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:12.118 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:12.119 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=36]
[2022/07/15 15:02:12.119 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:12.119 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=17] [neededSchemaVersion=18] ["start time"=59.292µs] [phyTblIDs="[35]"] [actionTypes="[8]"]
[2022/07/15 15:02:12.119 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=18] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.bind_info (\n\t\toriginal_sql TEXT NOT NULL,\n\t\tbind_sql TEXT NOT NULL,\n\t\tdefault_db TEXT NOT NULL,\n\t\tstatus TEXT NOT NULL,\n\t\tcreate_time TIMESTAMP(3) NOT NULL,\n\t\tupdate_time TIMESTAMP(3) NOT NULL,\n\t\tcharset TEXT NOT NULL,\n\t\tcollation TEXT NOT NULL,\n\t\tsource VARCHAR(10) NOT NULL DEFAULT 'unknown',\n\t\tINDEX sql_index(original_sql(700),default_db(68)) COMMENT \"accelerate the speed when add global binding query\",\n\t\tINDEX time_index(update_time) COMMENT \"accelerate the speed when querying with last update time\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"] [user=]
[2022/07/15 15:02:12.119 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:38, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:37, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:12.119 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:12.119 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:38, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:37, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:12.119 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.bind_info (\n\t\toriginal_sql TEXT NOT NULL,\n\t\tbind_sql TEXT NOT NULL,\n\t\tdefault_db TEXT NOT NULL,\n\t\tstatus TEXT NOT NULL,\n\t\tcreate_time TIMESTAMP(3) NOT NULL,\n\t\tupdate_time TIMESTAMP(3) NOT NULL,\n\t\tcharset TEXT NOT NULL,\n\t\tcollation TEXT NOT NULL,\n\t\tsource VARCHAR(10) NOT NULL DEFAULT 'unknown',\n\t\tINDEX sql_index(original_sql(700),default_db(68)) COMMENT \"accelerate the speed when add global binding query\",\n\t\tINDEX time_index(update_time) COMMENT \"accelerate the speed when querying with last update time\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"]
[2022/07/15 15:02:12.119 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 57, tp general"] [job="ID:38, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:37, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:12.119 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:12.120 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 57, tp general"] [job="ID:38, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:37, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:12.119 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:12.120 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=38]
[2022/07/15 15:02:12.120 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:12.120 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=18] [neededSchemaVersion=19] ["start time"=90.5µs] [phyTblIDs="[37]"] [actionTypes="[8]"]
[2022/07/15 15:02:12.121 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=19] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_top_n (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tcount \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"] [user=]
[2022/07/15 15:02:12.121 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:40, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:39, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:12.121 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:12.121 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:40, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:39, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:12.121 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_top_n (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tcount \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"]
[2022/07/15 15:02:12.121 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 57, tp general"] [job="ID:40, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:39, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:12.121 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:12.121 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 57, tp general"] [job="ID:40, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:39, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:12.121 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:12.121 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=40]
[2022/07/15 15:02:12.121 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:12.122 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=19] [neededSchemaVersion=20] ["start time"=66.083µs] [phyTblIDs="[39]"] [actionTypes="[8]"]
[2022/07/15 15:02:12.122 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=20] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.expr_pushdown_blacklist (\n\t\tname \t\tCHAR(100) NOT NULL,\n\t\tstore_type \tCHAR(100) NOT NULL DEFAULT 'tikv,tiflash,tidb',\n\t\treason \t\tVARCHAR(200)\n\t);"] [user=]
[2022/07/15 15:02:12.122 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:42, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:41, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:12.122 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:12.122 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:42, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:41, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:12.122 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.expr_pushdown_blacklist (\n\t\tname \t\tCHAR(100) NOT NULL,\n\t\tstore_type \tCHAR(100) NOT NULL DEFAULT 'tikv,tiflash,tidb',\n\t\treason \t\tVARCHAR(200)\n\t);"]
[2022/07/15 15:02:12.122 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 57, tp general"] [job="ID:42, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:41, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:12.122 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:12.122 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 57, tp general"] [job="ID:42, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:41, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:12.122 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:12.122 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=42]
[2022/07/15 15:02:12.122 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:12.122 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=20] [neededSchemaVersion=21] ["start time"=44.375µs] [phyTblIDs="[41]"] [actionTypes="[8]"]
[2022/07/15 15:02:12.122 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=21] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.opt_rule_blacklist (\n\t\tname \tCHAR(100) NOT NULL\n\t);"] [user=]
[2022/07/15 15:02:12.122 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:44, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:43, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:12.122 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:12.122 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:44, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:43, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:12.122 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.opt_rule_blacklist (\n\t\tname \tCHAR(100) NOT NULL\n\t);"]
[2022/07/15 15:02:12.123 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 57, tp general"] [job="ID:44, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:43, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:12.122 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:12.123 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 57, tp general"] [job="ID:44, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:43, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:12.122 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:12.123 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=44]
[2022/07/15 15:02:12.123 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:12.123 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=21] [neededSchemaVersion=22] ["start time"=31.833µs] [phyTblIDs="[43]"] [actionTypes="[8]"]
[2022/07/15 15:02:12.123 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=22] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_extended (\n\t\tname varchar(32) NOT NULL,\n\t\ttype tinyint(4) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tcolumn_ids varchar(32) NOT NULL,\n\t\tstats blob DEFAULT NULL,\n\t\tversion bigint(64) unsigned NOT NULL,\n\t\tstatus tinyint(4) NOT NULL,\n\t\tPRIMARY KEY(name, table_id),\n\t\tKEY idx_1 (table_id, status, version),\n\t\tKEY idx_2 (status, version)\n\t);"] [user=]
[2022/07/15 15:02:12.123 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:46, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:45, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:12.123 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:12.123 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:46, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:45, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:12.123 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_extended (\n\t\tname varchar(32) NOT NULL,\n\t\ttype tinyint(4) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tcolumn_ids varchar(32) NOT NULL,\n\t\tstats blob DEFAULT NULL,\n\t\tversion bigint(64) unsigned NOT NULL,\n\t\tstatus tinyint(4) NOT NULL,\n\t\tPRIMARY KEY(name, table_id),\n\t\tKEY idx_1 (table_id, status, version),\n\t\tKEY idx_2 (status, version)\n\t);"]
[2022/07/15 15:02:12.123 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 57, tp general"] [job="ID:46, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:45, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:12.123 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:12.124 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 57, tp general"] [job="ID:46, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:45, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:12.123 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:12.124 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=46]
[2022/07/15 15:02:12.124 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:12.124 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=22] [neededSchemaVersion=23] ["start time"=83.791µs] [phyTblIDs="[45]"] [actionTypes="[8]"]
[2022/07/15 15:02:12.124 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=23] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.schema_index_usage (\n\t\tTABLE_ID bigint(64),\n\t\tINDEX_ID bigint(21),\n\t\tQUERY_COUNT bigint(64),\n\t\tROWS_SELECTED bigint(64),\n\t\tLAST_USED_AT timestamp,\n\t\tPRIMARY KEY(TABLE_ID, INDEX_ID)\n\t);"] [user=]
[2022/07/15 15:02:12.124 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:48, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:47, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:12.124 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:12.124 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:48, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:47, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:12.124 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.schema_index_usage (\n\t\tTABLE_ID bigint(64),\n\t\tINDEX_ID bigint(21),\n\t\tQUERY_COUNT bigint(64),\n\t\tROWS_SELECTED bigint(64),\n\t\tLAST_USED_AT timestamp,\n\t\tPRIMARY KEY(TABLE_ID, INDEX_ID)\n\t);"]
[2022/07/15 15:02:12.124 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 57, tp general"] [job="ID:48, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:47, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:12.124 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:12.125 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 57, tp general"] [job="ID:48, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:47, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:12.124 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:12.125 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=48]
[2022/07/15 15:02:12.125 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:12.125 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=23] [neededSchemaVersion=24] ["start time"=63.667µs] [phyTblIDs="[47]"] [actionTypes="[8]"]
[2022/07/15 15:02:12.125 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=24] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_fm_sketch (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"] [user=]
[2022/07/15 15:02:12.125 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:50, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:49, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:12.125 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:12.125 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:50, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:49, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:12.125 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_fm_sketch (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"]
[2022/07/15 15:02:12.125 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 57, tp general"] [job="ID:50, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:49, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:12.125 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:12.126 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 57, tp general"] [job="ID:50, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:49, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:12.125 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:12.126 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=50]
[2022/07/15 15:02:12.126 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:12.126 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=24] [neededSchemaVersion=25] ["start time"=56.417µs] [phyTblIDs="[49]"] [actionTypes="[8]"]
[2022/07/15 15:02:12.126 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=25] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.global_grants (\n\t\tUSER char(32) NOT NULL DEFAULT '',\n\t\tHOST char(255) NOT NULL DEFAULT '',\n\t\tPRIV char(32) NOT NULL DEFAULT '',\n\t\tWITH_GRANT_OPTION enum('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (USER,HOST,PRIV)\n\t);"] [user=]
[2022/07/15 15:02:12.126 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:52, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:51, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:12.126 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:12.126 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:52, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:51, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:12.126 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.global_grants (\n\t\tUSER char(32) NOT NULL DEFAULT '',\n\t\tHOST char(255) NOT NULL DEFAULT '',\n\t\tPRIV char(32) NOT NULL DEFAULT '',\n\t\tWITH_GRANT_OPTION enum('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (USER,HOST,PRIV)\n\t);"]
[2022/07/15 15:02:12.126 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 57, tp general"] [job="ID:52, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:51, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:12.126 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:12.127 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 57, tp general"] [job="ID:52, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:51, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:12.126 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:12.127 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=52]
[2022/07/15 15:02:12.127 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:12.127 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=25] [neededSchemaVersion=26] ["start time"=67.041µs] [phyTblIDs="[51]"] [actionTypes="[8]"]
[2022/07/15 15:02:12.127 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=26] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.capture_plan_baselines_blacklist (\n\t\tid bigint(64) auto_increment,\n\t\tfilter_type varchar(32) NOT NULL COMMENT \"type of the filter, only db, table and frequency supported now\",\n\t\tfilter_value varchar(32) NOT NULL,\n\t\tkey idx(filter_type),\n\t\tprimary key(id)\n\t);"] [user=]
[2022/07/15 15:02:12.127 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:54, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:53, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:12.127 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:12.127 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:54, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:53, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:12.127 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.capture_plan_baselines_blacklist (\n\t\tid bigint(64) auto_increment,\n\t\tfilter_type varchar(32) NOT NULL COMMENT \"type of the filter, only db, table and frequency supported now\",\n\t\tfilter_value varchar(32) NOT NULL,\n\t\tkey idx(filter_type),\n\t\tprimary key(id)\n\t);"]
[2022/07/15 15:02:12.127 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 57, tp general"] [job="ID:54, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:53, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:12.127 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:12.127 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 57, tp general"] [job="ID:54, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:53, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:12.127 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:12.128 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=54]
[2022/07/15 15:02:12.128 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:12.128 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=26] [neededSchemaVersion=27] ["start time"=55.75µs] [phyTblIDs="[53]"] [actionTypes="[8]"]
[2022/07/15 15:02:12.128 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=27] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.column_stats_usage (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tcolumn_id BIGINT(64) NOT NULL,\n\t\tlast_used_at TIMESTAMP,\n\t\tlast_analyzed_at TIMESTAMP,\n\t\tPRIMARY KEY (table_id, column_id) CLUSTERED\n\t);"] [user=]
[2022/07/15 15:02:12.128 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:56, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:55, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:12.128 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:12.128 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:56, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:55, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:12.128 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.column_stats_usage (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tcolumn_id BIGINT(64) NOT NULL,\n\t\tlast_used_at TIMESTAMP,\n\t\tlast_analyzed_at TIMESTAMP,\n\t\tPRIMARY KEY (table_id, column_id) CLUSTERED\n\t);"]
[2022/07/15 15:02:12.128 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 57, tp general"] [job="ID:56, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:55, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:12.128 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:12.128 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 57, tp general"] [job="ID:56, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:55, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:12.128 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:12.129 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=56]
[2022/07/15 15:02:12.129 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:12.129 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=27] [neededSchemaVersion=28] ["start time"=56.459µs] [phyTblIDs="[55]"] [actionTypes="[8]"]
[2022/07/15 15:02:12.129 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=28] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.table_cache_meta (\n\t\ttid bigint(11) NOT NULL DEFAULT 0,\n\t\tlock_type enum('NONE','READ', 'INTEND', 'WRITE') NOT NULL DEFAULT 'NONE',\n\t\tlease bigint(20) NOT NULL DEFAULT 0,\n\t\toldReadLease bigint(20) NOT NULL DEFAULT 0,\n\t\tPRIMARY KEY (tid)\n\t);"] [user=]
[2022/07/15 15:02:12.129 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:58, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:57, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:12.129 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:12.129 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:58, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:57, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:12.129 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.table_cache_meta (\n\t\ttid bigint(11) NOT NULL DEFAULT 0,\n\t\tlock_type enum('NONE','READ', 'INTEND', 'WRITE') NOT NULL DEFAULT 'NONE',\n\t\tlease bigint(20) NOT NULL DEFAULT 0,\n\t\toldReadLease bigint(20) NOT NULL DEFAULT 0,\n\t\tPRIMARY KEY (tid)\n\t);"]
[2022/07/15 15:02:12.129 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 57, tp general"] [job="ID:58, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:57, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:12.129 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:12.129 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 57, tp general"] [job="ID:58, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:57, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:12.129 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:12.129 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=58]
[2022/07/15 15:02:12.129 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:12.129 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=28] [neededSchemaVersion=29] ["start time"=53.875µs] [phyTblIDs="[57]"] [actionTypes="[8]"]
[2022/07/15 15:02:12.130 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=29] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.analyze_options (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tsample_num BIGINT(64) NOT NULL DEFAULT 0,\n\t\tsample_rate DOUBLE NOT NULL DEFAULT -1,\n\t\tbuckets BIGINT(64) NOT NULL DEFAULT 0,\n\t\ttopn BIGINT(64) NOT NULL DEFAULT -1,\n\t\tcolumn_choice enum('DEFAULT','ALL','PREDICATE','LIST') NOT NULL DEFAULT 'DEFAULT',\n\t\tcolumn_ids TEXT(19372),\n\t\tPRIMARY KEY (table_id) CLUSTERED\n\t);"] [user=]
[2022/07/15 15:02:12.130 +08:00] [INFO] [ddl_api.go:999] ["Automatically convert BLOB(19372) to MEDIUMBLOB"]
[2022/07/15 15:02:12.130 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:60, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:59, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:12.13 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:12.130 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:60, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:59, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:12.13 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.analyze_options (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tsample_num BIGINT(64) NOT NULL DEFAULT 0,\n\t\tsample_rate DOUBLE NOT NULL DEFAULT -1,\n\t\tbuckets BIGINT(64) NOT NULL DEFAULT 0,\n\t\ttopn BIGINT(64) NOT NULL DEFAULT -1,\n\t\tcolumn_choice enum('DEFAULT','ALL','PREDICATE','LIST') NOT NULL DEFAULT 'DEFAULT',\n\t\tcolumn_ids TEXT(19372),\n\t\tPRIMARY KEY (table_id) CLUSTERED\n\t);"]
[2022/07/15 15:02:12.130 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 57, tp general"] [job="ID:60, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:59, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:12.13 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:12.130 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 57, tp general"] [job="ID:60, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:59, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:12.13 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:12.130 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=60]
[2022/07/15 15:02:12.130 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:12.130 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=29] [neededSchemaVersion=30] ["start time"=74.75µs] [phyTblIDs="[59]"] [actionTypes="[8]"]
[2022/07/15 15:02:12.131 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=30] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tstats_data longblob NOT NULL,\n\t\tseq_no bigint(64) NOT NULL comment 'sequence number of the gzipped data slice',\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version_seq (table_id, version, seq_no),\n\t\tKEY table_create_time (table_id, create_time, seq_no)\n\t);"] [user=]
[2022/07/15 15:02:12.131 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:62, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:61, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:12.131 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:12.131 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:62, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:61, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:12.131 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tstats_data longblob NOT NULL,\n\t\tseq_no bigint(64) NOT NULL comment 'sequence number of the gzipped data slice',\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version_seq (table_id, version, seq_no),\n\t\tKEY table_create_time (table_id, create_time, seq_no)\n\t);"]
[2022/07/15 15:02:12.131 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 57, tp general"] [job="ID:62, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:61, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:12.131 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:12.131 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 57, tp general"] [job="ID:62, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:61, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:12.131 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:12.131 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=62]
[2022/07/15 15:02:12.131 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:12.131 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=30] [neededSchemaVersion=31] ["start time"=73.5µs] [phyTblIDs="[61]"] [actionTypes="[8]"]
[2022/07/15 15:02:12.132 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=31] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_meta_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL,\n\t\tcount bigint(64) NOT NULL,\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version (table_id, version),\n\t\tKEY table_create_time (table_id, create_time)\n\t);"] [user=]
[2022/07/15 15:02:12.132 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:64, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:63, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:12.132 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:12.132 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:64, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:63, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:12.132 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_meta_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL,\n\t\tcount bigint(64) NOT NULL,\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version (table_id, version),\n\t\tKEY table_create_time (table_id, create_time)\n\t);"]
[2022/07/15 15:02:12.132 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 57, tp general"] [job="ID:64, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:63, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:12.132 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:12.132 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 57, tp general"] [job="ID:64, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:63, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:12.132 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:12.132 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=64]
[2022/07/15 15:02:12.132 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:12.132 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=31] [neededSchemaVersion=32] ["start time"=72.542µs] [phyTblIDs="[63]"] [actionTypes="[8]"]
[2022/07/15 15:02:12.133 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=32] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.analyze_jobs (\n\t\tid BIGINT(64) UNSIGNED NOT NULL AUTO_INCREMENT,\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\ttable_schema CHAR(64) NOT NULL DEFAULT '',\n\t\ttable_name CHAR(64) NOT NULL DEFAULT '',\n\t\tpartition_name CHAR(64) NOT NULL DEFAULT '',\n\t\tjob_info TEXT NOT NULL,\n\t\tprocessed_rows BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tstart_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tstate ENUM('pending', 'running', 'finished', 'failed') NOT NULL,\n\t\tfail_reason TEXT,\n\t\tinstance VARCHAR(512) NOT NULL comment 'address of the TiDB instance executing the analyze job',\n\t\tprocess_id BIGINT(64) UNSIGNED comment 'ID of the process executing the analyze job',\n\t\tPRIMARY KEY (id),\n\t\tKEY (update_time)\n\t);"] [user=]
[2022/07/15 15:02:12.133 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:66, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:65, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:12.133 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:12.133 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:66, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:65, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:12.133 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.analyze_jobs (\n\t\tid BIGINT(64) UNSIGNED NOT NULL AUTO_INCREMENT,\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\ttable_schema CHAR(64) NOT NULL DEFAULT '',\n\t\ttable_name CHAR(64) NOT NULL DEFAULT '',\n\t\tpartition_name CHAR(64) NOT NULL DEFAULT '',\n\t\tjob_info TEXT NOT NULL,\n\t\tprocessed_rows BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tstart_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tstate ENUM('pending', 'running', 'finished', 'failed') NOT NULL,\n\t\tfail_reason TEXT,\n\t\tinstance VARCHAR(512) NOT NULL comment 'address of the TiDB instance executing the analyze job',\n\t\tprocess_id BIGINT(64) UNSIGNED comment 'ID of the process executing the analyze job',\n\t\tPRIMARY KEY (id),\n\t\tKEY (update_time)\n\t);"]
[2022/07/15 15:02:12.133 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 57, tp general"] [job="ID:66, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:65, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:12.133 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:12.134 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 57, tp general"] [job="ID:66, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:65, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:12.133 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:12.134 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=66]
[2022/07/15 15:02:12.134 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:12.134 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=32] [neededSchemaVersion=33] ["start time"=109.292µs] [phyTblIDs="[65]"] [actionTypes="[8]"]
[2022/07/15 15:02:12.134 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=33] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.advisory_locks (\n\t\tlock_name VARCHAR(64) NOT NULL PRIMARY KEY\n\t);"] [user=]
[2022/07/15 15:02:12.134 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:68, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:67, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:12.134 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:12.134 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:68, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:67, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:12.134 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.advisory_locks (\n\t\tlock_name VARCHAR(64) NOT NULL PRIMARY KEY\n\t);"]
[2022/07/15 15:02:12.134 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 57, tp general"] [job="ID:68, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:67, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:12.134 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:12.134 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 57, tp general"] [job="ID:68, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:67, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:12.134 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:12.135 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=68]
[2022/07/15 15:02:12.135 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:12.135 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=33] [neededSchemaVersion=34] ["start time"=37.083µs] [phyTblIDs="[67]"] [actionTypes="[8]"]
[2022/07/15 15:02:12.140 +08:00] [INFO] [bootstrap.go:448] ["bootstrap successful"] ["take time"=41.971291ms]
[2022/07/15 15:02:12.140 +08:00] [INFO] [ddl_worker.go:158] ["[ddl] DDL worker closed"] [worker="worker 57, tp general"] ["take time"=42ns]
[2022/07/15 15:02:12.140 +08:00] [INFO] [ddl_worker.go:158] ["[ddl] DDL worker closed"] [worker="worker 58, tp add index"] ["take time"=41ns]
[2022/07/15 15:02:12.140 +08:00] [INFO] [delete_range.go:148] ["[ddl] closing delRange"]
[2022/07/15 15:02:12.140 +08:00] [INFO] [session_pool.go:94] ["[ddl] closing sessionPool"]
[2022/07/15 15:02:12.140 +08:00] [INFO] [ddl.go:576] ["[ddl] DDL closed"] [ID=ec56c1ec-73c0-41c1-b081-46cba5018b30] ["take time"=53.417µs]
[2022/07/15 15:02:12.140 +08:00] [INFO] [ddl.go:464] ["[ddl] stop DDL"] [ID=ec56c1ec-73c0-41c1-b081-46cba5018b30]
[2022/07/15 15:02:12.140 +08:00] [INFO] [domain.go:498] ["topNSlowQueryLoop exited."]
[2022/07/15 15:02:12.140 +08:00] [INFO] [domain.go:527] ["infoSyncerKeeper exited."]
[2022/07/15 15:02:12.140 +08:00] [INFO] [domain.go:575] ["topologySyncerKeeper exited."]
[2022/07/15 15:02:12.140 +08:00] [INFO] [domain.go:552] ["globalConfigSyncerKeeper exited."]
[2022/07/15 15:02:12.140 +08:00] [INFO] [domain.go:733] ["domain closed"] ["take time"=88.25µs]
[2022/07/15 15:02:12.140 +08:00] [INFO] [tidb.go:74] ["new domain"] [store=8d03e270-022d-43ce-a676-1b29d367f852] ["ddl lease"=0s] ["stats lease"=-1ns] ["index usage sync lease"=0s]
[2022/07/15 15:02:12.142 +08:00] [INFO] [domain.go:178] ["full load InfoSchema success"] [currentSchemaVersion=0] [neededSchemaVersion=34] ["start time"=2.305541ms]
[2022/07/15 15:02:12.143 +08:00] [INFO] [domain.go:449] ["full load and reset schema validator"]
[2022/07/15 15:02:12.143 +08:00] [INFO] [ddl.go:483] ["[ddl] start DDL"] [ID=5d9d2f08-1906-42cb-bf46-b3eb7df7f3b5] [runWorker=true]
[2022/07/15 15:02:12.143 +08:00] [INFO] [ddl.go:472] ["[ddl] start delRangeManager OK"] ["is a emulator"=true]
[2022/07/15 15:02:12.143 +08:00] [INFO] [delete_range.go:158] ["[ddl] start delRange emulator"]
[2022/07/15 15:02:12.143 +08:00] [INFO] [ddl_worker.go:164] ["[ddl] start DDL worker"] [worker="worker 59, tp general"]
[2022/07/15 15:02:12.143 +08:00] [INFO] [ddl_worker.go:164] ["[ddl] start DDL worker"] [worker="worker 60, tp add index"]
[2022/07/15 15:02:12.143 +08:00] [WARN] [sysvar_cache.go:53] ["sysvar cache is empty, triggering rebuild"]
[2022/07/15 15:02:12.147 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=15] [schemaVersion=34] [cur_db=test] [sql="drop table if exists t"] [user=]
[2022/07/15 15:02:12.147 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=15] [schemaVersion=34] [cur_db=test] [sql="drop table if exists t1"] [user=]
[2022/07/15 15:02:12.147 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=15] [schemaVersion=34] [cur_db=test] [sql="create table t (a int not null, b int, c varchar(20))"] [user=]
[2022/07/15 15:02:12.147 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:70, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:12.147 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:12.147 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:70, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:12.147 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="create table t (a int not null, b int, c varchar(20))"]
[2022/07/15 15:02:12.147 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 59, tp general"] [job="ID:70, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:12.147 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:12.148 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 59, tp general"] [job="ID:70, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:69, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:12.147 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:12.148 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=70]
[2022/07/15 15:02:12.148 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:12.148 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=34] [neededSchemaVersion=35] ["start time"=51.584µs] [phyTblIDs="[69]"] [actionTypes="[8]"]
[2022/07/15 15:02:12.148 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=15] [schemaVersion=35] [cur_db=test] [sql="create table t1 (a int, b int not null, c double)"] [user=]
[2022/07/15 15:02:12.148 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:72, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:71, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:12.148 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:12.148 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:72, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:71, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:12.148 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="create table t1 (a int, b int not null, c double)"]
[2022/07/15 15:02:12.148 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 59, tp general"] [job="ID:72, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:71, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:12.148 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:12.148 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 59, tp general"] [job="ID:72, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:71, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:12.148 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:12.148 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=72]
[2022/07/15 15:02:12.149 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:12.149 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=35] [neededSchemaVersion=36] ["start time"=44.375µs] [phyTblIDs="[71]"] [actionTypes="[8]"]
[2022/07/15 15:02:12.149 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=15] [schemaVersion=36] [cur_db=test] [sql="alter table t set tiflash replica 1"] [user=]
[2022/07/15 15:02:12.149 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:73, Type:set tiflash replica, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:12.149 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:12.149 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:73, Type:set tiflash replica, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:12.149 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="alter table t set tiflash replica 1"]
[2022/07/15 15:02:12.149 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 59, tp general"] [job="ID:73, Type:set tiflash replica, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:12.149 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:12.149 +08:00] [INFO] [table.go:1109] ["Set TiFlash replica pd rule"] [tableID=69]
[2022/07/15 15:02:12.149 +08:00] [INFO] [info.go:1051] [ConfigureTiFlashPDForTable] [tableID=69] [count=1]
[2022/07/15 15:02:12.149 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 59, tp general"] [job="ID:73, Type:set tiflash replica, State:synced, SchemaState:public, SchemaID:1, TableID:69, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:12.149 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:12.149 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=73]
[2022/07/15 15:02:12.149 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:12.149 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=36] [neededSchemaVersion=37] ["start time"=40.542µs] [phyTblIDs="[]"] [actionTypes="[]"]
[2022/07/15 15:02:12.149 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=15] [schemaVersion=37] [cur_db=test] [sql="alter table t1 set tiflash replica 1"] [user=]
[2022/07/15 15:02:12.149 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:74, Type:set tiflash replica, State:queueing, SchemaState:none, SchemaID:1, TableID:71, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:12.149 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:12.149 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:74, Type:set tiflash replica, State:queueing, SchemaState:none, SchemaID:1, TableID:71, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:12.149 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="alter table t1 set tiflash replica 1"]
[2022/07/15 15:02:12.149 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 59, tp general"] [job="ID:74, Type:set tiflash replica, State:queueing, SchemaState:none, SchemaID:1, TableID:71, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:12.149 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:12.149 +08:00] [INFO] [table.go:1109] ["Set TiFlash replica pd rule"] [tableID=71]
[2022/07/15 15:02:12.149 +08:00] [INFO] [info.go:1051] [ConfigureTiFlashPDForTable] [tableID=71] [count=1]
[2022/07/15 15:02:12.150 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 59, tp general"] [job="ID:74, Type:set tiflash replica, State:synced, SchemaState:public, SchemaID:1, TableID:71, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:12.149 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:12.150 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=74]
[2022/07/15 15:02:12.150 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:12.150 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=37] [neededSchemaVersion=38] ["start time"=40.75µs] [phyTblIDs="[]"] [actionTypes="[]"]
[2022/07/15 15:02:12.150 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:75, Type:update tiflash replica status, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:2, start time: 2022-07-15 15:02:12.15 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:12.150 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:75, Type:update tiflash replica status, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:2, start time: 2022-07-15 15:02:12.15 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query=]
[2022/07/15 15:02:12.150 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 59, tp general"] [job="ID:75, Type:update tiflash replica status, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:12.15 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:12.150 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 59, tp general"] [job="ID:75, Type:update tiflash replica status, State:synced, SchemaState:public, SchemaID:1, TableID:69, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:12.15 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:12.150 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=75]
[2022/07/15 15:02:12.150 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:12.150 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=38] [neededSchemaVersion=39] ["start time"=41.958µs] [phyTblIDs="[]"] [actionTypes="[]"]
[2022/07/15 15:02:12.150 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:76, Type:update tiflash replica status, State:queueing, SchemaState:none, SchemaID:1, TableID:71, RowCount:0, ArgLen:2, start time: 2022-07-15 15:02:12.15 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:12.150 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:76, Type:update tiflash replica status, State:queueing, SchemaState:none, SchemaID:1, TableID:71, RowCount:0, ArgLen:2, start time: 2022-07-15 15:02:12.15 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query=]
[2022/07/15 15:02:12.150 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 59, tp general"] [job="ID:76, Type:update tiflash replica status, State:queueing, SchemaState:none, SchemaID:1, TableID:71, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:12.15 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:12.151 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 59, tp general"] [job="ID:76, Type:update tiflash replica status, State:synced, SchemaState:public, SchemaID:1, TableID:71, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:12.15 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:12.151 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=76]
[2022/07/15 15:02:12.151 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:12.151 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=39] [neededSchemaVersion=40] ["start time"=44.167µs] [phyTblIDs="[]"] [actionTypes="[]"]
[2022/07/15 15:02:12.151 +08:00] [WARN] [2pc.go:1806] ["schemaLeaseChecker is not set for this transaction"] [sessionID=15] [startTS=434600288492191751] [checkTS=434600288492191752]
[2022/07/15 15:02:12.151 +08:00] [WARN] [2pc.go:1806] ["schemaLeaseChecker is not set for this transaction"] [sessionID=15] [startTS=434600288492191755] [checkTS=434600288492191756]
[2022/07/15 15:02:12.152 +08:00] [INFO] [fragment.go:77] ["Mpp will generate tasks"] [plan=UnionAll{Table(t)->Projection->Projection}->HashAgg->Send()]
[2022/07/15 15:02:12.152 +08:00] [INFO] [batch_coprocessor.go:325] ["detecting available mpp stores"]
[2022/07/15 15:02:12.152 +08:00] [WARN] [batch_coprocessor.go:359] ["Store is not ready"] ["store address"=tiflash1] ["err message"="not support this request type MPPAlive"]
[2022/07/15 15:02:12.152 +08:00] [WARN] [batch_coprocessor.go:359] ["Store is not ready"] ["store address"=tiflash0] ["err message"="not support this request type MPPAlive"]
[2022/07/15 15:02:12.152 +08:00] [WARN] [batch_coprocessor.go:400] ["Meet regions that don't have an available store. Give up balancing"]
[2022/07/15 15:02:12.152 +08:00] [INFO] [mpp_gather.go:80] ["Dispatch mpp task"] [timestamp=434600288492453888] [ID=1] [address=tiflash0] [plan="Table(t)->Projection->Projection->HashAgg->Send(-1, )"]
[2022/07/15 15:02:13.152 +08:00] [WARN] [adapter.go:1067] ["# Txn_start_ts: 434600288492453888\n# Conn_ID: 15\n# Query_time: 1.000521667\n# Parse_time: 0.000023\n# Compile_time: 0.000145417\n# Rewrite_time: 0.000041\n# Optimize_time: 0.000082042\n# Wait_TS: 0.000001834\n# Cop_time: 1.000092625 Request_count: 1\n# DB: test\n# Is_internal: false\n# Digest: 722e42c5056e5fb8145af37975ef18d6808489ae6e51fcbe973179f78f5b769c\n# Stats: t:pseudo\n# Num_cop_tasks: 1\n# Cop_proc_avg: 0 Cop_proc_addr: tiflash0\n# Cop_wait_avg: 0 Cop_wait_addr: tiflash0\n# Mem_max: 10100\n# Prepared: false\n# Plan_from_cache: false\n# Plan_from_binding: false\n# Has_more_results: false\n# KV_total: 0\n# PD_total: 0\n# Backoff_total: 0\n# Write_sql_response_total: 0\n# Result_rows: 0\n# Succ: true\n# IsExplicitTxn: false\n# Plan: tidb_decode_plan('9AKIMAk2XzM3CTAJMQlmdW5jczpjb3VudChDb2x1bW4jMTQpLT4RDCAxCjEJMzFfMzkFLpBkYXRhOkV4Y2hhbmdlU2VuZGVyXzM4CjIJNDlfMzgJMV8xCTEJESBcVHlwZTogUGFzc1Rocm91Z2gKMwk2XzE3DScuegAAMR1yHDQKNAk5XzM2CScsMDAwMAkKNQkzXzYwHRIMY2FzdBGwQDksIGludCgxMSkgQklOQVJZGU0IOSwgEckcMAo2CTNfMzEdRSR0ZXN0LnQuYSwgBU8NDyBiLCBkb3VibGVCTgAgMTAKNwk0M18yLpwAnHRhYmxlOnQsIGtlZXAgb3JkZXI6ZmFsc2UsIHN0YXRzOnBzZXVkbwo=')\n# Plan_digest: b4eca5f31ac50fedf0ac78e8caca37ce9bf2a7a67dfef3242e1ade96cf254ab8\nuse test;\nselect count(*) from (select a , b from t union all select a , c from t1 where false) tt;"]
[2022/07/15 15:02:13.152 +08:00] [INFO] [ddl_worker.go:158] ["[ddl] DDL worker closed"] [worker="worker 59, tp general"] ["take time"=166ns]
[2022/07/15 15:02:13.152 +08:00] [INFO] [ddl_worker.go:158] ["[ddl] DDL worker closed"] [worker="worker 60, tp add index"] ["take time"=42ns]
[2022/07/15 15:02:13.152 +08:00] [INFO] [delete_range.go:148] ["[ddl] closing delRange"]
[2022/07/15 15:02:13.152 +08:00] [INFO] [session_pool.go:94] ["[ddl] closing sessionPool"]
[2022/07/15 15:02:13.152 +08:00] [INFO] [ddl.go:576] ["[ddl] DDL closed"] [ID=5d9d2f08-1906-42cb-bf46-b3eb7df7f3b5] ["take time"=71.125µs]
[2022/07/15 15:02:13.152 +08:00] [INFO] [ddl.go:464] ["[ddl] stop DDL"] [ID=5d9d2f08-1906-42cb-bf46-b3eb7df7f3b5]
[2022/07/15 15:02:13.152 +08:00] [INFO] [domain.go:498] ["topNSlowQueryLoop exited."]
[2022/07/15 15:02:13.152 +08:00] [INFO] [domain.go:1032] ["loadPrivilegeInLoop exited."]
[2022/07/15 15:02:13.152 +08:00] [INFO] [domain.go:1082] ["LoadSysVarCacheLoop exited."]
[2022/07/15 15:02:13.152 +08:00] [INFO] [domain.go:1203] ["handleEvolvePlanTasksLoop exited."]
[2022/07/15 15:02:13.152 +08:00] [INFO] [handle_hist.go:156] ["SubLoadWorker exited."]
[2022/07/15 15:02:13.152 +08:00] [INFO] [handle_hist.go:156] ["SubLoadWorker exited."]
[2022/07/15 15:02:13.152 +08:00] [INFO] [domain.go:1160] ["globalBindHandleWorkerLoop exited."]
[2022/07/15 15:02:13.152 +08:00] [INFO] [domain.go:1288] ["dumpFileGcChecker exited."]
[2022/07/15 15:02:13.152 +08:00] [INFO] [domain.go:575] ["topologySyncerKeeper exited."]
[2022/07/15 15:02:13.152 +08:00] [INFO] [handle_hist.go:156] ["SubLoadWorker exited."]
[2022/07/15 15:02:13.152 +08:00] [INFO] [handle_hist.go:156] ["SubLoadWorker exited."]
[2022/07/15 15:02:13.152 +08:00] [INFO] [domain.go:552] ["globalConfigSyncerKeeper exited."]
[2022/07/15 15:02:13.152 +08:00] [INFO] [handle_hist.go:156] ["SubLoadWorker exited."]
[2022/07/15 15:02:13.152 +08:00] [INFO] [domain.go:527] ["infoSyncerKeeper exited."]
[2022/07/15 15:02:13.152 +08:00] [INFO] [domain.go:733] ["domain closed"] ["take time"=186.375µs]
[2022/07/15 15:02:13.175 +08:00] [INFO] [db.go:567] ["Closing database"]
[2022/07/15 15:02:13.176 +08:00] [INFO] [db.go:592] ["Memtable flushed"]
[2022/07/15 15:02:13.176 +08:00] [INFO] [db.go:596] ["Compaction finished"]
[2022/07/15 15:02:13.176 +08:00] [INFO] [db.go:615] ["BlobManager finished"]
[2022/07/15 15:02:13.176 +08:00] [INFO] [db.go:619] ["ResourceManager finished"]
[2022/07/15 15:02:13.176 +08:00] [INFO] [db.go:625] ["Waiting for closer"]
[2022/07/15 15:02:13.308 +08:00] [INFO] [tidb.go:74] ["new domain"] [store=65b9ee93-4f77-4d6d-a85f-65971a3f4057] ["ddl lease"=0s] ["stats lease"=-1ns] ["index usage sync lease"=0s]
[2022/07/15 15:02:13.308 +08:00] [INFO] [domain.go:178] ["full load InfoSchema success"] [currentSchemaVersion=0] [neededSchemaVersion=0] ["start time"=499.917µs]
[2022/07/15 15:02:13.308 +08:00] [INFO] [domain.go:449] ["full load and reset schema validator"]
[2022/07/15 15:02:13.308 +08:00] [INFO] [ddl.go:483] ["[ddl] start DDL"] [ID=48db4db8-38f7-485b-a9b2-046efcb201ab] [runWorker=true]
[2022/07/15 15:02:13.308 +08:00] [INFO] [ddl.go:472] ["[ddl] start delRangeManager OK"] ["is a emulator"=true]
[2022/07/15 15:02:13.308 +08:00] [INFO] [delete_range.go:158] ["[ddl] start delRange emulator"]
[2022/07/15 15:02:13.308 +08:00] [INFO] [ddl_worker.go:164] ["[ddl] start DDL worker"] [worker="worker 61, tp general"]
[2022/07/15 15:02:13.308 +08:00] [INFO] [ddl_worker.go:164] ["[ddl] start DDL worker"] [worker="worker 62, tp add index"]
[2022/07/15 15:02:13.308 +08:00] [INFO] [tidb.go:268] ["rollbackTxn called due to ddl/autocommit failure"]
[2022/07/15 15:02:13.308 +08:00] [WARN] [session.go:1983] ["run statement failed"] [schemaVersion=0] [error="[schema:1049]Unknown database 'mysql'"] [errorVerbose="[schema:1049]Unknown database 'mysql'\ngithub.com/pingcap/errors.AddStack\n\t/Users/hongyunyan/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20211224045212-9687c2b0f87c/errors.go:174\ngithub.com/pingcap/errors.(*Error).GenWithStackByArgs\n\t/Users/hongyunyan/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20211224045212-9687c2b0f87c/normalize.go:164\ngithub.com/pingcap/tidb/executor.(*SimpleExec).executeUse\n\t/Users/hongyunyan/Desktop/tidb/executor/simple.go:571\ngithub.com/pingcap/tidb/executor.(*SimpleExec).Next\n\t/Users/hongyunyan/Desktop/tidb/executor/simple.go:131\ngithub.com/pingcap/tidb/executor.Next\n\t/Users/hongyunyan/Desktop/tidb/executor/executor.go:319\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelayExecutor\n\t/Users/hongyunyan/Desktop/tidb/executor/adapter.go:673\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelay\n\t/Users/hongyunyan/Desktop/tidb/executor/adapter.go:523\ngithub.com/pingcap/tidb/executor.(*ExecStmt).Exec\n\t/Users/hongyunyan/Desktop/tidb/executor/adapter.go:472\ngithub.com/pingcap/tidb/session.runStmt\n\t/Users/hongyunyan/Desktop/tidb/session/session.go:2114\ngithub.com/pingcap/tidb/session.(*session).ExecuteStmt\n\t/Users/hongyunyan/Desktop/tidb/session/session.go:1980\ngithub.com/pingcap/tidb/session.(*session).ExecuteInternal\n\t/Users/hongyunyan/Desktop/tidb/session/session.go:1495\ngithub.com/pingcap/tidb/session.checkBootstrapped\n\t/Users/hongyunyan/Desktop/tidb/session/bootstrap.go:728\ngithub.com/pingcap/tidb/session.bootstrap\n\t/Users/hongyunyan/Desktop/tidb/session/bootstrap.go:431\ngithub.com/pingcap/tidb/session.runInBootstrapSession\n\t/Users/hongyunyan/Desktop/tidb/session/session.go:2834\ngithub.com/pingcap/tidb/session.BootstrapSession\n\t/Users/hongyunyan/Desktop/tidb/session/session.go:2720\ngithub.com/pingcap/tidb/testkit.bootstrap\n\t/Users/hongyunyan/Desktop/tidb/testkit/mockstore.go:71\ngithub.com/pingcap/tidb/testkit.CreateMockStoreAndDomain\n\t/Users/hongyunyan/Desktop/tidb/testkit/mockstore.go:64\ngithub.com/pingcap/tidb/testkit.CreateMockStore\n\t/Users/hongyunyan/Desktop/tidb/testkit/mockstore.go:56\ngithub.com/pingcap/tidb/executor/tiflashtest.TestAvgOverflow\n\t/Users/hongyunyan/Desktop/tidb/executor/tiflashtest/tiflash_test.go:824\ntesting.tRunner\n\t/opt/homebrew/Cellar/go/1.18.3/libexec/src/testing/testing.go:1439\nruntime.goexit\n\t/opt/homebrew/Cellar/go/1.18.3/libexec/src/runtime/asm_arm64.s:1263"] [session="{\n  \"currDBName\": \"\",\n  \"id\": 0,\n  \"status\": 2,\n  \"strictMode\": true,\n  \"user\": null\n}"]
[2022/07/15 15:02:13.309 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=0] [cur_db=] [sql="CREATE DATABASE IF NOT EXISTS test"] [user=]
[2022/07/15 15:02:13.309 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:2, Type:create schema, State:queueing, SchemaState:none, SchemaID:1, TableID:0, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:13.309 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:13.309 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:2, Type:create schema, State:queueing, SchemaState:none, SchemaID:1, TableID:0, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:13.309 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE DATABASE IF NOT EXISTS test"]
[2022/07/15 15:02:13.309 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 61, tp general"] [job="ID:2, Type:create schema, State:queueing, SchemaState:none, SchemaID:1, TableID:0, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:13.309 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:13.309 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 61, tp general"] [job="ID:2, Type:create schema, State:synced, SchemaState:public, SchemaID:1, TableID:0, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:13.309 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:13.309 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=2]
[2022/07/15 15:02:13.309 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:13.310 +08:00] [INFO] [domain.go:178] ["full load InfoSchema success"] [currentSchemaVersion=0] [neededSchemaVersion=1] ["start time"=409.708µs]
[2022/07/15 15:02:13.310 +08:00] [INFO] [domain.go:449] ["full load and reset schema validator"]
[2022/07/15 15:02:13.310 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=1] [cur_db=] [sql="CREATE DATABASE IF NOT EXISTS `mysql`"] [user=]
[2022/07/15 15:02:13.310 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:4, Type:create schema, State:queueing, SchemaState:none, SchemaID:3, TableID:0, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:13.31 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:13.310 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:4, Type:create schema, State:queueing, SchemaState:none, SchemaID:3, TableID:0, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:13.31 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE DATABASE IF NOT EXISTS `mysql`"]
[2022/07/15 15:02:13.310 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 61, tp general"] [job="ID:4, Type:create schema, State:queueing, SchemaState:none, SchemaID:3, TableID:0, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:13.31 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:13.310 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 61, tp general"] [job="ID:4, Type:create schema, State:synced, SchemaState:public, SchemaID:3, TableID:0, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:13.31 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:13.310 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=4]
[2022/07/15 15:02:13.310 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:13.310 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=1] [neededSchemaVersion=2] ["start time"=15.25µs] [phyTblIDs="[]"] [actionTypes="[]"]
[2022/07/15 15:02:13.310 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=2] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.user (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tauthentication_string\tTEXT,\n\t\tplugin\t\t\t\t\tCHAR(64),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tProcess_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_db_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tSuper_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_user_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_slave_priv\t    \tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_client_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_role_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_role_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAccount_locked\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShutdown_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReload_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tFILE_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tConfig_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_Tablespace_Priv  ENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (Host, User));"] [user=]
[2022/07/15 15:02:13.311 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:6, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:5, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:13.31 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:13.311 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:6, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:5, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:13.31 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.user (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tauthentication_string\tTEXT,\n\t\tplugin\t\t\t\t\tCHAR(64),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tProcess_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_db_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tSuper_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_user_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_slave_priv\t    \tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_client_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_role_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_role_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAccount_locked\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShutdown_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReload_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tFILE_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tConfig_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_Tablespace_Priv  ENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (Host, User));"]
[2022/07/15 15:02:13.311 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 61, tp general"] [job="ID:6, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:5, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:13.31 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:13.313 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 61, tp general"] [job="ID:6, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:5, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:13.31 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:13.313 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=6]
[2022/07/15 15:02:13.313 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:13.313 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=2] [neededSchemaVersion=3] ["start time"=263.916µs] [phyTblIDs="[5]"] [actionTypes="[8]"]
[2022/07/15 15:02:13.313 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=3] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.global_priv (Host CHAR(255) NOT NULL DEFAULT '',User CHAR(80) NOT NULL DEFAULT '',Priv LONGTEXT NOT NULL DEFAULT '',PRIMARY KEY (Host, User))"] [user=]
[2022/07/15 15:02:13.314 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:8, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:7, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:13.313 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:13.314 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:8, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:7, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:13.313 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.global_priv (Host CHAR(255) NOT NULL DEFAULT '',User CHAR(80) NOT NULL DEFAULT '',Priv LONGTEXT NOT NULL DEFAULT '',PRIMARY KEY (Host, User))"]
[2022/07/15 15:02:13.314 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 61, tp general"] [job="ID:8, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:7, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:13.313 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:13.314 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 61, tp general"] [job="ID:8, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:7, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:13.313 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:13.314 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=8]
[2022/07/15 15:02:13.314 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:13.314 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=3] [neededSchemaVersion=4] ["start time"=49.75µs] [phyTblIDs="[7]"] [actionTypes="[8]"]
[2022/07/15 15:02:13.314 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=4] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.db (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tDB\t\t\t\t\t\tCHAR(64),\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv \t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (Host, DB, User));"] [user=]
[2022/07/15 15:02:13.314 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:10, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:9, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:13.314 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:13.314 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:10, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:9, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:13.314 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.db (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tDB\t\t\t\t\t\tCHAR(64),\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv \t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (Host, DB, User));"]
[2022/07/15 15:02:13.315 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 61, tp general"] [job="ID:10, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:9, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:13.314 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:13.316 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 61, tp general"] [job="ID:10, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:9, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:13.314 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:13.316 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=10]
[2022/07/15 15:02:13.316 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:13.316 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=4] [neededSchemaVersion=5] ["start time"=166.208µs] [phyTblIDs="[9]"] [actionTypes="[8]"]
[2022/07/15 15:02:13.316 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=5] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.tables_priv (\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64),\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64),\n\t\tGrantor\t\tCHAR(77),\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tTable_priv\tSET('Select','Insert','Update','Delete','Create','Drop','Grant','Index','Alter','Create View','Show View','Trigger','References'),\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name));"] [user=]
[2022/07/15 15:02:13.316 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:12, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:11, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:13.316 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:13.316 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:12, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:11, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:13.316 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.tables_priv (\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64),\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64),\n\t\tGrantor\t\tCHAR(77),\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tTable_priv\tSET('Select','Insert','Update','Delete','Create','Drop','Grant','Index','Alter','Create View','Show View','Trigger','References'),\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name));"]
[2022/07/15 15:02:13.317 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 61, tp general"] [job="ID:12, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:11, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:13.316 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:13.317 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 61, tp general"] [job="ID:12, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:11, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:13.316 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:13.317 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=12]
[2022/07/15 15:02:13.317 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:13.317 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=5] [neededSchemaVersion=6] ["start time"=81.459µs] [phyTblIDs="[11]"] [actionTypes="[8]"]
[2022/07/15 15:02:13.317 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=6] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.columns_priv(\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64),\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64),\n\t\tColumn_name\tCHAR(64),\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name, Column_name));"] [user=]
[2022/07/15 15:02:13.318 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:14, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:13, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:13.317 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:13.318 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:14, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:13, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:13.317 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.columns_priv(\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64),\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64),\n\t\tColumn_name\tCHAR(64),\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name, Column_name));"]
[2022/07/15 15:02:13.318 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 61, tp general"] [job="ID:14, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:13, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:13.317 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:13.318 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 61, tp general"] [job="ID:14, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:13, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:13.317 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:13.318 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=14]
[2022/07/15 15:02:13.318 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:13.318 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=6] [neededSchemaVersion=7] ["start time"=87.209µs] [phyTblIDs="[13]"] [actionTypes="[8]"]
[2022/07/15 15:02:13.319 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=7] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.GLOBAL_VARIABLES(\n\t\tVARIABLE_NAME  VARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(1024) DEFAULT NULL);"] [user=]
[2022/07/15 15:02:13.319 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:16, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:15, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:13.319 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:13.319 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:16, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:15, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:13.319 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.GLOBAL_VARIABLES(\n\t\tVARIABLE_NAME  VARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(1024) DEFAULT NULL);"]
[2022/07/15 15:02:13.319 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 61, tp general"] [job="ID:16, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:15, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:13.319 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:13.319 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 61, tp general"] [job="ID:16, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:15, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:13.319 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:13.319 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=16]
[2022/07/15 15:02:13.319 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:13.319 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=7] [neededSchemaVersion=8] ["start time"=47.25µs] [phyTblIDs="[15]"] [actionTypes="[8]"]
[2022/07/15 15:02:13.319 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=8] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb(\n\t\tVARIABLE_NAME  \tVARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE \tVARCHAR(1024) DEFAULT NULL,\n\t\tCOMMENT \t\tVARCHAR(1024));"] [user=]
[2022/07/15 15:02:13.319 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:18, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:17, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:13.319 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:13.319 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:18, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:17, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:13.319 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb(\n\t\tVARIABLE_NAME  \tVARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE \tVARCHAR(1024) DEFAULT NULL,\n\t\tCOMMENT \t\tVARCHAR(1024));"]
[2022/07/15 15:02:13.319 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 61, tp general"] [job="ID:18, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:17, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:13.319 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:13.320 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 61, tp general"] [job="ID:18, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:17, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:13.319 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:13.320 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=18]
[2022/07/15 15:02:13.320 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:13.320 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=8] [neededSchemaVersion=9] ["start time"=50.041µs] [phyTblIDs="[17]"] [actionTypes="[8]"]
[2022/07/15 15:02:13.320 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=9] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.help_topic (\n  \t\thelp_topic_id \t\tINT(10) UNSIGNED NOT NULL,\n  \t\tname \t\t\t\tCHAR(64) NOT NULL,\n  \t\thelp_category_id \tSMALLINT(5) UNSIGNED NOT NULL,\n  \t\tdescription \t\tTEXT NOT NULL,\n  \t\texample \t\t\tTEXT NOT NULL,\n  \t\turl \t\t\t\tTEXT NOT NULL,\n  \t\tPRIMARY KEY (help_topic_id) clustered,\n  \t\tUNIQUE KEY name (name)\n\t\t) ENGINE=InnoDB DEFAULT CHARSET=utf8 STATS_PERSISTENT=0 COMMENT='help topics';"] [user=]
[2022/07/15 15:02:13.320 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:20, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:19, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:13.32 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:13.320 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:20, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:19, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:13.32 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.help_topic (\n  \t\thelp_topic_id \t\tINT(10) UNSIGNED NOT NULL,\n  \t\tname \t\t\t\tCHAR(64) NOT NULL,\n  \t\thelp_category_id \tSMALLINT(5) UNSIGNED NOT NULL,\n  \t\tdescription \t\tTEXT NOT NULL,\n  \t\texample \t\t\tTEXT NOT NULL,\n  \t\turl \t\t\t\tTEXT NOT NULL,\n  \t\tPRIMARY KEY (help_topic_id) clustered,\n  \t\tUNIQUE KEY name (name)\n\t\t) ENGINE=InnoDB DEFAULT CHARSET=utf8 STATS_PERSISTENT=0 COMMENT='help topics';"]
[2022/07/15 15:02:13.320 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 61, tp general"] [job="ID:20, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:19, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:13.32 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:13.321 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 61, tp general"] [job="ID:20, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:19, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:13.32 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:13.321 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=20]
[2022/07/15 15:02:13.321 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:13.321 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=9] [neededSchemaVersion=10] ["start time"=65.708µs] [phyTblIDs="[19]"] [actionTypes="[8]"]
[2022/07/15 15:02:13.321 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=10] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_meta (\n\t\tversion \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\ttable_id \t\tBIGINT(64) NOT NULL,\n\t\tmodify_count\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcount \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tsnapshot        BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tINDEX idx_ver(version),\n\t\tUNIQUE INDEX tbl(table_id)\n\t);"] [user=]
[2022/07/15 15:02:13.321 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:22, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:21, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:13.321 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:13.321 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:22, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:21, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:13.321 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_meta (\n\t\tversion \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\ttable_id \t\tBIGINT(64) NOT NULL,\n\t\tmodify_count\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcount \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tsnapshot        BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tINDEX idx_ver(version),\n\t\tUNIQUE INDEX tbl(table_id)\n\t);"]
[2022/07/15 15:02:13.321 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 61, tp general"] [job="ID:22, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:21, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:13.321 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:13.322 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 61, tp general"] [job="ID:22, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:21, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:13.321 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:13.322 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=22]
[2022/07/15 15:02:13.322 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:13.322 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=10] [neededSchemaVersion=11] ["start time"=69.375µs] [phyTblIDs="[21]"] [actionTypes="[8]"]
[2022/07/15 15:02:13.322 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=11] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_histograms (\n\t\ttable_id \t\t\tBIGINT(64) NOT NULL,\n\t\tis_index \t\t\tTINYINT(2) NOT NULL,\n\t\thist_id \t\t\tBIGINT(64) NOT NULL,\n\t\tdistinct_count \t\tBIGINT(64) NOT NULL,\n\t\tnull_count \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\ttot_col_size \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tmodify_count \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tversion \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tcm_sketch \t\t\tBLOB(6291456),\n\t\tstats_ver \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tflag \t\t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcorrelation \t\tDOUBLE NOT NULL DEFAULT 0,\n\t\tlast_analyze_pos \tLONGBLOB DEFAULT NULL,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id)\n\t);"] [user=]
[2022/07/15 15:02:13.322 +08:00] [INFO] [ddl_api.go:999] ["Automatically convert BLOB(6291456) to MEDIUMBLOB"]
[2022/07/15 15:02:13.322 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:24, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:23, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:13.322 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:13.322 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:24, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:23, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:13.322 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_histograms (\n\t\ttable_id \t\t\tBIGINT(64) NOT NULL,\n\t\tis_index \t\t\tTINYINT(2) NOT NULL,\n\t\thist_id \t\t\tBIGINT(64) NOT NULL,\n\t\tdistinct_count \t\tBIGINT(64) NOT NULL,\n\t\tnull_count \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\ttot_col_size \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tmodify_count \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tversion \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tcm_sketch \t\t\tBLOB(6291456),\n\t\tstats_ver \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tflag \t\t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcorrelation \t\tDOUBLE NOT NULL DEFAULT 0,\n\t\tlast_analyze_pos \tLONGBLOB DEFAULT NULL,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id)\n\t);"]
[2022/07/15 15:02:13.322 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 61, tp general"] [job="ID:24, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:23, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:13.322 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:13.323 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 61, tp general"] [job="ID:24, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:23, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:13.322 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:13.323 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=24]
[2022/07/15 15:02:13.323 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:13.323 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=11] [neededSchemaVersion=12] ["start time"=127.75µs] [phyTblIDs="[23]"] [actionTypes="[8]"]
[2022/07/15 15:02:13.323 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=12] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_buckets (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tbucket_id \tBIGINT(64) NOT NULL,\n\t\tcount \t\tBIGINT(64) NOT NULL,\n\t\trepeats \tBIGINT(64) NOT NULL,\n\t\tupper_bound LONGBLOB NOT NULL,\n\t\tlower_bound LONGBLOB ,\n\t\tndv         BIGINT NOT NULL DEFAULT 0,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id, bucket_id)\n\t);"] [user=]
[2022/07/15 15:02:13.323 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:26, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:25, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:13.323 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:13.323 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:26, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:25, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:13.323 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_buckets (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tbucket_id \tBIGINT(64) NOT NULL,\n\t\tcount \t\tBIGINT(64) NOT NULL,\n\t\trepeats \tBIGINT(64) NOT NULL,\n\t\tupper_bound LONGBLOB NOT NULL,\n\t\tlower_bound LONGBLOB ,\n\t\tndv         BIGINT NOT NULL DEFAULT 0,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id, bucket_id)\n\t);"]
[2022/07/15 15:02:13.324 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 61, tp general"] [job="ID:26, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:25, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:13.323 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:13.324 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 61, tp general"] [job="ID:26, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:25, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:13.323 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:13.324 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=26]
[2022/07/15 15:02:13.324 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:13.324 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=12] [neededSchemaVersion=13] ["start time"=90.333µs] [phyTblIDs="[25]"] [actionTypes="[8]"]
[2022/07/15 15:02:13.324 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=13] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_index (job_id, element_id)\n\t);"] [user=]
[2022/07/15 15:02:13.325 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:28, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:27, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:13.325 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:13.325 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:28, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:27, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:13.325 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_index (job_id, element_id)\n\t);"]
[2022/07/15 15:02:13.325 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 61, tp general"] [job="ID:28, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:27, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:13.325 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:13.325 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 61, tp general"] [job="ID:28, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:27, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:13.325 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:13.325 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=28]
[2022/07/15 15:02:13.325 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:13.325 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=13] [neededSchemaVersion=14] ["start time"=60.5µs] [phyTblIDs="[27]"] [actionTypes="[8]"]
[2022/07/15 15:02:13.325 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=14] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range_done (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_done_index (job_id, element_id)\n\t);"] [user=]
[2022/07/15 15:02:13.326 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:30, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:29, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:13.325 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:13.326 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:30, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:29, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:13.325 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range_done (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_done_index (job_id, element_id)\n\t);"]
[2022/07/15 15:02:13.326 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 61, tp general"] [job="ID:30, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:29, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:13.325 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:13.326 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 61, tp general"] [job="ID:30, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:29, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:13.325 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:13.326 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=30]
[2022/07/15 15:02:13.326 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:13.326 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=14] [neededSchemaVersion=15] ["start time"=63.917µs] [phyTblIDs="[29]"] [actionTypes="[8]"]
[2022/07/15 15:02:13.326 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=15] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_feedback (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tfeedback \tBLOB NOT NULL,\n\t\tINDEX hist(table_id, is_index, hist_id)\n\t);"] [user=]
[2022/07/15 15:02:13.326 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:32, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:31, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:13.326 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:13.326 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:32, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:31, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:13.326 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_feedback (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tfeedback \tBLOB NOT NULL,\n\t\tINDEX hist(table_id, is_index, hist_id)\n\t);"]
[2022/07/15 15:02:13.326 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 61, tp general"] [job="ID:32, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:31, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:13.326 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:13.327 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 61, tp general"] [job="ID:32, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:31, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:13.326 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:13.327 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=32]
[2022/07/15 15:02:13.327 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:13.327 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=15] [neededSchemaVersion=16] ["start time"=58.042µs] [phyTblIDs="[31]"] [actionTypes="[8]"]
[2022/07/15 15:02:13.327 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=16] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.role_edges (\n\t\tFROM_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tFROM_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tWITH_ADMIN_OPTION \tENUM('N','Y') CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (FROM_HOST,FROM_USER,TO_HOST,TO_USER)\n\t);"] [user=]
[2022/07/15 15:02:13.327 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:34, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:33, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:13.327 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:13.327 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:34, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:33, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:13.327 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.role_edges (\n\t\tFROM_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tFROM_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tWITH_ADMIN_OPTION \tENUM('N','Y') CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (FROM_HOST,FROM_USER,TO_HOST,TO_USER)\n\t);"]
[2022/07/15 15:02:13.327 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 61, tp general"] [job="ID:34, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:33, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:13.327 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:13.328 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 61, tp general"] [job="ID:34, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:33, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:13.327 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:13.328 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=34]
[2022/07/15 15:02:13.328 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:13.328 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=16] [neededSchemaVersion=17] ["start time"=65.75µs] [phyTblIDs="[33]"] [actionTypes="[8]"]
[2022/07/15 15:02:13.328 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=17] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.default_roles (\n\t\tHOST \t\t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tUSER \t\t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tDEFAULT_ROLE_HOST \tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '%',\n\t\tDEFAULT_ROLE_USER \tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tPRIMARY KEY (HOST,USER,DEFAULT_ROLE_HOST,DEFAULT_ROLE_USER)\n\t)"] [user=]
[2022/07/15 15:02:13.328 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:36, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:35, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:13.328 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:13.328 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:36, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:35, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:13.328 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.default_roles (\n\t\tHOST \t\t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tUSER \t\t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tDEFAULT_ROLE_HOST \tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '%',\n\t\tDEFAULT_ROLE_USER \tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tPRIMARY KEY (HOST,USER,DEFAULT_ROLE_HOST,DEFAULT_ROLE_USER)\n\t)"]
[2022/07/15 15:02:13.328 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 61, tp general"] [job="ID:36, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:35, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:13.328 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:13.329 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 61, tp general"] [job="ID:36, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:35, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:13.328 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:13.329 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=36]
[2022/07/15 15:02:13.329 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:13.329 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=17] [neededSchemaVersion=18] ["start time"=79.375µs] [phyTblIDs="[35]"] [actionTypes="[8]"]
[2022/07/15 15:02:13.329 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=18] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.bind_info (\n\t\toriginal_sql TEXT NOT NULL,\n\t\tbind_sql TEXT NOT NULL,\n\t\tdefault_db TEXT NOT NULL,\n\t\tstatus TEXT NOT NULL,\n\t\tcreate_time TIMESTAMP(3) NOT NULL,\n\t\tupdate_time TIMESTAMP(3) NOT NULL,\n\t\tcharset TEXT NOT NULL,\n\t\tcollation TEXT NOT NULL,\n\t\tsource VARCHAR(10) NOT NULL DEFAULT 'unknown',\n\t\tINDEX sql_index(original_sql(700),default_db(68)) COMMENT \"accelerate the speed when add global binding query\",\n\t\tINDEX time_index(update_time) COMMENT \"accelerate the speed when querying with last update time\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"] [user=]
[2022/07/15 15:02:13.329 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:38, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:37, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:13.329 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:13.329 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:38, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:37, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:13.329 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.bind_info (\n\t\toriginal_sql TEXT NOT NULL,\n\t\tbind_sql TEXT NOT NULL,\n\t\tdefault_db TEXT NOT NULL,\n\t\tstatus TEXT NOT NULL,\n\t\tcreate_time TIMESTAMP(3) NOT NULL,\n\t\tupdate_time TIMESTAMP(3) NOT NULL,\n\t\tcharset TEXT NOT NULL,\n\t\tcollation TEXT NOT NULL,\n\t\tsource VARCHAR(10) NOT NULL DEFAULT 'unknown',\n\t\tINDEX sql_index(original_sql(700),default_db(68)) COMMENT \"accelerate the speed when add global binding query\",\n\t\tINDEX time_index(update_time) COMMENT \"accelerate the speed when querying with last update time\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"]
[2022/07/15 15:02:13.330 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 61, tp general"] [job="ID:38, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:37, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:13.329 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:13.330 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 61, tp general"] [job="ID:38, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:37, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:13.329 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:13.330 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=38]
[2022/07/15 15:02:13.330 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:13.331 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=18] [neededSchemaVersion=19] ["start time"=101.25µs] [phyTblIDs="[37]"] [actionTypes="[8]"]
[2022/07/15 15:02:13.331 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=19] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_top_n (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tcount \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"] [user=]
[2022/07/15 15:02:13.331 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:40, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:39, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:13.331 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:13.331 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:40, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:39, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:13.331 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_top_n (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tcount \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"]
[2022/07/15 15:02:13.331 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 61, tp general"] [job="ID:40, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:39, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:13.331 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:13.331 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 61, tp general"] [job="ID:40, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:39, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:13.331 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:13.332 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=40]
[2022/07/15 15:02:13.332 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:13.332 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=19] [neededSchemaVersion=20] ["start time"=61.625µs] [phyTblIDs="[39]"] [actionTypes="[8]"]
[2022/07/15 15:02:13.332 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=20] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.expr_pushdown_blacklist (\n\t\tname \t\tCHAR(100) NOT NULL,\n\t\tstore_type \tCHAR(100) NOT NULL DEFAULT 'tikv,tiflash,tidb',\n\t\treason \t\tVARCHAR(200)\n\t);"] [user=]
[2022/07/15 15:02:13.332 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:42, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:41, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:13.332 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:13.332 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:42, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:41, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:13.332 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.expr_pushdown_blacklist (\n\t\tname \t\tCHAR(100) NOT NULL,\n\t\tstore_type \tCHAR(100) NOT NULL DEFAULT 'tikv,tiflash,tidb',\n\t\treason \t\tVARCHAR(200)\n\t);"]
[2022/07/15 15:02:13.332 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 61, tp general"] [job="ID:42, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:41, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:13.332 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:13.332 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 61, tp general"] [job="ID:42, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:41, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:13.332 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:13.332 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=42]
[2022/07/15 15:02:13.332 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:13.332 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=20] [neededSchemaVersion=21] ["start time"=47.625µs] [phyTblIDs="[41]"] [actionTypes="[8]"]
[2022/07/15 15:02:13.333 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=21] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.opt_rule_blacklist (\n\t\tname \tCHAR(100) NOT NULL\n\t);"] [user=]
[2022/07/15 15:02:13.333 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:44, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:43, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:13.333 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:13.333 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:44, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:43, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:13.333 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.opt_rule_blacklist (\n\t\tname \tCHAR(100) NOT NULL\n\t);"]
[2022/07/15 15:02:13.333 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 61, tp general"] [job="ID:44, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:43, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:13.333 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:13.333 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 61, tp general"] [job="ID:44, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:43, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:13.333 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:13.333 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=44]
[2022/07/15 15:02:13.333 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:13.333 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=21] [neededSchemaVersion=22] ["start time"=34.875µs] [phyTblIDs="[43]"] [actionTypes="[8]"]
[2022/07/15 15:02:13.333 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=22] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_extended (\n\t\tname varchar(32) NOT NULL,\n\t\ttype tinyint(4) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tcolumn_ids varchar(32) NOT NULL,\n\t\tstats blob DEFAULT NULL,\n\t\tversion bigint(64) unsigned NOT NULL,\n\t\tstatus tinyint(4) NOT NULL,\n\t\tPRIMARY KEY(name, table_id),\n\t\tKEY idx_1 (table_id, status, version),\n\t\tKEY idx_2 (status, version)\n\t);"] [user=]
[2022/07/15 15:02:13.333 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:46, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:45, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:13.333 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:13.333 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:46, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:45, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:13.333 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_extended (\n\t\tname varchar(32) NOT NULL,\n\t\ttype tinyint(4) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tcolumn_ids varchar(32) NOT NULL,\n\t\tstats blob DEFAULT NULL,\n\t\tversion bigint(64) unsigned NOT NULL,\n\t\tstatus tinyint(4) NOT NULL,\n\t\tPRIMARY KEY(name, table_id),\n\t\tKEY idx_1 (table_id, status, version),\n\t\tKEY idx_2 (status, version)\n\t);"]
[2022/07/15 15:02:13.333 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 61, tp general"] [job="ID:46, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:45, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:13.333 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:13.334 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 61, tp general"] [job="ID:46, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:45, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:13.333 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:13.334 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=46]
[2022/07/15 15:02:13.334 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:13.334 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=22] [neededSchemaVersion=23] ["start time"=100.042µs] [phyTblIDs="[45]"] [actionTypes="[8]"]
[2022/07/15 15:02:13.334 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=23] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.schema_index_usage (\n\t\tTABLE_ID bigint(64),\n\t\tINDEX_ID bigint(21),\n\t\tQUERY_COUNT bigint(64),\n\t\tROWS_SELECTED bigint(64),\n\t\tLAST_USED_AT timestamp,\n\t\tPRIMARY KEY(TABLE_ID, INDEX_ID)\n\t);"] [user=]
[2022/07/15 15:02:13.334 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:48, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:47, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:13.334 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:13.334 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:48, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:47, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:13.334 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.schema_index_usage (\n\t\tTABLE_ID bigint(64),\n\t\tINDEX_ID bigint(21),\n\t\tQUERY_COUNT bigint(64),\n\t\tROWS_SELECTED bigint(64),\n\t\tLAST_USED_AT timestamp,\n\t\tPRIMARY KEY(TABLE_ID, INDEX_ID)\n\t);"]
[2022/07/15 15:02:13.334 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 61, tp general"] [job="ID:48, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:47, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:13.334 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:13.335 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 61, tp general"] [job="ID:48, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:47, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:13.334 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:13.335 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=48]
[2022/07/15 15:02:13.335 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:13.335 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=23] [neededSchemaVersion=24] ["start time"=62.042µs] [phyTblIDs="[47]"] [actionTypes="[8]"]
[2022/07/15 15:02:13.335 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=24] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_fm_sketch (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"] [user=]
[2022/07/15 15:02:13.335 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:50, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:49, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:13.335 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:13.335 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:50, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:49, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:13.335 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_fm_sketch (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"]
[2022/07/15 15:02:13.335 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 61, tp general"] [job="ID:50, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:49, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:13.335 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:13.336 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 61, tp general"] [job="ID:50, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:49, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:13.335 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:13.336 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=50]
[2022/07/15 15:02:13.336 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:13.336 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=24] [neededSchemaVersion=25] ["start time"=57.667µs] [phyTblIDs="[49]"] [actionTypes="[8]"]
[2022/07/15 15:02:13.336 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=25] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.global_grants (\n\t\tUSER char(32) NOT NULL DEFAULT '',\n\t\tHOST char(255) NOT NULL DEFAULT '',\n\t\tPRIV char(32) NOT NULL DEFAULT '',\n\t\tWITH_GRANT_OPTION enum('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (USER,HOST,PRIV)\n\t);"] [user=]
[2022/07/15 15:02:13.336 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:52, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:51, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:13.336 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:13.336 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:52, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:51, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:13.336 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.global_grants (\n\t\tUSER char(32) NOT NULL DEFAULT '',\n\t\tHOST char(255) NOT NULL DEFAULT '',\n\t\tPRIV char(32) NOT NULL DEFAULT '',\n\t\tWITH_GRANT_OPTION enum('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (USER,HOST,PRIV)\n\t);"]
[2022/07/15 15:02:13.336 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 61, tp general"] [job="ID:52, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:51, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:13.336 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:13.336 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 61, tp general"] [job="ID:52, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:51, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:13.336 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:13.337 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=52]
[2022/07/15 15:02:13.337 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:13.337 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=25] [neededSchemaVersion=26] ["start time"=56.125µs] [phyTblIDs="[51]"] [actionTypes="[8]"]
[2022/07/15 15:02:13.337 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=26] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.capture_plan_baselines_blacklist (\n\t\tid bigint(64) auto_increment,\n\t\tfilter_type varchar(32) NOT NULL COMMENT \"type of the filter, only db, table and frequency supported now\",\n\t\tfilter_value varchar(32) NOT NULL,\n\t\tkey idx(filter_type),\n\t\tprimary key(id)\n\t);"] [user=]
[2022/07/15 15:02:13.337 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:54, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:53, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:13.337 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:13.337 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:54, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:53, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:13.337 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.capture_plan_baselines_blacklist (\n\t\tid bigint(64) auto_increment,\n\t\tfilter_type varchar(32) NOT NULL COMMENT \"type of the filter, only db, table and frequency supported now\",\n\t\tfilter_value varchar(32) NOT NULL,\n\t\tkey idx(filter_type),\n\t\tprimary key(id)\n\t);"]
[2022/07/15 15:02:13.337 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 61, tp general"] [job="ID:54, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:53, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:13.337 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:13.337 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 61, tp general"] [job="ID:54, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:53, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:13.337 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:13.337 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=54]
[2022/07/15 15:02:13.337 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:13.337 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=26] [neededSchemaVersion=27] ["start time"=56.458µs] [phyTblIDs="[53]"] [actionTypes="[8]"]
[2022/07/15 15:02:13.337 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=27] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.column_stats_usage (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tcolumn_id BIGINT(64) NOT NULL,\n\t\tlast_used_at TIMESTAMP,\n\t\tlast_analyzed_at TIMESTAMP,\n\t\tPRIMARY KEY (table_id, column_id) CLUSTERED\n\t);"] [user=]
[2022/07/15 15:02:13.338 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:56, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:55, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:13.338 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:13.338 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:56, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:55, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:13.338 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.column_stats_usage (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tcolumn_id BIGINT(64) NOT NULL,\n\t\tlast_used_at TIMESTAMP,\n\t\tlast_analyzed_at TIMESTAMP,\n\t\tPRIMARY KEY (table_id, column_id) CLUSTERED\n\t);"]
[2022/07/15 15:02:13.338 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 61, tp general"] [job="ID:56, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:55, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:13.338 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:13.338 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 61, tp general"] [job="ID:56, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:55, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:13.338 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:13.338 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=56]
[2022/07/15 15:02:13.338 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:13.338 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=27] [neededSchemaVersion=28] ["start time"=57.208µs] [phyTblIDs="[55]"] [actionTypes="[8]"]
[2022/07/15 15:02:13.338 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=28] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.table_cache_meta (\n\t\ttid bigint(11) NOT NULL DEFAULT 0,\n\t\tlock_type enum('NONE','READ', 'INTEND', 'WRITE') NOT NULL DEFAULT 'NONE',\n\t\tlease bigint(20) NOT NULL DEFAULT 0,\n\t\toldReadLease bigint(20) NOT NULL DEFAULT 0,\n\t\tPRIMARY KEY (tid)\n\t);"] [user=]
[2022/07/15 15:02:13.339 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:58, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:57, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:13.338 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:13.339 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:58, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:57, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:13.338 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.table_cache_meta (\n\t\ttid bigint(11) NOT NULL DEFAULT 0,\n\t\tlock_type enum('NONE','READ', 'INTEND', 'WRITE') NOT NULL DEFAULT 'NONE',\n\t\tlease bigint(20) NOT NULL DEFAULT 0,\n\t\toldReadLease bigint(20) NOT NULL DEFAULT 0,\n\t\tPRIMARY KEY (tid)\n\t);"]
[2022/07/15 15:02:13.339 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 61, tp general"] [job="ID:58, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:57, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:13.338 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:13.339 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 61, tp general"] [job="ID:58, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:57, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:13.338 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:13.339 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=58]
[2022/07/15 15:02:13.339 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:13.339 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=28] [neededSchemaVersion=29] ["start time"=50.583µs] [phyTblIDs="[57]"] [actionTypes="[8]"]
[2022/07/15 15:02:13.339 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=29] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.analyze_options (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tsample_num BIGINT(64) NOT NULL DEFAULT 0,\n\t\tsample_rate DOUBLE NOT NULL DEFAULT -1,\n\t\tbuckets BIGINT(64) NOT NULL DEFAULT 0,\n\t\ttopn BIGINT(64) NOT NULL DEFAULT -1,\n\t\tcolumn_choice enum('DEFAULT','ALL','PREDICATE','LIST') NOT NULL DEFAULT 'DEFAULT',\n\t\tcolumn_ids TEXT(19372),\n\t\tPRIMARY KEY (table_id) CLUSTERED\n\t);"] [user=]
[2022/07/15 15:02:13.339 +08:00] [INFO] [ddl_api.go:999] ["Automatically convert BLOB(19372) to MEDIUMBLOB"]
[2022/07/15 15:02:13.339 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:60, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:59, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:13.339 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:13.339 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:60, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:59, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:13.339 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.analyze_options (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tsample_num BIGINT(64) NOT NULL DEFAULT 0,\n\t\tsample_rate DOUBLE NOT NULL DEFAULT -1,\n\t\tbuckets BIGINT(64) NOT NULL DEFAULT 0,\n\t\ttopn BIGINT(64) NOT NULL DEFAULT -1,\n\t\tcolumn_choice enum('DEFAULT','ALL','PREDICATE','LIST') NOT NULL DEFAULT 'DEFAULT',\n\t\tcolumn_ids TEXT(19372),\n\t\tPRIMARY KEY (table_id) CLUSTERED\n\t);"]
[2022/07/15 15:02:13.339 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 61, tp general"] [job="ID:60, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:59, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:13.339 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:13.340 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 61, tp general"] [job="ID:60, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:59, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:13.339 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:13.340 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=60]
[2022/07/15 15:02:13.340 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:13.340 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=29] [neededSchemaVersion=30] ["start time"=66.292µs] [phyTblIDs="[59]"] [actionTypes="[8]"]
[2022/07/15 15:02:13.340 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=30] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tstats_data longblob NOT NULL,\n\t\tseq_no bigint(64) NOT NULL comment 'sequence number of the gzipped data slice',\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version_seq (table_id, version, seq_no),\n\t\tKEY table_create_time (table_id, create_time, seq_no)\n\t);"] [user=]
[2022/07/15 15:02:13.340 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:62, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:61, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:13.34 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:13.340 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:62, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:61, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:13.34 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tstats_data longblob NOT NULL,\n\t\tseq_no bigint(64) NOT NULL comment 'sequence number of the gzipped data slice',\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version_seq (table_id, version, seq_no),\n\t\tKEY table_create_time (table_id, create_time, seq_no)\n\t);"]
[2022/07/15 15:02:13.340 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 61, tp general"] [job="ID:62, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:61, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:13.34 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:13.341 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 61, tp general"] [job="ID:62, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:61, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:13.34 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:13.341 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=62]
[2022/07/15 15:02:13.341 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:13.341 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=30] [neededSchemaVersion=31] ["start time"=70.125µs] [phyTblIDs="[61]"] [actionTypes="[8]"]
[2022/07/15 15:02:13.341 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=31] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_meta_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL,\n\t\tcount bigint(64) NOT NULL,\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version (table_id, version),\n\t\tKEY table_create_time (table_id, create_time)\n\t);"] [user=]
[2022/07/15 15:02:13.341 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:64, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:63, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:13.341 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:13.341 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:64, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:63, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:13.341 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_meta_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL,\n\t\tcount bigint(64) NOT NULL,\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version (table_id, version),\n\t\tKEY table_create_time (table_id, create_time)\n\t);"]
[2022/07/15 15:02:13.341 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 61, tp general"] [job="ID:64, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:63, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:13.341 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:13.342 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 61, tp general"] [job="ID:64, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:63, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:13.341 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:13.342 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=64]
[2022/07/15 15:02:13.342 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:13.342 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=31] [neededSchemaVersion=32] ["start time"=66.625µs] [phyTblIDs="[63]"] [actionTypes="[8]"]
[2022/07/15 15:02:13.342 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=32] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.analyze_jobs (\n\t\tid BIGINT(64) UNSIGNED NOT NULL AUTO_INCREMENT,\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\ttable_schema CHAR(64) NOT NULL DEFAULT '',\n\t\ttable_name CHAR(64) NOT NULL DEFAULT '',\n\t\tpartition_name CHAR(64) NOT NULL DEFAULT '',\n\t\tjob_info TEXT NOT NULL,\n\t\tprocessed_rows BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tstart_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tstate ENUM('pending', 'running', 'finished', 'failed') NOT NULL,\n\t\tfail_reason TEXT,\n\t\tinstance VARCHAR(512) NOT NULL comment 'address of the TiDB instance executing the analyze job',\n\t\tprocess_id BIGINT(64) UNSIGNED comment 'ID of the process executing the analyze job',\n\t\tPRIMARY KEY (id),\n\t\tKEY (update_time)\n\t);"] [user=]
[2022/07/15 15:02:13.342 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:66, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:65, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:13.342 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:13.342 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:66, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:65, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:13.342 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.analyze_jobs (\n\t\tid BIGINT(64) UNSIGNED NOT NULL AUTO_INCREMENT,\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\ttable_schema CHAR(64) NOT NULL DEFAULT '',\n\t\ttable_name CHAR(64) NOT NULL DEFAULT '',\n\t\tpartition_name CHAR(64) NOT NULL DEFAULT '',\n\t\tjob_info TEXT NOT NULL,\n\t\tprocessed_rows BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tstart_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tstate ENUM('pending', 'running', 'finished', 'failed') NOT NULL,\n\t\tfail_reason TEXT,\n\t\tinstance VARCHAR(512) NOT NULL comment 'address of the TiDB instance executing the analyze job',\n\t\tprocess_id BIGINT(64) UNSIGNED comment 'ID of the process executing the analyze job',\n\t\tPRIMARY KEY (id),\n\t\tKEY (update_time)\n\t);"]
[2022/07/15 15:02:13.342 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 61, tp general"] [job="ID:66, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:65, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:13.342 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:13.343 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 61, tp general"] [job="ID:66, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:65, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:13.342 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:13.343 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=66]
[2022/07/15 15:02:13.343 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:13.343 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=32] [neededSchemaVersion=33] ["start time"=109.625µs] [phyTblIDs="[65]"] [actionTypes="[8]"]
[2022/07/15 15:02:13.343 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=33] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.advisory_locks (\n\t\tlock_name VARCHAR(64) NOT NULL PRIMARY KEY\n\t);"] [user=]
[2022/07/15 15:02:13.344 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:68, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:67, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:13.344 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:13.344 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:68, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:67, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:13.344 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.advisory_locks (\n\t\tlock_name VARCHAR(64) NOT NULL PRIMARY KEY\n\t);"]
[2022/07/15 15:02:13.344 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 61, tp general"] [job="ID:68, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:67, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:13.344 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:13.344 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 61, tp general"] [job="ID:68, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:67, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:13.344 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:13.344 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=68]
[2022/07/15 15:02:13.344 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:13.344 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=33] [neededSchemaVersion=34] ["start time"=45.75µs] [phyTblIDs="[67]"] [actionTypes="[8]"]
[2022/07/15 15:02:13.350 +08:00] [INFO] [bootstrap.go:448] ["bootstrap successful"] ["take time"=41.409209ms]
[2022/07/15 15:02:13.350 +08:00] [INFO] [ddl_worker.go:158] ["[ddl] DDL worker closed"] [worker="worker 61, tp general"] ["take time"=84ns]
[2022/07/15 15:02:13.350 +08:00] [INFO] [ddl_worker.go:158] ["[ddl] DDL worker closed"] [worker="worker 62, tp add index"] ["take time"=42ns]
[2022/07/15 15:02:13.350 +08:00] [INFO] [delete_range.go:148] ["[ddl] closing delRange"]
[2022/07/15 15:02:13.350 +08:00] [INFO] [session_pool.go:94] ["[ddl] closing sessionPool"]
[2022/07/15 15:02:13.350 +08:00] [INFO] [ddl.go:576] ["[ddl] DDL closed"] [ID=48db4db8-38f7-485b-a9b2-046efcb201ab] ["take time"=64.333µs]
[2022/07/15 15:02:13.350 +08:00] [INFO] [ddl.go:464] ["[ddl] stop DDL"] [ID=48db4db8-38f7-485b-a9b2-046efcb201ab]
[2022/07/15 15:02:13.350 +08:00] [INFO] [domain.go:498] ["topNSlowQueryLoop exited."]
[2022/07/15 15:02:13.350 +08:00] [INFO] [domain.go:527] ["infoSyncerKeeper exited."]
[2022/07/15 15:02:13.350 +08:00] [INFO] [domain.go:552] ["globalConfigSyncerKeeper exited."]
[2022/07/15 15:02:13.350 +08:00] [INFO] [domain.go:575] ["topologySyncerKeeper exited."]
[2022/07/15 15:02:13.350 +08:00] [INFO] [domain.go:733] ["domain closed"] ["take time"=110.083µs]
[2022/07/15 15:02:13.350 +08:00] [INFO] [tidb.go:74] ["new domain"] [store=65b9ee93-4f77-4d6d-a85f-65971a3f4057] ["ddl lease"=0s] ["stats lease"=-1ns] ["index usage sync lease"=0s]
[2022/07/15 15:02:13.352 +08:00] [INFO] [domain.go:178] ["full load InfoSchema success"] [currentSchemaVersion=0] [neededSchemaVersion=34] ["start time"=2.369417ms]
[2022/07/15 15:02:13.352 +08:00] [INFO] [domain.go:449] ["full load and reset schema validator"]
[2022/07/15 15:02:13.352 +08:00] [INFO] [ddl.go:483] ["[ddl] start DDL"] [ID=021cf18f-d7a6-45fa-a906-89cfd59c3e6a] [runWorker=true]
[2022/07/15 15:02:13.353 +08:00] [INFO] [ddl.go:472] ["[ddl] start delRangeManager OK"] ["is a emulator"=true]
[2022/07/15 15:02:13.353 +08:00] [INFO] [delete_range.go:158] ["[ddl] start delRange emulator"]
[2022/07/15 15:02:13.353 +08:00] [INFO] [ddl_worker.go:164] ["[ddl] start DDL worker"] [worker="worker 63, tp general"]
[2022/07/15 15:02:13.353 +08:00] [INFO] [ddl_worker.go:164] ["[ddl] start DDL worker"] [worker="worker 64, tp add index"]
[2022/07/15 15:02:13.353 +08:00] [WARN] [sysvar_cache.go:53] ["sysvar cache is empty, triggering rebuild"]
[2022/07/15 15:02:13.357 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=16] [schemaVersion=34] [cur_db=test] [sql="drop table if exists t"] [user=]
[2022/07/15 15:02:13.357 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=16] [schemaVersion=34] [cur_db=test] [sql="create table t (a decimal(1,0))"] [user=]
[2022/07/15 15:02:13.357 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:70, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:13.357 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:13.357 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:70, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:13.357 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="create table t (a decimal(1,0))"]
[2022/07/15 15:02:13.357 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 63, tp general"] [job="ID:70, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:13.357 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:13.357 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 63, tp general"] [job="ID:70, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:69, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:13.357 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:13.357 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=70]
[2022/07/15 15:02:13.357 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:13.358 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=34] [neededSchemaVersion=35] ["start time"=41.417µs] [phyTblIDs="[69]"] [actionTypes="[8]"]
[2022/07/15 15:02:13.358 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=16] [schemaVersion=35] [cur_db=test] [sql="alter table t set tiflash replica 1"] [user=]
[2022/07/15 15:02:13.358 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:71, Type:set tiflash replica, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:13.358 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:13.358 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:71, Type:set tiflash replica, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:13.358 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="alter table t set tiflash replica 1"]
[2022/07/15 15:02:13.358 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 63, tp general"] [job="ID:71, Type:set tiflash replica, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:13.358 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:13.358 +08:00] [INFO] [table.go:1109] ["Set TiFlash replica pd rule"] [tableID=69]
[2022/07/15 15:02:13.358 +08:00] [INFO] [info.go:1051] [ConfigureTiFlashPDForTable] [tableID=69] [count=1]
[2022/07/15 15:02:13.358 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 63, tp general"] [job="ID:71, Type:set tiflash replica, State:synced, SchemaState:public, SchemaID:1, TableID:69, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:13.358 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:13.358 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=71]
[2022/07/15 15:02:13.358 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:13.358 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=35] [neededSchemaVersion=36] ["start time"=36.041µs] [phyTblIDs="[]"] [actionTypes="[]"]
[2022/07/15 15:02:13.358 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:72, Type:update tiflash replica status, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:2, start time: 2022-07-15 15:02:13.358 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:13.358 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:72, Type:update tiflash replica status, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:2, start time: 2022-07-15 15:02:13.358 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query=]
[2022/07/15 15:02:13.358 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 63, tp general"] [job="ID:72, Type:update tiflash replica status, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:13.358 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:13.358 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 63, tp general"] [job="ID:72, Type:update tiflash replica status, State:synced, SchemaState:public, SchemaID:1, TableID:69, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:13.358 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:13.359 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=72]
[2022/07/15 15:02:13.359 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:13.359 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=36] [neededSchemaVersion=37] ["start time"=31.292µs] [phyTblIDs="[]"] [actionTypes="[]"]
[2022/07/15 15:02:13.359 +08:00] [WARN] [2pc.go:1806] ["schemaLeaseChecker is not set for this transaction"] [sessionID=16] [startTS=434600288808861698] [checkTS=434600288808861699]
[2022/07/15 15:02:13.450 +08:00] [INFO] [2pc.go:629] ["[BIG_TXN]"] [session=16] ["key sample"=7480000000000000455f728000000000004001] [size=507904] [keys=16384] [puts=16384] [dels=0] [locks=0] [checks=0] [txnStartTS=434600288822493184]
[2022/07/15 15:02:13.548 +08:00] [INFO] [2pc.go:629] ["[BIG_TXN]"] [session=16] ["key sample"=7480000000000000455f728000000000008001] [size=1015808] [keys=32768] [puts=32768] [dels=0] [locks=0] [checks=0] [txnStartTS=434600288836124672]
[2022/07/15 15:02:13.561 +08:00] [INFO] [fragment.go:77] ["Mpp will generate tasks"] [plan=Recv()->HashAgg->Projection->Send()]
[2022/07/15 15:02:13.561 +08:00] [INFO] [batch_coprocessor.go:325] ["detecting available mpp stores"]
[2022/07/15 15:02:13.561 +08:00] [WARN] [batch_coprocessor.go:359] ["Store is not ready"] ["store address"=tiflash1] ["err message"="not support this request type MPPAlive"]
[2022/07/15 15:02:13.561 +08:00] [WARN] [batch_coprocessor.go:359] ["Store is not ready"] ["store address"=tiflash0] ["err message"="not support this request type MPPAlive"]
[2022/07/15 15:02:13.561 +08:00] [WARN] [batch_coprocessor.go:400] ["Meet regions that don't have an available store. Give up balancing"]
[2022/07/15 15:02:13.561 +08:00] [INFO] [mpp_gather.go:80] ["Dispatch mpp task"] [timestamp=434600288861814784] [ID=1] [address=tiflash0] [plan="Table(t)->Send(2, )"]
[2022/07/15 15:02:13.561 +08:00] [INFO] [mpp_gather.go:80] ["Dispatch mpp task"] [timestamp=434600288861814784] [ID=2] [address=tiflash0] [plan="Recv(1, )->HashAgg->Projection->Send(-1, )"]
[2022/07/15 15:02:14.616 +08:00] [WARN] [adapter.go:1067] ["# Txn_start_ts: 434600288861814784\n# Conn_ID: 16\n# Query_time: 1.054828125\n# Parse_time: 0.000028958\n# Compile_time: 0.000189167\n# Rewrite_time: 0.000035166\n# Optimize_time: 0.000129458\n# Wait_TS: 0.00000525\n# Cop_time: 1.0543445 Request_count: 1\n# DB: test\n# Is_internal: false\n# Digest: dc8f1177bcb22070fd88ea7c69b105e1dfea80ee00f447f741a473fcee01dd31\n# Stats: t:pseudo\n# Num_cop_tasks: 1\n# Cop_proc_avg: 0 Cop_proc_addr: tiflash0\n# Cop_wait_avg: 0 Cop_wait_addr: tiflash0\n# Prepared: false\n# Plan_from_cache: false\n# Plan_from_binding: false\n# Has_more_results: false\n# KV_total: 0\n# PD_total: 0\n# Backoff_total: 0\n# Write_sql_response_total: 0\n# Result_rows: 0\n# Succ: true\n# IsExplicitTxn: false\n# Plan: tidb_decode_plan('xwPAMAkzMV80MQkwCTgwMDAJZGF0YTpFeGNoYW5nZVNlbmRlcl80MAoxCTQ5XzQwCTFfMQkoESNcVHlwZTogUGFzc1Rocm91Z2gKMgkzXzM1GSpkZGl2KENvbHVtbiMzLCBjYXN0KGNhc2UoZXERFygxMiwgMCksIDEsIA0pcDEyKSwgZGVjaW1hbCgyMCwwKSBCSU5BUlkpKS0+DSQcMwozCTZfMzMZanhncm91cCBieTp0ZXN0LnQuYSwgZnVuY3M6Y291bnQoERYZQwF5CSIIc3VtSiAAIDMKNAk0OF8xOQVkHDEwMDAwCQo1IQsEMTgdEzYMATRIYXNoUGFydGl0aW9uLAUPAdckczogW25hbWU6IBGIdCwgY29sbGF0ZTogYmluYXJ5XQo2CTQzXzE3CTFfMQ1vnHRhYmxlOnQsIGtlZXAgb3JkZXI6ZmFsc2UsIHN0YXRzOnBzZXVkbwo=')\n# Plan_digest: 0914cfd81a3534df89545e2106ed67d501e01211d6d7b902553f74942f865d17\nuse test;\nselect avg(a) from t group by a;"]
[2022/07/15 15:02:14.616 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=16] [schemaVersion=37] [cur_db=test] [sql="drop table if exists t"] [user=]
[2022/07/15 15:02:14.616 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:73, Type:drop table, State:queueing, SchemaState:public, SchemaID:1, TableID:69, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:14.616 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:14.616 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:73, Type:drop table, State:queueing, SchemaState:public, SchemaID:1, TableID:69, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:14.616 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="drop table if exists t"]
[2022/07/15 15:02:14.616 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 63, tp general"] [job="ID:73, Type:drop table, State:queueing, SchemaState:public, SchemaID:1, TableID:69, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:14.616 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:14.616 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 63, tp general"] [job="ID:73, Type:drop table, State:running, SchemaState:write only, SchemaID:1, TableID:69, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:14.616 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:14.616 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 63, tp general"] [job="ID:73, Type:drop table, State:running, SchemaState:delete only, SchemaID:1, TableID:69, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:14.616 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:14.616 +08:00] [INFO] [delete_range.go:433] ["[ddl] insert into delete-range table"] [jobID=73] [elementID=1] [comment="table ID is 69"]
[2022/07/15 15:02:14.617 +08:00] [INFO] [delete_range.go:109] ["[ddl] add job into delete-range table"] [jobID=73] [jobType="drop table"]
[2022/07/15 15:02:14.617 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 63, tp general"] [job="ID:73, Type:drop table, State:synced, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:3, start time: 2022-07-15 15:02:14.616 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:14.617 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=73]
[2022/07/15 15:02:14.617 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:14.618 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=37] [neededSchemaVersion=40] ["start time"=31.5µs] [phyTblIDs="[69]"] [actionTypes="[16]"]
[2022/07/15 15:02:14.618 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=16] [schemaVersion=40] [cur_db=test] [sql="drop table if exists td;"] [user=]
[2022/07/15 15:02:14.618 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=16] [schemaVersion=40] [cur_db=test] [sql="create table td (col_bigint bigint(20), col_smallint smallint(6));"] [user=]
[2022/07/15 15:02:14.618 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:75, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:74, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:14.618 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:14.618 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:75, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:74, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:14.618 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="create table td (col_bigint bigint(20), col_smallint smallint(6));"]
[2022/07/15 15:02:14.618 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 63, tp general"] [job="ID:75, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:74, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:14.618 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:14.618 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 63, tp general"] [job="ID:75, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:74, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:14.618 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:14.618 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=75]
[2022/07/15 15:02:14.618 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:14.619 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=40] [neededSchemaVersion=41] ["start time"=48.333µs] [phyTblIDs="[74]"] [actionTypes="[8]"]
[2022/07/15 15:02:14.619 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=16] [schemaVersion=41] [cur_db=test] [sql="alter table td set tiflash replica 1"] [user=]
[2022/07/15 15:02:14.619 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:76, Type:set tiflash replica, State:queueing, SchemaState:none, SchemaID:1, TableID:74, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:14.619 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:14.619 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:76, Type:set tiflash replica, State:queueing, SchemaState:none, SchemaID:1, TableID:74, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:14.619 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="alter table td set tiflash replica 1"]
[2022/07/15 15:02:14.619 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 63, tp general"] [job="ID:76, Type:set tiflash replica, State:queueing, SchemaState:none, SchemaID:1, TableID:74, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:14.619 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:14.619 +08:00] [INFO] [table.go:1109] ["Set TiFlash replica pd rule"] [tableID=74]
[2022/07/15 15:02:14.619 +08:00] [INFO] [info.go:1051] [ConfigureTiFlashPDForTable] [tableID=74] [count=1]
[2022/07/15 15:02:14.619 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 63, tp general"] [job="ID:76, Type:set tiflash replica, State:synced, SchemaState:public, SchemaID:1, TableID:74, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:14.619 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:14.619 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=76]
[2022/07/15 15:02:14.619 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:14.619 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=41] [neededSchemaVersion=42] ["start time"=44.958µs] [phyTblIDs="[]"] [actionTypes="[]"]
[2022/07/15 15:02:14.619 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:77, Type:update tiflash replica status, State:queueing, SchemaState:none, SchemaID:1, TableID:74, RowCount:0, ArgLen:2, start time: 2022-07-15 15:02:14.619 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:14.619 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:77, Type:update tiflash replica status, State:queueing, SchemaState:none, SchemaID:1, TableID:74, RowCount:0, ArgLen:2, start time: 2022-07-15 15:02:14.619 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query=]
[2022/07/15 15:02:14.619 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 63, tp general"] [job="ID:77, Type:update tiflash replica status, State:queueing, SchemaState:none, SchemaID:1, TableID:74, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:14.619 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:14.620 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 63, tp general"] [job="ID:77, Type:update tiflash replica status, State:synced, SchemaState:public, SchemaID:1, TableID:74, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:14.619 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:14.620 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=77]
[2022/07/15 15:02:14.620 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:14.620 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=42] [neededSchemaVersion=43] ["start time"=45.584µs] [phyTblIDs="[]"] [actionTypes="[]"]
[2022/07/15 15:02:14.620 +08:00] [WARN] [2pc.go:1806] ["schemaLeaseChecker is not set for this transaction"] [sessionID=16] [startTS=434600289139425287] [checkTS=434600289139425288]
[2022/07/15 15:02:14.621 +08:00] [INFO] [fragment.go:77] ["Mpp will generate tasks"] [plan=Table(td)->Projection->HashAgg->Send()]
[2022/07/15 15:02:14.621 +08:00] [INFO] [batch_coprocessor.go:325] ["detecting available mpp stores"]
[2022/07/15 15:02:14.621 +08:00] [WARN] [batch_coprocessor.go:359] ["Store is not ready"] ["store address"=tiflash1] ["err message"="not support this request type MPPAlive"]
[2022/07/15 15:02:14.621 +08:00] [WARN] [batch_coprocessor.go:359] ["Store is not ready"] ["store address"=tiflash0] ["err message"="not support this request type MPPAlive"]
[2022/07/15 15:02:14.621 +08:00] [WARN] [batch_coprocessor.go:400] ["Meet regions that don't have an available store. Give up balancing"]
[2022/07/15 15:02:14.621 +08:00] [INFO] [mpp_gather.go:80] ["Dispatch mpp task"] [timestamp=434600289139687436] [ID=1] [address=tiflash0] [plan="Table(td)->Projection->HashAgg->Send(-1, )"]
[2022/07/15 15:02:14.657 +08:00] [INFO] [2pc.go:629] ["[BIG_TXN]"] [session=0] ["key sample"=7480000000000000455f728000000000000001] [size=1245184] [keys=65536] [puts=0] [dels=65536] [locks=0] [checks=0] [txnStartTS=434600289138638856]
[2022/07/15 15:02:14.707 +08:00] [INFO] [db.go:831] ["flushing memtable"] ["memtable size"=12582804] ["size of flushChan"=0]
[2022/07/15 15:02:14.707 +08:00] [INFO] [db.go:935] ["flush memtable storing offset"] [fid=0] [offset=0]
[2022/07/15 15:02:14.713 +08:00] [INFO] [delete_range.go:245] ["[ddl] delRange emulator complete task"] [jobID=73] [elementID=1] [startKey=748000000000000045] [endKey=748000000000000046]
[2022/07/15 15:02:15.622 +08:00] [WARN] [adapter.go:1067] ["# Txn_start_ts: 434600289139687436\n# Conn_ID: 16\n# Query_time: 1.000696416\n# Parse_time: 0.000017541\n# Compile_time: 0.000145875\n# Rewrite_time: 0.0000295\n# Optimize_time: 0.000096375\n# Wait_TS: 0.000003584\n# Cop_time: 1.000208541 Request_count: 1\n# DB: test\n# Is_internal: false\n# Digest: 94b1e4c839ee326be0fe103924ef7f15c6229220e2e5c2ab3e2a3559f932c6a1\n# Stats: td:pseudo\n# Num_cop_tasks: 1\n# Cop_proc_avg: 0 Cop_proc_addr: tiflash0\n# Cop_wait_avg: 0 Cop_wait_addr: tiflash0\n# Mem_max: 24460\n# Prepared: false\n# Plan_from_cache: false\n# Plan_from_binding: false\n# Has_more_results: false\n# KV_total: 0\n# PD_total: 0\n# Backoff_total: 0\n# Write_sql_response_total: 0\n# Result_rows: 0\n# Succ: true\n# IsExplicitTxn: false\n# Plan: tidb_decode_plan('+gN4MAk2XzE4CTAJMQlmdW5jczphdmcoQ29sdW1uIzcsIA0KDDgpLT4NCyA0CjEJMzFfMjAFNJBkYXRhOkV4Y2hhbmdlU2VuZGVyXzE5CjIJNDlfMTkJMV8xCTEJESBUVHlwZTogUGFzc1Rocm91Z2gKMwk2XxEmCX8UY291bnQoDWwEMTMZeAg3LCAJIghzdW0VIAA0GSAcOAo0CTNfMzAJdOAwMDAwCWRpdihjYXN0KHRlc3QudGQuY29sX2JpZ2ludCwgZGVjaW1hbCgyMCwwKSBCSU5BUlkpLCBCMAAQc21hbGxmMgAZgQwxMywg/nIAunIAIDQKNQk0M18xNx31oHRhYmxlOnRkLCBrZWVwIG9yZGVyOmZhbHNlLCBzdGF0czpwc2V1ZG8K')\n# Plan_digest: 078fe375ee07c63d4b48b4cebeedf778390872b9e0b0572da482163b2f48345d\n SELECT AVG( col_bigint / col_smallint) AS field1 FROM td;"]
[2022/07/15 15:02:15.624 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=16] [schemaVersion=43] [cur_db=test] [sql="drop table if exists td;"] [user=]
[2022/07/15 15:02:15.625 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:78, Type:drop table, State:queueing, SchemaState:public, SchemaID:1, TableID:74, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:15.624 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:15.625 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:78, Type:drop table, State:queueing, SchemaState:public, SchemaID:1, TableID:74, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:15.624 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="drop table if exists td;"]
[2022/07/15 15:02:15.625 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 63, tp general"] [job="ID:78, Type:drop table, State:queueing, SchemaState:public, SchemaID:1, TableID:74, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:15.624 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:15.625 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 63, tp general"] [job="ID:78, Type:drop table, State:running, SchemaState:write only, SchemaID:1, TableID:74, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:15.624 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:15.625 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 63, tp general"] [job="ID:78, Type:drop table, State:running, SchemaState:delete only, SchemaID:1, TableID:74, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:15.624 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:15.626 +08:00] [INFO] [delete_range.go:433] ["[ddl] insert into delete-range table"] [jobID=78] [elementID=1] [comment="table ID is 74"]
[2022/07/15 15:02:15.626 +08:00] [INFO] [delete_range.go:109] ["[ddl] add job into delete-range table"] [jobID=78] [jobType="drop table"]
[2022/07/15 15:02:15.626 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 63, tp general"] [job="ID:78, Type:drop table, State:synced, SchemaState:none, SchemaID:1, TableID:74, RowCount:0, ArgLen:3, start time: 2022-07-15 15:02:15.624 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:15.627 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=78]
[2022/07/15 15:02:15.627 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:15.627 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=43] [neededSchemaVersion=46] ["start time"=27.458µs] [phyTblIDs="[74]"] [actionTypes="[16]"]
[2022/07/15 15:02:15.627 +08:00] [INFO] [ddl_worker.go:158] ["[ddl] DDL worker closed"] [worker="worker 63, tp general"] ["take time"=167ns]
[2022/07/15 15:02:15.627 +08:00] [INFO] [ddl_worker.go:158] ["[ddl] DDL worker closed"] [worker="worker 64, tp add index"] ["take time"=42ns]
[2022/07/15 15:02:15.627 +08:00] [INFO] [delete_range.go:148] ["[ddl] closing delRange"]
[2022/07/15 15:02:15.627 +08:00] [INFO] [delete_range.go:245] ["[ddl] delRange emulator complete task"] [jobID=78] [elementID=1] [startKey=74800000000000004a] [endKey=74800000000000004b]
[2022/07/15 15:02:15.627 +08:00] [INFO] [session_pool.go:94] ["[ddl] closing sessionPool"]
[2022/07/15 15:02:15.627 +08:00] [INFO] [ddl.go:576] ["[ddl] DDL closed"] [ID=021cf18f-d7a6-45fa-a906-89cfd59c3e6a] ["take time"=683µs]
[2022/07/15 15:02:15.627 +08:00] [INFO] [ddl.go:464] ["[ddl] stop DDL"] [ID=021cf18f-d7a6-45fa-a906-89cfd59c3e6a]
[2022/07/15 15:02:15.627 +08:00] [INFO] [domain.go:498] ["topNSlowQueryLoop exited."]
[2022/07/15 15:02:15.627 +08:00] [INFO] [domain.go:1288] ["dumpFileGcChecker exited."]
[2022/07/15 15:02:15.627 +08:00] [INFO] [handle_hist.go:156] ["SubLoadWorker exited."]
[2022/07/15 15:02:15.627 +08:00] [INFO] [domain.go:1032] ["loadPrivilegeInLoop exited."]
[2022/07/15 15:02:15.627 +08:00] [INFO] [domain.go:1203] ["handleEvolvePlanTasksLoop exited."]
[2022/07/15 15:02:15.627 +08:00] [INFO] [domain.go:1160] ["globalBindHandleWorkerLoop exited."]
[2022/07/15 15:02:15.628 +08:00] [INFO] [domain.go:575] ["topologySyncerKeeper exited."]
[2022/07/15 15:02:15.628 +08:00] [INFO] [handle_hist.go:156] ["SubLoadWorker exited."]
[2022/07/15 15:02:15.628 +08:00] [INFO] [handle_hist.go:156] ["SubLoadWorker exited."]
[2022/07/15 15:02:15.628 +08:00] [INFO] [domain.go:552] ["globalConfigSyncerKeeper exited."]
[2022/07/15 15:02:15.628 +08:00] [INFO] [handle_hist.go:156] ["SubLoadWorker exited."]
[2022/07/15 15:02:15.628 +08:00] [INFO] [domain.go:527] ["infoSyncerKeeper exited."]
[2022/07/15 15:02:15.628 +08:00] [INFO] [domain.go:1082] ["LoadSysVarCacheLoop exited."]
[2022/07/15 15:02:15.628 +08:00] [INFO] [handle_hist.go:156] ["SubLoadWorker exited."]
[2022/07/15 15:02:15.628 +08:00] [INFO] [domain.go:733] ["domain closed"] ["take time"=788.666µs]
[2022/07/15 15:02:15.646 +08:00] [INFO] [db.go:567] ["Closing database"]
[2022/07/15 15:02:15.646 +08:00] [INFO] [db.go:592] ["Memtable flushed"]
[2022/07/15 15:02:15.646 +08:00] [INFO] [db.go:596] ["Compaction finished"]
[2022/07/15 15:02:15.646 +08:00] [INFO] [db.go:615] ["BlobManager finished"]
[2022/07/15 15:02:15.646 +08:00] [INFO] [db.go:619] ["ResourceManager finished"]
[2022/07/15 15:02:15.646 +08:00] [INFO] [db.go:625] ["Waiting for closer"]
[2022/07/15 15:02:15.722 +08:00] [INFO] [tidb.go:74] ["new domain"] [store=2729a4da-e333-4c24-a6c5-6463e0df5914] ["ddl lease"=0s] ["stats lease"=-1ns] ["index usage sync lease"=0s]
[2022/07/15 15:02:15.723 +08:00] [INFO] [domain.go:178] ["full load InfoSchema success"] [currentSchemaVersion=0] [neededSchemaVersion=0] ["start time"=491.417µs]
[2022/07/15 15:02:15.723 +08:00] [INFO] [domain.go:449] ["full load and reset schema validator"]
[2022/07/15 15:02:15.723 +08:00] [INFO] [ddl.go:483] ["[ddl] start DDL"] [ID=58ab7a03-94e1-4848-a6cc-255c2972c146] [runWorker=true]
[2022/07/15 15:02:15.723 +08:00] [INFO] [ddl.go:472] ["[ddl] start delRangeManager OK"] ["is a emulator"=true]
[2022/07/15 15:02:15.723 +08:00] [INFO] [delete_range.go:158] ["[ddl] start delRange emulator"]
[2022/07/15 15:02:15.723 +08:00] [INFO] [ddl_worker.go:164] ["[ddl] start DDL worker"] [worker="worker 66, tp add index"]
[2022/07/15 15:02:15.723 +08:00] [INFO] [ddl_worker.go:164] ["[ddl] start DDL worker"] [worker="worker 65, tp general"]
[2022/07/15 15:02:15.723 +08:00] [INFO] [tidb.go:268] ["rollbackTxn called due to ddl/autocommit failure"]
[2022/07/15 15:02:15.723 +08:00] [WARN] [session.go:1983] ["run statement failed"] [schemaVersion=0] [error="[schema:1049]Unknown database 'mysql'"] [errorVerbose="[schema:1049]Unknown database 'mysql'\ngithub.com/pingcap/errors.AddStack\n\t/Users/hongyunyan/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20211224045212-9687c2b0f87c/errors.go:174\ngithub.com/pingcap/errors.(*Error).GenWithStackByArgs\n\t/Users/hongyunyan/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20211224045212-9687c2b0f87c/normalize.go:164\ngithub.com/pingcap/tidb/executor.(*SimpleExec).executeUse\n\t/Users/hongyunyan/Desktop/tidb/executor/simple.go:571\ngithub.com/pingcap/tidb/executor.(*SimpleExec).Next\n\t/Users/hongyunyan/Desktop/tidb/executor/simple.go:131\ngithub.com/pingcap/tidb/executor.Next\n\t/Users/hongyunyan/Desktop/tidb/executor/executor.go:319\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelayExecutor\n\t/Users/hongyunyan/Desktop/tidb/executor/adapter.go:673\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelay\n\t/Users/hongyunyan/Desktop/tidb/executor/adapter.go:523\ngithub.com/pingcap/tidb/executor.(*ExecStmt).Exec\n\t/Users/hongyunyan/Desktop/tidb/executor/adapter.go:472\ngithub.com/pingcap/tidb/session.runStmt\n\t/Users/hongyunyan/Desktop/tidb/session/session.go:2114\ngithub.com/pingcap/tidb/session.(*session).ExecuteStmt\n\t/Users/hongyunyan/Desktop/tidb/session/session.go:1980\ngithub.com/pingcap/tidb/session.(*session).ExecuteInternal\n\t/Users/hongyunyan/Desktop/tidb/session/session.go:1495\ngithub.com/pingcap/tidb/session.checkBootstrapped\n\t/Users/hongyunyan/Desktop/tidb/session/bootstrap.go:728\ngithub.com/pingcap/tidb/session.bootstrap\n\t/Users/hongyunyan/Desktop/tidb/session/bootstrap.go:431\ngithub.com/pingcap/tidb/session.runInBootstrapSession\n\t/Users/hongyunyan/Desktop/tidb/session/session.go:2834\ngithub.com/pingcap/tidb/session.BootstrapSession\n\t/Users/hongyunyan/Desktop/tidb/session/session.go:2720\ngithub.com/pingcap/tidb/testkit.bootstrap\n\t/Users/hongyunyan/Desktop/tidb/testkit/mockstore.go:71\ngithub.com/pingcap/tidb/testkit.CreateMockStoreAndDomain\n\t/Users/hongyunyan/Desktop/tidb/testkit/mockstore.go:64\ngithub.com/pingcap/tidb/testkit.CreateMockStore\n\t/Users/hongyunyan/Desktop/tidb/testkit/mockstore.go:56\ngithub.com/pingcap/tidb/executor/tiflashtest.TestMppApply\n\t/Users/hongyunyan/Desktop/tidb/executor/tiflashtest/tiflash_test.go:869\ntesting.tRunner\n\t/opt/homebrew/Cellar/go/1.18.3/libexec/src/testing/testing.go:1439\nruntime.goexit\n\t/opt/homebrew/Cellar/go/1.18.3/libexec/src/runtime/asm_arm64.s:1263"] [session="{\n  \"currDBName\": \"\",\n  \"id\": 0,\n  \"status\": 2,\n  \"strictMode\": true,\n  \"user\": null\n}"]
[2022/07/15 15:02:15.723 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=0] [cur_db=] [sql="CREATE DATABASE IF NOT EXISTS test"] [user=]
[2022/07/15 15:02:15.724 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:2, Type:create schema, State:queueing, SchemaState:none, SchemaID:1, TableID:0, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:15.724 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:15.724 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:2, Type:create schema, State:queueing, SchemaState:none, SchemaID:1, TableID:0, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:15.724 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE DATABASE IF NOT EXISTS test"]
[2022/07/15 15:02:15.724 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 65, tp general"] [job="ID:2, Type:create schema, State:queueing, SchemaState:none, SchemaID:1, TableID:0, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:15.724 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:15.724 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 65, tp general"] [job="ID:2, Type:create schema, State:synced, SchemaState:public, SchemaID:1, TableID:0, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:15.724 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:15.724 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=2]
[2022/07/15 15:02:15.724 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:15.724 +08:00] [INFO] [domain.go:178] ["full load InfoSchema success"] [currentSchemaVersion=0] [neededSchemaVersion=1] ["start time"=407.75µs]
[2022/07/15 15:02:15.724 +08:00] [INFO] [domain.go:449] ["full load and reset schema validator"]
[2022/07/15 15:02:15.724 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=1] [cur_db=] [sql="CREATE DATABASE IF NOT EXISTS `mysql`"] [user=]
[2022/07/15 15:02:15.725 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:4, Type:create schema, State:queueing, SchemaState:none, SchemaID:3, TableID:0, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:15.725 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:15.725 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:4, Type:create schema, State:queueing, SchemaState:none, SchemaID:3, TableID:0, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:15.725 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE DATABASE IF NOT EXISTS `mysql`"]
[2022/07/15 15:02:15.725 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 65, tp general"] [job="ID:4, Type:create schema, State:queueing, SchemaState:none, SchemaID:3, TableID:0, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:15.725 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:15.725 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 65, tp general"] [job="ID:4, Type:create schema, State:synced, SchemaState:public, SchemaID:3, TableID:0, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:15.725 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:15.725 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=4]
[2022/07/15 15:02:15.725 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:15.725 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=1] [neededSchemaVersion=2] ["start time"=15.375µs] [phyTblIDs="[]"] [actionTypes="[]"]
[2022/07/15 15:02:15.725 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=2] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.user (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tauthentication_string\tTEXT,\n\t\tplugin\t\t\t\t\tCHAR(64),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tProcess_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_db_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tSuper_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_user_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_slave_priv\t    \tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_client_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_role_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_role_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAccount_locked\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShutdown_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReload_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tFILE_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tConfig_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_Tablespace_Priv  ENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (Host, User));"] [user=]
[2022/07/15 15:02:15.725 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:6, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:5, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:15.725 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:15.725 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:6, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:5, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:15.725 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.user (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tauthentication_string\tTEXT,\n\t\tplugin\t\t\t\t\tCHAR(64),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tProcess_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_db_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tSuper_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_user_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_slave_priv\t    \tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_client_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_role_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_role_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAccount_locked\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShutdown_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReload_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tFILE_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tConfig_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_Tablespace_Priv  ENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (Host, User));"]
[2022/07/15 15:02:15.726 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 65, tp general"] [job="ID:6, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:5, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:15.725 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:15.727 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 65, tp general"] [job="ID:6, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:5, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:15.725 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:15.728 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=6]
[2022/07/15 15:02:15.728 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:15.728 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=2] [neededSchemaVersion=3] ["start time"=256.375µs] [phyTblIDs="[5]"] [actionTypes="[8]"]
[2022/07/15 15:02:15.728 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=3] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.global_priv (Host CHAR(255) NOT NULL DEFAULT '',User CHAR(80) NOT NULL DEFAULT '',Priv LONGTEXT NOT NULL DEFAULT '',PRIMARY KEY (Host, User))"] [user=]
[2022/07/15 15:02:15.728 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:8, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:7, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:15.728 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:15.728 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:8, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:7, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:15.728 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.global_priv (Host CHAR(255) NOT NULL DEFAULT '',User CHAR(80) NOT NULL DEFAULT '',Priv LONGTEXT NOT NULL DEFAULT '',PRIMARY KEY (Host, User))"]
[2022/07/15 15:02:15.728 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 65, tp general"] [job="ID:8, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:7, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:15.728 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:15.729 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 65, tp general"] [job="ID:8, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:7, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:15.728 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:15.729 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=8]
[2022/07/15 15:02:15.729 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:15.729 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=3] [neededSchemaVersion=4] ["start time"=56.375µs] [phyTblIDs="[7]"] [actionTypes="[8]"]
[2022/07/15 15:02:15.729 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=4] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.db (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tDB\t\t\t\t\t\tCHAR(64),\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv \t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (Host, DB, User));"] [user=]
[2022/07/15 15:02:15.729 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:10, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:9, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:15.729 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:15.729 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:10, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:9, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:15.729 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.db (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tDB\t\t\t\t\t\tCHAR(64),\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv \t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (Host, DB, User));"]
[2022/07/15 15:02:15.729 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 65, tp general"] [job="ID:10, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:9, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:15.729 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:15.730 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 65, tp general"] [job="ID:10, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:9, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:15.729 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:15.731 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=10]
[2022/07/15 15:02:15.731 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:15.731 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=4] [neededSchemaVersion=5] ["start time"=174.375µs] [phyTblIDs="[9]"] [actionTypes="[8]"]
[2022/07/15 15:02:15.731 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=5] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.tables_priv (\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64),\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64),\n\t\tGrantor\t\tCHAR(77),\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tTable_priv\tSET('Select','Insert','Update','Delete','Create','Drop','Grant','Index','Alter','Create View','Show View','Trigger','References'),\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name));"] [user=]
[2022/07/15 15:02:15.731 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:12, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:11, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:15.731 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:15.731 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:12, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:11, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:15.731 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.tables_priv (\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64),\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64),\n\t\tGrantor\t\tCHAR(77),\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tTable_priv\tSET('Select','Insert','Update','Delete','Create','Drop','Grant','Index','Alter','Create View','Show View','Trigger','References'),\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name));"]
[2022/07/15 15:02:15.731 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 65, tp general"] [job="ID:12, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:11, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:15.731 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:15.732 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 65, tp general"] [job="ID:12, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:11, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:15.731 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:15.732 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=12]
[2022/07/15 15:02:15.732 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:15.732 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=5] [neededSchemaVersion=6] ["start time"=80.917µs] [phyTblIDs="[11]"] [actionTypes="[8]"]
[2022/07/15 15:02:15.732 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=6] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.columns_priv(\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64),\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64),\n\t\tColumn_name\tCHAR(64),\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name, Column_name));"] [user=]
[2022/07/15 15:02:15.732 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:14, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:13, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:15.732 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:15.732 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:14, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:13, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:15.732 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.columns_priv(\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64),\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64),\n\t\tColumn_name\tCHAR(64),\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name, Column_name));"]
[2022/07/15 15:02:15.732 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 65, tp general"] [job="ID:14, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:13, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:15.732 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:15.733 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 65, tp general"] [job="ID:14, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:13, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:15.732 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:15.733 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=14]
[2022/07/15 15:02:15.733 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:15.733 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=6] [neededSchemaVersion=7] ["start time"=78µs] [phyTblIDs="[13]"] [actionTypes="[8]"]
[2022/07/15 15:02:15.733 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=7] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.GLOBAL_VARIABLES(\n\t\tVARIABLE_NAME  VARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(1024) DEFAULT NULL);"] [user=]
[2022/07/15 15:02:15.733 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:16, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:15, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:15.733 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:15.733 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:16, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:15, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:15.733 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.GLOBAL_VARIABLES(\n\t\tVARIABLE_NAME  VARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(1024) DEFAULT NULL);"]
[2022/07/15 15:02:15.733 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 65, tp general"] [job="ID:16, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:15, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:15.733 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:15.734 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 65, tp general"] [job="ID:16, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:15, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:15.733 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:15.734 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=16]
[2022/07/15 15:02:15.734 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:15.734 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=7] [neededSchemaVersion=8] ["start time"=42.833µs] [phyTblIDs="[15]"] [actionTypes="[8]"]
[2022/07/15 15:02:15.734 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=8] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb(\n\t\tVARIABLE_NAME  \tVARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE \tVARCHAR(1024) DEFAULT NULL,\n\t\tCOMMENT \t\tVARCHAR(1024));"] [user=]
[2022/07/15 15:02:15.734 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:18, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:17, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:15.734 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:15.734 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:18, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:17, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:15.734 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb(\n\t\tVARIABLE_NAME  \tVARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE \tVARCHAR(1024) DEFAULT NULL,\n\t\tCOMMENT \t\tVARCHAR(1024));"]
[2022/07/15 15:02:15.734 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 65, tp general"] [job="ID:18, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:17, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:15.734 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:15.734 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 65, tp general"] [job="ID:18, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:17, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:15.734 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:15.734 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=18]
[2022/07/15 15:02:15.734 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:15.734 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=8] [neededSchemaVersion=9] ["start time"=50.875µs] [phyTblIDs="[17]"] [actionTypes="[8]"]
[2022/07/15 15:02:15.735 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=9] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.help_topic (\n  \t\thelp_topic_id \t\tINT(10) UNSIGNED NOT NULL,\n  \t\tname \t\t\t\tCHAR(64) NOT NULL,\n  \t\thelp_category_id \tSMALLINT(5) UNSIGNED NOT NULL,\n  \t\tdescription \t\tTEXT NOT NULL,\n  \t\texample \t\t\tTEXT NOT NULL,\n  \t\turl \t\t\t\tTEXT NOT NULL,\n  \t\tPRIMARY KEY (help_topic_id) clustered,\n  \t\tUNIQUE KEY name (name)\n\t\t) ENGINE=InnoDB DEFAULT CHARSET=utf8 STATS_PERSISTENT=0 COMMENT='help topics';"] [user=]
[2022/07/15 15:02:15.735 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:20, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:19, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:15.735 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:15.735 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:20, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:19, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:15.735 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.help_topic (\n  \t\thelp_topic_id \t\tINT(10) UNSIGNED NOT NULL,\n  \t\tname \t\t\t\tCHAR(64) NOT NULL,\n  \t\thelp_category_id \tSMALLINT(5) UNSIGNED NOT NULL,\n  \t\tdescription \t\tTEXT NOT NULL,\n  \t\texample \t\t\tTEXT NOT NULL,\n  \t\turl \t\t\t\tTEXT NOT NULL,\n  \t\tPRIMARY KEY (help_topic_id) clustered,\n  \t\tUNIQUE KEY name (name)\n\t\t) ENGINE=InnoDB DEFAULT CHARSET=utf8 STATS_PERSISTENT=0 COMMENT='help topics';"]
[2022/07/15 15:02:15.735 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 65, tp general"] [job="ID:20, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:19, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:15.735 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:15.735 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 65, tp general"] [job="ID:20, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:19, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:15.735 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:15.735 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=20]
[2022/07/15 15:02:15.735 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:15.735 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=9] [neededSchemaVersion=10] ["start time"=66.125µs] [phyTblIDs="[19]"] [actionTypes="[8]"]
[2022/07/15 15:02:15.735 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=10] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_meta (\n\t\tversion \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\ttable_id \t\tBIGINT(64) NOT NULL,\n\t\tmodify_count\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcount \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tsnapshot        BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tINDEX idx_ver(version),\n\t\tUNIQUE INDEX tbl(table_id)\n\t);"] [user=]
[2022/07/15 15:02:15.736 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:22, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:21, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:15.736 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:15.736 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:22, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:21, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:15.736 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_meta (\n\t\tversion \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\ttable_id \t\tBIGINT(64) NOT NULL,\n\t\tmodify_count\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcount \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tsnapshot        BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tINDEX idx_ver(version),\n\t\tUNIQUE INDEX tbl(table_id)\n\t);"]
[2022/07/15 15:02:15.736 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 65, tp general"] [job="ID:22, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:21, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:15.736 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:15.736 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 65, tp general"] [job="ID:22, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:21, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:15.736 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:15.736 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=22]
[2022/07/15 15:02:15.736 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:15.736 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=10] [neededSchemaVersion=11] ["start time"=66.292µs] [phyTblIDs="[21]"] [actionTypes="[8]"]
[2022/07/15 15:02:15.736 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=11] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_histograms (\n\t\ttable_id \t\t\tBIGINT(64) NOT NULL,\n\t\tis_index \t\t\tTINYINT(2) NOT NULL,\n\t\thist_id \t\t\tBIGINT(64) NOT NULL,\n\t\tdistinct_count \t\tBIGINT(64) NOT NULL,\n\t\tnull_count \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\ttot_col_size \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tmodify_count \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tversion \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tcm_sketch \t\t\tBLOB(6291456),\n\t\tstats_ver \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tflag \t\t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcorrelation \t\tDOUBLE NOT NULL DEFAULT 0,\n\t\tlast_analyze_pos \tLONGBLOB DEFAULT NULL,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id)\n\t);"] [user=]
[2022/07/15 15:02:15.736 +08:00] [INFO] [ddl_api.go:999] ["Automatically convert BLOB(6291456) to MEDIUMBLOB"]
[2022/07/15 15:02:15.737 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:24, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:23, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:15.736 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:15.737 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:24, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:23, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:15.736 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_histograms (\n\t\ttable_id \t\t\tBIGINT(64) NOT NULL,\n\t\tis_index \t\t\tTINYINT(2) NOT NULL,\n\t\thist_id \t\t\tBIGINT(64) NOT NULL,\n\t\tdistinct_count \t\tBIGINT(64) NOT NULL,\n\t\tnull_count \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\ttot_col_size \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tmodify_count \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tversion \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tcm_sketch \t\t\tBLOB(6291456),\n\t\tstats_ver \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tflag \t\t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcorrelation \t\tDOUBLE NOT NULL DEFAULT 0,\n\t\tlast_analyze_pos \tLONGBLOB DEFAULT NULL,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id)\n\t);"]
[2022/07/15 15:02:15.737 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 65, tp general"] [job="ID:24, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:23, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:15.736 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:15.737 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 65, tp general"] [job="ID:24, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:23, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:15.736 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:15.738 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=24]
[2022/07/15 15:02:15.738 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:15.738 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=11] [neededSchemaVersion=12] ["start time"=113.333µs] [phyTblIDs="[23]"] [actionTypes="[8]"]
[2022/07/15 15:02:15.738 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=12] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_buckets (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tbucket_id \tBIGINT(64) NOT NULL,\n\t\tcount \t\tBIGINT(64) NOT NULL,\n\t\trepeats \tBIGINT(64) NOT NULL,\n\t\tupper_bound LONGBLOB NOT NULL,\n\t\tlower_bound LONGBLOB ,\n\t\tndv         BIGINT NOT NULL DEFAULT 0,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id, bucket_id)\n\t);"] [user=]
[2022/07/15 15:02:15.738 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:26, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:25, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:15.738 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:15.738 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:26, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:25, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:15.738 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_buckets (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tbucket_id \tBIGINT(64) NOT NULL,\n\t\tcount \t\tBIGINT(64) NOT NULL,\n\t\trepeats \tBIGINT(64) NOT NULL,\n\t\tupper_bound LONGBLOB NOT NULL,\n\t\tlower_bound LONGBLOB ,\n\t\tndv         BIGINT NOT NULL DEFAULT 0,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id, bucket_id)\n\t);"]
[2022/07/15 15:02:15.738 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 65, tp general"] [job="ID:26, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:25, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:15.738 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:15.739 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 65, tp general"] [job="ID:26, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:25, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:15.738 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:15.739 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=26]
[2022/07/15 15:02:15.739 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:15.739 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=12] [neededSchemaVersion=13] ["start time"=87.75µs] [phyTblIDs="[25]"] [actionTypes="[8]"]
[2022/07/15 15:02:15.739 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=13] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_index (job_id, element_id)\n\t);"] [user=]
[2022/07/15 15:02:15.739 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:28, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:27, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:15.739 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:15.739 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:28, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:27, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:15.739 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_index (job_id, element_id)\n\t);"]
[2022/07/15 15:02:15.739 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 65, tp general"] [job="ID:28, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:27, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:15.739 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:15.740 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 65, tp general"] [job="ID:28, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:27, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:15.739 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:15.740 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=28]
[2022/07/15 15:02:15.740 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:15.740 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=13] [neededSchemaVersion=14] ["start time"=61.833µs] [phyTblIDs="[27]"] [actionTypes="[8]"]
[2022/07/15 15:02:15.740 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=14] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range_done (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_done_index (job_id, element_id)\n\t);"] [user=]
[2022/07/15 15:02:15.740 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:30, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:29, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:15.74 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:15.740 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:30, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:29, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:15.74 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range_done (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_done_index (job_id, element_id)\n\t);"]
[2022/07/15 15:02:15.740 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 65, tp general"] [job="ID:30, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:29, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:15.74 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:15.740 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 65, tp general"] [job="ID:30, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:29, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:15.74 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:15.741 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=30]
[2022/07/15 15:02:15.741 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:15.741 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=14] [neededSchemaVersion=15] ["start time"=58.625µs] [phyTblIDs="[29]"] [actionTypes="[8]"]
[2022/07/15 15:02:15.741 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=15] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_feedback (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tfeedback \tBLOB NOT NULL,\n\t\tINDEX hist(table_id, is_index, hist_id)\n\t);"] [user=]
[2022/07/15 15:02:15.741 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:32, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:31, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:15.741 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:15.741 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:32, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:31, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:15.741 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_feedback (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tfeedback \tBLOB NOT NULL,\n\t\tINDEX hist(table_id, is_index, hist_id)\n\t);"]
[2022/07/15 15:02:15.741 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 65, tp general"] [job="ID:32, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:31, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:15.741 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:15.741 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 65, tp general"] [job="ID:32, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:31, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:15.741 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:15.741 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=32]
[2022/07/15 15:02:15.741 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:15.741 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=15] [neededSchemaVersion=16] ["start time"=61.417µs] [phyTblIDs="[31]"] [actionTypes="[8]"]
[2022/07/15 15:02:15.742 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=16] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.role_edges (\n\t\tFROM_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tFROM_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tWITH_ADMIN_OPTION \tENUM('N','Y') CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (FROM_HOST,FROM_USER,TO_HOST,TO_USER)\n\t);"] [user=]
[2022/07/15 15:02:15.742 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:34, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:33, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:15.742 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:15.742 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:34, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:33, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:15.742 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.role_edges (\n\t\tFROM_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tFROM_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tWITH_ADMIN_OPTION \tENUM('N','Y') CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (FROM_HOST,FROM_USER,TO_HOST,TO_USER)\n\t);"]
[2022/07/15 15:02:15.742 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 65, tp general"] [job="ID:34, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:33, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:15.742 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:15.742 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 65, tp general"] [job="ID:34, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:33, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:15.742 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:15.742 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=34]
[2022/07/15 15:02:15.742 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:15.742 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=16] [neededSchemaVersion=17] ["start time"=67.25µs] [phyTblIDs="[33]"] [actionTypes="[8]"]
[2022/07/15 15:02:15.742 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=17] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.default_roles (\n\t\tHOST \t\t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tUSER \t\t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tDEFAULT_ROLE_HOST \tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '%',\n\t\tDEFAULT_ROLE_USER \tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tPRIMARY KEY (HOST,USER,DEFAULT_ROLE_HOST,DEFAULT_ROLE_USER)\n\t)"] [user=]
[2022/07/15 15:02:15.743 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:36, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:35, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:15.743 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:15.743 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:36, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:35, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:15.743 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.default_roles (\n\t\tHOST \t\t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tUSER \t\t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tDEFAULT_ROLE_HOST \tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '%',\n\t\tDEFAULT_ROLE_USER \tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tPRIMARY KEY (HOST,USER,DEFAULT_ROLE_HOST,DEFAULT_ROLE_USER)\n\t)"]
[2022/07/15 15:02:15.743 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 65, tp general"] [job="ID:36, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:35, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:15.743 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:15.743 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 65, tp general"] [job="ID:36, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:35, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:15.743 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:15.743 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=36]
[2022/07/15 15:02:15.743 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:15.743 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=17] [neededSchemaVersion=18] ["start time"=60.25µs] [phyTblIDs="[35]"] [actionTypes="[8]"]
[2022/07/15 15:02:15.743 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=18] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.bind_info (\n\t\toriginal_sql TEXT NOT NULL,\n\t\tbind_sql TEXT NOT NULL,\n\t\tdefault_db TEXT NOT NULL,\n\t\tstatus TEXT NOT NULL,\n\t\tcreate_time TIMESTAMP(3) NOT NULL,\n\t\tupdate_time TIMESTAMP(3) NOT NULL,\n\t\tcharset TEXT NOT NULL,\n\t\tcollation TEXT NOT NULL,\n\t\tsource VARCHAR(10) NOT NULL DEFAULT 'unknown',\n\t\tINDEX sql_index(original_sql(700),default_db(68)) COMMENT \"accelerate the speed when add global binding query\",\n\t\tINDEX time_index(update_time) COMMENT \"accelerate the speed when querying with last update time\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"] [user=]
[2022/07/15 15:02:15.743 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:38, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:37, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:15.743 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:15.743 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:38, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:37, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:15.743 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.bind_info (\n\t\toriginal_sql TEXT NOT NULL,\n\t\tbind_sql TEXT NOT NULL,\n\t\tdefault_db TEXT NOT NULL,\n\t\tstatus TEXT NOT NULL,\n\t\tcreate_time TIMESTAMP(3) NOT NULL,\n\t\tupdate_time TIMESTAMP(3) NOT NULL,\n\t\tcharset TEXT NOT NULL,\n\t\tcollation TEXT NOT NULL,\n\t\tsource VARCHAR(10) NOT NULL DEFAULT 'unknown',\n\t\tINDEX sql_index(original_sql(700),default_db(68)) COMMENT \"accelerate the speed when add global binding query\",\n\t\tINDEX time_index(update_time) COMMENT \"accelerate the speed when querying with last update time\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"]
[2022/07/15 15:02:15.744 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 65, tp general"] [job="ID:38, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:37, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:15.743 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:15.744 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 65, tp general"] [job="ID:38, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:37, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:15.743 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:15.744 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=38]
[2022/07/15 15:02:15.744 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:15.744 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=18] [neededSchemaVersion=19] ["start time"=88.042µs] [phyTblIDs="[37]"] [actionTypes="[8]"]
[2022/07/15 15:02:15.745 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=19] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_top_n (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tcount \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"] [user=]
[2022/07/15 15:02:15.745 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:40, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:39, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:15.745 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:15.745 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:40, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:39, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:15.745 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_top_n (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tcount \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"]
[2022/07/15 15:02:15.745 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 65, tp general"] [job="ID:40, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:39, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:15.745 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:15.745 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 65, tp general"] [job="ID:40, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:39, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:15.745 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:15.745 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=40]
[2022/07/15 15:02:15.745 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:15.745 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=19] [neededSchemaVersion=20] ["start time"=59.25µs] [phyTblIDs="[39]"] [actionTypes="[8]"]
[2022/07/15 15:02:15.745 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=20] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.expr_pushdown_blacklist (\n\t\tname \t\tCHAR(100) NOT NULL,\n\t\tstore_type \tCHAR(100) NOT NULL DEFAULT 'tikv,tiflash,tidb',\n\t\treason \t\tVARCHAR(200)\n\t);"] [user=]
[2022/07/15 15:02:15.746 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:42, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:41, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:15.746 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:15.746 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:42, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:41, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:15.746 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.expr_pushdown_blacklist (\n\t\tname \t\tCHAR(100) NOT NULL,\n\t\tstore_type \tCHAR(100) NOT NULL DEFAULT 'tikv,tiflash,tidb',\n\t\treason \t\tVARCHAR(200)\n\t);"]
[2022/07/15 15:02:15.746 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 65, tp general"] [job="ID:42, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:41, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:15.746 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:15.746 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 65, tp general"] [job="ID:42, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:41, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:15.746 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:15.746 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=42]
[2022/07/15 15:02:15.746 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:15.746 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=20] [neededSchemaVersion=21] ["start time"=46.375µs] [phyTblIDs="[41]"] [actionTypes="[8]"]
[2022/07/15 15:02:15.746 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=21] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.opt_rule_blacklist (\n\t\tname \tCHAR(100) NOT NULL\n\t);"] [user=]
[2022/07/15 15:02:15.746 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:44, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:43, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:15.746 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:15.746 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:44, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:43, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:15.746 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.opt_rule_blacklist (\n\t\tname \tCHAR(100) NOT NULL\n\t);"]
[2022/07/15 15:02:15.746 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 65, tp general"] [job="ID:44, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:43, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:15.746 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:15.747 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 65, tp general"] [job="ID:44, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:43, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:15.746 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:15.747 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=44]
[2022/07/15 15:02:15.747 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:15.747 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=21] [neededSchemaVersion=22] ["start time"=38.833µs] [phyTblIDs="[43]"] [actionTypes="[8]"]
[2022/07/15 15:02:15.747 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=22] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_extended (\n\t\tname varchar(32) NOT NULL,\n\t\ttype tinyint(4) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tcolumn_ids varchar(32) NOT NULL,\n\t\tstats blob DEFAULT NULL,\n\t\tversion bigint(64) unsigned NOT NULL,\n\t\tstatus tinyint(4) NOT NULL,\n\t\tPRIMARY KEY(name, table_id),\n\t\tKEY idx_1 (table_id, status, version),\n\t\tKEY idx_2 (status, version)\n\t);"] [user=]
[2022/07/15 15:02:15.747 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:46, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:45, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:15.747 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:15.747 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:46, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:45, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:15.747 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_extended (\n\t\tname varchar(32) NOT NULL,\n\t\ttype tinyint(4) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tcolumn_ids varchar(32) NOT NULL,\n\t\tstats blob DEFAULT NULL,\n\t\tversion bigint(64) unsigned NOT NULL,\n\t\tstatus tinyint(4) NOT NULL,\n\t\tPRIMARY KEY(name, table_id),\n\t\tKEY idx_1 (table_id, status, version),\n\t\tKEY idx_2 (status, version)\n\t);"]
[2022/07/15 15:02:15.747 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 65, tp general"] [job="ID:46, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:45, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:15.747 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:15.747 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 65, tp general"] [job="ID:46, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:45, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:15.747 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:15.748 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=46]
[2022/07/15 15:02:15.748 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:15.748 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=22] [neededSchemaVersion=23] ["start time"=90.958µs] [phyTblIDs="[45]"] [actionTypes="[8]"]
[2022/07/15 15:02:15.748 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=23] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.schema_index_usage (\n\t\tTABLE_ID bigint(64),\n\t\tINDEX_ID bigint(21),\n\t\tQUERY_COUNT bigint(64),\n\t\tROWS_SELECTED bigint(64),\n\t\tLAST_USED_AT timestamp,\n\t\tPRIMARY KEY(TABLE_ID, INDEX_ID)\n\t);"] [user=]
[2022/07/15 15:02:15.748 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:48, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:47, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:15.748 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:15.748 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:48, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:47, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:15.748 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.schema_index_usage (\n\t\tTABLE_ID bigint(64),\n\t\tINDEX_ID bigint(21),\n\t\tQUERY_COUNT bigint(64),\n\t\tROWS_SELECTED bigint(64),\n\t\tLAST_USED_AT timestamp,\n\t\tPRIMARY KEY(TABLE_ID, INDEX_ID)\n\t);"]
[2022/07/15 15:02:15.748 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 65, tp general"] [job="ID:48, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:47, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:15.748 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:15.748 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 65, tp general"] [job="ID:48, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:47, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:15.748 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:15.749 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=48]
[2022/07/15 15:02:15.749 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:15.749 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=23] [neededSchemaVersion=24] ["start time"=59.333µs] [phyTblIDs="[47]"] [actionTypes="[8]"]
[2022/07/15 15:02:15.749 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=24] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_fm_sketch (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"] [user=]
[2022/07/15 15:02:15.749 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:50, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:49, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:15.749 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:15.749 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:50, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:49, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:15.749 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_fm_sketch (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"]
[2022/07/15 15:02:15.749 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 65, tp general"] [job="ID:50, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:49, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:15.749 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:15.749 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 65, tp general"] [job="ID:50, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:49, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:15.749 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:15.749 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=50]
[2022/07/15 15:02:15.749 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:15.749 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=24] [neededSchemaVersion=25] ["start time"=54.958µs] [phyTblIDs="[49]"] [actionTypes="[8]"]
[2022/07/15 15:02:15.749 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=25] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.global_grants (\n\t\tUSER char(32) NOT NULL DEFAULT '',\n\t\tHOST char(255) NOT NULL DEFAULT '',\n\t\tPRIV char(32) NOT NULL DEFAULT '',\n\t\tWITH_GRANT_OPTION enum('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (USER,HOST,PRIV)\n\t);"] [user=]
[2022/07/15 15:02:15.750 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:52, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:51, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:15.749 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:15.750 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:52, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:51, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:15.749 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.global_grants (\n\t\tUSER char(32) NOT NULL DEFAULT '',\n\t\tHOST char(255) NOT NULL DEFAULT '',\n\t\tPRIV char(32) NOT NULL DEFAULT '',\n\t\tWITH_GRANT_OPTION enum('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (USER,HOST,PRIV)\n\t);"]
[2022/07/15 15:02:15.750 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 65, tp general"] [job="ID:52, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:51, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:15.749 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:15.750 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 65, tp general"] [job="ID:52, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:51, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:15.749 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:15.750 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=52]
[2022/07/15 15:02:15.750 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:15.750 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=25] [neededSchemaVersion=26] ["start time"=54.834µs] [phyTblIDs="[51]"] [actionTypes="[8]"]
[2022/07/15 15:02:15.750 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=26] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.capture_plan_baselines_blacklist (\n\t\tid bigint(64) auto_increment,\n\t\tfilter_type varchar(32) NOT NULL COMMENT \"type of the filter, only db, table and frequency supported now\",\n\t\tfilter_value varchar(32) NOT NULL,\n\t\tkey idx(filter_type),\n\t\tprimary key(id)\n\t);"] [user=]
[2022/07/15 15:02:15.750 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:54, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:53, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:15.75 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:15.750 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:54, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:53, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:15.75 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.capture_plan_baselines_blacklist (\n\t\tid bigint(64) auto_increment,\n\t\tfilter_type varchar(32) NOT NULL COMMENT \"type of the filter, only db, table and frequency supported now\",\n\t\tfilter_value varchar(32) NOT NULL,\n\t\tkey idx(filter_type),\n\t\tprimary key(id)\n\t);"]
[2022/07/15 15:02:15.750 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 65, tp general"] [job="ID:54, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:53, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:15.75 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:15.751 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 65, tp general"] [job="ID:54, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:53, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:15.75 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:15.751 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=54]
[2022/07/15 15:02:15.751 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:15.751 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=26] [neededSchemaVersion=27] ["start time"=48.542µs] [phyTblIDs="[53]"] [actionTypes="[8]"]
[2022/07/15 15:02:15.751 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=27] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.column_stats_usage (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tcolumn_id BIGINT(64) NOT NULL,\n\t\tlast_used_at TIMESTAMP,\n\t\tlast_analyzed_at TIMESTAMP,\n\t\tPRIMARY KEY (table_id, column_id) CLUSTERED\n\t);"] [user=]
[2022/07/15 15:02:15.751 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:56, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:55, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:15.751 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:15.751 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:56, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:55, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:15.751 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.column_stats_usage (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tcolumn_id BIGINT(64) NOT NULL,\n\t\tlast_used_at TIMESTAMP,\n\t\tlast_analyzed_at TIMESTAMP,\n\t\tPRIMARY KEY (table_id, column_id) CLUSTERED\n\t);"]
[2022/07/15 15:02:15.751 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 65, tp general"] [job="ID:56, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:55, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:15.751 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:15.751 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 65, tp general"] [job="ID:56, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:55, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:15.751 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:15.752 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=56]
[2022/07/15 15:02:15.752 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:15.752 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=27] [neededSchemaVersion=28] ["start time"=63.833µs] [phyTblIDs="[55]"] [actionTypes="[8]"]
[2022/07/15 15:02:15.752 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=28] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.table_cache_meta (\n\t\ttid bigint(11) NOT NULL DEFAULT 0,\n\t\tlock_type enum('NONE','READ', 'INTEND', 'WRITE') NOT NULL DEFAULT 'NONE',\n\t\tlease bigint(20) NOT NULL DEFAULT 0,\n\t\toldReadLease bigint(20) NOT NULL DEFAULT 0,\n\t\tPRIMARY KEY (tid)\n\t);"] [user=]
[2022/07/15 15:02:15.752 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:58, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:57, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:15.752 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:15.752 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:58, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:57, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:15.752 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.table_cache_meta (\n\t\ttid bigint(11) NOT NULL DEFAULT 0,\n\t\tlock_type enum('NONE','READ', 'INTEND', 'WRITE') NOT NULL DEFAULT 'NONE',\n\t\tlease bigint(20) NOT NULL DEFAULT 0,\n\t\toldReadLease bigint(20) NOT NULL DEFAULT 0,\n\t\tPRIMARY KEY (tid)\n\t);"]
[2022/07/15 15:02:15.752 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 65, tp general"] [job="ID:58, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:57, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:15.752 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:15.752 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 65, tp general"] [job="ID:58, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:57, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:15.752 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:15.753 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=58]
[2022/07/15 15:02:15.753 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:15.753 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=28] [neededSchemaVersion=29] ["start time"=58.625µs] [phyTblIDs="[57]"] [actionTypes="[8]"]
[2022/07/15 15:02:15.753 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=29] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.analyze_options (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tsample_num BIGINT(64) NOT NULL DEFAULT 0,\n\t\tsample_rate DOUBLE NOT NULL DEFAULT -1,\n\t\tbuckets BIGINT(64) NOT NULL DEFAULT 0,\n\t\ttopn BIGINT(64) NOT NULL DEFAULT -1,\n\t\tcolumn_choice enum('DEFAULT','ALL','PREDICATE','LIST') NOT NULL DEFAULT 'DEFAULT',\n\t\tcolumn_ids TEXT(19372),\n\t\tPRIMARY KEY (table_id) CLUSTERED\n\t);"] [user=]
[2022/07/15 15:02:15.753 +08:00] [INFO] [ddl_api.go:999] ["Automatically convert BLOB(19372) to MEDIUMBLOB"]
[2022/07/15 15:02:15.753 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:60, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:59, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:15.753 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:15.753 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:60, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:59, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:15.753 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.analyze_options (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tsample_num BIGINT(64) NOT NULL DEFAULT 0,\n\t\tsample_rate DOUBLE NOT NULL DEFAULT -1,\n\t\tbuckets BIGINT(64) NOT NULL DEFAULT 0,\n\t\ttopn BIGINT(64) NOT NULL DEFAULT -1,\n\t\tcolumn_choice enum('DEFAULT','ALL','PREDICATE','LIST') NOT NULL DEFAULT 'DEFAULT',\n\t\tcolumn_ids TEXT(19372),\n\t\tPRIMARY KEY (table_id) CLUSTERED\n\t);"]
[2022/07/15 15:02:15.753 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 65, tp general"] [job="ID:60, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:59, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:15.753 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:15.753 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 65, tp general"] [job="ID:60, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:59, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:15.753 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:15.754 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=60]
[2022/07/15 15:02:15.754 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:15.754 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=29] [neededSchemaVersion=30] ["start time"=67.625µs] [phyTblIDs="[59]"] [actionTypes="[8]"]
[2022/07/15 15:02:15.754 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=30] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tstats_data longblob NOT NULL,\n\t\tseq_no bigint(64) NOT NULL comment 'sequence number of the gzipped data slice',\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version_seq (table_id, version, seq_no),\n\t\tKEY table_create_time (table_id, create_time, seq_no)\n\t);"] [user=]
[2022/07/15 15:02:15.754 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:62, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:61, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:15.754 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:15.754 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:62, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:61, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:15.754 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tstats_data longblob NOT NULL,\n\t\tseq_no bigint(64) NOT NULL comment 'sequence number of the gzipped data slice',\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version_seq (table_id, version, seq_no),\n\t\tKEY table_create_time (table_id, create_time, seq_no)\n\t);"]
[2022/07/15 15:02:15.754 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 65, tp general"] [job="ID:62, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:61, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:15.754 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:15.755 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 65, tp general"] [job="ID:62, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:61, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:15.754 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:15.755 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=62]
[2022/07/15 15:02:15.755 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:15.755 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=30] [neededSchemaVersion=31] ["start time"=77.792µs] [phyTblIDs="[61]"] [actionTypes="[8]"]
[2022/07/15 15:02:15.755 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=31] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_meta_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL,\n\t\tcount bigint(64) NOT NULL,\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version (table_id, version),\n\t\tKEY table_create_time (table_id, create_time)\n\t);"] [user=]
[2022/07/15 15:02:15.755 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:64, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:63, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:15.755 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:15.755 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:64, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:63, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:15.755 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_meta_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL,\n\t\tcount bigint(64) NOT NULL,\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version (table_id, version),\n\t\tKEY table_create_time (table_id, create_time)\n\t);"]
[2022/07/15 15:02:15.755 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 65, tp general"] [job="ID:64, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:63, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:15.755 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:15.756 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 65, tp general"] [job="ID:64, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:63, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:15.755 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:15.756 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=64]
[2022/07/15 15:02:15.756 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:15.756 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=31] [neededSchemaVersion=32] ["start time"=77.458µs] [phyTblIDs="[63]"] [actionTypes="[8]"]
[2022/07/15 15:02:15.756 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=32] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.analyze_jobs (\n\t\tid BIGINT(64) UNSIGNED NOT NULL AUTO_INCREMENT,\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\ttable_schema CHAR(64) NOT NULL DEFAULT '',\n\t\ttable_name CHAR(64) NOT NULL DEFAULT '',\n\t\tpartition_name CHAR(64) NOT NULL DEFAULT '',\n\t\tjob_info TEXT NOT NULL,\n\t\tprocessed_rows BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tstart_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tstate ENUM('pending', 'running', 'finished', 'failed') NOT NULL,\n\t\tfail_reason TEXT,\n\t\tinstance VARCHAR(512) NOT NULL comment 'address of the TiDB instance executing the analyze job',\n\t\tprocess_id BIGINT(64) UNSIGNED comment 'ID of the process executing the analyze job',\n\t\tPRIMARY KEY (id),\n\t\tKEY (update_time)\n\t);"] [user=]
[2022/07/15 15:02:15.756 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:66, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:65, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:15.756 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:15.756 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:66, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:65, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:15.756 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.analyze_jobs (\n\t\tid BIGINT(64) UNSIGNED NOT NULL AUTO_INCREMENT,\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\ttable_schema CHAR(64) NOT NULL DEFAULT '',\n\t\ttable_name CHAR(64) NOT NULL DEFAULT '',\n\t\tpartition_name CHAR(64) NOT NULL DEFAULT '',\n\t\tjob_info TEXT NOT NULL,\n\t\tprocessed_rows BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tstart_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tstate ENUM('pending', 'running', 'finished', 'failed') NOT NULL,\n\t\tfail_reason TEXT,\n\t\tinstance VARCHAR(512) NOT NULL comment 'address of the TiDB instance executing the analyze job',\n\t\tprocess_id BIGINT(64) UNSIGNED comment 'ID of the process executing the analyze job',\n\t\tPRIMARY KEY (id),\n\t\tKEY (update_time)\n\t);"]
[2022/07/15 15:02:15.756 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 65, tp general"] [job="ID:66, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:65, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:15.756 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:15.757 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 65, tp general"] [job="ID:66, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:65, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:15.756 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:15.757 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=66]
[2022/07/15 15:02:15.757 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:15.757 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=32] [neededSchemaVersion=33] ["start time"=108.166µs] [phyTblIDs="[65]"] [actionTypes="[8]"]
[2022/07/15 15:02:15.758 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=33] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.advisory_locks (\n\t\tlock_name VARCHAR(64) NOT NULL PRIMARY KEY\n\t);"] [user=]
[2022/07/15 15:02:15.758 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:68, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:67, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:15.758 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:15.758 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:68, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:67, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:15.758 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.advisory_locks (\n\t\tlock_name VARCHAR(64) NOT NULL PRIMARY KEY\n\t);"]
[2022/07/15 15:02:15.758 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 65, tp general"] [job="ID:68, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:67, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:15.758 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:15.758 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 65, tp general"] [job="ID:68, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:67, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:15.758 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:15.758 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=68]
[2022/07/15 15:02:15.758 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:15.758 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=33] [neededSchemaVersion=34] ["start time"=50.666µs] [phyTblIDs="[67]"] [actionTypes="[8]"]
[2022/07/15 15:02:15.764 +08:00] [INFO] [bootstrap.go:448] ["bootstrap successful"] ["take time"=40.553959ms]
[2022/07/15 15:02:15.764 +08:00] [INFO] [ddl_worker.go:158] ["[ddl] DDL worker closed"] [worker="worker 65, tp general"] ["take time"=1.625µs]
[2022/07/15 15:02:15.764 +08:00] [INFO] [ddl_worker.go:158] ["[ddl] DDL worker closed"] [worker="worker 66, tp add index"] ["take time"=83ns]
[2022/07/15 15:02:15.764 +08:00] [INFO] [delete_range.go:148] ["[ddl] closing delRange"]
[2022/07/15 15:02:15.764 +08:00] [INFO] [session_pool.go:94] ["[ddl] closing sessionPool"]
[2022/07/15 15:02:15.764 +08:00] [INFO] [ddl.go:576] ["[ddl] DDL closed"] [ID=58ab7a03-94e1-4848-a6cc-255c2972c146] ["take time"=70.083µs]
[2022/07/15 15:02:15.764 +08:00] [INFO] [ddl.go:464] ["[ddl] stop DDL"] [ID=58ab7a03-94e1-4848-a6cc-255c2972c146]
[2022/07/15 15:02:15.764 +08:00] [INFO] [domain.go:498] ["topNSlowQueryLoop exited."]
[2022/07/15 15:02:15.764 +08:00] [INFO] [domain.go:575] ["topologySyncerKeeper exited."]
[2022/07/15 15:02:15.764 +08:00] [INFO] [domain.go:527] ["infoSyncerKeeper exited."]
[2022/07/15 15:02:15.764 +08:00] [INFO] [domain.go:552] ["globalConfigSyncerKeeper exited."]
[2022/07/15 15:02:15.764 +08:00] [INFO] [domain.go:733] ["domain closed"] ["take time"=125.375µs]
[2022/07/15 15:02:15.764 +08:00] [INFO] [tidb.go:74] ["new domain"] [store=2729a4da-e333-4c24-a6c5-6463e0df5914] ["ddl lease"=0s] ["stats lease"=-1ns] ["index usage sync lease"=0s]
[2022/07/15 15:02:15.766 +08:00] [INFO] [domain.go:178] ["full load InfoSchema success"] [currentSchemaVersion=0] [neededSchemaVersion=34] ["start time"=2.39525ms]
[2022/07/15 15:02:15.766 +08:00] [INFO] [domain.go:449] ["full load and reset schema validator"]
[2022/07/15 15:02:15.766 +08:00] [INFO] [ddl.go:483] ["[ddl] start DDL"] [ID=2ecd02c0-3e1b-4c3d-a9ab-78dd8f153f0e] [runWorker=true]
[2022/07/15 15:02:15.767 +08:00] [INFO] [ddl.go:472] ["[ddl] start delRangeManager OK"] ["is a emulator"=true]
[2022/07/15 15:02:15.767 +08:00] [INFO] [delete_range.go:158] ["[ddl] start delRange emulator"]
[2022/07/15 15:02:15.767 +08:00] [INFO] [ddl_worker.go:164] ["[ddl] start DDL worker"] [worker="worker 67, tp general"]
[2022/07/15 15:02:15.767 +08:00] [INFO] [ddl_worker.go:164] ["[ddl] start DDL worker"] [worker="worker 68, tp add index"]
[2022/07/15 15:02:15.767 +08:00] [WARN] [sysvar_cache.go:53] ["sysvar cache is empty, triggering rebuild"]
[2022/07/15 15:02:15.771 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=17] [schemaVersion=34] [cur_db=test] [sql="drop table if exists x1"] [user=]
[2022/07/15 15:02:15.771 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=17] [schemaVersion=34] [cur_db=test] [sql="create table x1(a int primary key, b int);"] [user=]
[2022/07/15 15:02:15.771 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:70, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:15.771 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:15.771 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:70, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:15.771 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="create table x1(a int primary key, b int);"]
[2022/07/15 15:02:15.771 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 67, tp general"] [job="ID:70, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:15.771 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:15.771 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 67, tp general"] [job="ID:70, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:69, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:15.771 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:15.771 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=70]
[2022/07/15 15:02:15.771 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:15.771 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=34] [neededSchemaVersion=35] ["start time"=41.292µs] [phyTblIDs="[69]"] [actionTypes="[8]"]
[2022/07/15 15:02:15.771 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=17] [schemaVersion=35] [cur_db=test] [sql="alter table x1 set tiflash replica 1"] [user=]
[2022/07/15 15:02:15.772 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:71, Type:set tiflash replica, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:15.771 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:15.772 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:71, Type:set tiflash replica, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:15.771 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="alter table x1 set tiflash replica 1"]
[2022/07/15 15:02:15.772 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 67, tp general"] [job="ID:71, Type:set tiflash replica, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:15.771 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:15.772 +08:00] [INFO] [table.go:1109] ["Set TiFlash replica pd rule"] [tableID=69]
[2022/07/15 15:02:15.772 +08:00] [INFO] [info.go:1051] [ConfigureTiFlashPDForTable] [tableID=69] [count=1]
[2022/07/15 15:02:15.772 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 67, tp general"] [job="ID:71, Type:set tiflash replica, State:synced, SchemaState:public, SchemaID:1, TableID:69, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:15.771 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:15.772 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=71]
[2022/07/15 15:02:15.772 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:15.772 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=35] [neededSchemaVersion=36] ["start time"=38.125µs] [phyTblIDs="[]"] [actionTypes="[]"]
[2022/07/15 15:02:15.772 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:72, Type:update tiflash replica status, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:2, start time: 2022-07-15 15:02:15.772 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:15.772 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:72, Type:update tiflash replica status, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:2, start time: 2022-07-15 15:02:15.772 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query=]
[2022/07/15 15:02:15.772 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 67, tp general"] [job="ID:72, Type:update tiflash replica status, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:15.772 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:15.772 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 67, tp general"] [job="ID:72, Type:update tiflash replica status, State:synced, SchemaState:public, SchemaID:1, TableID:69, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:15.772 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:15.773 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=72]
[2022/07/15 15:02:15.773 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:15.773 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=36] [neededSchemaVersion=37] ["start time"=41.459µs] [phyTblIDs="[]"] [actionTypes="[]"]
[2022/07/15 15:02:15.773 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=17] [schemaVersion=37] [cur_db=test] [sql="create table x2(a int primary key, b int);"] [user=]
[2022/07/15 15:02:15.773 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:74, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:73, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:15.773 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:15.773 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:74, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:73, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:15.773 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="create table x2(a int primary key, b int);"]
[2022/07/15 15:02:15.773 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 67, tp general"] [job="ID:74, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:73, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:15.773 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:15.773 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 67, tp general"] [job="ID:74, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:73, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:15.773 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:15.773 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=74]
[2022/07/15 15:02:15.773 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:15.773 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=37] [neededSchemaVersion=38] ["start time"=39.5µs] [phyTblIDs="[73]"] [actionTypes="[8]"]
[2022/07/15 15:02:15.773 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=17] [schemaVersion=38] [cur_db=test] [sql="alter table x2 set tiflash replica 1"] [user=]
[2022/07/15 15:02:15.773 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:75, Type:set tiflash replica, State:queueing, SchemaState:none, SchemaID:1, TableID:73, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:15.773 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:15.773 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:75, Type:set tiflash replica, State:queueing, SchemaState:none, SchemaID:1, TableID:73, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:15.773 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="alter table x2 set tiflash replica 1"]
[2022/07/15 15:02:15.774 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 67, tp general"] [job="ID:75, Type:set tiflash replica, State:queueing, SchemaState:none, SchemaID:1, TableID:73, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:15.773 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:15.774 +08:00] [INFO] [table.go:1109] ["Set TiFlash replica pd rule"] [tableID=73]
[2022/07/15 15:02:15.774 +08:00] [INFO] [info.go:1051] [ConfigureTiFlashPDForTable] [tableID=73] [count=1]
[2022/07/15 15:02:15.774 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 67, tp general"] [job="ID:75, Type:set tiflash replica, State:synced, SchemaState:public, SchemaID:1, TableID:73, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:15.773 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:15.774 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=75]
[2022/07/15 15:02:15.774 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:15.774 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=38] [neededSchemaVersion=39] ["start time"=35.958µs] [phyTblIDs="[]"] [actionTypes="[]"]
[2022/07/15 15:02:15.774 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:76, Type:update tiflash replica status, State:queueing, SchemaState:none, SchemaID:1, TableID:73, RowCount:0, ArgLen:2, start time: 2022-07-15 15:02:15.774 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:15.774 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:76, Type:update tiflash replica status, State:queueing, SchemaState:none, SchemaID:1, TableID:73, RowCount:0, ArgLen:2, start time: 2022-07-15 15:02:15.774 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query=]
[2022/07/15 15:02:15.774 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 67, tp general"] [job="ID:76, Type:update tiflash replica status, State:queueing, SchemaState:none, SchemaID:1, TableID:73, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:15.774 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:15.774 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 67, tp general"] [job="ID:76, Type:update tiflash replica status, State:synced, SchemaState:public, SchemaID:1, TableID:73, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:15.774 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:15.774 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=76]
[2022/07/15 15:02:15.774 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:15.774 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=39] [neededSchemaVersion=40] ["start time"=38.583µs] [phyTblIDs="[]"] [actionTypes="[]"]
[2022/07/15 15:02:15.779 +08:00] [INFO] [analyze.go:425] ["analyze table `test`.`x2` has finished"] [partition=] ["job info"="analyze table all columns with 256 buckets, 500 topn, 1 samplerate"] ["start time"=2022/07/15 15:02:15.775 +08:00] ["end time"=2022/07/15 15:02:15.778 +08:00] [cost=2.881625ms]
[2022/07/15 15:02:15.781 +08:00] [INFO] [analyze.go:425] ["analyze table `test`.`x1` has finished"] [partition=] ["job info"="analyze table all columns with 256 buckets, 500 topn, 1 samplerate"] ["start time"=2022/07/15 15:02:15.775 +08:00] ["end time"=2022/07/15 15:02:15.781 +08:00] [cost=5.117042ms]
[2022/07/15 15:02:15.786 +08:00] [INFO] [fragment.go:77] ["Mpp will generate tasks"] [plan=Table(x2)->HashAgg->Send()]
[2022/07/15 15:02:15.786 +08:00] [INFO] [batch_coprocessor.go:325] ["detecting available mpp stores"]
[2022/07/15 15:02:15.786 +08:00] [WARN] [batch_coprocessor.go:359] ["Store is not ready"] ["store address"=tiflash1] ["err message"="not support this request type MPPAlive"]
[2022/07/15 15:02:15.786 +08:00] [WARN] [batch_coprocessor.go:359] ["Store is not ready"] ["store address"=tiflash0] ["err message"="not support this request type MPPAlive"]
[2022/07/15 15:02:15.786 +08:00] [WARN] [batch_coprocessor.go:400] ["Meet regions that don't have an available store. Give up balancing"]
[2022/07/15 15:02:15.786 +08:00] [INFO] [mpp_gather.go:80] ["Dispatch mpp task"] [timestamp=434600289445085184] [ID=1] [address=tiflash1] [plan="Table(x2)->HashAgg->Send(-1, )"]
[2022/07/15 15:02:16.787 +08:00] [INFO] [fragment.go:77] ["Mpp will generate tasks"] [plan=Table(x2)->HashAgg->Send()]
[2022/07/15 15:02:16.787 +08:00] [INFO] [batch_coprocessor.go:325] ["detecting available mpp stores"]
[2022/07/15 15:02:16.787 +08:00] [WARN] [batch_coprocessor.go:359] ["Store is not ready"] ["store address"=tiflash1] ["err message"="not support this request type MPPAlive"]
[2022/07/15 15:02:16.787 +08:00] [WARN] [batch_coprocessor.go:359] ["Store is not ready"] ["store address"=tiflash0] ["err message"="not support this request type MPPAlive"]
[2022/07/15 15:02:16.787 +08:00] [WARN] [batch_coprocessor.go:400] ["Meet regions that don't have an available store. Give up balancing"]
[2022/07/15 15:02:16.787 +08:00] [INFO] [mpp_gather.go:80] ["Dispatch mpp task"] [timestamp=434600289445085184] [ID=2] [address=tiflash1] [plan="Table(x2)->HashAgg->Send(-1, )"]
[2022/07/15 15:02:17.787 +08:00] [INFO] [fragment.go:77] ["Mpp will generate tasks"] [plan=Table(x2)->HashAgg->Send()]
[2022/07/15 15:02:17.787 +08:00] [INFO] [batch_coprocessor.go:325] ["detecting available mpp stores"]
[2022/07/15 15:02:17.787 +08:00] [WARN] [batch_coprocessor.go:359] ["Store is not ready"] ["store address"=tiflash1] ["err message"="not support this request type MPPAlive"]
[2022/07/15 15:02:17.787 +08:00] [WARN] [batch_coprocessor.go:359] ["Store is not ready"] ["store address"=tiflash0] ["err message"="not support this request type MPPAlive"]
[2022/07/15 15:02:17.787 +08:00] [WARN] [batch_coprocessor.go:400] ["Meet regions that don't have an available store. Give up balancing"]
[2022/07/15 15:02:17.787 +08:00] [INFO] [mpp_gather.go:80] ["Dispatch mpp task"] [timestamp=434600289445085184] [ID=3] [address=tiflash1] [plan="Table(x2)->HashAgg->Send(-1, )"]
[2022/07/15 15:02:18.788 +08:00] [WARN] [adapter.go:1067] ["# Txn_start_ts: 434600289445085184\n# Conn_ID: 17\n# Query_time: 3.002410209\n# Parse_time: 0.000031084\n# Compile_time: 0.00021675\n# Rewrite_time: 0.000061583\n# Optimize_time: 0.0001295\n# Wait_TS: 0.000003458\n# Cop_time: 3.000884375 Request_count: 3\n# DB: test\n# Is_internal: false\n# Digest: 7b42d0421de78a1afbdfe39fc9a02266450a2b6cfe723de1a66abe65c3fad61a\n# Stats: x1:434600289443250176,x2:434600289442463748\n# Num_cop_tasks: 3\n# Cop_proc_avg: 0 Cop_proc_p90: 0 Cop_proc_max: 0 Cop_proc_addr: tiflash1\n# Cop_wait_avg: 0 Cop_wait_p90: 0 Cop_wait_max: 0 Cop_wait_addr: tiflash1\n# Mem_max: 64712\n# Prepared: false\n# Plan_from_cache: false\n# Plan_from_binding: false\n# Has_more_results: false\n# KV_total: 0\n# PD_total: 0\n# Backoff_total: 0\n# Write_sql_response_total: 0\n# Result_rows: 0\n# Succ: true\n# IsExplicitTxn: false\n# Plan: tidb_decode_plan('+ARoMAkxNF8xMwkwCTEJQ29sdW1uIzkKMQk2XzE2BRQ8ZnVuY3M6Y291bnQoMSktPhUk8EAyCTIyXzE4CTAJMwlDQVJURVNJQU4gaW5uZXIgam9pbiwgb3RoZXIgY29uZDpvcihnZSh0ZXN0LngxLmEsIENvbAFrJDUpLCBpZihuZSgNWCg2LCAwKSwgTlVMTAEKICkKMwkzMV8yMAVnkGRhdGE6VGFibGVGdWxsU2Nhbl8xOQo0CTQzXzE5CTFfMQkzCXQBH5A6eDEsIGtlZXAgb3JkZXI6ZmFsc2UKMwkxXzIxCTAJMC44MAluFXQANwFqGAo0CTZfMzId9AhtaW4RlggxNCkV+gg1LCApFAhzdW0VIAA1GSAANhEgKTQN2AQxNhkiCDcKNQHVBDM0BW0F1VxFeGNoYW5nZVNlbmRlcl8zMwo2CTQ5XzMBswwxCTEJESBcVHlwZTogUGFzc1Rocm91Z2gKNwk2XzI1Bf0AMS2tAbkpawgyLmEZdwQxNBGaAboAMB0ZFdMJsz3nJDE2CjgJNDRfMzENYgB0KV8MMiwgcgGwPDogZGVjaWRlZCBieSBbZXENeCXjGYMAXUqNAQ==')\n# Plan_digest: ae3072177b3e62d2c15877f1b72ad0627b11bba97cab4d58f2bf81c4b58cd6cc\nuse test;\nselect /*+ agg_to_cop(), hash_agg()*/ count(*) from x1 where a >= any (select a from x2 where x1.a = x2.a) order by 1;"]
[2022/07/15 15:02:18.789 +08:00] [INFO] [fragment.go:77] ["Mpp will generate tasks"] [plan=Table(x2)->HashAgg->Send()]
[2022/07/15 15:02:18.789 +08:00] [INFO] [batch_coprocessor.go:325] ["detecting available mpp stores"]
[2022/07/15 15:02:18.789 +08:00] [WARN] [batch_coprocessor.go:359] ["Store is not ready"] ["store address"=tiflash1] ["err message"="not support this request type MPPAlive"]
[2022/07/15 15:02:18.789 +08:00] [WARN] [batch_coprocessor.go:359] ["Store is not ready"] ["store address"=tiflash0] ["err message"="not support this request type MPPAlive"]
[2022/07/15 15:02:18.789 +08:00] [WARN] [batch_coprocessor.go:400] ["Meet regions that don't have an available store. Give up balancing"]
[2022/07/15 15:02:18.789 +08:00] [INFO] [mpp_gather.go:80] ["Dispatch mpp task"] [timestamp=434600290232041472] [ID=1] [address=tiflash0] [plan="Table(x2)->HashAgg->Send(-1, )"]
[2022/07/15 15:02:19.789 +08:00] [INFO] [fragment.go:77] ["Mpp will generate tasks"] [plan=Table(x2)->HashAgg->Send()]
[2022/07/15 15:02:19.789 +08:00] [INFO] [batch_coprocessor.go:325] ["detecting available mpp stores"]
[2022/07/15 15:02:19.789 +08:00] [WARN] [batch_coprocessor.go:359] ["Store is not ready"] ["store address"=tiflash0] ["err message"="not support this request type MPPAlive"]
[2022/07/15 15:02:19.789 +08:00] [WARN] [batch_coprocessor.go:359] ["Store is not ready"] ["store address"=tiflash1] ["err message"="not support this request type MPPAlive"]
[2022/07/15 15:02:19.789 +08:00] [WARN] [batch_coprocessor.go:400] ["Meet regions that don't have an available store. Give up balancing"]
[2022/07/15 15:02:19.789 +08:00] [INFO] [mpp_gather.go:80] ["Dispatch mpp task"] [timestamp=434600290232041472] [ID=2] [address=tiflash0] [plan="Table(x2)->HashAgg->Send(-1, )"]
[2022/07/15 15:02:20.790 +08:00] [INFO] [fragment.go:77] ["Mpp will generate tasks"] [plan=Table(x2)->HashAgg->Send()]
[2022/07/15 15:02:20.790 +08:00] [INFO] [batch_coprocessor.go:325] ["detecting available mpp stores"]
[2022/07/15 15:02:20.790 +08:00] [WARN] [batch_coprocessor.go:359] ["Store is not ready"] ["store address"=tiflash1] ["err message"="not support this request type MPPAlive"]
[2022/07/15 15:02:20.790 +08:00] [WARN] [batch_coprocessor.go:359] ["Store is not ready"] ["store address"=tiflash0] ["err message"="not support this request type MPPAlive"]
[2022/07/15 15:02:20.790 +08:00] [WARN] [batch_coprocessor.go:400] ["Meet regions that don't have an available store. Give up balancing"]
[2022/07/15 15:02:20.790 +08:00] [INFO] [mpp_gather.go:80] ["Dispatch mpp task"] [timestamp=434600290232041472] [ID=3] [address=tiflash0] [plan="Table(x2)->HashAgg->Send(-1, )"]
[2022/07/15 15:02:21.790 +08:00] [WARN] [adapter.go:1067] ["# Txn_start_ts: 434600290232041472\n# Conn_ID: 17\n# Query_time: 3.002287458\n# Parse_time: 0.000055416\n# Compile_time: 0.0002875\n# Rewrite_time: 0.000088625\n# Optimize_time: 0.000156417\n# Wait_TS: 0.000004167\n# Cop_time: 3.000551751 Request_count: 3\n# DB: test\n# Is_internal: false\n# Digest: ecff472183d15d8d85d9674033c953c1175ad7547f1794d6743cc51eed8df3bf\n# Stats: x1:434600289443250176,x2:434600289442463748\n# Num_cop_tasks: 3\n# Cop_proc_avg: 0 Cop_proc_p90: 0 Cop_proc_max: 0 Cop_proc_addr: tiflash0\n# Cop_wait_avg: 0 Cop_wait_p90: 0 Cop_wait_max: 0 Cop_wait_addr: tiflash0\n# Mem_max: 68512\n# Prepared: false\n# Plan_from_cache: false\n# Plan_from_binding: false\n# Has_more_results: false\n# KV_total: 0\n# PD_total: 0\n# Backoff_total: 0\n# Write_sql_response_total: 0\n# Result_rows: 0\n# Succ: true\n# IsExplicitTxn: false\n# Plan: tidb_decode_plan('lAXwZTAJNl8xMwkwCTEJZnVuY3M6Y291bnQoMSktPkNvbHVtbiM5CjEJMjJfMTUJMAkyLjQwCUNBUlRFU0lBTiBpbm5lciBqb2luLCBvdGhlciBjb25kOm9yKGd0KHRlc3QueDEuYiwgQwlKJDUpLCBpZihuZSgNWyg2LCAwKSwgTlVMTAEKICkKMgkzMV8xOBFqXGRhdGE6U2VsZWN0aW9uXzE3CjMJMV8xNwEFCYwgaWYoaXNudWxsGW8VUSQxKQo0CTQzXzE2BTB0Mwl0YWJsZTp4MSwga2VlcCBvcmRlcjpmYWxzZQoyASMgOQkwCTAuODAJGaIsNywgMCkKMwk2XzMwPSUIbWluEcQEMTQ5Kwg1LCApRQhzdW0VIAA1GSAANhEgKWUtBgQxNhkiCDcKNCEDBDMyBW0lAGBFeGNoYW5nZVNlbmRlcl8zMQo1CTQ5XzMxAbMICTEJESBYVHlwZTogUGFzc1Rocm91Z2gKNgk2XzIlMjXeAbkEdGUhmQgyLmEZdwQxNBGaAboAMB0ZFdMJs10YJDE2CjcJNDRfMjkNiS1fDDIsIHIBsDw6IGRlY2lkZWQgYnkgW2VxDXgQMS5hLCAZgwBdSo0B')\n# Plan_digest: 5582315ba16dccb854719b705db05abb92b25955ebdce68668e591821db1334d\nselect /*+ agg_to_cop(), hash_agg()*/ count(*) from x1 where b > any (select x2.a from x2 where x1.a = x2.a);"]
[2022/07/15 15:02:21.791 +08:00] [INFO] [ddl_worker.go:158] ["[ddl] DDL worker closed"] [worker="worker 67, tp general"] ["take time"=458ns]
[2022/07/15 15:02:21.791 +08:00] [INFO] [ddl_worker.go:158] ["[ddl] DDL worker closed"] [worker="worker 68, tp add index"] ["take time"=84ns]
[2022/07/15 15:02:21.791 +08:00] [INFO] [delete_range.go:148] ["[ddl] closing delRange"]
[2022/07/15 15:02:21.791 +08:00] [INFO] [session_pool.go:94] ["[ddl] closing sessionPool"]
[2022/07/15 15:02:21.791 +08:00] [INFO] [ddl.go:576] ["[ddl] DDL closed"] [ID=2ecd02c0-3e1b-4c3d-a9ab-78dd8f153f0e] ["take time"=110.875µs]
[2022/07/15 15:02:21.791 +08:00] [INFO] [ddl.go:464] ["[ddl] stop DDL"] [ID=2ecd02c0-3e1b-4c3d-a9ab-78dd8f153f0e]
[2022/07/15 15:02:21.791 +08:00] [INFO] [domain.go:498] ["topNSlowQueryLoop exited."]
[2022/07/15 15:02:21.791 +08:00] [INFO] [handle_hist.go:156] ["SubLoadWorker exited."]
[2022/07/15 15:02:21.791 +08:00] [INFO] [handle_hist.go:156] ["SubLoadWorker exited."]
[2022/07/15 15:02:21.791 +08:00] [INFO] [domain.go:1160] ["globalBindHandleWorkerLoop exited."]
[2022/07/15 15:02:21.791 +08:00] [INFO] [domain.go:1288] ["dumpFileGcChecker exited."]
[2022/07/15 15:02:21.791 +08:00] [INFO] [handle_hist.go:156] ["SubLoadWorker exited."]
[2022/07/15 15:02:21.791 +08:00] [INFO] [handle_hist.go:156] ["SubLoadWorker exited."]
[2022/07/15 15:02:21.791 +08:00] [INFO] [domain.go:1032] ["loadPrivilegeInLoop exited."]
[2022/07/15 15:02:21.791 +08:00] [INFO] [domain.go:1082] ["LoadSysVarCacheLoop exited."]
[2022/07/15 15:02:21.791 +08:00] [INFO] [domain.go:1203] ["handleEvolvePlanTasksLoop exited."]
[2022/07/15 15:02:21.791 +08:00] [INFO] [domain.go:552] ["globalConfigSyncerKeeper exited."]
[2022/07/15 15:02:21.791 +08:00] [INFO] [domain.go:527] ["infoSyncerKeeper exited."]
[2022/07/15 15:02:21.791 +08:00] [INFO] [handle_hist.go:156] ["SubLoadWorker exited."]
[2022/07/15 15:02:21.791 +08:00] [INFO] [domain.go:575] ["topologySyncerKeeper exited."]
[2022/07/15 15:02:21.791 +08:00] [INFO] [domain.go:733] ["domain closed"] ["take time"=234.625µs]
[2022/07/15 15:02:21.811 +08:00] [INFO] [db.go:567] ["Closing database"]
[2022/07/15 15:02:21.811 +08:00] [INFO] [db.go:592] ["Memtable flushed"]
[2022/07/15 15:02:21.811 +08:00] [INFO] [db.go:596] ["Compaction finished"]
[2022/07/15 15:02:21.811 +08:00] [INFO] [db.go:615] ["BlobManager finished"]
[2022/07/15 15:02:21.811 +08:00] [INFO] [db.go:619] ["ResourceManager finished"]
[2022/07/15 15:02:21.811 +08:00] [INFO] [db.go:625] ["Waiting for closer"]
[2022/07/15 15:02:21.885 +08:00] [INFO] [tidb.go:74] ["new domain"] [store=dfaae302-03a3-4e59-8435-d8f00ea19553] ["ddl lease"=0s] ["stats lease"=-1ns] ["index usage sync lease"=0s]
[2022/07/15 15:02:21.885 +08:00] [INFO] [domain.go:178] ["full load InfoSchema success"] [currentSchemaVersion=0] [neededSchemaVersion=0] ["start time"=501.25µs]
[2022/07/15 15:02:21.886 +08:00] [INFO] [domain.go:449] ["full load and reset schema validator"]
[2022/07/15 15:02:21.886 +08:00] [INFO] [ddl.go:483] ["[ddl] start DDL"] [ID=fab24311-2d20-4c52-a0bf-bf044aa1db51] [runWorker=true]
[2022/07/15 15:02:21.886 +08:00] [INFO] [ddl.go:472] ["[ddl] start delRangeManager OK"] ["is a emulator"=true]
[2022/07/15 15:02:21.886 +08:00] [INFO] [ddl_worker.go:164] ["[ddl] start DDL worker"] [worker="worker 69, tp general"]
[2022/07/15 15:02:21.886 +08:00] [INFO] [ddl_worker.go:164] ["[ddl] start DDL worker"] [worker="worker 70, tp add index"]
[2022/07/15 15:02:21.886 +08:00] [INFO] [delete_range.go:158] ["[ddl] start delRange emulator"]
[2022/07/15 15:02:21.886 +08:00] [INFO] [tidb.go:268] ["rollbackTxn called due to ddl/autocommit failure"]
[2022/07/15 15:02:21.886 +08:00] [WARN] [session.go:1983] ["run statement failed"] [schemaVersion=0] [error="[schema:1049]Unknown database 'mysql'"] [errorVerbose="[schema:1049]Unknown database 'mysql'\ngithub.com/pingcap/errors.AddStack\n\t/Users/hongyunyan/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20211224045212-9687c2b0f87c/errors.go:174\ngithub.com/pingcap/errors.(*Error).GenWithStackByArgs\n\t/Users/hongyunyan/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20211224045212-9687c2b0f87c/normalize.go:164\ngithub.com/pingcap/tidb/executor.(*SimpleExec).executeUse\n\t/Users/hongyunyan/Desktop/tidb/executor/simple.go:571\ngithub.com/pingcap/tidb/executor.(*SimpleExec).Next\n\t/Users/hongyunyan/Desktop/tidb/executor/simple.go:131\ngithub.com/pingcap/tidb/executor.Next\n\t/Users/hongyunyan/Desktop/tidb/executor/executor.go:319\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelayExecutor\n\t/Users/hongyunyan/Desktop/tidb/executor/adapter.go:673\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelay\n\t/Users/hongyunyan/Desktop/tidb/executor/adapter.go:523\ngithub.com/pingcap/tidb/executor.(*ExecStmt).Exec\n\t/Users/hongyunyan/Desktop/tidb/executor/adapter.go:472\ngithub.com/pingcap/tidb/session.runStmt\n\t/Users/hongyunyan/Desktop/tidb/session/session.go:2114\ngithub.com/pingcap/tidb/session.(*session).ExecuteStmt\n\t/Users/hongyunyan/Desktop/tidb/session/session.go:1980\ngithub.com/pingcap/tidb/session.(*session).ExecuteInternal\n\t/Users/hongyunyan/Desktop/tidb/session/session.go:1495\ngithub.com/pingcap/tidb/session.checkBootstrapped\n\t/Users/hongyunyan/Desktop/tidb/session/bootstrap.go:728\ngithub.com/pingcap/tidb/session.bootstrap\n\t/Users/hongyunyan/Desktop/tidb/session/bootstrap.go:431\ngithub.com/pingcap/tidb/session.runInBootstrapSession\n\t/Users/hongyunyan/Desktop/tidb/session/session.go:2834\ngithub.com/pingcap/tidb/session.BootstrapSession\n\t/Users/hongyunyan/Desktop/tidb/session/session.go:2720\ngithub.com/pingcap/tidb/testkit.bootstrap\n\t/Users/hongyunyan/Desktop/tidb/testkit/mockstore.go:71\ngithub.com/pingcap/tidb/testkit.CreateMockStoreAndDomain\n\t/Users/hongyunyan/Desktop/tidb/testkit/mockstore.go:64\ngithub.com/pingcap/tidb/testkit.CreateMockStore\n\t/Users/hongyunyan/Desktop/tidb/testkit/mockstore.go:56\ngithub.com/pingcap/tidb/executor/tiflashtest.TestTiFlashVirtualColumn\n\t/Users/hongyunyan/Desktop/tidb/executor/tiflashtest/tiflash_test.go:901\ntesting.tRunner\n\t/opt/homebrew/Cellar/go/1.18.3/libexec/src/testing/testing.go:1439\nruntime.goexit\n\t/opt/homebrew/Cellar/go/1.18.3/libexec/src/runtime/asm_arm64.s:1263"] [session="{\n  \"currDBName\": \"\",\n  \"id\": 0,\n  \"status\": 2,\n  \"strictMode\": true,\n  \"user\": null\n}"]
[2022/07/15 15:02:21.886 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=0] [cur_db=] [sql="CREATE DATABASE IF NOT EXISTS test"] [user=]
[2022/07/15 15:02:21.886 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:2, Type:create schema, State:queueing, SchemaState:none, SchemaID:1, TableID:0, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:21.886 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:21.886 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:2, Type:create schema, State:queueing, SchemaState:none, SchemaID:1, TableID:0, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:21.886 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE DATABASE IF NOT EXISTS test"]
[2022/07/15 15:02:21.886 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 69, tp general"] [job="ID:2, Type:create schema, State:queueing, SchemaState:none, SchemaID:1, TableID:0, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:21.886 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:21.886 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 69, tp general"] [job="ID:2, Type:create schema, State:synced, SchemaState:public, SchemaID:1, TableID:0, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:21.886 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:21.886 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=2]
[2022/07/15 15:02:21.886 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:21.887 +08:00] [INFO] [domain.go:178] ["full load InfoSchema success"] [currentSchemaVersion=0] [neededSchemaVersion=1] ["start time"=410.875µs]
[2022/07/15 15:02:21.887 +08:00] [INFO] [domain.go:449] ["full load and reset schema validator"]
[2022/07/15 15:02:21.887 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=1] [cur_db=] [sql="CREATE DATABASE IF NOT EXISTS `mysql`"] [user=]
[2022/07/15 15:02:21.887 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:4, Type:create schema, State:queueing, SchemaState:none, SchemaID:3, TableID:0, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:21.887 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:21.887 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:4, Type:create schema, State:queueing, SchemaState:none, SchemaID:3, TableID:0, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:21.887 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE DATABASE IF NOT EXISTS `mysql`"]
[2022/07/15 15:02:21.887 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 69, tp general"] [job="ID:4, Type:create schema, State:queueing, SchemaState:none, SchemaID:3, TableID:0, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:21.887 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:21.887 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 69, tp general"] [job="ID:4, Type:create schema, State:synced, SchemaState:public, SchemaID:3, TableID:0, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:21.887 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:21.887 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=4]
[2022/07/15 15:02:21.887 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:21.887 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=1] [neededSchemaVersion=2] ["start time"=14.25µs] [phyTblIDs="[]"] [actionTypes="[]"]
[2022/07/15 15:02:21.888 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=2] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.user (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tauthentication_string\tTEXT,\n\t\tplugin\t\t\t\t\tCHAR(64),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tProcess_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_db_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tSuper_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_user_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_slave_priv\t    \tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_client_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_role_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_role_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAccount_locked\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShutdown_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReload_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tFILE_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tConfig_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_Tablespace_Priv  ENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (Host, User));"] [user=]
[2022/07/15 15:02:21.888 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:6, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:5, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:21.888 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:21.888 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:6, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:5, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:21.888 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.user (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tauthentication_string\tTEXT,\n\t\tplugin\t\t\t\t\tCHAR(64),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tProcess_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_db_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tSuper_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_user_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_slave_priv\t    \tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_client_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_role_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_role_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAccount_locked\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShutdown_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReload_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tFILE_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tConfig_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_Tablespace_Priv  ENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (Host, User));"]
[2022/07/15 15:02:21.888 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 69, tp general"] [job="ID:6, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:5, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:21.888 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:21.890 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 69, tp general"] [job="ID:6, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:5, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:21.888 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:21.890 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=6]
[2022/07/15 15:02:21.890 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:21.890 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=2] [neededSchemaVersion=3] ["start time"=250.583µs] [phyTblIDs="[5]"] [actionTypes="[8]"]
[2022/07/15 15:02:21.891 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=3] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.global_priv (Host CHAR(255) NOT NULL DEFAULT '',User CHAR(80) NOT NULL DEFAULT '',Priv LONGTEXT NOT NULL DEFAULT '',PRIMARY KEY (Host, User))"] [user=]
[2022/07/15 15:02:21.891 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:8, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:7, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:21.891 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:21.891 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:8, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:7, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:21.891 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.global_priv (Host CHAR(255) NOT NULL DEFAULT '',User CHAR(80) NOT NULL DEFAULT '',Priv LONGTEXT NOT NULL DEFAULT '',PRIMARY KEY (Host, User))"]
[2022/07/15 15:02:21.891 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 69, tp general"] [job="ID:8, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:7, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:21.891 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:21.891 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 69, tp general"] [job="ID:8, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:7, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:21.891 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:21.891 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=8]
[2022/07/15 15:02:21.891 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:21.891 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=3] [neededSchemaVersion=4] ["start time"=47.458µs] [phyTblIDs="[7]"] [actionTypes="[8]"]
[2022/07/15 15:02:21.891 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=4] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.db (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tDB\t\t\t\t\t\tCHAR(64),\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv \t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (Host, DB, User));"] [user=]
[2022/07/15 15:02:21.892 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:10, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:9, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:21.891 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:21.892 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:10, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:9, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:21.891 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.db (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tDB\t\t\t\t\t\tCHAR(64),\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv \t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (Host, DB, User));"]
[2022/07/15 15:02:21.892 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 69, tp general"] [job="ID:10, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:9, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:21.891 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:21.893 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 69, tp general"] [job="ID:10, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:9, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:21.891 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:21.893 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=10]
[2022/07/15 15:02:21.893 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:21.893 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=4] [neededSchemaVersion=5] ["start time"=182.208µs] [phyTblIDs="[9]"] [actionTypes="[8]"]
[2022/07/15 15:02:21.893 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=5] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.tables_priv (\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64),\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64),\n\t\tGrantor\t\tCHAR(77),\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tTable_priv\tSET('Select','Insert','Update','Delete','Create','Drop','Grant','Index','Alter','Create View','Show View','Trigger','References'),\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name));"] [user=]
[2022/07/15 15:02:21.893 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:12, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:11, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:21.893 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:21.893 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:12, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:11, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:21.893 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.tables_priv (\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64),\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64),\n\t\tGrantor\t\tCHAR(77),\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tTable_priv\tSET('Select','Insert','Update','Delete','Create','Drop','Grant','Index','Alter','Create View','Show View','Trigger','References'),\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name));"]
[2022/07/15 15:02:21.894 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 69, tp general"] [job="ID:12, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:11, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:21.893 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:21.894 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 69, tp general"] [job="ID:12, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:11, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:21.893 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:21.894 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=12]
[2022/07/15 15:02:21.894 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:21.894 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=5] [neededSchemaVersion=6] ["start time"=90.5µs] [phyTblIDs="[11]"] [actionTypes="[8]"]
[2022/07/15 15:02:21.894 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=6] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.columns_priv(\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64),\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64),\n\t\tColumn_name\tCHAR(64),\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name, Column_name));"] [user=]
[2022/07/15 15:02:21.895 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:14, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:13, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:21.895 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:21.895 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:14, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:13, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:21.895 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.columns_priv(\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64),\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64),\n\t\tColumn_name\tCHAR(64),\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name, Column_name));"]
[2022/07/15 15:02:21.895 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 69, tp general"] [job="ID:14, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:13, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:21.895 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:21.895 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 69, tp general"] [job="ID:14, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:13, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:21.895 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:21.895 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=14]
[2022/07/15 15:02:21.895 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:21.895 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=6] [neededSchemaVersion=7] ["start time"=76.042µs] [phyTblIDs="[13]"] [actionTypes="[8]"]
[2022/07/15 15:02:21.895 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=7] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.GLOBAL_VARIABLES(\n\t\tVARIABLE_NAME  VARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(1024) DEFAULT NULL);"] [user=]
[2022/07/15 15:02:21.896 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:16, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:15, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:21.896 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:21.896 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:16, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:15, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:21.896 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.GLOBAL_VARIABLES(\n\t\tVARIABLE_NAME  VARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(1024) DEFAULT NULL);"]
[2022/07/15 15:02:21.896 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 69, tp general"] [job="ID:16, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:15, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:21.896 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:21.896 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 69, tp general"] [job="ID:16, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:15, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:21.896 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:21.896 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=16]
[2022/07/15 15:02:21.896 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:21.896 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=7] [neededSchemaVersion=8] ["start time"=42.709µs] [phyTblIDs="[15]"] [actionTypes="[8]"]
[2022/07/15 15:02:21.896 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=8] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb(\n\t\tVARIABLE_NAME  \tVARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE \tVARCHAR(1024) DEFAULT NULL,\n\t\tCOMMENT \t\tVARCHAR(1024));"] [user=]
[2022/07/15 15:02:21.896 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:18, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:17, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:21.896 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:21.896 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:18, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:17, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:21.896 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb(\n\t\tVARIABLE_NAME  \tVARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE \tVARCHAR(1024) DEFAULT NULL,\n\t\tCOMMENT \t\tVARCHAR(1024));"]
[2022/07/15 15:02:21.896 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 69, tp general"] [job="ID:18, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:17, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:21.896 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:21.897 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 69, tp general"] [job="ID:18, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:17, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:21.896 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:21.897 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=18]
[2022/07/15 15:02:21.897 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:21.897 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=8] [neededSchemaVersion=9] ["start time"=49.25µs] [phyTblIDs="[17]"] [actionTypes="[8]"]
[2022/07/15 15:02:21.897 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=9] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.help_topic (\n  \t\thelp_topic_id \t\tINT(10) UNSIGNED NOT NULL,\n  \t\tname \t\t\t\tCHAR(64) NOT NULL,\n  \t\thelp_category_id \tSMALLINT(5) UNSIGNED NOT NULL,\n  \t\tdescription \t\tTEXT NOT NULL,\n  \t\texample \t\t\tTEXT NOT NULL,\n  \t\turl \t\t\t\tTEXT NOT NULL,\n  \t\tPRIMARY KEY (help_topic_id) clustered,\n  \t\tUNIQUE KEY name (name)\n\t\t) ENGINE=InnoDB DEFAULT CHARSET=utf8 STATS_PERSISTENT=0 COMMENT='help topics';"] [user=]
[2022/07/15 15:02:21.897 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:20, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:19, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:21.897 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:21.897 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:20, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:19, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:21.897 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.help_topic (\n  \t\thelp_topic_id \t\tINT(10) UNSIGNED NOT NULL,\n  \t\tname \t\t\t\tCHAR(64) NOT NULL,\n  \t\thelp_category_id \tSMALLINT(5) UNSIGNED NOT NULL,\n  \t\tdescription \t\tTEXT NOT NULL,\n  \t\texample \t\t\tTEXT NOT NULL,\n  \t\turl \t\t\t\tTEXT NOT NULL,\n  \t\tPRIMARY KEY (help_topic_id) clustered,\n  \t\tUNIQUE KEY name (name)\n\t\t) ENGINE=InnoDB DEFAULT CHARSET=utf8 STATS_PERSISTENT=0 COMMENT='help topics';"]
[2022/07/15 15:02:21.897 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 69, tp general"] [job="ID:20, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:19, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:21.897 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:21.898 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 69, tp general"] [job="ID:20, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:19, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:21.897 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:21.898 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=20]
[2022/07/15 15:02:21.898 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:21.898 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=9] [neededSchemaVersion=10] ["start time"=65.542µs] [phyTblIDs="[19]"] [actionTypes="[8]"]
[2022/07/15 15:02:21.898 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=10] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_meta (\n\t\tversion \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\ttable_id \t\tBIGINT(64) NOT NULL,\n\t\tmodify_count\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcount \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tsnapshot        BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tINDEX idx_ver(version),\n\t\tUNIQUE INDEX tbl(table_id)\n\t);"] [user=]
[2022/07/15 15:02:21.898 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:22, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:21, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:21.898 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:21.898 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:22, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:21, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:21.898 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_meta (\n\t\tversion \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\ttable_id \t\tBIGINT(64) NOT NULL,\n\t\tmodify_count\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcount \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tsnapshot        BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tINDEX idx_ver(version),\n\t\tUNIQUE INDEX tbl(table_id)\n\t);"]
[2022/07/15 15:02:21.898 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 69, tp general"] [job="ID:22, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:21, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:21.898 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:21.899 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 69, tp general"] [job="ID:22, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:21, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:21.898 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:21.899 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=22]
[2022/07/15 15:02:21.899 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:21.899 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=10] [neededSchemaVersion=11] ["start time"=64.25µs] [phyTblIDs="[21]"] [actionTypes="[8]"]
[2022/07/15 15:02:21.899 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=11] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_histograms (\n\t\ttable_id \t\t\tBIGINT(64) NOT NULL,\n\t\tis_index \t\t\tTINYINT(2) NOT NULL,\n\t\thist_id \t\t\tBIGINT(64) NOT NULL,\n\t\tdistinct_count \t\tBIGINT(64) NOT NULL,\n\t\tnull_count \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\ttot_col_size \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tmodify_count \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tversion \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tcm_sketch \t\t\tBLOB(6291456),\n\t\tstats_ver \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tflag \t\t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcorrelation \t\tDOUBLE NOT NULL DEFAULT 0,\n\t\tlast_analyze_pos \tLONGBLOB DEFAULT NULL,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id)\n\t);"] [user=]
[2022/07/15 15:02:21.899 +08:00] [INFO] [ddl_api.go:999] ["Automatically convert BLOB(6291456) to MEDIUMBLOB"]
[2022/07/15 15:02:21.899 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:24, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:23, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:21.899 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:21.899 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:24, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:23, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:21.899 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_histograms (\n\t\ttable_id \t\t\tBIGINT(64) NOT NULL,\n\t\tis_index \t\t\tTINYINT(2) NOT NULL,\n\t\thist_id \t\t\tBIGINT(64) NOT NULL,\n\t\tdistinct_count \t\tBIGINT(64) NOT NULL,\n\t\tnull_count \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\ttot_col_size \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tmodify_count \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tversion \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tcm_sketch \t\t\tBLOB(6291456),\n\t\tstats_ver \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tflag \t\t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcorrelation \t\tDOUBLE NOT NULL DEFAULT 0,\n\t\tlast_analyze_pos \tLONGBLOB DEFAULT NULL,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id)\n\t);"]
[2022/07/15 15:02:21.899 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 69, tp general"] [job="ID:24, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:23, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:21.899 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:21.900 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 69, tp general"] [job="ID:24, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:23, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:21.899 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:21.900 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=24]
[2022/07/15 15:02:21.900 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:21.900 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=11] [neededSchemaVersion=12] ["start time"=106.458µs] [phyTblIDs="[23]"] [actionTypes="[8]"]
[2022/07/15 15:02:21.900 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=12] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_buckets (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tbucket_id \tBIGINT(64) NOT NULL,\n\t\tcount \t\tBIGINT(64) NOT NULL,\n\t\trepeats \tBIGINT(64) NOT NULL,\n\t\tupper_bound LONGBLOB NOT NULL,\n\t\tlower_bound LONGBLOB ,\n\t\tndv         BIGINT NOT NULL DEFAULT 0,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id, bucket_id)\n\t);"] [user=]
[2022/07/15 15:02:21.900 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:26, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:25, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:21.9 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:21.900 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:26, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:25, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:21.9 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_buckets (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tbucket_id \tBIGINT(64) NOT NULL,\n\t\tcount \t\tBIGINT(64) NOT NULL,\n\t\trepeats \tBIGINT(64) NOT NULL,\n\t\tupper_bound LONGBLOB NOT NULL,\n\t\tlower_bound LONGBLOB ,\n\t\tndv         BIGINT NOT NULL DEFAULT 0,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id, bucket_id)\n\t);"]
[2022/07/15 15:02:21.901 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 69, tp general"] [job="ID:26, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:25, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:21.9 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:21.901 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 69, tp general"] [job="ID:26, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:25, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:21.9 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:21.901 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=26]
[2022/07/15 15:02:21.901 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:21.901 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=12] [neededSchemaVersion=13] ["start time"=84.583µs] [phyTblIDs="[25]"] [actionTypes="[8]"]
[2022/07/15 15:02:21.901 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=13] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_index (job_id, element_id)\n\t);"] [user=]
[2022/07/15 15:02:21.902 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:28, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:27, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:21.901 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:21.902 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:28, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:27, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:21.901 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_index (job_id, element_id)\n\t);"]
[2022/07/15 15:02:21.902 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 69, tp general"] [job="ID:28, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:27, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:21.901 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:21.902 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 69, tp general"] [job="ID:28, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:27, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:21.901 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:21.902 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=28]
[2022/07/15 15:02:21.902 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:21.902 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=13] [neededSchemaVersion=14] ["start time"=62.792µs] [phyTblIDs="[27]"] [actionTypes="[8]"]
[2022/07/15 15:02:21.902 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=14] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range_done (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_done_index (job_id, element_id)\n\t);"] [user=]
[2022/07/15 15:02:21.902 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:30, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:29, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:21.902 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:21.902 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:30, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:29, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:21.902 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range_done (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_done_index (job_id, element_id)\n\t);"]
[2022/07/15 15:02:21.903 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 69, tp general"] [job="ID:30, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:29, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:21.902 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:21.903 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 69, tp general"] [job="ID:30, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:29, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:21.902 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:21.903 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=30]
[2022/07/15 15:02:21.903 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:21.903 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=14] [neededSchemaVersion=15] ["start time"=60.625µs] [phyTblIDs="[29]"] [actionTypes="[8]"]
[2022/07/15 15:02:21.903 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=15] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_feedback (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tfeedback \tBLOB NOT NULL,\n\t\tINDEX hist(table_id, is_index, hist_id)\n\t);"] [user=]
[2022/07/15 15:02:21.903 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:32, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:31, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:21.903 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:21.903 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:32, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:31, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:21.903 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_feedback (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tfeedback \tBLOB NOT NULL,\n\t\tINDEX hist(table_id, is_index, hist_id)\n\t);"]
[2022/07/15 15:02:21.903 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 69, tp general"] [job="ID:32, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:31, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:21.903 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:21.904 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 69, tp general"] [job="ID:32, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:31, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:21.903 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:21.904 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=32]
[2022/07/15 15:02:21.904 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:21.904 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=15] [neededSchemaVersion=16] ["start time"=55.916µs] [phyTblIDs="[31]"] [actionTypes="[8]"]
[2022/07/15 15:02:21.904 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=16] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.role_edges (\n\t\tFROM_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tFROM_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tWITH_ADMIN_OPTION \tENUM('N','Y') CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (FROM_HOST,FROM_USER,TO_HOST,TO_USER)\n\t);"] [user=]
[2022/07/15 15:02:21.904 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:34, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:33, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:21.904 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:21.904 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:34, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:33, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:21.904 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.role_edges (\n\t\tFROM_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tFROM_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tWITH_ADMIN_OPTION \tENUM('N','Y') CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (FROM_HOST,FROM_USER,TO_HOST,TO_USER)\n\t);"]
[2022/07/15 15:02:21.904 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 69, tp general"] [job="ID:34, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:33, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:21.904 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:21.904 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 69, tp general"] [job="ID:34, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:33, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:21.904 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:21.905 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=34]
[2022/07/15 15:02:21.905 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:21.905 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=16] [neededSchemaVersion=17] ["start time"=61.917µs] [phyTblIDs="[33]"] [actionTypes="[8]"]
[2022/07/15 15:02:21.905 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=17] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.default_roles (\n\t\tHOST \t\t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tUSER \t\t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tDEFAULT_ROLE_HOST \tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '%',\n\t\tDEFAULT_ROLE_USER \tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tPRIMARY KEY (HOST,USER,DEFAULT_ROLE_HOST,DEFAULT_ROLE_USER)\n\t)"] [user=]
[2022/07/15 15:02:21.905 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:36, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:35, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:21.905 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:21.905 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:36, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:35, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:21.905 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.default_roles (\n\t\tHOST \t\t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tUSER \t\t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tDEFAULT_ROLE_HOST \tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '%',\n\t\tDEFAULT_ROLE_USER \tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tPRIMARY KEY (HOST,USER,DEFAULT_ROLE_HOST,DEFAULT_ROLE_USER)\n\t)"]
[2022/07/15 15:02:21.905 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 69, tp general"] [job="ID:36, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:35, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:21.905 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:21.905 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 69, tp general"] [job="ID:36, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:35, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:21.905 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:21.905 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=36]
[2022/07/15 15:02:21.905 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:21.906 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=17] [neededSchemaVersion=18] ["start time"=60µs] [phyTblIDs="[35]"] [actionTypes="[8]"]
[2022/07/15 15:02:21.906 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=18] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.bind_info (\n\t\toriginal_sql TEXT NOT NULL,\n\t\tbind_sql TEXT NOT NULL,\n\t\tdefault_db TEXT NOT NULL,\n\t\tstatus TEXT NOT NULL,\n\t\tcreate_time TIMESTAMP(3) NOT NULL,\n\t\tupdate_time TIMESTAMP(3) NOT NULL,\n\t\tcharset TEXT NOT NULL,\n\t\tcollation TEXT NOT NULL,\n\t\tsource VARCHAR(10) NOT NULL DEFAULT 'unknown',\n\t\tINDEX sql_index(original_sql(700),default_db(68)) COMMENT \"accelerate the speed when add global binding query\",\n\t\tINDEX time_index(update_time) COMMENT \"accelerate the speed when querying with last update time\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"] [user=]
[2022/07/15 15:02:21.906 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:38, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:37, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:21.906 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:21.906 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:38, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:37, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:21.906 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.bind_info (\n\t\toriginal_sql TEXT NOT NULL,\n\t\tbind_sql TEXT NOT NULL,\n\t\tdefault_db TEXT NOT NULL,\n\t\tstatus TEXT NOT NULL,\n\t\tcreate_time TIMESTAMP(3) NOT NULL,\n\t\tupdate_time TIMESTAMP(3) NOT NULL,\n\t\tcharset TEXT NOT NULL,\n\t\tcollation TEXT NOT NULL,\n\t\tsource VARCHAR(10) NOT NULL DEFAULT 'unknown',\n\t\tINDEX sql_index(original_sql(700),default_db(68)) COMMENT \"accelerate the speed when add global binding query\",\n\t\tINDEX time_index(update_time) COMMENT \"accelerate the speed when querying with last update time\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"]
[2022/07/15 15:02:21.906 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 69, tp general"] [job="ID:38, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:37, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:21.906 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:21.906 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 69, tp general"] [job="ID:38, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:37, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:21.906 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:21.907 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=38]
[2022/07/15 15:02:21.907 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:21.907 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=18] [neededSchemaVersion=19] ["start time"=89.125µs] [phyTblIDs="[37]"] [actionTypes="[8]"]
[2022/07/15 15:02:21.907 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=19] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_top_n (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tcount \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"] [user=]
[2022/07/15 15:02:21.907 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:40, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:39, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:21.907 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:21.907 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:40, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:39, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:21.907 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_top_n (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tcount \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"]
[2022/07/15 15:02:21.907 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 69, tp general"] [job="ID:40, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:39, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:21.907 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:21.908 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 69, tp general"] [job="ID:40, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:39, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:21.907 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:21.908 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=40]
[2022/07/15 15:02:21.908 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:21.908 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=19] [neededSchemaVersion=20] ["start time"=63.25µs] [phyTblIDs="[39]"] [actionTypes="[8]"]
[2022/07/15 15:02:21.908 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=20] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.expr_pushdown_blacklist (\n\t\tname \t\tCHAR(100) NOT NULL,\n\t\tstore_type \tCHAR(100) NOT NULL DEFAULT 'tikv,tiflash,tidb',\n\t\treason \t\tVARCHAR(200)\n\t);"] [user=]
[2022/07/15 15:02:21.908 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:42, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:41, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:21.908 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:21.908 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:42, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:41, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:21.908 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.expr_pushdown_blacklist (\n\t\tname \t\tCHAR(100) NOT NULL,\n\t\tstore_type \tCHAR(100) NOT NULL DEFAULT 'tikv,tiflash,tidb',\n\t\treason \t\tVARCHAR(200)\n\t);"]
[2022/07/15 15:02:21.908 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 69, tp general"] [job="ID:42, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:41, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:21.908 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:21.908 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 69, tp general"] [job="ID:42, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:41, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:21.908 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:21.908 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=42]
[2022/07/15 15:02:21.908 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:21.908 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=20] [neededSchemaVersion=21] ["start time"=41.291µs] [phyTblIDs="[41]"] [actionTypes="[8]"]
[2022/07/15 15:02:21.909 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=21] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.opt_rule_blacklist (\n\t\tname \tCHAR(100) NOT NULL\n\t);"] [user=]
[2022/07/15 15:02:21.909 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:44, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:43, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:21.909 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:21.909 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:44, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:43, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:21.909 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.opt_rule_blacklist (\n\t\tname \tCHAR(100) NOT NULL\n\t);"]
[2022/07/15 15:02:21.909 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 69, tp general"] [job="ID:44, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:43, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:21.909 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:21.909 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 69, tp general"] [job="ID:44, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:43, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:21.909 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:21.909 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=44]
[2022/07/15 15:02:21.909 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:21.909 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=21] [neededSchemaVersion=22] ["start time"=31.958µs] [phyTblIDs="[43]"] [actionTypes="[8]"]
[2022/07/15 15:02:21.909 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=22] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_extended (\n\t\tname varchar(32) NOT NULL,\n\t\ttype tinyint(4) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tcolumn_ids varchar(32) NOT NULL,\n\t\tstats blob DEFAULT NULL,\n\t\tversion bigint(64) unsigned NOT NULL,\n\t\tstatus tinyint(4) NOT NULL,\n\t\tPRIMARY KEY(name, table_id),\n\t\tKEY idx_1 (table_id, status, version),\n\t\tKEY idx_2 (status, version)\n\t);"] [user=]
[2022/07/15 15:02:21.909 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:46, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:45, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:21.909 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:21.909 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:46, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:45, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:21.909 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_extended (\n\t\tname varchar(32) NOT NULL,\n\t\ttype tinyint(4) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tcolumn_ids varchar(32) NOT NULL,\n\t\tstats blob DEFAULT NULL,\n\t\tversion bigint(64) unsigned NOT NULL,\n\t\tstatus tinyint(4) NOT NULL,\n\t\tPRIMARY KEY(name, table_id),\n\t\tKEY idx_1 (table_id, status, version),\n\t\tKEY idx_2 (status, version)\n\t);"]
[2022/07/15 15:02:21.909 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 69, tp general"] [job="ID:46, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:45, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:21.909 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:21.910 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 69, tp general"] [job="ID:46, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:45, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:21.909 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:21.910 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=46]
[2022/07/15 15:02:21.910 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:21.910 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=22] [neededSchemaVersion=23] ["start time"=83.417µs] [phyTblIDs="[45]"] [actionTypes="[8]"]
[2022/07/15 15:02:21.910 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=23] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.schema_index_usage (\n\t\tTABLE_ID bigint(64),\n\t\tINDEX_ID bigint(21),\n\t\tQUERY_COUNT bigint(64),\n\t\tROWS_SELECTED bigint(64),\n\t\tLAST_USED_AT timestamp,\n\t\tPRIMARY KEY(TABLE_ID, INDEX_ID)\n\t);"] [user=]
[2022/07/15 15:02:21.910 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:48, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:47, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:21.91 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:21.910 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:48, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:47, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:21.91 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.schema_index_usage (\n\t\tTABLE_ID bigint(64),\n\t\tINDEX_ID bigint(21),\n\t\tQUERY_COUNT bigint(64),\n\t\tROWS_SELECTED bigint(64),\n\t\tLAST_USED_AT timestamp,\n\t\tPRIMARY KEY(TABLE_ID, INDEX_ID)\n\t);"]
[2022/07/15 15:02:21.910 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 69, tp general"] [job="ID:48, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:47, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:21.91 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:21.911 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 69, tp general"] [job="ID:48, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:47, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:21.91 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:21.911 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=48]
[2022/07/15 15:02:21.911 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:21.911 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=23] [neededSchemaVersion=24] ["start time"=61.542µs] [phyTblIDs="[47]"] [actionTypes="[8]"]
[2022/07/15 15:02:21.911 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=24] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_fm_sketch (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"] [user=]
[2022/07/15 15:02:21.911 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:50, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:49, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:21.911 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:21.911 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:50, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:49, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:21.911 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_fm_sketch (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"]
[2022/07/15 15:02:21.911 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 69, tp general"] [job="ID:50, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:49, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:21.911 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:21.911 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 69, tp general"] [job="ID:50, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:49, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:21.911 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:21.912 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=50]
[2022/07/15 15:02:21.912 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:21.912 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=24] [neededSchemaVersion=25] ["start time"=61.333µs] [phyTblIDs="[49]"] [actionTypes="[8]"]
[2022/07/15 15:02:21.912 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=25] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.global_grants (\n\t\tUSER char(32) NOT NULL DEFAULT '',\n\t\tHOST char(255) NOT NULL DEFAULT '',\n\t\tPRIV char(32) NOT NULL DEFAULT '',\n\t\tWITH_GRANT_OPTION enum('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (USER,HOST,PRIV)\n\t);"] [user=]
[2022/07/15 15:02:21.912 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:52, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:51, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:21.912 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:21.912 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:52, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:51, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:21.912 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.global_grants (\n\t\tUSER char(32) NOT NULL DEFAULT '',\n\t\tHOST char(255) NOT NULL DEFAULT '',\n\t\tPRIV char(32) NOT NULL DEFAULT '',\n\t\tWITH_GRANT_OPTION enum('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (USER,HOST,PRIV)\n\t);"]
[2022/07/15 15:02:21.912 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 69, tp general"] [job="ID:52, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:51, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:21.912 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:21.912 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 69, tp general"] [job="ID:52, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:51, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:21.912 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:21.912 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=52]
[2022/07/15 15:02:21.912 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:21.912 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=25] [neededSchemaVersion=26] ["start time"=59.625µs] [phyTblIDs="[51]"] [actionTypes="[8]"]
[2022/07/15 15:02:21.912 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=26] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.capture_plan_baselines_blacklist (\n\t\tid bigint(64) auto_increment,\n\t\tfilter_type varchar(32) NOT NULL COMMENT \"type of the filter, only db, table and frequency supported now\",\n\t\tfilter_value varchar(32) NOT NULL,\n\t\tkey idx(filter_type),\n\t\tprimary key(id)\n\t);"] [user=]
[2022/07/15 15:02:21.913 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:54, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:53, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:21.912 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:21.913 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:54, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:53, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:21.912 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.capture_plan_baselines_blacklist (\n\t\tid bigint(64) auto_increment,\n\t\tfilter_type varchar(32) NOT NULL COMMENT \"type of the filter, only db, table and frequency supported now\",\n\t\tfilter_value varchar(32) NOT NULL,\n\t\tkey idx(filter_type),\n\t\tprimary key(id)\n\t);"]
[2022/07/15 15:02:21.913 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 69, tp general"] [job="ID:54, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:53, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:21.912 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:21.913 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 69, tp general"] [job="ID:54, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:53, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:21.912 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:21.913 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=54]
[2022/07/15 15:02:21.913 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:21.913 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=26] [neededSchemaVersion=27] ["start time"=50.375µs] [phyTblIDs="[53]"] [actionTypes="[8]"]
[2022/07/15 15:02:21.913 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=27] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.column_stats_usage (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tcolumn_id BIGINT(64) NOT NULL,\n\t\tlast_used_at TIMESTAMP,\n\t\tlast_analyzed_at TIMESTAMP,\n\t\tPRIMARY KEY (table_id, column_id) CLUSTERED\n\t);"] [user=]
[2022/07/15 15:02:21.913 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:56, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:55, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:21.913 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:21.913 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:56, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:55, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:21.913 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.column_stats_usage (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tcolumn_id BIGINT(64) NOT NULL,\n\t\tlast_used_at TIMESTAMP,\n\t\tlast_analyzed_at TIMESTAMP,\n\t\tPRIMARY KEY (table_id, column_id) CLUSTERED\n\t);"]
[2022/07/15 15:02:21.913 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 69, tp general"] [job="ID:56, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:55, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:21.913 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:21.914 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 69, tp general"] [job="ID:56, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:55, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:21.913 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:21.914 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=56]
[2022/07/15 15:02:21.914 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:21.914 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=27] [neededSchemaVersion=28] ["start time"=56.958µs] [phyTblIDs="[55]"] [actionTypes="[8]"]
[2022/07/15 15:02:21.914 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=28] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.table_cache_meta (\n\t\ttid bigint(11) NOT NULL DEFAULT 0,\n\t\tlock_type enum('NONE','READ', 'INTEND', 'WRITE') NOT NULL DEFAULT 'NONE',\n\t\tlease bigint(20) NOT NULL DEFAULT 0,\n\t\toldReadLease bigint(20) NOT NULL DEFAULT 0,\n\t\tPRIMARY KEY (tid)\n\t);"] [user=]
[2022/07/15 15:02:21.914 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:58, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:57, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:21.914 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:21.914 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:58, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:57, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:21.914 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.table_cache_meta (\n\t\ttid bigint(11) NOT NULL DEFAULT 0,\n\t\tlock_type enum('NONE','READ', 'INTEND', 'WRITE') NOT NULL DEFAULT 'NONE',\n\t\tlease bigint(20) NOT NULL DEFAULT 0,\n\t\toldReadLease bigint(20) NOT NULL DEFAULT 0,\n\t\tPRIMARY KEY (tid)\n\t);"]
[2022/07/15 15:02:21.914 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 69, tp general"] [job="ID:58, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:57, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:21.914 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:21.914 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 69, tp general"] [job="ID:58, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:57, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:21.914 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:21.915 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=58]
[2022/07/15 15:02:21.915 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:21.915 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=28] [neededSchemaVersion=29] ["start time"=49.584µs] [phyTblIDs="[57]"] [actionTypes="[8]"]
[2022/07/15 15:02:21.915 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=29] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.analyze_options (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tsample_num BIGINT(64) NOT NULL DEFAULT 0,\n\t\tsample_rate DOUBLE NOT NULL DEFAULT -1,\n\t\tbuckets BIGINT(64) NOT NULL DEFAULT 0,\n\t\ttopn BIGINT(64) NOT NULL DEFAULT -1,\n\t\tcolumn_choice enum('DEFAULT','ALL','PREDICATE','LIST') NOT NULL DEFAULT 'DEFAULT',\n\t\tcolumn_ids TEXT(19372),\n\t\tPRIMARY KEY (table_id) CLUSTERED\n\t);"] [user=]
[2022/07/15 15:02:21.915 +08:00] [INFO] [ddl_api.go:999] ["Automatically convert BLOB(19372) to MEDIUMBLOB"]
[2022/07/15 15:02:21.915 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:60, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:59, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:21.915 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:21.915 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:60, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:59, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:21.915 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.analyze_options (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tsample_num BIGINT(64) NOT NULL DEFAULT 0,\n\t\tsample_rate DOUBLE NOT NULL DEFAULT -1,\n\t\tbuckets BIGINT(64) NOT NULL DEFAULT 0,\n\t\ttopn BIGINT(64) NOT NULL DEFAULT -1,\n\t\tcolumn_choice enum('DEFAULT','ALL','PREDICATE','LIST') NOT NULL DEFAULT 'DEFAULT',\n\t\tcolumn_ids TEXT(19372),\n\t\tPRIMARY KEY (table_id) CLUSTERED\n\t);"]
[2022/07/15 15:02:21.915 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 69, tp general"] [job="ID:60, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:59, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:21.915 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:21.915 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 69, tp general"] [job="ID:60, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:59, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:21.915 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:21.915 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=60]
[2022/07/15 15:02:21.915 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:21.916 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=29] [neededSchemaVersion=30] ["start time"=69.75µs] [phyTblIDs="[59]"] [actionTypes="[8]"]
[2022/07/15 15:02:21.916 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=30] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tstats_data longblob NOT NULL,\n\t\tseq_no bigint(64) NOT NULL comment 'sequence number of the gzipped data slice',\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version_seq (table_id, version, seq_no),\n\t\tKEY table_create_time (table_id, create_time, seq_no)\n\t);"] [user=]
[2022/07/15 15:02:21.916 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:62, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:61, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:21.916 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:21.916 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:62, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:61, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:21.916 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tstats_data longblob NOT NULL,\n\t\tseq_no bigint(64) NOT NULL comment 'sequence number of the gzipped data slice',\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version_seq (table_id, version, seq_no),\n\t\tKEY table_create_time (table_id, create_time, seq_no)\n\t);"]
[2022/07/15 15:02:21.916 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 69, tp general"] [job="ID:62, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:61, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:21.916 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:21.916 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 69, tp general"] [job="ID:62, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:61, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:21.916 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:21.916 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=62]
[2022/07/15 15:02:21.916 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:21.917 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=30] [neededSchemaVersion=31] ["start time"=73.541µs] [phyTblIDs="[61]"] [actionTypes="[8]"]
[2022/07/15 15:02:21.917 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=31] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_meta_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL,\n\t\tcount bigint(64) NOT NULL,\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version (table_id, version),\n\t\tKEY table_create_time (table_id, create_time)\n\t);"] [user=]
[2022/07/15 15:02:21.917 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:64, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:63, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:21.917 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:21.917 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:64, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:63, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:21.917 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_meta_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL,\n\t\tcount bigint(64) NOT NULL,\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version (table_id, version),\n\t\tKEY table_create_time (table_id, create_time)\n\t);"]
[2022/07/15 15:02:21.917 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 69, tp general"] [job="ID:64, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:63, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:21.917 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:21.917 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 69, tp general"] [job="ID:64, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:63, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:21.917 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:21.917 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=64]
[2022/07/15 15:02:21.917 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:21.917 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=31] [neededSchemaVersion=32] ["start time"=69.667µs] [phyTblIDs="[63]"] [actionTypes="[8]"]
[2022/07/15 15:02:21.917 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=32] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.analyze_jobs (\n\t\tid BIGINT(64) UNSIGNED NOT NULL AUTO_INCREMENT,\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\ttable_schema CHAR(64) NOT NULL DEFAULT '',\n\t\ttable_name CHAR(64) NOT NULL DEFAULT '',\n\t\tpartition_name CHAR(64) NOT NULL DEFAULT '',\n\t\tjob_info TEXT NOT NULL,\n\t\tprocessed_rows BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tstart_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tstate ENUM('pending', 'running', 'finished', 'failed') NOT NULL,\n\t\tfail_reason TEXT,\n\t\tinstance VARCHAR(512) NOT NULL comment 'address of the TiDB instance executing the analyze job',\n\t\tprocess_id BIGINT(64) UNSIGNED comment 'ID of the process executing the analyze job',\n\t\tPRIMARY KEY (id),\n\t\tKEY (update_time)\n\t);"] [user=]
[2022/07/15 15:02:21.918 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:66, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:65, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:21.918 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:21.918 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:66, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:65, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:21.918 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.analyze_jobs (\n\t\tid BIGINT(64) UNSIGNED NOT NULL AUTO_INCREMENT,\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\ttable_schema CHAR(64) NOT NULL DEFAULT '',\n\t\ttable_name CHAR(64) NOT NULL DEFAULT '',\n\t\tpartition_name CHAR(64) NOT NULL DEFAULT '',\n\t\tjob_info TEXT NOT NULL,\n\t\tprocessed_rows BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tstart_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tstate ENUM('pending', 'running', 'finished', 'failed') NOT NULL,\n\t\tfail_reason TEXT,\n\t\tinstance VARCHAR(512) NOT NULL comment 'address of the TiDB instance executing the analyze job',\n\t\tprocess_id BIGINT(64) UNSIGNED comment 'ID of the process executing the analyze job',\n\t\tPRIMARY KEY (id),\n\t\tKEY (update_time)\n\t);"]
[2022/07/15 15:02:21.918 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 69, tp general"] [job="ID:66, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:65, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:21.918 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:21.918 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 69, tp general"] [job="ID:66, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:65, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:21.918 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:21.919 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=66]
[2022/07/15 15:02:21.919 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:21.919 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=32] [neededSchemaVersion=33] ["start time"=111.417µs] [phyTblIDs="[65]"] [actionTypes="[8]"]
[2022/07/15 15:02:21.919 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=33] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.advisory_locks (\n\t\tlock_name VARCHAR(64) NOT NULL PRIMARY KEY\n\t);"] [user=]
[2022/07/15 15:02:21.919 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:68, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:67, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:21.919 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:21.919 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:68, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:67, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:21.919 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.advisory_locks (\n\t\tlock_name VARCHAR(64) NOT NULL PRIMARY KEY\n\t);"]
[2022/07/15 15:02:21.919 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 69, tp general"] [job="ID:68, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:67, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:21.919 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:21.919 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 69, tp general"] [job="ID:68, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:67, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:21.919 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:21.919 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=68]
[2022/07/15 15:02:21.919 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:21.919 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=33] [neededSchemaVersion=34] ["start time"=36.416µs] [phyTblIDs="[67]"] [actionTypes="[8]"]
[2022/07/15 15:02:21.925 +08:00] [INFO] [bootstrap.go:448] ["bootstrap successful"] ["take time"=39.094291ms]
[2022/07/15 15:02:21.925 +08:00] [INFO] [ddl_worker.go:158] ["[ddl] DDL worker closed"] [worker="worker 69, tp general"] ["take time"=334ns]
[2022/07/15 15:02:21.925 +08:00] [INFO] [ddl_worker.go:158] ["[ddl] DDL worker closed"] [worker="worker 70, tp add index"] ["take time"=41ns]
[2022/07/15 15:02:21.925 +08:00] [INFO] [delete_range.go:148] ["[ddl] closing delRange"]
[2022/07/15 15:02:21.925 +08:00] [INFO] [session_pool.go:94] ["[ddl] closing sessionPool"]
[2022/07/15 15:02:21.925 +08:00] [INFO] [ddl.go:576] ["[ddl] DDL closed"] [ID=fab24311-2d20-4c52-a0bf-bf044aa1db51] ["take time"=59.292µs]
[2022/07/15 15:02:21.925 +08:00] [INFO] [ddl.go:464] ["[ddl] stop DDL"] [ID=fab24311-2d20-4c52-a0bf-bf044aa1db51]
[2022/07/15 15:02:21.925 +08:00] [INFO] [domain.go:498] ["topNSlowQueryLoop exited."]
[2022/07/15 15:02:21.925 +08:00] [INFO] [domain.go:552] ["globalConfigSyncerKeeper exited."]
[2022/07/15 15:02:21.925 +08:00] [INFO] [domain.go:575] ["topologySyncerKeeper exited."]
[2022/07/15 15:02:21.925 +08:00] [INFO] [domain.go:527] ["infoSyncerKeeper exited."]
[2022/07/15 15:02:21.925 +08:00] [INFO] [domain.go:733] ["domain closed"] ["take time"=149.625µs]
[2022/07/15 15:02:21.925 +08:00] [INFO] [tidb.go:74] ["new domain"] [store=dfaae302-03a3-4e59-8435-d8f00ea19553] ["ddl lease"=0s] ["stats lease"=-1ns] ["index usage sync lease"=0s]
[2022/07/15 15:02:21.927 +08:00] [INFO] [domain.go:178] ["full load InfoSchema success"] [currentSchemaVersion=0] [neededSchemaVersion=34] ["start time"=2.281584ms]
[2022/07/15 15:02:21.927 +08:00] [INFO] [domain.go:449] ["full load and reset schema validator"]
[2022/07/15 15:02:21.927 +08:00] [INFO] [ddl.go:483] ["[ddl] start DDL"] [ID=84dbd13a-deb3-48a0-bd2b-76f7e03d686a] [runWorker=true]
[2022/07/15 15:02:21.927 +08:00] [INFO] [ddl.go:472] ["[ddl] start delRangeManager OK"] ["is a emulator"=true]
[2022/07/15 15:02:21.928 +08:00] [INFO] [delete_range.go:158] ["[ddl] start delRange emulator"]
[2022/07/15 15:02:21.928 +08:00] [INFO] [ddl_worker.go:164] ["[ddl] start DDL worker"] [worker="worker 72, tp add index"]
[2022/07/15 15:02:21.928 +08:00] [INFO] [ddl_worker.go:164] ["[ddl] start DDL worker"] [worker="worker 71, tp general"]
[2022/07/15 15:02:21.928 +08:00] [WARN] [sysvar_cache.go:53] ["sysvar cache is empty, triggering rebuild"]
[2022/07/15 15:02:21.931 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=18] [schemaVersion=34] [cur_db=test] [sql="drop table if exists t1,t2,t3"] [user=]
[2022/07/15 15:02:21.931 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=18] [schemaVersion=34] [cur_db=test] [sql="create table t1 (a bit(4), b bit(4), c bit(4) generated always as (a) virtual)"] [user=]
[2022/07/15 15:02:21.932 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:70, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:21.932 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:21.932 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:70, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:21.932 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="create table t1 (a bit(4), b bit(4), c bit(4) generated always as (a) virtual)"]
[2022/07/15 15:02:21.932 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 71, tp general"] [job="ID:70, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:21.932 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:21.932 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 71, tp general"] [job="ID:70, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:69, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:21.932 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:21.932 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=70]
[2022/07/15 15:02:21.932 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:21.932 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=34] [neededSchemaVersion=35] ["start time"=59.375µs] [phyTblIDs="[69]"] [actionTypes="[8]"]
[2022/07/15 15:02:21.932 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=18] [schemaVersion=35] [cur_db=test] [sql="alter table t1 set tiflash replica 1"] [user=]
[2022/07/15 15:02:21.932 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:71, Type:set tiflash replica, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:21.932 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:21.932 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:71, Type:set tiflash replica, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:21.932 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="alter table t1 set tiflash replica 1"]
[2022/07/15 15:02:21.932 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 71, tp general"] [job="ID:71, Type:set tiflash replica, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:21.932 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:21.932 +08:00] [INFO] [table.go:1109] ["Set TiFlash replica pd rule"] [tableID=69]
[2022/07/15 15:02:21.932 +08:00] [INFO] [info.go:1051] [ConfigureTiFlashPDForTable] [tableID=69] [count=1]
[2022/07/15 15:02:21.933 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 71, tp general"] [job="ID:71, Type:set tiflash replica, State:synced, SchemaState:public, SchemaID:1, TableID:69, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:21.932 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:21.933 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=71]
[2022/07/15 15:02:21.933 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:21.933 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=35] [neededSchemaVersion=36] ["start time"=46.833µs] [phyTblIDs="[]"] [actionTypes="[]"]
[2022/07/15 15:02:21.933 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:72, Type:update tiflash replica status, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:2, start time: 2022-07-15 15:02:21.933 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:21.933 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:72, Type:update tiflash replica status, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:2, start time: 2022-07-15 15:02:21.933 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query=]
[2022/07/15 15:02:21.933 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 71, tp general"] [job="ID:72, Type:update tiflash replica status, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:21.933 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:21.933 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 71, tp general"] [job="ID:72, Type:update tiflash replica status, State:synced, SchemaState:public, SchemaID:1, TableID:69, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:21.933 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:21.933 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=72]
[2022/07/15 15:02:21.933 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:21.933 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=36] [neededSchemaVersion=37] ["start time"=46.666µs] [phyTblIDs="[]"] [actionTypes="[]"]
[2022/07/15 15:02:21.933 +08:00] [WARN] [2pc.go:1806] ["schemaLeaseChecker is not set for this transaction"] [sessionID=18] [startTS=434600291056484370] [checkTS=434600291056484371]
[2022/07/15 15:02:21.934 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=18] [schemaVersion=37] [cur_db=test] [sql="create table t2 (a int, b int, c int generated always as (a) virtual)"] [user=]
[2022/07/15 15:02:21.934 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:74, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:73, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:21.934 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:21.934 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:74, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:73, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:21.934 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="create table t2 (a int, b int, c int generated always as (a) virtual)"]
[2022/07/15 15:02:21.934 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 71, tp general"] [job="ID:74, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:73, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:21.934 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:21.934 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 71, tp general"] [job="ID:74, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:73, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:21.934 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:21.934 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=74]
[2022/07/15 15:02:21.934 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:21.934 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=37] [neededSchemaVersion=38] ["start time"=44.958µs] [phyTblIDs="[73]"] [actionTypes="[8]"]
[2022/07/15 15:02:21.934 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=18] [schemaVersion=38] [cur_db=test] [sql="alter table t2 set tiflash replica 1"] [user=]
[2022/07/15 15:02:21.934 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:75, Type:set tiflash replica, State:queueing, SchemaState:none, SchemaID:1, TableID:73, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:21.934 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:21.934 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:75, Type:set tiflash replica, State:queueing, SchemaState:none, SchemaID:1, TableID:73, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:21.934 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="alter table t2 set tiflash replica 1"]
[2022/07/15 15:02:21.934 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 71, tp general"] [job="ID:75, Type:set tiflash replica, State:queueing, SchemaState:none, SchemaID:1, TableID:73, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:21.934 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:21.934 +08:00] [INFO] [table.go:1109] ["Set TiFlash replica pd rule"] [tableID=73]
[2022/07/15 15:02:21.934 +08:00] [INFO] [info.go:1051] [ConfigureTiFlashPDForTable] [tableID=73] [count=1]
[2022/07/15 15:02:21.935 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 71, tp general"] [job="ID:75, Type:set tiflash replica, State:synced, SchemaState:public, SchemaID:1, TableID:73, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:21.934 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:21.935 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=75]
[2022/07/15 15:02:21.935 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:21.935 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=38] [neededSchemaVersion=39] ["start time"=50.375µs] [phyTblIDs="[]"] [actionTypes="[]"]
[2022/07/15 15:02:21.935 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:76, Type:update tiflash replica status, State:queueing, SchemaState:none, SchemaID:1, TableID:73, RowCount:0, ArgLen:2, start time: 2022-07-15 15:02:21.935 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:21.935 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:76, Type:update tiflash replica status, State:queueing, SchemaState:none, SchemaID:1, TableID:73, RowCount:0, ArgLen:2, start time: 2022-07-15 15:02:21.935 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query=]
[2022/07/15 15:02:21.935 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 71, tp general"] [job="ID:76, Type:update tiflash replica status, State:queueing, SchemaState:none, SchemaID:1, TableID:73, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:21.935 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:21.935 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 71, tp general"] [job="ID:76, Type:update tiflash replica status, State:synced, SchemaState:public, SchemaID:1, TableID:73, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:21.935 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:21.935 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=76]
[2022/07/15 15:02:21.935 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:21.935 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=39] [neededSchemaVersion=40] ["start time"=46.416µs] [phyTblIDs="[]"] [actionTypes="[]"]
[2022/07/15 15:02:21.935 +08:00] [WARN] [2pc.go:1806] ["schemaLeaseChecker is not set for this transaction"] [sessionID=18] [startTS=434600291057008656] [checkTS=434600291057008657]
[2022/07/15 15:02:21.935 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=18] [schemaVersion=40] [cur_db=test] [sql="create table t3 (a bit(4), b bit(4), c bit(4) generated always as (b'01'+b'10') virtual)"] [user=]
[2022/07/15 15:02:21.936 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:78, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:77, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:21.935 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:21.936 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:78, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:77, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:21.935 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="create table t3 (a bit(4), b bit(4), c bit(4) generated always as (b'01'+b'10') virtual)"]
[2022/07/15 15:02:21.936 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 71, tp general"] [job="ID:78, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:77, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:21.935 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:21.936 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 71, tp general"] [job="ID:78, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:77, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:21.935 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:21.936 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=78]
[2022/07/15 15:02:21.936 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:21.936 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=40] [neededSchemaVersion=41] ["start time"=47.5µs] [phyTblIDs="[77]"] [actionTypes="[8]"]
[2022/07/15 15:02:21.936 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=18] [schemaVersion=41] [cur_db=test] [sql="alter table t3 set tiflash replica 1"] [user=]
[2022/07/15 15:02:21.936 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:79, Type:set tiflash replica, State:queueing, SchemaState:none, SchemaID:1, TableID:77, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:21.936 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:21.936 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:79, Type:set tiflash replica, State:queueing, SchemaState:none, SchemaID:1, TableID:77, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:21.936 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="alter table t3 set tiflash replica 1"]
[2022/07/15 15:02:21.936 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 71, tp general"] [job="ID:79, Type:set tiflash replica, State:queueing, SchemaState:none, SchemaID:1, TableID:77, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:21.936 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:21.936 +08:00] [INFO] [table.go:1109] ["Set TiFlash replica pd rule"] [tableID=77]
[2022/07/15 15:02:21.936 +08:00] [INFO] [info.go:1051] [ConfigureTiFlashPDForTable] [tableID=77] [count=1]
[2022/07/15 15:02:21.936 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 71, tp general"] [job="ID:79, Type:set tiflash replica, State:synced, SchemaState:public, SchemaID:1, TableID:77, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:21.936 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:21.937 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=79]
[2022/07/15 15:02:21.937 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:21.937 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=41] [neededSchemaVersion=42] ["start time"=48.916µs] [phyTblIDs="[]"] [actionTypes="[]"]
[2022/07/15 15:02:21.937 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:80, Type:update tiflash replica status, State:queueing, SchemaState:none, SchemaID:1, TableID:77, RowCount:0, ArgLen:2, start time: 2022-07-15 15:02:21.937 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:21.937 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:80, Type:update tiflash replica status, State:queueing, SchemaState:none, SchemaID:1, TableID:77, RowCount:0, ArgLen:2, start time: 2022-07-15 15:02:21.937 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query=]
[2022/07/15 15:02:21.937 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 71, tp general"] [job="ID:80, Type:update tiflash replica status, State:queueing, SchemaState:none, SchemaID:1, TableID:77, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:21.937 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:21.937 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 71, tp general"] [job="ID:80, Type:update tiflash replica status, State:synced, SchemaState:public, SchemaID:1, TableID:77, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:21.937 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:21.937 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=80]
[2022/07/15 15:02:21.937 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:21.937 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=42] [neededSchemaVersion=43] ["start time"=48.208µs] [phyTblIDs="[]"] [actionTypes="[]"]
[2022/07/15 15:02:21.937 +08:00] [WARN] [2pc.go:1806] ["schemaLeaseChecker is not set for this transaction"] [sessionID=18] [startTS=434600291057532941] [checkTS=434600291057532942]
[2022/07/15 15:02:21.938 +08:00] [INFO] [ddl_worker.go:158] ["[ddl] DDL worker closed"] [worker="worker 71, tp general"] ["take time"=42ns]
[2022/07/15 15:02:21.938 +08:00] [INFO] [ddl_worker.go:158] ["[ddl] DDL worker closed"] [worker="worker 72, tp add index"] ["take time"=1.334µs]
[2022/07/15 15:02:21.938 +08:00] [INFO] [delete_range.go:148] ["[ddl] closing delRange"]
[2022/07/15 15:02:21.938 +08:00] [INFO] [session_pool.go:94] ["[ddl] closing sessionPool"]
[2022/07/15 15:02:21.938 +08:00] [INFO] [ddl.go:576] ["[ddl] DDL closed"] [ID=84dbd13a-deb3-48a0-bd2b-76f7e03d686a] ["take time"=36.334µs]
[2022/07/15 15:02:21.938 +08:00] [INFO] [ddl.go:464] ["[ddl] stop DDL"] [ID=84dbd13a-deb3-48a0-bd2b-76f7e03d686a]
[2022/07/15 15:02:21.938 +08:00] [INFO] [domain.go:498] ["topNSlowQueryLoop exited."]
[2022/07/15 15:02:21.938 +08:00] [INFO] [domain.go:1288] ["dumpFileGcChecker exited."]
[2022/07/15 15:02:21.938 +08:00] [INFO] [handle_hist.go:156] ["SubLoadWorker exited."]
[2022/07/15 15:02:21.938 +08:00] [INFO] [domain.go:1032] ["loadPrivilegeInLoop exited."]
[2022/07/15 15:02:21.938 +08:00] [INFO] [domain.go:1203] ["handleEvolvePlanTasksLoop exited."]
[2022/07/15 15:02:21.938 +08:00] [INFO] [domain.go:1160] ["globalBindHandleWorkerLoop exited."]
[2022/07/15 15:02:21.938 +08:00] [INFO] [handle_hist.go:156] ["SubLoadWorker exited."]
[2022/07/15 15:02:21.938 +08:00] [INFO] [domain.go:575] ["topologySyncerKeeper exited."]
[2022/07/15 15:02:21.938 +08:00] [INFO] [handle_hist.go:156] ["SubLoadWorker exited."]
[2022/07/15 15:02:21.938 +08:00] [INFO] [domain.go:552] ["globalConfigSyncerKeeper exited."]
[2022/07/15 15:02:21.938 +08:00] [INFO] [handle_hist.go:156] ["SubLoadWorker exited."]
[2022/07/15 15:02:21.938 +08:00] [INFO] [domain.go:527] ["infoSyncerKeeper exited."]
[2022/07/15 15:02:21.938 +08:00] [INFO] [handle_hist.go:156] ["SubLoadWorker exited."]
[2022/07/15 15:02:21.938 +08:00] [INFO] [domain.go:1082] ["LoadSysVarCacheLoop exited."]
[2022/07/15 15:02:21.938 +08:00] [INFO] [domain.go:733] ["domain closed"] ["take time"=117.958µs]
[2022/07/15 15:02:21.957 +08:00] [INFO] [db.go:567] ["Closing database"]
[2022/07/15 15:02:21.957 +08:00] [INFO] [db.go:592] ["Memtable flushed"]
[2022/07/15 15:02:21.957 +08:00] [INFO] [db.go:596] ["Compaction finished"]
[2022/07/15 15:02:21.958 +08:00] [INFO] [db.go:615] ["BlobManager finished"]
[2022/07/15 15:02:21.958 +08:00] [INFO] [db.go:619] ["ResourceManager finished"]
[2022/07/15 15:02:21.958 +08:00] [INFO] [db.go:625] ["Waiting for closer"]
[2022/07/15 15:02:22.051 +08:00] [INFO] [tidb.go:74] ["new domain"] [store=f508c078-bea6-4ca3-ae2f-018b01aa7256] ["ddl lease"=0s] ["stats lease"=-1ns] ["index usage sync lease"=0s]
[2022/07/15 15:02:22.051 +08:00] [INFO] [domain.go:178] ["full load InfoSchema success"] [currentSchemaVersion=0] [neededSchemaVersion=0] ["start time"=496.084µs]
[2022/07/15 15:02:22.051 +08:00] [INFO] [domain.go:449] ["full load and reset schema validator"]
[2022/07/15 15:02:22.051 +08:00] [INFO] [ddl.go:483] ["[ddl] start DDL"] [ID=7b31e685-d90f-4c67-b95f-ebacbfdd3872] [runWorker=true]
[2022/07/15 15:02:22.051 +08:00] [INFO] [ddl.go:472] ["[ddl] start delRangeManager OK"] ["is a emulator"=true]
[2022/07/15 15:02:22.051 +08:00] [INFO] [delete_range.go:158] ["[ddl] start delRange emulator"]
[2022/07/15 15:02:22.051 +08:00] [INFO] [ddl_worker.go:164] ["[ddl] start DDL worker"] [worker="worker 73, tp general"]
[2022/07/15 15:02:22.051 +08:00] [INFO] [ddl_worker.go:164] ["[ddl] start DDL worker"] [worker="worker 74, tp add index"]
[2022/07/15 15:02:22.051 +08:00] [INFO] [tidb.go:268] ["rollbackTxn called due to ddl/autocommit failure"]
[2022/07/15 15:02:22.051 +08:00] [WARN] [session.go:1983] ["run statement failed"] [schemaVersion=0] [error="[schema:1049]Unknown database 'mysql'"] [errorVerbose="[schema:1049]Unknown database 'mysql'\ngithub.com/pingcap/errors.AddStack\n\t/Users/hongyunyan/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20211224045212-9687c2b0f87c/errors.go:174\ngithub.com/pingcap/errors.(*Error).GenWithStackByArgs\n\t/Users/hongyunyan/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20211224045212-9687c2b0f87c/normalize.go:164\ngithub.com/pingcap/tidb/executor.(*SimpleExec).executeUse\n\t/Users/hongyunyan/Desktop/tidb/executor/simple.go:571\ngithub.com/pingcap/tidb/executor.(*SimpleExec).Next\n\t/Users/hongyunyan/Desktop/tidb/executor/simple.go:131\ngithub.com/pingcap/tidb/executor.Next\n\t/Users/hongyunyan/Desktop/tidb/executor/executor.go:319\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelayExecutor\n\t/Users/hongyunyan/Desktop/tidb/executor/adapter.go:673\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelay\n\t/Users/hongyunyan/Desktop/tidb/executor/adapter.go:523\ngithub.com/pingcap/tidb/executor.(*ExecStmt).Exec\n\t/Users/hongyunyan/Desktop/tidb/executor/adapter.go:472\ngithub.com/pingcap/tidb/session.runStmt\n\t/Users/hongyunyan/Desktop/tidb/session/session.go:2114\ngithub.com/pingcap/tidb/session.(*session).ExecuteStmt\n\t/Users/hongyunyan/Desktop/tidb/session/session.go:1980\ngithub.com/pingcap/tidb/session.(*session).ExecuteInternal\n\t/Users/hongyunyan/Desktop/tidb/session/session.go:1495\ngithub.com/pingcap/tidb/session.checkBootstrapped\n\t/Users/hongyunyan/Desktop/tidb/session/bootstrap.go:728\ngithub.com/pingcap/tidb/session.bootstrap\n\t/Users/hongyunyan/Desktop/tidb/session/bootstrap.go:431\ngithub.com/pingcap/tidb/session.runInBootstrapSession\n\t/Users/hongyunyan/Desktop/tidb/session/session.go:2834\ngithub.com/pingcap/tidb/session.BootstrapSession\n\t/Users/hongyunyan/Desktop/tidb/session/session.go:2720\ngithub.com/pingcap/tidb/testkit.bootstrap\n\t/Users/hongyunyan/Desktop/tidb/testkit/mockstore.go:71\ngithub.com/pingcap/tidb/testkit.CreateMockStoreAndDomain\n\t/Users/hongyunyan/Desktop/tidb/testkit/mockstore.go:64\ngithub.com/pingcap/tidb/testkit.CreateMockStore\n\t/Users/hongyunyan/Desktop/tidb/testkit/mockstore.go:56\ngithub.com/pingcap/tidb/executor/tiflashtest.TestForbidTiflashDuringStaleRead\n\t/Users/hongyunyan/Desktop/tidb/executor/tiflashtest/tiflash_test.go:1083\ntesting.tRunner\n\t/opt/homebrew/Cellar/go/1.18.3/libexec/src/testing/testing.go:1439\nruntime.goexit\n\t/opt/homebrew/Cellar/go/1.18.3/libexec/src/runtime/asm_arm64.s:1263"] [session="{\n  \"currDBName\": \"\",\n  \"id\": 0,\n  \"status\": 2,\n  \"strictMode\": true,\n  \"user\": null\n}"]
[2022/07/15 15:02:22.052 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=0] [cur_db=] [sql="CREATE DATABASE IF NOT EXISTS test"] [user=]
[2022/07/15 15:02:22.052 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:2, Type:create schema, State:queueing, SchemaState:none, SchemaID:1, TableID:0, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:22.052 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:22.052 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:2, Type:create schema, State:queueing, SchemaState:none, SchemaID:1, TableID:0, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:22.052 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE DATABASE IF NOT EXISTS test"]
[2022/07/15 15:02:22.052 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 73, tp general"] [job="ID:2, Type:create schema, State:queueing, SchemaState:none, SchemaID:1, TableID:0, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:22.052 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:22.052 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 73, tp general"] [job="ID:2, Type:create schema, State:synced, SchemaState:public, SchemaID:1, TableID:0, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:22.052 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:22.052 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=2]
[2022/07/15 15:02:22.052 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:22.053 +08:00] [INFO] [domain.go:178] ["full load InfoSchema success"] [currentSchemaVersion=0] [neededSchemaVersion=1] ["start time"=395.125µs]
[2022/07/15 15:02:22.053 +08:00] [INFO] [domain.go:449] ["full load and reset schema validator"]
[2022/07/15 15:02:22.053 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=1] [cur_db=] [sql="CREATE DATABASE IF NOT EXISTS `mysql`"] [user=]
[2022/07/15 15:02:22.053 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:4, Type:create schema, State:queueing, SchemaState:none, SchemaID:3, TableID:0, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:22.053 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:22.053 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:4, Type:create schema, State:queueing, SchemaState:none, SchemaID:3, TableID:0, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:22.053 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE DATABASE IF NOT EXISTS `mysql`"]
[2022/07/15 15:02:22.053 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 73, tp general"] [job="ID:4, Type:create schema, State:queueing, SchemaState:none, SchemaID:3, TableID:0, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:22.053 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:22.053 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 73, tp general"] [job="ID:4, Type:create schema, State:synced, SchemaState:public, SchemaID:3, TableID:0, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:22.053 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:22.053 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=4]
[2022/07/15 15:02:22.053 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:22.053 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=1] [neededSchemaVersion=2] ["start time"=14.334µs] [phyTblIDs="[]"] [actionTypes="[]"]
[2022/07/15 15:02:22.053 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=2] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.user (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tauthentication_string\tTEXT,\n\t\tplugin\t\t\t\t\tCHAR(64),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tProcess_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_db_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tSuper_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_user_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_slave_priv\t    \tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_client_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_role_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_role_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAccount_locked\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShutdown_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReload_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tFILE_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tConfig_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_Tablespace_Priv  ENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (Host, User));"] [user=]
[2022/07/15 15:02:22.054 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:6, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:5, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:22.053 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:22.054 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:6, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:5, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:22.053 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.user (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tauthentication_string\tTEXT,\n\t\tplugin\t\t\t\t\tCHAR(64),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tProcess_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_db_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tSuper_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_user_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_slave_priv\t    \tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_client_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_role_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_role_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAccount_locked\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShutdown_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReload_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tFILE_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tConfig_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_Tablespace_Priv  ENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (Host, User));"]
[2022/07/15 15:02:22.054 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 73, tp general"] [job="ID:6, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:5, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:22.053 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:22.055 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 73, tp general"] [job="ID:6, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:5, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:22.053 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:22.056 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=6]
[2022/07/15 15:02:22.056 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:22.056 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=2] [neededSchemaVersion=3] ["start time"=252.75µs] [phyTblIDs="[5]"] [actionTypes="[8]"]
[2022/07/15 15:02:22.056 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=3] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.global_priv (Host CHAR(255) NOT NULL DEFAULT '',User CHAR(80) NOT NULL DEFAULT '',Priv LONGTEXT NOT NULL DEFAULT '',PRIMARY KEY (Host, User))"] [user=]
[2022/07/15 15:02:22.056 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:8, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:7, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:22.056 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:22.056 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:8, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:7, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:22.056 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.global_priv (Host CHAR(255) NOT NULL DEFAULT '',User CHAR(80) NOT NULL DEFAULT '',Priv LONGTEXT NOT NULL DEFAULT '',PRIMARY KEY (Host, User))"]
[2022/07/15 15:02:22.056 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 73, tp general"] [job="ID:8, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:7, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:22.056 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:22.057 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 73, tp general"] [job="ID:8, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:7, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:22.056 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:22.057 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=8]
[2022/07/15 15:02:22.057 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:22.057 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=3] [neededSchemaVersion=4] ["start time"=49.208µs] [phyTblIDs="[7]"] [actionTypes="[8]"]
[2022/07/15 15:02:22.057 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=4] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.db (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tDB\t\t\t\t\t\tCHAR(64),\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv \t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (Host, DB, User));"] [user=]
[2022/07/15 15:02:22.057 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:10, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:9, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:22.057 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:22.057 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:10, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:9, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:22.057 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.db (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tDB\t\t\t\t\t\tCHAR(64),\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv \t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (Host, DB, User));"]
[2022/07/15 15:02:22.057 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 73, tp general"] [job="ID:10, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:9, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:22.057 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:22.058 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 73, tp general"] [job="ID:10, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:9, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:22.057 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:22.059 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=10]
[2022/07/15 15:02:22.059 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:22.059 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=4] [neededSchemaVersion=5] ["start time"=169.792µs] [phyTblIDs="[9]"] [actionTypes="[8]"]
[2022/07/15 15:02:22.059 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=5] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.tables_priv (\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64),\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64),\n\t\tGrantor\t\tCHAR(77),\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tTable_priv\tSET('Select','Insert','Update','Delete','Create','Drop','Grant','Index','Alter','Create View','Show View','Trigger','References'),\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name));"] [user=]
[2022/07/15 15:02:22.059 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:12, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:11, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:22.059 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:22.059 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:12, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:11, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:22.059 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.tables_priv (\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64),\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64),\n\t\tGrantor\t\tCHAR(77),\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tTable_priv\tSET('Select','Insert','Update','Delete','Create','Drop','Grant','Index','Alter','Create View','Show View','Trigger','References'),\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name));"]
[2022/07/15 15:02:22.059 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 73, tp general"] [job="ID:12, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:11, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:22.059 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:22.060 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 73, tp general"] [job="ID:12, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:11, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:22.059 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:22.060 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=12]
[2022/07/15 15:02:22.060 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:22.060 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=5] [neededSchemaVersion=6] ["start time"=83.333µs] [phyTblIDs="[11]"] [actionTypes="[8]"]
[2022/07/15 15:02:22.060 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=6] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.columns_priv(\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64),\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64),\n\t\tColumn_name\tCHAR(64),\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name, Column_name));"] [user=]
[2022/07/15 15:02:22.060 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:14, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:13, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:22.06 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:22.060 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:14, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:13, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:22.06 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.columns_priv(\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64),\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64),\n\t\tColumn_name\tCHAR(64),\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name, Column_name));"]
[2022/07/15 15:02:22.060 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 73, tp general"] [job="ID:14, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:13, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:22.06 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:22.061 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 73, tp general"] [job="ID:14, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:13, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:22.06 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:22.061 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=14]
[2022/07/15 15:02:22.061 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:22.061 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=6] [neededSchemaVersion=7] ["start time"=76.458µs] [phyTblIDs="[13]"] [actionTypes="[8]"]
[2022/07/15 15:02:22.061 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=7] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.GLOBAL_VARIABLES(\n\t\tVARIABLE_NAME  VARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(1024) DEFAULT NULL);"] [user=]
[2022/07/15 15:02:22.061 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:16, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:15, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:22.061 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:22.061 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:16, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:15, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:22.061 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.GLOBAL_VARIABLES(\n\t\tVARIABLE_NAME  VARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(1024) DEFAULT NULL);"]
[2022/07/15 15:02:22.061 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 73, tp general"] [job="ID:16, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:15, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:22.061 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:22.062 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 73, tp general"] [job="ID:16, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:15, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:22.061 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:22.062 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=16]
[2022/07/15 15:02:22.062 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:22.062 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=7] [neededSchemaVersion=8] ["start time"=44.75µs] [phyTblIDs="[15]"] [actionTypes="[8]"]
[2022/07/15 15:02:22.062 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=8] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb(\n\t\tVARIABLE_NAME  \tVARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE \tVARCHAR(1024) DEFAULT NULL,\n\t\tCOMMENT \t\tVARCHAR(1024));"] [user=]
[2022/07/15 15:02:22.062 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:18, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:17, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:22.062 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:22.062 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:18, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:17, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:22.062 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb(\n\t\tVARIABLE_NAME  \tVARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE \tVARCHAR(1024) DEFAULT NULL,\n\t\tCOMMENT \t\tVARCHAR(1024));"]
[2022/07/15 15:02:22.062 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 73, tp general"] [job="ID:18, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:17, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:22.062 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:22.062 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 73, tp general"] [job="ID:18, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:17, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:22.062 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:22.062 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=18]
[2022/07/15 15:02:22.063 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:22.063 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=8] [neededSchemaVersion=9] ["start time"=56.834µs] [phyTblIDs="[17]"] [actionTypes="[8]"]
[2022/07/15 15:02:22.063 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=9] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.help_topic (\n  \t\thelp_topic_id \t\tINT(10) UNSIGNED NOT NULL,\n  \t\tname \t\t\t\tCHAR(64) NOT NULL,\n  \t\thelp_category_id \tSMALLINT(5) UNSIGNED NOT NULL,\n  \t\tdescription \t\tTEXT NOT NULL,\n  \t\texample \t\t\tTEXT NOT NULL,\n  \t\turl \t\t\t\tTEXT NOT NULL,\n  \t\tPRIMARY KEY (help_topic_id) clustered,\n  \t\tUNIQUE KEY name (name)\n\t\t) ENGINE=InnoDB DEFAULT CHARSET=utf8 STATS_PERSISTENT=0 COMMENT='help topics';"] [user=]
[2022/07/15 15:02:22.063 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:20, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:19, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:22.063 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:22.063 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:20, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:19, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:22.063 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.help_topic (\n  \t\thelp_topic_id \t\tINT(10) UNSIGNED NOT NULL,\n  \t\tname \t\t\t\tCHAR(64) NOT NULL,\n  \t\thelp_category_id \tSMALLINT(5) UNSIGNED NOT NULL,\n  \t\tdescription \t\tTEXT NOT NULL,\n  \t\texample \t\t\tTEXT NOT NULL,\n  \t\turl \t\t\t\tTEXT NOT NULL,\n  \t\tPRIMARY KEY (help_topic_id) clustered,\n  \t\tUNIQUE KEY name (name)\n\t\t) ENGINE=InnoDB DEFAULT CHARSET=utf8 STATS_PERSISTENT=0 COMMENT='help topics';"]
[2022/07/15 15:02:22.063 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 73, tp general"] [job="ID:20, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:19, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:22.063 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:22.063 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 73, tp general"] [job="ID:20, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:19, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:22.063 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:22.063 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=20]
[2022/07/15 15:02:22.063 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:22.064 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=9] [neededSchemaVersion=10] ["start time"=67.541µs] [phyTblIDs="[19]"] [actionTypes="[8]"]
[2022/07/15 15:02:22.064 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=10] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_meta (\n\t\tversion \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\ttable_id \t\tBIGINT(64) NOT NULL,\n\t\tmodify_count\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcount \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tsnapshot        BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tINDEX idx_ver(version),\n\t\tUNIQUE INDEX tbl(table_id)\n\t);"] [user=]
[2022/07/15 15:02:22.064 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:22, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:21, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:22.064 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:22.064 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:22, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:21, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:22.064 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_meta (\n\t\tversion \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\ttable_id \t\tBIGINT(64) NOT NULL,\n\t\tmodify_count\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcount \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tsnapshot        BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tINDEX idx_ver(version),\n\t\tUNIQUE INDEX tbl(table_id)\n\t);"]
[2022/07/15 15:02:22.064 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 73, tp general"] [job="ID:22, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:21, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:22.064 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:22.064 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 73, tp general"] [job="ID:22, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:21, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:22.064 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:22.064 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=22]
[2022/07/15 15:02:22.064 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:22.065 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=10] [neededSchemaVersion=11] ["start time"=67.583µs] [phyTblIDs="[21]"] [actionTypes="[8]"]
[2022/07/15 15:02:22.065 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=11] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_histograms (\n\t\ttable_id \t\t\tBIGINT(64) NOT NULL,\n\t\tis_index \t\t\tTINYINT(2) NOT NULL,\n\t\thist_id \t\t\tBIGINT(64) NOT NULL,\n\t\tdistinct_count \t\tBIGINT(64) NOT NULL,\n\t\tnull_count \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\ttot_col_size \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tmodify_count \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tversion \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tcm_sketch \t\t\tBLOB(6291456),\n\t\tstats_ver \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tflag \t\t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcorrelation \t\tDOUBLE NOT NULL DEFAULT 0,\n\t\tlast_analyze_pos \tLONGBLOB DEFAULT NULL,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id)\n\t);"] [user=]
[2022/07/15 15:02:22.065 +08:00] [INFO] [ddl_api.go:999] ["Automatically convert BLOB(6291456) to MEDIUMBLOB"]
[2022/07/15 15:02:22.065 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:24, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:23, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:22.065 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:22.065 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:24, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:23, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:22.065 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_histograms (\n\t\ttable_id \t\t\tBIGINT(64) NOT NULL,\n\t\tis_index \t\t\tTINYINT(2) NOT NULL,\n\t\thist_id \t\t\tBIGINT(64) NOT NULL,\n\t\tdistinct_count \t\tBIGINT(64) NOT NULL,\n\t\tnull_count \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\ttot_col_size \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tmodify_count \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tversion \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tcm_sketch \t\t\tBLOB(6291456),\n\t\tstats_ver \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tflag \t\t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcorrelation \t\tDOUBLE NOT NULL DEFAULT 0,\n\t\tlast_analyze_pos \tLONGBLOB DEFAULT NULL,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id)\n\t);"]
[2022/07/15 15:02:22.065 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 73, tp general"] [job="ID:24, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:23, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:22.065 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:22.066 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 73, tp general"] [job="ID:24, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:23, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:22.065 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:22.066 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=24]
[2022/07/15 15:02:22.066 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:22.066 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=11] [neededSchemaVersion=12] ["start time"=105.667µs] [phyTblIDs="[23]"] [actionTypes="[8]"]
[2022/07/15 15:02:22.066 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=12] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_buckets (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tbucket_id \tBIGINT(64) NOT NULL,\n\t\tcount \t\tBIGINT(64) NOT NULL,\n\t\trepeats \tBIGINT(64) NOT NULL,\n\t\tupper_bound LONGBLOB NOT NULL,\n\t\tlower_bound LONGBLOB ,\n\t\tndv         BIGINT NOT NULL DEFAULT 0,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id, bucket_id)\n\t);"] [user=]
[2022/07/15 15:02:22.066 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:26, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:25, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:22.066 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:22.066 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:26, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:25, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:22.066 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_buckets (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tbucket_id \tBIGINT(64) NOT NULL,\n\t\tcount \t\tBIGINT(64) NOT NULL,\n\t\trepeats \tBIGINT(64) NOT NULL,\n\t\tupper_bound LONGBLOB NOT NULL,\n\t\tlower_bound LONGBLOB ,\n\t\tndv         BIGINT NOT NULL DEFAULT 0,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id, bucket_id)\n\t);"]
[2022/07/15 15:02:22.066 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 73, tp general"] [job="ID:26, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:25, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:22.066 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:22.067 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 73, tp general"] [job="ID:26, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:25, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:22.066 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:22.067 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=26]
[2022/07/15 15:02:22.067 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:22.067 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=12] [neededSchemaVersion=13] ["start time"=85.458µs] [phyTblIDs="[25]"] [actionTypes="[8]"]
[2022/07/15 15:02:22.067 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=13] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_index (job_id, element_id)\n\t);"] [user=]
[2022/07/15 15:02:22.067 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:28, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:27, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:22.067 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:22.067 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:28, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:27, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:22.067 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_index (job_id, element_id)\n\t);"]
[2022/07/15 15:02:22.067 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 73, tp general"] [job="ID:28, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:27, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:22.067 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:22.068 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 73, tp general"] [job="ID:28, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:27, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:22.067 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:22.068 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=28]
[2022/07/15 15:02:22.068 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:22.068 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=13] [neededSchemaVersion=14] ["start time"=69.958µs] [phyTblIDs="[27]"] [actionTypes="[8]"]
[2022/07/15 15:02:22.068 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=14] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range_done (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_done_index (job_id, element_id)\n\t);"] [user=]
[2022/07/15 15:02:22.068 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:30, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:29, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:22.068 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:22.068 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:30, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:29, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:22.068 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range_done (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_done_index (job_id, element_id)\n\t);"]
[2022/07/15 15:02:22.068 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 73, tp general"] [job="ID:30, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:29, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:22.068 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:22.069 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 73, tp general"] [job="ID:30, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:29, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:22.068 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:22.069 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=30]
[2022/07/15 15:02:22.069 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:22.069 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=14] [neededSchemaVersion=15] ["start time"=64.667µs] [phyTblIDs="[29]"] [actionTypes="[8]"]
[2022/07/15 15:02:22.069 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=15] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_feedback (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tfeedback \tBLOB NOT NULL,\n\t\tINDEX hist(table_id, is_index, hist_id)\n\t);"] [user=]
[2022/07/15 15:02:22.069 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:32, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:31, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:22.069 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:22.069 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:32, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:31, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:22.069 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_feedback (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tfeedback \tBLOB NOT NULL,\n\t\tINDEX hist(table_id, is_index, hist_id)\n\t);"]
[2022/07/15 15:02:22.069 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 73, tp general"] [job="ID:32, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:31, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:22.069 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:22.069 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 73, tp general"] [job="ID:32, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:31, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:22.069 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:22.070 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=32]
[2022/07/15 15:02:22.070 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:22.070 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=15] [neededSchemaVersion=16] ["start time"=57.417µs] [phyTblIDs="[31]"] [actionTypes="[8]"]
[2022/07/15 15:02:22.070 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=16] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.role_edges (\n\t\tFROM_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tFROM_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tWITH_ADMIN_OPTION \tENUM('N','Y') CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (FROM_HOST,FROM_USER,TO_HOST,TO_USER)\n\t);"] [user=]
[2022/07/15 15:02:22.070 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:34, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:33, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:22.07 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:22.070 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:34, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:33, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:22.07 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.role_edges (\n\t\tFROM_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tFROM_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tWITH_ADMIN_OPTION \tENUM('N','Y') CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (FROM_HOST,FROM_USER,TO_HOST,TO_USER)\n\t);"]
[2022/07/15 15:02:22.070 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 73, tp general"] [job="ID:34, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:33, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:22.07 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:22.070 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 73, tp general"] [job="ID:34, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:33, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:22.07 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:22.070 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=34]
[2022/07/15 15:02:22.070 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:22.071 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=16] [neededSchemaVersion=17] ["start time"=62.917µs] [phyTblIDs="[33]"] [actionTypes="[8]"]
[2022/07/15 15:02:22.071 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=17] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.default_roles (\n\t\tHOST \t\t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tUSER \t\t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tDEFAULT_ROLE_HOST \tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '%',\n\t\tDEFAULT_ROLE_USER \tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tPRIMARY KEY (HOST,USER,DEFAULT_ROLE_HOST,DEFAULT_ROLE_USER)\n\t)"] [user=]
[2022/07/15 15:02:22.071 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:36, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:35, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:22.071 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:22.071 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:36, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:35, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:22.071 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.default_roles (\n\t\tHOST \t\t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tUSER \t\t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tDEFAULT_ROLE_HOST \tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '%',\n\t\tDEFAULT_ROLE_USER \tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tPRIMARY KEY (HOST,USER,DEFAULT_ROLE_HOST,DEFAULT_ROLE_USER)\n\t)"]
[2022/07/15 15:02:22.071 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 73, tp general"] [job="ID:36, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:35, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:22.071 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:22.071 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 73, tp general"] [job="ID:36, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:35, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:22.071 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:22.071 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=36]
[2022/07/15 15:02:22.071 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:22.071 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=17] [neededSchemaVersion=18] ["start time"=65.875µs] [phyTblIDs="[35]"] [actionTypes="[8]"]
[2022/07/15 15:02:22.071 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=18] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.bind_info (\n\t\toriginal_sql TEXT NOT NULL,\n\t\tbind_sql TEXT NOT NULL,\n\t\tdefault_db TEXT NOT NULL,\n\t\tstatus TEXT NOT NULL,\n\t\tcreate_time TIMESTAMP(3) NOT NULL,\n\t\tupdate_time TIMESTAMP(3) NOT NULL,\n\t\tcharset TEXT NOT NULL,\n\t\tcollation TEXT NOT NULL,\n\t\tsource VARCHAR(10) NOT NULL DEFAULT 'unknown',\n\t\tINDEX sql_index(original_sql(700),default_db(68)) COMMENT \"accelerate the speed when add global binding query\",\n\t\tINDEX time_index(update_time) COMMENT \"accelerate the speed when querying with last update time\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"] [user=]
[2022/07/15 15:02:22.072 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:38, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:37, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:22.072 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:22.072 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:38, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:37, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:22.072 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.bind_info (\n\t\toriginal_sql TEXT NOT NULL,\n\t\tbind_sql TEXT NOT NULL,\n\t\tdefault_db TEXT NOT NULL,\n\t\tstatus TEXT NOT NULL,\n\t\tcreate_time TIMESTAMP(3) NOT NULL,\n\t\tupdate_time TIMESTAMP(3) NOT NULL,\n\t\tcharset TEXT NOT NULL,\n\t\tcollation TEXT NOT NULL,\n\t\tsource VARCHAR(10) NOT NULL DEFAULT 'unknown',\n\t\tINDEX sql_index(original_sql(700),default_db(68)) COMMENT \"accelerate the speed when add global binding query\",\n\t\tINDEX time_index(update_time) COMMENT \"accelerate the speed when querying with last update time\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"]
[2022/07/15 15:02:22.072 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 73, tp general"] [job="ID:38, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:37, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:22.072 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:22.072 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 73, tp general"] [job="ID:38, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:37, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:22.072 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:22.072 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=38]
[2022/07/15 15:02:22.072 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:22.073 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=18] [neededSchemaVersion=19] ["start time"=93.166µs] [phyTblIDs="[37]"] [actionTypes="[8]"]
[2022/07/15 15:02:22.073 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=19] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_top_n (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tcount \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"] [user=]
[2022/07/15 15:02:22.073 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:40, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:39, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:22.073 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:22.073 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:40, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:39, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:22.073 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_top_n (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tcount \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"]
[2022/07/15 15:02:22.073 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 73, tp general"] [job="ID:40, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:39, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:22.073 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:22.073 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 73, tp general"] [job="ID:40, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:39, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:22.073 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:22.074 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=40]
[2022/07/15 15:02:22.074 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:22.074 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=19] [neededSchemaVersion=20] ["start time"=72.125µs] [phyTblIDs="[39]"] [actionTypes="[8]"]
[2022/07/15 15:02:22.074 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=20] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.expr_pushdown_blacklist (\n\t\tname \t\tCHAR(100) NOT NULL,\n\t\tstore_type \tCHAR(100) NOT NULL DEFAULT 'tikv,tiflash,tidb',\n\t\treason \t\tVARCHAR(200)\n\t);"] [user=]
[2022/07/15 15:02:22.074 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:42, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:41, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:22.074 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:22.074 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:42, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:41, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:22.074 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.expr_pushdown_blacklist (\n\t\tname \t\tCHAR(100) NOT NULL,\n\t\tstore_type \tCHAR(100) NOT NULL DEFAULT 'tikv,tiflash,tidb',\n\t\treason \t\tVARCHAR(200)\n\t);"]
[2022/07/15 15:02:22.074 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 73, tp general"] [job="ID:42, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:41, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:22.074 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:22.074 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 73, tp general"] [job="ID:42, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:41, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:22.074 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:22.074 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=42]
[2022/07/15 15:02:22.074 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:22.074 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=20] [neededSchemaVersion=21] ["start time"=48.583µs] [phyTblIDs="[41]"] [actionTypes="[8]"]
[2022/07/15 15:02:22.074 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=21] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.opt_rule_blacklist (\n\t\tname \tCHAR(100) NOT NULL\n\t);"] [user=]
[2022/07/15 15:02:22.075 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:44, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:43, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:22.074 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:22.075 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:44, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:43, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:22.074 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.opt_rule_blacklist (\n\t\tname \tCHAR(100) NOT NULL\n\t);"]
[2022/07/15 15:02:22.075 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 73, tp general"] [job="ID:44, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:43, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:22.074 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:22.075 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 73, tp general"] [job="ID:44, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:43, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:22.074 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:22.075 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=44]
[2022/07/15 15:02:22.075 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:22.075 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=21] [neededSchemaVersion=22] ["start time"=40.958µs] [phyTblIDs="[43]"] [actionTypes="[8]"]
[2022/07/15 15:02:22.075 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=22] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_extended (\n\t\tname varchar(32) NOT NULL,\n\t\ttype tinyint(4) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tcolumn_ids varchar(32) NOT NULL,\n\t\tstats blob DEFAULT NULL,\n\t\tversion bigint(64) unsigned NOT NULL,\n\t\tstatus tinyint(4) NOT NULL,\n\t\tPRIMARY KEY(name, table_id),\n\t\tKEY idx_1 (table_id, status, version),\n\t\tKEY idx_2 (status, version)\n\t);"] [user=]
[2022/07/15 15:02:22.075 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:46, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:45, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:22.075 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:22.075 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:46, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:45, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:22.075 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_extended (\n\t\tname varchar(32) NOT NULL,\n\t\ttype tinyint(4) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tcolumn_ids varchar(32) NOT NULL,\n\t\tstats blob DEFAULT NULL,\n\t\tversion bigint(64) unsigned NOT NULL,\n\t\tstatus tinyint(4) NOT NULL,\n\t\tPRIMARY KEY(name, table_id),\n\t\tKEY idx_1 (table_id, status, version),\n\t\tKEY idx_2 (status, version)\n\t);"]
[2022/07/15 15:02:22.075 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 73, tp general"] [job="ID:46, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:45, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:22.075 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:22.076 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 73, tp general"] [job="ID:46, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:45, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:22.075 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:22.076 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=46]
[2022/07/15 15:02:22.076 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:22.076 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=22] [neededSchemaVersion=23] ["start time"=83.375µs] [phyTblIDs="[45]"] [actionTypes="[8]"]
[2022/07/15 15:02:22.076 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=23] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.schema_index_usage (\n\t\tTABLE_ID bigint(64),\n\t\tINDEX_ID bigint(21),\n\t\tQUERY_COUNT bigint(64),\n\t\tROWS_SELECTED bigint(64),\n\t\tLAST_USED_AT timestamp,\n\t\tPRIMARY KEY(TABLE_ID, INDEX_ID)\n\t);"] [user=]
[2022/07/15 15:02:22.076 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:48, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:47, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:22.076 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:22.076 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:48, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:47, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:22.076 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.schema_index_usage (\n\t\tTABLE_ID bigint(64),\n\t\tINDEX_ID bigint(21),\n\t\tQUERY_COUNT bigint(64),\n\t\tROWS_SELECTED bigint(64),\n\t\tLAST_USED_AT timestamp,\n\t\tPRIMARY KEY(TABLE_ID, INDEX_ID)\n\t);"]
[2022/07/15 15:02:22.076 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 73, tp general"] [job="ID:48, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:47, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:22.076 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:22.077 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 73, tp general"] [job="ID:48, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:47, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:22.076 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:22.077 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=48]
[2022/07/15 15:02:22.077 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:22.077 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=23] [neededSchemaVersion=24] ["start time"=62.75µs] [phyTblIDs="[47]"] [actionTypes="[8]"]
[2022/07/15 15:02:22.077 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=24] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_fm_sketch (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"] [user=]
[2022/07/15 15:02:22.077 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:50, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:49, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:22.077 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:22.077 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:50, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:49, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:22.077 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_fm_sketch (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"]
[2022/07/15 15:02:22.077 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 73, tp general"] [job="ID:50, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:49, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:22.077 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:22.077 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 73, tp general"] [job="ID:50, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:49, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:22.077 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:22.078 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=50]
[2022/07/15 15:02:22.078 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:22.078 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=24] [neededSchemaVersion=25] ["start time"=60.875µs] [phyTblIDs="[49]"] [actionTypes="[8]"]
[2022/07/15 15:02:22.078 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=25] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.global_grants (\n\t\tUSER char(32) NOT NULL DEFAULT '',\n\t\tHOST char(255) NOT NULL DEFAULT '',\n\t\tPRIV char(32) NOT NULL DEFAULT '',\n\t\tWITH_GRANT_OPTION enum('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (USER,HOST,PRIV)\n\t);"] [user=]
[2022/07/15 15:02:22.078 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:52, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:51, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:22.078 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:22.078 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:52, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:51, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:22.078 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.global_grants (\n\t\tUSER char(32) NOT NULL DEFAULT '',\n\t\tHOST char(255) NOT NULL DEFAULT '',\n\t\tPRIV char(32) NOT NULL DEFAULT '',\n\t\tWITH_GRANT_OPTION enum('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (USER,HOST,PRIV)\n\t);"]
[2022/07/15 15:02:22.078 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 73, tp general"] [job="ID:52, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:51, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:22.078 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:22.078 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 73, tp general"] [job="ID:52, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:51, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:22.078 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:22.078 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=52]
[2022/07/15 15:02:22.078 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:22.078 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=25] [neededSchemaVersion=26] ["start time"=59.75µs] [phyTblIDs="[51]"] [actionTypes="[8]"]
[2022/07/15 15:02:22.079 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=26] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.capture_plan_baselines_blacklist (\n\t\tid bigint(64) auto_increment,\n\t\tfilter_type varchar(32) NOT NULL COMMENT \"type of the filter, only db, table and frequency supported now\",\n\t\tfilter_value varchar(32) NOT NULL,\n\t\tkey idx(filter_type),\n\t\tprimary key(id)\n\t);"] [user=]
[2022/07/15 15:02:22.079 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:54, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:53, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:22.079 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:22.079 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:54, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:53, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:22.079 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.capture_plan_baselines_blacklist (\n\t\tid bigint(64) auto_increment,\n\t\tfilter_type varchar(32) NOT NULL COMMENT \"type of the filter, only db, table and frequency supported now\",\n\t\tfilter_value varchar(32) NOT NULL,\n\t\tkey idx(filter_type),\n\t\tprimary key(id)\n\t);"]
[2022/07/15 15:02:22.079 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 73, tp general"] [job="ID:54, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:53, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:22.079 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:22.079 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 73, tp general"] [job="ID:54, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:53, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:22.079 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:22.079 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=54]
[2022/07/15 15:02:22.079 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:22.079 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=26] [neededSchemaVersion=27] ["start time"=51.625µs] [phyTblIDs="[53]"] [actionTypes="[8]"]
[2022/07/15 15:02:22.079 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=27] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.column_stats_usage (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tcolumn_id BIGINT(64) NOT NULL,\n\t\tlast_used_at TIMESTAMP,\n\t\tlast_analyzed_at TIMESTAMP,\n\t\tPRIMARY KEY (table_id, column_id) CLUSTERED\n\t);"] [user=]
[2022/07/15 15:02:22.079 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:56, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:55, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:22.079 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:22.079 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:56, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:55, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:22.079 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.column_stats_usage (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tcolumn_id BIGINT(64) NOT NULL,\n\t\tlast_used_at TIMESTAMP,\n\t\tlast_analyzed_at TIMESTAMP,\n\t\tPRIMARY KEY (table_id, column_id) CLUSTERED\n\t);"]
[2022/07/15 15:02:22.080 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 73, tp general"] [job="ID:56, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:55, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:22.079 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:22.080 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 73, tp general"] [job="ID:56, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:55, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:22.079 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:22.080 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=56]
[2022/07/15 15:02:22.080 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:22.080 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=27] [neededSchemaVersion=28] ["start time"=54.167µs] [phyTblIDs="[55]"] [actionTypes="[8]"]
[2022/07/15 15:02:22.080 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=28] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.table_cache_meta (\n\t\ttid bigint(11) NOT NULL DEFAULT 0,\n\t\tlock_type enum('NONE','READ', 'INTEND', 'WRITE') NOT NULL DEFAULT 'NONE',\n\t\tlease bigint(20) NOT NULL DEFAULT 0,\n\t\toldReadLease bigint(20) NOT NULL DEFAULT 0,\n\t\tPRIMARY KEY (tid)\n\t);"] [user=]
[2022/07/15 15:02:22.080 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:58, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:57, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:22.08 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:22.080 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:58, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:57, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:22.08 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.table_cache_meta (\n\t\ttid bigint(11) NOT NULL DEFAULT 0,\n\t\tlock_type enum('NONE','READ', 'INTEND', 'WRITE') NOT NULL DEFAULT 'NONE',\n\t\tlease bigint(20) NOT NULL DEFAULT 0,\n\t\toldReadLease bigint(20) NOT NULL DEFAULT 0,\n\t\tPRIMARY KEY (tid)\n\t);"]
[2022/07/15 15:02:22.080 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 73, tp general"] [job="ID:58, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:57, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:22.08 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:22.081 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 73, tp general"] [job="ID:58, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:57, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:22.08 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:22.081 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=58]
[2022/07/15 15:02:22.081 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:22.081 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=28] [neededSchemaVersion=29] ["start time"=56.583µs] [phyTblIDs="[57]"] [actionTypes="[8]"]
[2022/07/15 15:02:22.081 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=29] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.analyze_options (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tsample_num BIGINT(64) NOT NULL DEFAULT 0,\n\t\tsample_rate DOUBLE NOT NULL DEFAULT -1,\n\t\tbuckets BIGINT(64) NOT NULL DEFAULT 0,\n\t\ttopn BIGINT(64) NOT NULL DEFAULT -1,\n\t\tcolumn_choice enum('DEFAULT','ALL','PREDICATE','LIST') NOT NULL DEFAULT 'DEFAULT',\n\t\tcolumn_ids TEXT(19372),\n\t\tPRIMARY KEY (table_id) CLUSTERED\n\t);"] [user=]
[2022/07/15 15:02:22.081 +08:00] [INFO] [ddl_api.go:999] ["Automatically convert BLOB(19372) to MEDIUMBLOB"]
[2022/07/15 15:02:22.081 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:60, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:59, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:22.081 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:22.081 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:60, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:59, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:22.081 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.analyze_options (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tsample_num BIGINT(64) NOT NULL DEFAULT 0,\n\t\tsample_rate DOUBLE NOT NULL DEFAULT -1,\n\t\tbuckets BIGINT(64) NOT NULL DEFAULT 0,\n\t\ttopn BIGINT(64) NOT NULL DEFAULT -1,\n\t\tcolumn_choice enum('DEFAULT','ALL','PREDICATE','LIST') NOT NULL DEFAULT 'DEFAULT',\n\t\tcolumn_ids TEXT(19372),\n\t\tPRIMARY KEY (table_id) CLUSTERED\n\t);"]
[2022/07/15 15:02:22.081 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 73, tp general"] [job="ID:60, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:59, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:22.081 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:22.082 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 73, tp general"] [job="ID:60, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:59, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:22.081 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:22.082 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=60]
[2022/07/15 15:02:22.082 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:22.082 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=29] [neededSchemaVersion=30] ["start time"=69.167µs] [phyTblIDs="[59]"] [actionTypes="[8]"]
[2022/07/15 15:02:22.082 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=30] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tstats_data longblob NOT NULL,\n\t\tseq_no bigint(64) NOT NULL comment 'sequence number of the gzipped data slice',\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version_seq (table_id, version, seq_no),\n\t\tKEY table_create_time (table_id, create_time, seq_no)\n\t);"] [user=]
[2022/07/15 15:02:22.082 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:62, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:61, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:22.082 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:22.082 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:62, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:61, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:22.082 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tstats_data longblob NOT NULL,\n\t\tseq_no bigint(64) NOT NULL comment 'sequence number of the gzipped data slice',\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version_seq (table_id, version, seq_no),\n\t\tKEY table_create_time (table_id, create_time, seq_no)\n\t);"]
[2022/07/15 15:02:22.082 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 73, tp general"] [job="ID:62, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:61, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:22.082 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:22.082 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 73, tp general"] [job="ID:62, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:61, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:22.082 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:22.083 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=62]
[2022/07/15 15:02:22.083 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:22.083 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=30] [neededSchemaVersion=31] ["start time"=71.667µs] [phyTblIDs="[61]"] [actionTypes="[8]"]
[2022/07/15 15:02:22.083 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=31] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_meta_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL,\n\t\tcount bigint(64) NOT NULL,\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version (table_id, version),\n\t\tKEY table_create_time (table_id, create_time)\n\t);"] [user=]
[2022/07/15 15:02:22.083 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:64, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:63, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:22.083 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:22.083 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:64, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:63, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:22.083 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_meta_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL,\n\t\tcount bigint(64) NOT NULL,\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version (table_id, version),\n\t\tKEY table_create_time (table_id, create_time)\n\t);"]
[2022/07/15 15:02:22.083 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 73, tp general"] [job="ID:64, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:63, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:22.083 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:22.083 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 73, tp general"] [job="ID:64, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:63, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:22.083 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:22.083 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=64]
[2022/07/15 15:02:22.083 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:22.084 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=31] [neededSchemaVersion=32] ["start time"=71.75µs] [phyTblIDs="[63]"] [actionTypes="[8]"]
[2022/07/15 15:02:22.084 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=32] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.analyze_jobs (\n\t\tid BIGINT(64) UNSIGNED NOT NULL AUTO_INCREMENT,\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\ttable_schema CHAR(64) NOT NULL DEFAULT '',\n\t\ttable_name CHAR(64) NOT NULL DEFAULT '',\n\t\tpartition_name CHAR(64) NOT NULL DEFAULT '',\n\t\tjob_info TEXT NOT NULL,\n\t\tprocessed_rows BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tstart_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tstate ENUM('pending', 'running', 'finished', 'failed') NOT NULL,\n\t\tfail_reason TEXT,\n\t\tinstance VARCHAR(512) NOT NULL comment 'address of the TiDB instance executing the analyze job',\n\t\tprocess_id BIGINT(64) UNSIGNED comment 'ID of the process executing the analyze job',\n\t\tPRIMARY KEY (id),\n\t\tKEY (update_time)\n\t);"] [user=]
[2022/07/15 15:02:22.084 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:66, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:65, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:22.084 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:22.084 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:66, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:65, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:22.084 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.analyze_jobs (\n\t\tid BIGINT(64) UNSIGNED NOT NULL AUTO_INCREMENT,\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\ttable_schema CHAR(64) NOT NULL DEFAULT '',\n\t\ttable_name CHAR(64) NOT NULL DEFAULT '',\n\t\tpartition_name CHAR(64) NOT NULL DEFAULT '',\n\t\tjob_info TEXT NOT NULL,\n\t\tprocessed_rows BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tstart_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tstate ENUM('pending', 'running', 'finished', 'failed') NOT NULL,\n\t\tfail_reason TEXT,\n\t\tinstance VARCHAR(512) NOT NULL comment 'address of the TiDB instance executing the analyze job',\n\t\tprocess_id BIGINT(64) UNSIGNED comment 'ID of the process executing the analyze job',\n\t\tPRIMARY KEY (id),\n\t\tKEY (update_time)\n\t);"]
[2022/07/15 15:02:22.084 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 73, tp general"] [job="ID:66, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:65, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:22.084 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:22.085 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 73, tp general"] [job="ID:66, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:65, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:22.084 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:22.085 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=66]
[2022/07/15 15:02:22.085 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:22.085 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=32] [neededSchemaVersion=33] ["start time"=117.709µs] [phyTblIDs="[65]"] [actionTypes="[8]"]
[2022/07/15 15:02:22.085 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=33] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.advisory_locks (\n\t\tlock_name VARCHAR(64) NOT NULL PRIMARY KEY\n\t);"] [user=]
[2022/07/15 15:02:22.085 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:68, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:67, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:22.085 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:22.085 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:68, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:67, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:22.085 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.advisory_locks (\n\t\tlock_name VARCHAR(64) NOT NULL PRIMARY KEY\n\t);"]
[2022/07/15 15:02:22.085 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 73, tp general"] [job="ID:68, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:67, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:22.085 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:22.085 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 73, tp general"] [job="ID:68, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:67, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:22.085 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:22.086 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=68]
[2022/07/15 15:02:22.086 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:22.086 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=33] [neededSchemaVersion=34] ["start time"=38.792µs] [phyTblIDs="[67]"] [actionTypes="[8]"]
[2022/07/15 15:02:22.091 +08:00] [INFO] [bootstrap.go:448] ["bootstrap successful"] ["take time"=39.653875ms]
[2022/07/15 15:02:22.091 +08:00] [INFO] [ddl_worker.go:158] ["[ddl] DDL worker closed"] [worker="worker 73, tp general"] ["take time"=42ns]
[2022/07/15 15:02:22.091 +08:00] [INFO] [ddl_worker.go:158] ["[ddl] DDL worker closed"] [worker="worker 74, tp add index"] ["take time"=42ns]
[2022/07/15 15:02:22.091 +08:00] [INFO] [delete_range.go:148] ["[ddl] closing delRange"]
[2022/07/15 15:02:22.091 +08:00] [INFO] [session_pool.go:94] ["[ddl] closing sessionPool"]
[2022/07/15 15:02:22.091 +08:00] [INFO] [ddl.go:576] ["[ddl] DDL closed"] [ID=7b31e685-d90f-4c67-b95f-ebacbfdd3872] ["take time"=50.375µs]
[2022/07/15 15:02:22.091 +08:00] [INFO] [ddl.go:464] ["[ddl] stop DDL"] [ID=7b31e685-d90f-4c67-b95f-ebacbfdd3872]
[2022/07/15 15:02:22.091 +08:00] [INFO] [domain.go:498] ["topNSlowQueryLoop exited."]
[2022/07/15 15:02:22.091 +08:00] [INFO] [domain.go:575] ["topologySyncerKeeper exited."]
[2022/07/15 15:02:22.091 +08:00] [INFO] [domain.go:552] ["globalConfigSyncerKeeper exited."]
[2022/07/15 15:02:22.091 +08:00] [INFO] [domain.go:527] ["infoSyncerKeeper exited."]
[2022/07/15 15:02:22.091 +08:00] [INFO] [domain.go:733] ["domain closed"] ["take time"=92.417µs]
[2022/07/15 15:02:22.091 +08:00] [INFO] [tidb.go:74] ["new domain"] [store=f508c078-bea6-4ca3-ae2f-018b01aa7256] ["ddl lease"=0s] ["stats lease"=-1ns] ["index usage sync lease"=0s]
[2022/07/15 15:02:22.094 +08:00] [INFO] [domain.go:178] ["full load InfoSchema success"] [currentSchemaVersion=0] [neededSchemaVersion=34] ["start time"=2.429958ms]
[2022/07/15 15:02:22.094 +08:00] [INFO] [domain.go:449] ["full load and reset schema validator"]
[2022/07/15 15:02:22.094 +08:00] [INFO] [ddl.go:483] ["[ddl] start DDL"] [ID=a294495f-f922-40e7-a25d-482b60b72522] [runWorker=true]
[2022/07/15 15:02:22.094 +08:00] [INFO] [ddl.go:472] ["[ddl] start delRangeManager OK"] ["is a emulator"=true]
[2022/07/15 15:02:22.094 +08:00] [INFO] [delete_range.go:158] ["[ddl] start delRange emulator"]
[2022/07/15 15:02:22.094 +08:00] [INFO] [ddl_worker.go:164] ["[ddl] start DDL worker"] [worker="worker 75, tp general"]
[2022/07/15 15:02:22.094 +08:00] [INFO] [ddl_worker.go:164] ["[ddl] start DDL worker"] [worker="worker 76, tp add index"]
[2022/07/15 15:02:22.095 +08:00] [WARN] [sysvar_cache.go:53] ["sysvar cache is empty, triggering rebuild"]
[2022/07/15 15:02:22.098 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=19] [schemaVersion=34] [cur_db=test] [sql="drop table if exists t"] [user=]
[2022/07/15 15:02:22.098 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=19] [schemaVersion=34] [cur_db=test] [sql="create table t(a bigint(20))"] [user=]
[2022/07/15 15:02:22.098 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:70, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:22.098 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:22.098 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:70, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:22.098 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="create table t(a bigint(20))"]
[2022/07/15 15:02:22.098 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 75, tp general"] [job="ID:70, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:22.098 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:22.098 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 75, tp general"] [job="ID:70, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:69, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:22.098 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:22.098 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=70]
[2022/07/15 15:02:22.098 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:22.098 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=34] [neededSchemaVersion=35] ["start time"=36.125µs] [phyTblIDs="[69]"] [actionTypes="[8]"]
[2022/07/15 15:02:22.099 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=19] [schemaVersion=35] [cur_db=test] [sql="alter table t set tiflash replica 1"] [user=]
[2022/07/15 15:02:22.099 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:71, Type:set tiflash replica, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:22.099 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:22.099 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:71, Type:set tiflash replica, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:22.099 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="alter table t set tiflash replica 1"]
[2022/07/15 15:02:22.099 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 75, tp general"] [job="ID:71, Type:set tiflash replica, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:22.099 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:22.099 +08:00] [INFO] [table.go:1109] ["Set TiFlash replica pd rule"] [tableID=69]
[2022/07/15 15:02:22.099 +08:00] [INFO] [info.go:1051] [ConfigureTiFlashPDForTable] [tableID=69] [count=1]
[2022/07/15 15:02:22.099 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 75, tp general"] [job="ID:71, Type:set tiflash replica, State:synced, SchemaState:public, SchemaID:1, TableID:69, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:22.099 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:22.099 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=71]
[2022/07/15 15:02:22.099 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:22.099 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=35] [neededSchemaVersion=36] ["start time"=31.75µs] [phyTblIDs="[]"] [actionTypes="[]"]
[2022/07/15 15:02:22.099 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:72, Type:update tiflash replica status, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:2, start time: 2022-07-15 15:02:22.099 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:22.099 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:72, Type:update tiflash replica status, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:2, start time: 2022-07-15 15:02:22.099 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query=]
[2022/07/15 15:02:22.099 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 75, tp general"] [job="ID:72, Type:update tiflash replica status, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:22.099 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:22.099 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 75, tp general"] [job="ID:72, Type:update tiflash replica status, State:synced, SchemaState:public, SchemaID:1, TableID:69, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:22.099 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:22.099 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=72]
[2022/07/15 15:02:22.099 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:22.099 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=36] [neededSchemaVersion=37] ["start time"=32.583µs] [phyTblIDs="[]"] [actionTypes="[]"]
[2022/07/15 15:02:24.100 +08:00] [WARN] [2pc.go:1806] ["schemaLeaseChecker is not set for this transaction"] [sessionID=19] [startTS=434600291624550401] [checkTS=434600291624550402]
[2022/07/15 15:02:24.102 +08:00] [INFO] [set.go:330] ["load snapshot info schema"] [conn=19] [SnapshotTS=434600291624550400]
[2022/07/15 15:02:24.102 +08:00] [INFO] [ddl_worker.go:158] ["[ddl] DDL worker closed"] [worker="worker 75, tp general"] ["take time"=125ns]
[2022/07/15 15:02:24.102 +08:00] [INFO] [ddl_worker.go:158] ["[ddl] DDL worker closed"] [worker="worker 76, tp add index"] ["take time"=42ns]
[2022/07/15 15:02:24.102 +08:00] [INFO] [delete_range.go:148] ["[ddl] closing delRange"]
[2022/07/15 15:02:24.102 +08:00] [INFO] [session_pool.go:94] ["[ddl] closing sessionPool"]
[2022/07/15 15:02:24.102 +08:00] [INFO] [ddl.go:576] ["[ddl] DDL closed"] [ID=a294495f-f922-40e7-a25d-482b60b72522] ["take time"=57.458µs]
[2022/07/15 15:02:24.102 +08:00] [INFO] [ddl.go:464] ["[ddl] stop DDL"] [ID=a294495f-f922-40e7-a25d-482b60b72522]
[2022/07/15 15:02:24.102 +08:00] [INFO] [domain.go:498] ["topNSlowQueryLoop exited."]
[2022/07/15 15:02:24.102 +08:00] [INFO] [domain.go:1082] ["LoadSysVarCacheLoop exited."]
[2022/07/15 15:02:24.102 +08:00] [INFO] [domain.go:1160] ["globalBindHandleWorkerLoop exited."]
[2022/07/15 15:02:24.102 +08:00] [INFO] [domain.go:1032] ["loadPrivilegeInLoop exited."]
[2022/07/15 15:02:24.102 +08:00] [INFO] [domain.go:527] ["infoSyncerKeeper exited."]
[2022/07/15 15:02:24.102 +08:00] [INFO] [handle_hist.go:156] ["SubLoadWorker exited."]
[2022/07/15 15:02:24.102 +08:00] [INFO] [domain.go:1203] ["handleEvolvePlanTasksLoop exited."]
[2022/07/15 15:02:24.102 +08:00] [INFO] [domain.go:1288] ["dumpFileGcChecker exited."]
[2022/07/15 15:02:24.102 +08:00] [INFO] [handle_hist.go:156] ["SubLoadWorker exited."]
[2022/07/15 15:02:24.102 +08:00] [INFO] [handle_hist.go:156] ["SubLoadWorker exited."]
[2022/07/15 15:02:24.102 +08:00] [INFO] [domain.go:552] ["globalConfigSyncerKeeper exited."]
[2022/07/15 15:02:24.102 +08:00] [INFO] [handle_hist.go:156] ["SubLoadWorker exited."]
[2022/07/15 15:02:24.102 +08:00] [INFO] [domain.go:575] ["topologySyncerKeeper exited."]
[2022/07/15 15:02:24.102 +08:00] [INFO] [domain.go:733] ["domain closed"] ["take time"=145.75µs]
[2022/07/15 15:02:24.102 +08:00] [INFO] [handle_hist.go:156] ["SubLoadWorker exited."]
[2022/07/15 15:02:24.122 +08:00] [INFO] [db.go:567] ["Closing database"]
[2022/07/15 15:02:24.123 +08:00] [INFO] [db.go:592] ["Memtable flushed"]
[2022/07/15 15:02:24.123 +08:00] [INFO] [db.go:596] ["Compaction finished"]
[2022/07/15 15:02:24.123 +08:00] [INFO] [db.go:615] ["BlobManager finished"]
[2022/07/15 15:02:24.123 +08:00] [INFO] [db.go:619] ["ResourceManager finished"]
[2022/07/15 15:02:24.123 +08:00] [INFO] [db.go:625] ["Waiting for closer"]
[2022/07/15 15:02:24.199 +08:00] [INFO] [tidb.go:74] ["new domain"] [store=36e26c4d-bbd5-4cf6-bae2-d0cdcccf0735] ["ddl lease"=0s] ["stats lease"=-1ns] ["index usage sync lease"=0s]
[2022/07/15 15:02:24.200 +08:00] [INFO] [domain.go:178] ["full load InfoSchema success"] [currentSchemaVersion=0] [neededSchemaVersion=0] ["start time"=497.875µs]
[2022/07/15 15:02:24.200 +08:00] [INFO] [domain.go:449] ["full load and reset schema validator"]
[2022/07/15 15:02:24.200 +08:00] [INFO] [ddl.go:483] ["[ddl] start DDL"] [ID=af949393-df40-48ee-a4d2-19477e412e56] [runWorker=true]
[2022/07/15 15:02:24.200 +08:00] [INFO] [ddl.go:472] ["[ddl] start delRangeManager OK"] ["is a emulator"=true]
[2022/07/15 15:02:24.200 +08:00] [INFO] [delete_range.go:158] ["[ddl] start delRange emulator"]
[2022/07/15 15:02:24.200 +08:00] [INFO] [ddl_worker.go:164] ["[ddl] start DDL worker"] [worker="worker 77, tp general"]
[2022/07/15 15:02:24.200 +08:00] [INFO] [ddl_worker.go:164] ["[ddl] start DDL worker"] [worker="worker 78, tp add index"]
[2022/07/15 15:02:24.200 +08:00] [INFO] [tidb.go:268] ["rollbackTxn called due to ddl/autocommit failure"]
[2022/07/15 15:02:24.200 +08:00] [WARN] [session.go:1983] ["run statement failed"] [schemaVersion=0] [error="[schema:1049]Unknown database 'mysql'"] [errorVerbose="[schema:1049]Unknown database 'mysql'\ngithub.com/pingcap/errors.AddStack\n\t/Users/hongyunyan/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20211224045212-9687c2b0f87c/errors.go:174\ngithub.com/pingcap/errors.(*Error).GenWithStackByArgs\n\t/Users/hongyunyan/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20211224045212-9687c2b0f87c/normalize.go:164\ngithub.com/pingcap/tidb/executor.(*SimpleExec).executeUse\n\t/Users/hongyunyan/Desktop/tidb/executor/simple.go:571\ngithub.com/pingcap/tidb/executor.(*SimpleExec).Next\n\t/Users/hongyunyan/Desktop/tidb/executor/simple.go:131\ngithub.com/pingcap/tidb/executor.Next\n\t/Users/hongyunyan/Desktop/tidb/executor/executor.go:319\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelayExecutor\n\t/Users/hongyunyan/Desktop/tidb/executor/adapter.go:673\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelay\n\t/Users/hongyunyan/Desktop/tidb/executor/adapter.go:523\ngithub.com/pingcap/tidb/executor.(*ExecStmt).Exec\n\t/Users/hongyunyan/Desktop/tidb/executor/adapter.go:472\ngithub.com/pingcap/tidb/session.runStmt\n\t/Users/hongyunyan/Desktop/tidb/session/session.go:2114\ngithub.com/pingcap/tidb/session.(*session).ExecuteStmt\n\t/Users/hongyunyan/Desktop/tidb/session/session.go:1980\ngithub.com/pingcap/tidb/session.(*session).ExecuteInternal\n\t/Users/hongyunyan/Desktop/tidb/session/session.go:1495\ngithub.com/pingcap/tidb/session.checkBootstrapped\n\t/Users/hongyunyan/Desktop/tidb/session/bootstrap.go:728\ngithub.com/pingcap/tidb/session.bootstrap\n\t/Users/hongyunyan/Desktop/tidb/session/bootstrap.go:431\ngithub.com/pingcap/tidb/session.runInBootstrapSession\n\t/Users/hongyunyan/Desktop/tidb/session/session.go:2834\ngithub.com/pingcap/tidb/session.BootstrapSession\n\t/Users/hongyunyan/Desktop/tidb/session/session.go:2720\ngithub.com/pingcap/tidb/testkit.bootstrap\n\t/Users/hongyunyan/Desktop/tidb/testkit/mockstore.go:71\ngithub.com/pingcap/tidb/testkit.CreateMockStoreAndDomain\n\t/Users/hongyunyan/Desktop/tidb/testkit/mockstore.go:64\ngithub.com/pingcap/tidb/testkit.CreateMockStore\n\t/Users/hongyunyan/Desktop/tidb/testkit/mockstore.go:56\ngithub.com/pingcap/tidb/executor/tiflashtest.TestForbidTiFlashIfExtraPhysTableIDIsNeeded\n\t/Users/hongyunyan/Desktop/tidb/executor/tiflashtest/tiflash_test.go:1120\ntesting.tRunner\n\t/opt/homebrew/Cellar/go/1.18.3/libexec/src/testing/testing.go:1439\nruntime.goexit\n\t/opt/homebrew/Cellar/go/1.18.3/libexec/src/runtime/asm_arm64.s:1263"] [session="{\n  \"currDBName\": \"\",\n  \"id\": 0,\n  \"status\": 2,\n  \"strictMode\": true,\n  \"user\": null\n}"]
[2022/07/15 15:02:24.200 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=0] [cur_db=] [sql="CREATE DATABASE IF NOT EXISTS test"] [user=]
[2022/07/15 15:02:24.200 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:2, Type:create schema, State:queueing, SchemaState:none, SchemaID:1, TableID:0, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:24.2 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:24.200 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:2, Type:create schema, State:queueing, SchemaState:none, SchemaID:1, TableID:0, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:24.2 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE DATABASE IF NOT EXISTS test"]
[2022/07/15 15:02:24.200 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 77, tp general"] [job="ID:2, Type:create schema, State:queueing, SchemaState:none, SchemaID:1, TableID:0, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:24.2 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:24.201 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 77, tp general"] [job="ID:2, Type:create schema, State:synced, SchemaState:public, SchemaID:1, TableID:0, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:24.2 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:24.201 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=2]
[2022/07/15 15:02:24.201 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:24.201 +08:00] [INFO] [domain.go:178] ["full load InfoSchema success"] [currentSchemaVersion=0] [neededSchemaVersion=1] ["start time"=418.375µs]
[2022/07/15 15:02:24.201 +08:00] [INFO] [domain.go:449] ["full load and reset schema validator"]
[2022/07/15 15:02:24.201 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=1] [cur_db=] [sql="CREATE DATABASE IF NOT EXISTS `mysql`"] [user=]
[2022/07/15 15:02:24.202 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:4, Type:create schema, State:queueing, SchemaState:none, SchemaID:3, TableID:0, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:24.201 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:24.202 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:4, Type:create schema, State:queueing, SchemaState:none, SchemaID:3, TableID:0, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:24.201 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE DATABASE IF NOT EXISTS `mysql`"]
[2022/07/15 15:02:24.202 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 77, tp general"] [job="ID:4, Type:create schema, State:queueing, SchemaState:none, SchemaID:3, TableID:0, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:24.201 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:24.202 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 77, tp general"] [job="ID:4, Type:create schema, State:synced, SchemaState:public, SchemaID:3, TableID:0, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:24.201 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:24.202 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=4]
[2022/07/15 15:02:24.202 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:24.202 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=1] [neededSchemaVersion=2] ["start time"=15.667µs] [phyTblIDs="[]"] [actionTypes="[]"]
[2022/07/15 15:02:24.202 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=2] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.user (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tauthentication_string\tTEXT,\n\t\tplugin\t\t\t\t\tCHAR(64),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tProcess_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_db_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tSuper_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_user_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_slave_priv\t    \tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_client_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_role_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_role_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAccount_locked\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShutdown_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReload_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tFILE_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tConfig_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_Tablespace_Priv  ENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (Host, User));"] [user=]
[2022/07/15 15:02:24.202 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:6, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:5, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:24.202 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:24.202 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:6, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:5, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:24.202 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.user (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tauthentication_string\tTEXT,\n\t\tplugin\t\t\t\t\tCHAR(64),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tProcess_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_db_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tSuper_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_user_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_slave_priv\t    \tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_client_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_role_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_role_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAccount_locked\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShutdown_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReload_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tFILE_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tConfig_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_Tablespace_Priv  ENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (Host, User));"]
[2022/07/15 15:02:24.203 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 77, tp general"] [job="ID:6, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:5, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:24.202 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:24.204 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 77, tp general"] [job="ID:6, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:5, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:24.202 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:24.205 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=6]
[2022/07/15 15:02:24.205 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:24.205 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=2] [neededSchemaVersion=3] ["start time"=272.292µs] [phyTblIDs="[5]"] [actionTypes="[8]"]
[2022/07/15 15:02:24.205 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=3] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.global_priv (Host CHAR(255) NOT NULL DEFAULT '',User CHAR(80) NOT NULL DEFAULT '',Priv LONGTEXT NOT NULL DEFAULT '',PRIMARY KEY (Host, User))"] [user=]
[2022/07/15 15:02:24.205 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:8, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:7, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:24.205 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:24.206 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:8, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:7, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:24.205 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.global_priv (Host CHAR(255) NOT NULL DEFAULT '',User CHAR(80) NOT NULL DEFAULT '',Priv LONGTEXT NOT NULL DEFAULT '',PRIMARY KEY (Host, User))"]
[2022/07/15 15:02:24.206 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 77, tp general"] [job="ID:8, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:7, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:24.205 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:24.206 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 77, tp general"] [job="ID:8, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:7, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:24.205 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:24.206 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=8]
[2022/07/15 15:02:24.206 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:24.206 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=3] [neededSchemaVersion=4] ["start time"=58µs] [phyTblIDs="[7]"] [actionTypes="[8]"]
[2022/07/15 15:02:24.206 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=4] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.db (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tDB\t\t\t\t\t\tCHAR(64),\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv \t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (Host, DB, User));"] [user=]
[2022/07/15 15:02:24.207 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:10, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:9, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:24.207 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:24.207 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:10, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:9, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:24.207 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.db (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tDB\t\t\t\t\t\tCHAR(64),\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv \t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (Host, DB, User));"]
[2022/07/15 15:02:24.207 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 77, tp general"] [job="ID:10, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:9, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:24.207 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:24.208 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 77, tp general"] [job="ID:10, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:9, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:24.207 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:24.208 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=10]
[2022/07/15 15:02:24.208 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:24.209 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=4] [neededSchemaVersion=5] ["start time"=158.125µs] [phyTblIDs="[9]"] [actionTypes="[8]"]
[2022/07/15 15:02:24.209 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=5] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.tables_priv (\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64),\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64),\n\t\tGrantor\t\tCHAR(77),\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tTable_priv\tSET('Select','Insert','Update','Delete','Create','Drop','Grant','Index','Alter','Create View','Show View','Trigger','References'),\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name));"] [user=]
[2022/07/15 15:02:24.209 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:12, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:11, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:24.209 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:24.209 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:12, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:11, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:24.209 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.tables_priv (\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64),\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64),\n\t\tGrantor\t\tCHAR(77),\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tTable_priv\tSET('Select','Insert','Update','Delete','Create','Drop','Grant','Index','Alter','Create View','Show View','Trigger','References'),\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name));"]
[2022/07/15 15:02:24.209 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 77, tp general"] [job="ID:12, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:11, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:24.209 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:24.209 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 77, tp general"] [job="ID:12, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:11, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:24.209 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:24.210 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=12]
[2022/07/15 15:02:24.210 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:24.210 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=5] [neededSchemaVersion=6] ["start time"=125.833µs] [phyTblIDs="[11]"] [actionTypes="[8]"]
[2022/07/15 15:02:24.210 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=6] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.columns_priv(\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64),\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64),\n\t\tColumn_name\tCHAR(64),\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name, Column_name));"] [user=]
[2022/07/15 15:02:24.210 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:14, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:13, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:24.21 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:24.210 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:14, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:13, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:24.21 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.columns_priv(\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64),\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64),\n\t\tColumn_name\tCHAR(64),\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name, Column_name));"]
[2022/07/15 15:02:24.210 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 77, tp general"] [job="ID:14, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:13, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:24.21 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:24.211 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 77, tp general"] [job="ID:14, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:13, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:24.21 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:24.211 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=14]
[2022/07/15 15:02:24.211 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:24.211 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=6] [neededSchemaVersion=7] ["start time"=78.167µs] [phyTblIDs="[13]"] [actionTypes="[8]"]
[2022/07/15 15:02:24.211 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=7] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.GLOBAL_VARIABLES(\n\t\tVARIABLE_NAME  VARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(1024) DEFAULT NULL);"] [user=]
[2022/07/15 15:02:24.211 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:16, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:15, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:24.211 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:24.211 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:16, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:15, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:24.211 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.GLOBAL_VARIABLES(\n\t\tVARIABLE_NAME  VARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(1024) DEFAULT NULL);"]
[2022/07/15 15:02:24.211 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 77, tp general"] [job="ID:16, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:15, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:24.211 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:24.212 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 77, tp general"] [job="ID:16, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:15, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:24.211 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:24.212 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=16]
[2022/07/15 15:02:24.212 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:24.212 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=7] [neededSchemaVersion=8] ["start time"=47.458µs] [phyTblIDs="[15]"] [actionTypes="[8]"]
[2022/07/15 15:02:24.212 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=8] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb(\n\t\tVARIABLE_NAME  \tVARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE \tVARCHAR(1024) DEFAULT NULL,\n\t\tCOMMENT \t\tVARCHAR(1024));"] [user=]
[2022/07/15 15:02:24.212 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:18, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:17, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:24.212 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:24.212 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:18, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:17, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:24.212 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb(\n\t\tVARIABLE_NAME  \tVARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE \tVARCHAR(1024) DEFAULT NULL,\n\t\tCOMMENT \t\tVARCHAR(1024));"]
[2022/07/15 15:02:24.212 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 77, tp general"] [job="ID:18, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:17, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:24.212 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:24.212 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 77, tp general"] [job="ID:18, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:17, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:24.212 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:24.213 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=18]
[2022/07/15 15:02:24.213 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:24.213 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=8] [neededSchemaVersion=9] ["start time"=48.042µs] [phyTblIDs="[17]"] [actionTypes="[8]"]
[2022/07/15 15:02:24.213 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=9] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.help_topic (\n  \t\thelp_topic_id \t\tINT(10) UNSIGNED NOT NULL,\n  \t\tname \t\t\t\tCHAR(64) NOT NULL,\n  \t\thelp_category_id \tSMALLINT(5) UNSIGNED NOT NULL,\n  \t\tdescription \t\tTEXT NOT NULL,\n  \t\texample \t\t\tTEXT NOT NULL,\n  \t\turl \t\t\t\tTEXT NOT NULL,\n  \t\tPRIMARY KEY (help_topic_id) clustered,\n  \t\tUNIQUE KEY name (name)\n\t\t) ENGINE=InnoDB DEFAULT CHARSET=utf8 STATS_PERSISTENT=0 COMMENT='help topics';"] [user=]
[2022/07/15 15:02:24.213 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:20, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:19, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:24.213 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:24.213 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:20, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:19, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:24.213 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.help_topic (\n  \t\thelp_topic_id \t\tINT(10) UNSIGNED NOT NULL,\n  \t\tname \t\t\t\tCHAR(64) NOT NULL,\n  \t\thelp_category_id \tSMALLINT(5) UNSIGNED NOT NULL,\n  \t\tdescription \t\tTEXT NOT NULL,\n  \t\texample \t\t\tTEXT NOT NULL,\n  \t\turl \t\t\t\tTEXT NOT NULL,\n  \t\tPRIMARY KEY (help_topic_id) clustered,\n  \t\tUNIQUE KEY name (name)\n\t\t) ENGINE=InnoDB DEFAULT CHARSET=utf8 STATS_PERSISTENT=0 COMMENT='help topics';"]
[2022/07/15 15:02:24.213 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 77, tp general"] [job="ID:20, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:19, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:24.213 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:24.214 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 77, tp general"] [job="ID:20, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:19, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:24.213 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:24.214 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=20]
[2022/07/15 15:02:24.214 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:24.214 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=9] [neededSchemaVersion=10] ["start time"=71.75µs] [phyTblIDs="[19]"] [actionTypes="[8]"]
[2022/07/15 15:02:24.214 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=10] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_meta (\n\t\tversion \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\ttable_id \t\tBIGINT(64) NOT NULL,\n\t\tmodify_count\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcount \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tsnapshot        BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tINDEX idx_ver(version),\n\t\tUNIQUE INDEX tbl(table_id)\n\t);"] [user=]
[2022/07/15 15:02:24.214 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:22, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:21, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:24.214 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:24.214 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:22, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:21, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:24.214 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_meta (\n\t\tversion \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\ttable_id \t\tBIGINT(64) NOT NULL,\n\t\tmodify_count\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcount \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tsnapshot        BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tINDEX idx_ver(version),\n\t\tUNIQUE INDEX tbl(table_id)\n\t);"]
[2022/07/15 15:02:24.214 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 77, tp general"] [job="ID:22, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:21, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:24.214 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:24.215 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 77, tp general"] [job="ID:22, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:21, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:24.214 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:24.215 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=22]
[2022/07/15 15:02:24.215 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:24.215 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=10] [neededSchemaVersion=11] ["start time"=75.833µs] [phyTblIDs="[21]"] [actionTypes="[8]"]
[2022/07/15 15:02:24.215 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=11] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_histograms (\n\t\ttable_id \t\t\tBIGINT(64) NOT NULL,\n\t\tis_index \t\t\tTINYINT(2) NOT NULL,\n\t\thist_id \t\t\tBIGINT(64) NOT NULL,\n\t\tdistinct_count \t\tBIGINT(64) NOT NULL,\n\t\tnull_count \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\ttot_col_size \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tmodify_count \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tversion \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tcm_sketch \t\t\tBLOB(6291456),\n\t\tstats_ver \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tflag \t\t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcorrelation \t\tDOUBLE NOT NULL DEFAULT 0,\n\t\tlast_analyze_pos \tLONGBLOB DEFAULT NULL,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id)\n\t);"] [user=]
[2022/07/15 15:02:24.215 +08:00] [INFO] [ddl_api.go:999] ["Automatically convert BLOB(6291456) to MEDIUMBLOB"]
[2022/07/15 15:02:24.216 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:24, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:23, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:24.215 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:24.216 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:24, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:23, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:24.215 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_histograms (\n\t\ttable_id \t\t\tBIGINT(64) NOT NULL,\n\t\tis_index \t\t\tTINYINT(2) NOT NULL,\n\t\thist_id \t\t\tBIGINT(64) NOT NULL,\n\t\tdistinct_count \t\tBIGINT(64) NOT NULL,\n\t\tnull_count \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\ttot_col_size \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tmodify_count \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tversion \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tcm_sketch \t\t\tBLOB(6291456),\n\t\tstats_ver \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tflag \t\t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcorrelation \t\tDOUBLE NOT NULL DEFAULT 0,\n\t\tlast_analyze_pos \tLONGBLOB DEFAULT NULL,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id)\n\t);"]
[2022/07/15 15:02:24.216 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 77, tp general"] [job="ID:24, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:23, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:24.215 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:24.216 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 77, tp general"] [job="ID:24, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:23, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:24.215 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:24.217 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=24]
[2022/07/15 15:02:24.217 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:24.217 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=11] [neededSchemaVersion=12] ["start time"=121µs] [phyTblIDs="[23]"] [actionTypes="[8]"]
[2022/07/15 15:02:24.217 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=12] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_buckets (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tbucket_id \tBIGINT(64) NOT NULL,\n\t\tcount \t\tBIGINT(64) NOT NULL,\n\t\trepeats \tBIGINT(64) NOT NULL,\n\t\tupper_bound LONGBLOB NOT NULL,\n\t\tlower_bound LONGBLOB ,\n\t\tndv         BIGINT NOT NULL DEFAULT 0,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id, bucket_id)\n\t);"] [user=]
[2022/07/15 15:02:24.217 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:26, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:25, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:24.217 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:24.217 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:26, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:25, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:24.217 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_buckets (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tbucket_id \tBIGINT(64) NOT NULL,\n\t\tcount \t\tBIGINT(64) NOT NULL,\n\t\trepeats \tBIGINT(64) NOT NULL,\n\t\tupper_bound LONGBLOB NOT NULL,\n\t\tlower_bound LONGBLOB ,\n\t\tndv         BIGINT NOT NULL DEFAULT 0,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id, bucket_id)\n\t);"]
[2022/07/15 15:02:24.217 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 77, tp general"] [job="ID:26, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:25, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:24.217 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:24.218 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 77, tp general"] [job="ID:26, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:25, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:24.217 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:24.218 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=26]
[2022/07/15 15:02:24.218 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:24.218 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=12] [neededSchemaVersion=13] ["start time"=93.042µs] [phyTblIDs="[25]"] [actionTypes="[8]"]
[2022/07/15 15:02:24.218 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=13] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_index (job_id, element_id)\n\t);"] [user=]
[2022/07/15 15:02:24.219 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:28, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:27, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:24.219 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:24.219 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:28, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:27, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:24.219 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_index (job_id, element_id)\n\t);"]
[2022/07/15 15:02:24.219 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 77, tp general"] [job="ID:28, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:27, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:24.219 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:24.219 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 77, tp general"] [job="ID:28, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:27, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:24.219 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:24.219 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=28]
[2022/07/15 15:02:24.219 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:24.219 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=13] [neededSchemaVersion=14] ["start time"=65.292µs] [phyTblIDs="[27]"] [actionTypes="[8]"]
[2022/07/15 15:02:24.220 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=14] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range_done (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_done_index (job_id, element_id)\n\t);"] [user=]
[2022/07/15 15:02:24.220 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:30, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:29, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:24.22 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:24.220 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:30, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:29, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:24.22 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range_done (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_done_index (job_id, element_id)\n\t);"]
[2022/07/15 15:02:24.220 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 77, tp general"] [job="ID:30, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:29, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:24.22 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:24.220 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 77, tp general"] [job="ID:30, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:29, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:24.22 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:24.220 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=30]
[2022/07/15 15:02:24.220 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:24.220 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=14] [neededSchemaVersion=15] ["start time"=69.875µs] [phyTblIDs="[29]"] [actionTypes="[8]"]
[2022/07/15 15:02:24.221 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=15] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_feedback (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tfeedback \tBLOB NOT NULL,\n\t\tINDEX hist(table_id, is_index, hist_id)\n\t);"] [user=]
[2022/07/15 15:02:24.221 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:32, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:31, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:24.221 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:24.221 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:32, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:31, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:24.221 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_feedback (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tfeedback \tBLOB NOT NULL,\n\t\tINDEX hist(table_id, is_index, hist_id)\n\t);"]
[2022/07/15 15:02:24.221 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 77, tp general"] [job="ID:32, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:31, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:24.221 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:24.221 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 77, tp general"] [job="ID:32, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:31, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:24.221 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:24.221 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=32]
[2022/07/15 15:02:24.221 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:24.221 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=15] [neededSchemaVersion=16] ["start time"=59.709µs] [phyTblIDs="[31]"] [actionTypes="[8]"]
[2022/07/15 15:02:24.222 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=16] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.role_edges (\n\t\tFROM_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tFROM_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tWITH_ADMIN_OPTION \tENUM('N','Y') CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (FROM_HOST,FROM_USER,TO_HOST,TO_USER)\n\t);"] [user=]
[2022/07/15 15:02:24.222 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:34, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:33, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:24.222 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:24.222 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:34, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:33, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:24.222 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.role_edges (\n\t\tFROM_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tFROM_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tWITH_ADMIN_OPTION \tENUM('N','Y') CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (FROM_HOST,FROM_USER,TO_HOST,TO_USER)\n\t);"]
[2022/07/15 15:02:24.222 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 77, tp general"] [job="ID:34, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:33, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:24.222 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:24.222 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 77, tp general"] [job="ID:34, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:33, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:24.222 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:24.223 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=34]
[2022/07/15 15:02:24.223 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:24.223 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=16] [neededSchemaVersion=17] ["start time"=71.125µs] [phyTblIDs="[33]"] [actionTypes="[8]"]
[2022/07/15 15:02:24.223 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=17] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.default_roles (\n\t\tHOST \t\t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tUSER \t\t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tDEFAULT_ROLE_HOST \tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '%',\n\t\tDEFAULT_ROLE_USER \tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tPRIMARY KEY (HOST,USER,DEFAULT_ROLE_HOST,DEFAULT_ROLE_USER)\n\t)"] [user=]
[2022/07/15 15:02:24.223 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:36, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:35, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:24.223 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:24.223 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:36, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:35, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:24.223 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.default_roles (\n\t\tHOST \t\t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tUSER \t\t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tDEFAULT_ROLE_HOST \tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '%',\n\t\tDEFAULT_ROLE_USER \tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tPRIMARY KEY (HOST,USER,DEFAULT_ROLE_HOST,DEFAULT_ROLE_USER)\n\t)"]
[2022/07/15 15:02:24.223 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 77, tp general"] [job="ID:36, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:35, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:24.223 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:24.223 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 77, tp general"] [job="ID:36, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:35, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:24.223 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:24.223 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=36]
[2022/07/15 15:02:24.223 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:24.224 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=17] [neededSchemaVersion=18] ["start time"=64.167µs] [phyTblIDs="[35]"] [actionTypes="[8]"]
[2022/07/15 15:02:24.224 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=18] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.bind_info (\n\t\toriginal_sql TEXT NOT NULL,\n\t\tbind_sql TEXT NOT NULL,\n\t\tdefault_db TEXT NOT NULL,\n\t\tstatus TEXT NOT NULL,\n\t\tcreate_time TIMESTAMP(3) NOT NULL,\n\t\tupdate_time TIMESTAMP(3) NOT NULL,\n\t\tcharset TEXT NOT NULL,\n\t\tcollation TEXT NOT NULL,\n\t\tsource VARCHAR(10) NOT NULL DEFAULT 'unknown',\n\t\tINDEX sql_index(original_sql(700),default_db(68)) COMMENT \"accelerate the speed when add global binding query\",\n\t\tINDEX time_index(update_time) COMMENT \"accelerate the speed when querying with last update time\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"] [user=]
[2022/07/15 15:02:24.224 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:38, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:37, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:24.224 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:24.224 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:38, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:37, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:24.224 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.bind_info (\n\t\toriginal_sql TEXT NOT NULL,\n\t\tbind_sql TEXT NOT NULL,\n\t\tdefault_db TEXT NOT NULL,\n\t\tstatus TEXT NOT NULL,\n\t\tcreate_time TIMESTAMP(3) NOT NULL,\n\t\tupdate_time TIMESTAMP(3) NOT NULL,\n\t\tcharset TEXT NOT NULL,\n\t\tcollation TEXT NOT NULL,\n\t\tsource VARCHAR(10) NOT NULL DEFAULT 'unknown',\n\t\tINDEX sql_index(original_sql(700),default_db(68)) COMMENT \"accelerate the speed when add global binding query\",\n\t\tINDEX time_index(update_time) COMMENT \"accelerate the speed when querying with last update time\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"]
[2022/07/15 15:02:24.224 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 77, tp general"] [job="ID:38, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:37, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:24.224 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:24.225 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 77, tp general"] [job="ID:38, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:37, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:24.224 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:24.225 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=38]
[2022/07/15 15:02:24.225 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:24.225 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=18] [neededSchemaVersion=19] ["start time"=96.875µs] [phyTblIDs="[37]"] [actionTypes="[8]"]
[2022/07/15 15:02:24.225 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=19] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_top_n (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tcount \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"] [user=]
[2022/07/15 15:02:24.225 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:40, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:39, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:24.225 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:24.225 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:40, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:39, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:24.225 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_top_n (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tcount \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"]
[2022/07/15 15:02:24.226 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 77, tp general"] [job="ID:40, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:39, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:24.225 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:24.226 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 77, tp general"] [job="ID:40, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:39, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:24.225 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:24.226 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=40]
[2022/07/15 15:02:24.226 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:24.226 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=19] [neededSchemaVersion=20] ["start time"=73.375µs] [phyTblIDs="[39]"] [actionTypes="[8]"]
[2022/07/15 15:02:24.226 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=20] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.expr_pushdown_blacklist (\n\t\tname \t\tCHAR(100) NOT NULL,\n\t\tstore_type \tCHAR(100) NOT NULL DEFAULT 'tikv,tiflash,tidb',\n\t\treason \t\tVARCHAR(200)\n\t);"] [user=]
[2022/07/15 15:02:24.226 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:42, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:41, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:24.226 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:24.226 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:42, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:41, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:24.226 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.expr_pushdown_blacklist (\n\t\tname \t\tCHAR(100) NOT NULL,\n\t\tstore_type \tCHAR(100) NOT NULL DEFAULT 'tikv,tiflash,tidb',\n\t\treason \t\tVARCHAR(200)\n\t);"]
[2022/07/15 15:02:24.226 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 77, tp general"] [job="ID:42, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:41, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:24.226 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:24.227 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 77, tp general"] [job="ID:42, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:41, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:24.226 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:24.227 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=42]
[2022/07/15 15:02:24.227 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:24.227 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=20] [neededSchemaVersion=21] ["start time"=53.25µs] [phyTblIDs="[41]"] [actionTypes="[8]"]
[2022/07/15 15:02:24.227 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=21] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.opt_rule_blacklist (\n\t\tname \tCHAR(100) NOT NULL\n\t);"] [user=]
[2022/07/15 15:02:24.227 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:44, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:43, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:24.227 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:24.227 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:44, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:43, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:24.227 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.opt_rule_blacklist (\n\t\tname \tCHAR(100) NOT NULL\n\t);"]
[2022/07/15 15:02:24.227 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 77, tp general"] [job="ID:44, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:43, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:24.227 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:24.228 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 77, tp general"] [job="ID:44, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:43, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:24.227 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:24.228 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=44]
[2022/07/15 15:02:24.228 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:24.228 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=21] [neededSchemaVersion=22] ["start time"=35.208µs] [phyTblIDs="[43]"] [actionTypes="[8]"]
[2022/07/15 15:02:24.228 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=22] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_extended (\n\t\tname varchar(32) NOT NULL,\n\t\ttype tinyint(4) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tcolumn_ids varchar(32) NOT NULL,\n\t\tstats blob DEFAULT NULL,\n\t\tversion bigint(64) unsigned NOT NULL,\n\t\tstatus tinyint(4) NOT NULL,\n\t\tPRIMARY KEY(name, table_id),\n\t\tKEY idx_1 (table_id, status, version),\n\t\tKEY idx_2 (status, version)\n\t);"] [user=]
[2022/07/15 15:02:24.228 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:46, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:45, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:24.228 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:24.228 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:46, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:45, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:24.228 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_extended (\n\t\tname varchar(32) NOT NULL,\n\t\ttype tinyint(4) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tcolumn_ids varchar(32) NOT NULL,\n\t\tstats blob DEFAULT NULL,\n\t\tversion bigint(64) unsigned NOT NULL,\n\t\tstatus tinyint(4) NOT NULL,\n\t\tPRIMARY KEY(name, table_id),\n\t\tKEY idx_1 (table_id, status, version),\n\t\tKEY idx_2 (status, version)\n\t);"]
[2022/07/15 15:02:24.228 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 77, tp general"] [job="ID:46, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:45, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:24.228 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:24.229 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 77, tp general"] [job="ID:46, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:45, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:24.228 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:24.229 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=46]
[2022/07/15 15:02:24.229 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:24.229 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=22] [neededSchemaVersion=23] ["start time"=94.084µs] [phyTblIDs="[45]"] [actionTypes="[8]"]
[2022/07/15 15:02:24.229 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=23] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.schema_index_usage (\n\t\tTABLE_ID bigint(64),\n\t\tINDEX_ID bigint(21),\n\t\tQUERY_COUNT bigint(64),\n\t\tROWS_SELECTED bigint(64),\n\t\tLAST_USED_AT timestamp,\n\t\tPRIMARY KEY(TABLE_ID, INDEX_ID)\n\t);"] [user=]
[2022/07/15 15:02:24.229 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:48, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:47, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:24.229 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:24.229 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:48, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:47, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:24.229 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.schema_index_usage (\n\t\tTABLE_ID bigint(64),\n\t\tINDEX_ID bigint(21),\n\t\tQUERY_COUNT bigint(64),\n\t\tROWS_SELECTED bigint(64),\n\t\tLAST_USED_AT timestamp,\n\t\tPRIMARY KEY(TABLE_ID, INDEX_ID)\n\t);"]
[2022/07/15 15:02:24.229 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 77, tp general"] [job="ID:48, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:47, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:24.229 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:24.230 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 77, tp general"] [job="ID:48, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:47, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:24.229 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:24.230 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=48]
[2022/07/15 15:02:24.230 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:24.230 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=23] [neededSchemaVersion=24] ["start time"=62.75µs] [phyTblIDs="[47]"] [actionTypes="[8]"]
[2022/07/15 15:02:24.230 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=24] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_fm_sketch (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"] [user=]
[2022/07/15 15:02:24.230 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:50, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:49, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:24.23 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:24.230 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:50, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:49, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:24.23 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_fm_sketch (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"]
[2022/07/15 15:02:24.230 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 77, tp general"] [job="ID:50, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:49, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:24.23 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:24.231 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 77, tp general"] [job="ID:50, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:49, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:24.23 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:24.231 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=50]
[2022/07/15 15:02:24.231 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:24.231 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=24] [neededSchemaVersion=25] ["start time"=66.458µs] [phyTblIDs="[49]"] [actionTypes="[8]"]
[2022/07/15 15:02:24.231 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=25] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.global_grants (\n\t\tUSER char(32) NOT NULL DEFAULT '',\n\t\tHOST char(255) NOT NULL DEFAULT '',\n\t\tPRIV char(32) NOT NULL DEFAULT '',\n\t\tWITH_GRANT_OPTION enum('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (USER,HOST,PRIV)\n\t);"] [user=]
[2022/07/15 15:02:24.231 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:52, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:51, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:24.231 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:24.231 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:52, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:51, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:24.231 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.global_grants (\n\t\tUSER char(32) NOT NULL DEFAULT '',\n\t\tHOST char(255) NOT NULL DEFAULT '',\n\t\tPRIV char(32) NOT NULL DEFAULT '',\n\t\tWITH_GRANT_OPTION enum('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (USER,HOST,PRIV)\n\t);"]
[2022/07/15 15:02:24.231 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 77, tp general"] [job="ID:52, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:51, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:24.231 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:24.232 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 77, tp general"] [job="ID:52, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:51, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:24.231 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:24.232 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=52]
[2022/07/15 15:02:24.232 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:24.232 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=25] [neededSchemaVersion=26] ["start time"=60.166µs] [phyTblIDs="[51]"] [actionTypes="[8]"]
[2022/07/15 15:02:24.232 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=26] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.capture_plan_baselines_blacklist (\n\t\tid bigint(64) auto_increment,\n\t\tfilter_type varchar(32) NOT NULL COMMENT \"type of the filter, only db, table and frequency supported now\",\n\t\tfilter_value varchar(32) NOT NULL,\n\t\tkey idx(filter_type),\n\t\tprimary key(id)\n\t);"] [user=]
[2022/07/15 15:02:24.232 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:54, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:53, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:24.232 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:24.232 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:54, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:53, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:24.232 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.capture_plan_baselines_blacklist (\n\t\tid bigint(64) auto_increment,\n\t\tfilter_type varchar(32) NOT NULL COMMENT \"type of the filter, only db, table and frequency supported now\",\n\t\tfilter_value varchar(32) NOT NULL,\n\t\tkey idx(filter_type),\n\t\tprimary key(id)\n\t);"]
[2022/07/15 15:02:24.232 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 77, tp general"] [job="ID:54, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:53, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:24.232 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:24.233 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 77, tp general"] [job="ID:54, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:53, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:24.232 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:24.233 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=54]
[2022/07/15 15:02:24.233 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:24.233 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=26] [neededSchemaVersion=27] ["start time"=58.042µs] [phyTblIDs="[53]"] [actionTypes="[8]"]
[2022/07/15 15:02:24.233 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=27] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.column_stats_usage (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tcolumn_id BIGINT(64) NOT NULL,\n\t\tlast_used_at TIMESTAMP,\n\t\tlast_analyzed_at TIMESTAMP,\n\t\tPRIMARY KEY (table_id, column_id) CLUSTERED\n\t);"] [user=]
[2022/07/15 15:02:24.233 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:56, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:55, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:24.233 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:24.233 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:56, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:55, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:24.233 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.column_stats_usage (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tcolumn_id BIGINT(64) NOT NULL,\n\t\tlast_used_at TIMESTAMP,\n\t\tlast_analyzed_at TIMESTAMP,\n\t\tPRIMARY KEY (table_id, column_id) CLUSTERED\n\t);"]
[2022/07/15 15:02:24.233 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 77, tp general"] [job="ID:56, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:55, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:24.233 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:24.234 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 77, tp general"] [job="ID:56, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:55, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:24.233 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:24.234 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=56]
[2022/07/15 15:02:24.234 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:24.234 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=27] [neededSchemaVersion=28] ["start time"=66.708µs] [phyTblIDs="[55]"] [actionTypes="[8]"]
[2022/07/15 15:02:24.234 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=28] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.table_cache_meta (\n\t\ttid bigint(11) NOT NULL DEFAULT 0,\n\t\tlock_type enum('NONE','READ', 'INTEND', 'WRITE') NOT NULL DEFAULT 'NONE',\n\t\tlease bigint(20) NOT NULL DEFAULT 0,\n\t\toldReadLease bigint(20) NOT NULL DEFAULT 0,\n\t\tPRIMARY KEY (tid)\n\t);"] [user=]
[2022/07/15 15:02:24.234 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:58, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:57, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:24.234 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:24.234 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:58, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:57, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:24.234 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.table_cache_meta (\n\t\ttid bigint(11) NOT NULL DEFAULT 0,\n\t\tlock_type enum('NONE','READ', 'INTEND', 'WRITE') NOT NULL DEFAULT 'NONE',\n\t\tlease bigint(20) NOT NULL DEFAULT 0,\n\t\toldReadLease bigint(20) NOT NULL DEFAULT 0,\n\t\tPRIMARY KEY (tid)\n\t);"]
[2022/07/15 15:02:24.234 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 77, tp general"] [job="ID:58, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:57, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:24.234 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:24.234 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 77, tp general"] [job="ID:58, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:57, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:24.234 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:24.235 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=58]
[2022/07/15 15:02:24.235 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:24.235 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=28] [neededSchemaVersion=29] ["start time"=56.083µs] [phyTblIDs="[57]"] [actionTypes="[8]"]
[2022/07/15 15:02:24.235 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=29] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.analyze_options (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tsample_num BIGINT(64) NOT NULL DEFAULT 0,\n\t\tsample_rate DOUBLE NOT NULL DEFAULT -1,\n\t\tbuckets BIGINT(64) NOT NULL DEFAULT 0,\n\t\ttopn BIGINT(64) NOT NULL DEFAULT -1,\n\t\tcolumn_choice enum('DEFAULT','ALL','PREDICATE','LIST') NOT NULL DEFAULT 'DEFAULT',\n\t\tcolumn_ids TEXT(19372),\n\t\tPRIMARY KEY (table_id) CLUSTERED\n\t);"] [user=]
[2022/07/15 15:02:24.235 +08:00] [INFO] [ddl_api.go:999] ["Automatically convert BLOB(19372) to MEDIUMBLOB"]
[2022/07/15 15:02:24.235 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:60, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:59, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:24.235 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:24.235 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:60, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:59, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:24.235 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.analyze_options (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tsample_num BIGINT(64) NOT NULL DEFAULT 0,\n\t\tsample_rate DOUBLE NOT NULL DEFAULT -1,\n\t\tbuckets BIGINT(64) NOT NULL DEFAULT 0,\n\t\ttopn BIGINT(64) NOT NULL DEFAULT -1,\n\t\tcolumn_choice enum('DEFAULT','ALL','PREDICATE','LIST') NOT NULL DEFAULT 'DEFAULT',\n\t\tcolumn_ids TEXT(19372),\n\t\tPRIMARY KEY (table_id) CLUSTERED\n\t);"]
[2022/07/15 15:02:24.235 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 77, tp general"] [job="ID:60, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:59, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:24.235 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:24.236 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 77, tp general"] [job="ID:60, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:59, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:24.235 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:24.236 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=60]
[2022/07/15 15:02:24.236 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:24.236 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=29] [neededSchemaVersion=30] ["start time"=80.167µs] [phyTblIDs="[59]"] [actionTypes="[8]"]
[2022/07/15 15:02:24.236 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=30] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tstats_data longblob NOT NULL,\n\t\tseq_no bigint(64) NOT NULL comment 'sequence number of the gzipped data slice',\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version_seq (table_id, version, seq_no),\n\t\tKEY table_create_time (table_id, create_time, seq_no)\n\t);"] [user=]
[2022/07/15 15:02:24.236 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:62, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:61, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:24.236 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:24.236 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:62, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:61, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:24.236 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tstats_data longblob NOT NULL,\n\t\tseq_no bigint(64) NOT NULL comment 'sequence number of the gzipped data slice',\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version_seq (table_id, version, seq_no),\n\t\tKEY table_create_time (table_id, create_time, seq_no)\n\t);"]
[2022/07/15 15:02:24.236 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 77, tp general"] [job="ID:62, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:61, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:24.236 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:24.237 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 77, tp general"] [job="ID:62, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:61, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:24.236 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:24.237 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=62]
[2022/07/15 15:02:24.237 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:24.237 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=30] [neededSchemaVersion=31] ["start time"=92.375µs] [phyTblIDs="[61]"] [actionTypes="[8]"]
[2022/07/15 15:02:24.237 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=31] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_meta_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL,\n\t\tcount bigint(64) NOT NULL,\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version (table_id, version),\n\t\tKEY table_create_time (table_id, create_time)\n\t);"] [user=]
[2022/07/15 15:02:24.237 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:64, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:63, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:24.237 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:24.237 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:64, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:63, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:24.237 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_meta_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL,\n\t\tcount bigint(64) NOT NULL,\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version (table_id, version),\n\t\tKEY table_create_time (table_id, create_time)\n\t);"]
[2022/07/15 15:02:24.237 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 77, tp general"] [job="ID:64, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:63, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:24.237 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:24.238 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 77, tp general"] [job="ID:64, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:63, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:24.237 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:24.238 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=64]
[2022/07/15 15:02:24.238 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:24.238 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=31] [neededSchemaVersion=32] ["start time"=78.041µs] [phyTblIDs="[63]"] [actionTypes="[8]"]
[2022/07/15 15:02:24.238 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=32] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.analyze_jobs (\n\t\tid BIGINT(64) UNSIGNED NOT NULL AUTO_INCREMENT,\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\ttable_schema CHAR(64) NOT NULL DEFAULT '',\n\t\ttable_name CHAR(64) NOT NULL DEFAULT '',\n\t\tpartition_name CHAR(64) NOT NULL DEFAULT '',\n\t\tjob_info TEXT NOT NULL,\n\t\tprocessed_rows BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tstart_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tstate ENUM('pending', 'running', 'finished', 'failed') NOT NULL,\n\t\tfail_reason TEXT,\n\t\tinstance VARCHAR(512) NOT NULL comment 'address of the TiDB instance executing the analyze job',\n\t\tprocess_id BIGINT(64) UNSIGNED comment 'ID of the process executing the analyze job',\n\t\tPRIMARY KEY (id),\n\t\tKEY (update_time)\n\t);"] [user=]
[2022/07/15 15:02:24.239 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:66, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:65, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:24.238 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:24.239 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:66, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:65, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:24.238 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.analyze_jobs (\n\t\tid BIGINT(64) UNSIGNED NOT NULL AUTO_INCREMENT,\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\ttable_schema CHAR(64) NOT NULL DEFAULT '',\n\t\ttable_name CHAR(64) NOT NULL DEFAULT '',\n\t\tpartition_name CHAR(64) NOT NULL DEFAULT '',\n\t\tjob_info TEXT NOT NULL,\n\t\tprocessed_rows BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tstart_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tstate ENUM('pending', 'running', 'finished', 'failed') NOT NULL,\n\t\tfail_reason TEXT,\n\t\tinstance VARCHAR(512) NOT NULL comment 'address of the TiDB instance executing the analyze job',\n\t\tprocess_id BIGINT(64) UNSIGNED comment 'ID of the process executing the analyze job',\n\t\tPRIMARY KEY (id),\n\t\tKEY (update_time)\n\t);"]
[2022/07/15 15:02:24.239 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 77, tp general"] [job="ID:66, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:65, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:24.238 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:24.239 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 77, tp general"] [job="ID:66, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:65, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:24.238 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:24.240 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=66]
[2022/07/15 15:02:24.240 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:24.240 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=32] [neededSchemaVersion=33] ["start time"=113.125µs] [phyTblIDs="[65]"] [actionTypes="[8]"]
[2022/07/15 15:02:24.240 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=33] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.advisory_locks (\n\t\tlock_name VARCHAR(64) NOT NULL PRIMARY KEY\n\t);"] [user=]
[2022/07/15 15:02:24.240 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:68, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:67, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:24.24 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:24.240 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:68, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:67, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:24.24 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.advisory_locks (\n\t\tlock_name VARCHAR(64) NOT NULL PRIMARY KEY\n\t);"]
[2022/07/15 15:02:24.240 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 77, tp general"] [job="ID:68, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:67, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:24.24 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:24.240 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 77, tp general"] [job="ID:68, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:67, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:24.24 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:24.241 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=68]
[2022/07/15 15:02:24.241 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:24.241 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=33] [neededSchemaVersion=34] ["start time"=42.292µs] [phyTblIDs="[67]"] [actionTypes="[8]"]
[2022/07/15 15:02:24.246 +08:00] [INFO] [bootstrap.go:448] ["bootstrap successful"] ["take time"=46.617083ms]
[2022/07/15 15:02:24.247 +08:00] [INFO] [ddl_worker.go:158] ["[ddl] DDL worker closed"] [worker="worker 77, tp general"] ["take time"=84ns]
[2022/07/15 15:02:24.247 +08:00] [INFO] [ddl_worker.go:158] ["[ddl] DDL worker closed"] [worker="worker 78, tp add index"] ["take time"=1.291µs]
[2022/07/15 15:02:24.247 +08:00] [INFO] [delete_range.go:148] ["[ddl] closing delRange"]
[2022/07/15 15:02:24.247 +08:00] [INFO] [session_pool.go:94] ["[ddl] closing sessionPool"]
[2022/07/15 15:02:24.247 +08:00] [INFO] [ddl.go:576] ["[ddl] DDL closed"] [ID=af949393-df40-48ee-a4d2-19477e412e56] ["take time"=92.625µs]
[2022/07/15 15:02:24.247 +08:00] [INFO] [ddl.go:464] ["[ddl] stop DDL"] [ID=af949393-df40-48ee-a4d2-19477e412e56]
[2022/07/15 15:02:24.247 +08:00] [INFO] [domain.go:498] ["topNSlowQueryLoop exited."]
[2022/07/15 15:02:24.247 +08:00] [INFO] [domain.go:527] ["infoSyncerKeeper exited."]
[2022/07/15 15:02:24.247 +08:00] [INFO] [domain.go:552] ["globalConfigSyncerKeeper exited."]
[2022/07/15 15:02:24.247 +08:00] [INFO] [domain.go:575] ["topologySyncerKeeper exited."]
[2022/07/15 15:02:24.247 +08:00] [INFO] [domain.go:733] ["domain closed"] ["take time"=150.542µs]
[2022/07/15 15:02:24.247 +08:00] [INFO] [tidb.go:74] ["new domain"] [store=36e26c4d-bbd5-4cf6-bae2-d0cdcccf0735] ["ddl lease"=0s] ["stats lease"=-1ns] ["index usage sync lease"=0s]
[2022/07/15 15:02:24.249 +08:00] [INFO] [domain.go:178] ["full load InfoSchema success"] [currentSchemaVersion=0] [neededSchemaVersion=34] ["start time"=2.335958ms]
[2022/07/15 15:02:24.249 +08:00] [INFO] [domain.go:449] ["full load and reset schema validator"]
[2022/07/15 15:02:24.249 +08:00] [INFO] [ddl.go:483] ["[ddl] start DDL"] [ID=334be7aa-5781-4850-8bb1-4defe0e84e2d] [runWorker=true]
[2022/07/15 15:02:24.249 +08:00] [INFO] [ddl.go:472] ["[ddl] start delRangeManager OK"] ["is a emulator"=true]
[2022/07/15 15:02:24.249 +08:00] [INFO] [delete_range.go:158] ["[ddl] start delRange emulator"]
[2022/07/15 15:02:24.249 +08:00] [INFO] [ddl_worker.go:164] ["[ddl] start DDL worker"] [worker="worker 80, tp add index"]
[2022/07/15 15:02:24.249 +08:00] [INFO] [ddl_worker.go:164] ["[ddl] start DDL worker"] [worker="worker 79, tp general"]
[2022/07/15 15:02:24.250 +08:00] [WARN] [sysvar_cache.go:53] ["sysvar cache is empty, triggering rebuild"]
[2022/07/15 15:02:24.254 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=20] [schemaVersion=34] [cur_db=test] [sql="drop table if exists t"] [user=]
[2022/07/15 15:02:24.254 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=20] [schemaVersion=34] [cur_db=test] [sql="create table t(a int not null primary key, b int not null) partition by hash(a) partitions 2"] [user=]
[2022/07/15 15:02:24.254 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:72, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:24.254 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:24.254 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:72, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:24.254 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="create table t(a int not null primary key, b int not null) partition by hash(a) partitions 2"]
[2022/07/15 15:02:24.254 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 79, tp general"] [job="ID:72, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:24.254 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:24.255 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 79, tp general"] [job="ID:72, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:69, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:24.254 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:24.255 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=72]
[2022/07/15 15:02:24.255 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:24.255 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=34] [neededSchemaVersion=35] ["start time"=94.667µs] [phyTblIDs="[69,70,71]"] [actionTypes="[8,8,8]"]
[2022/07/15 15:02:24.255 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=20] [schemaVersion=35] [cur_db=test] [sql="alter table t set tiflash replica 1"] [user=]
[2022/07/15 15:02:24.255 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:73, Type:set tiflash replica, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:24.255 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:24.255 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:73, Type:set tiflash replica, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:24.255 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="alter table t set tiflash replica 1"]
[2022/07/15 15:02:24.255 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 79, tp general"] [job="ID:73, Type:set tiflash replica, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:24.255 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:24.255 +08:00] [INFO] [table.go:1098] ["Set TiFlash replica pd rule for partitioned table"] [tableID=69]
[2022/07/15 15:02:24.255 +08:00] [INFO] [info.go:1067] [ConfigureTiFlashPDForPartitions] [tableID=69] [partID=70] [accel=false] [count=1]
[2022/07/15 15:02:24.255 +08:00] [INFO] [info.go:1067] [ConfigureTiFlashPDForPartitions] [tableID=69] [partID=71] [accel=false] [count=1]
[2022/07/15 15:02:24.255 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 79, tp general"] [job="ID:73, Type:set tiflash replica, State:synced, SchemaState:public, SchemaID:1, TableID:69, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:24.255 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:24.256 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=73]
[2022/07/15 15:02:24.256 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:24.256 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=35] [neededSchemaVersion=36] ["start time"=73.042µs] [phyTblIDs="[]"] [actionTypes="[]"]
[2022/07/15 15:02:24.256 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:74, Type:update tiflash replica status, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:2, start time: 2022-07-15 15:02:24.256 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:24.256 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:74, Type:update tiflash replica status, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:2, start time: 2022-07-15 15:02:24.256 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query=]
[2022/07/15 15:02:24.256 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 79, tp general"] [job="ID:74, Type:update tiflash replica status, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:24.256 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:24.256 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 79, tp general"] [job="ID:74, Type:update tiflash replica status, State:synced, SchemaState:public, SchemaID:1, TableID:69, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:24.256 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:24.256 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=74]
[2022/07/15 15:02:24.256 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:24.256 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=36] [neededSchemaVersion=37] ["start time"=83.875µs] [phyTblIDs="[]"] [actionTypes="[]"]
[2022/07/15 15:02:24.257 +08:00] [INFO] [ddl_worker.go:158] ["[ddl] DDL worker closed"] [worker="worker 79, tp general"] ["take time"=41ns]
[2022/07/15 15:02:24.257 +08:00] [INFO] [ddl_worker.go:158] ["[ddl] DDL worker closed"] [worker="worker 80, tp add index"] ["take time"=125ns]
[2022/07/15 15:02:24.257 +08:00] [INFO] [delete_range.go:148] ["[ddl] closing delRange"]
[2022/07/15 15:02:24.257 +08:00] [INFO] [session_pool.go:94] ["[ddl] closing sessionPool"]
[2022/07/15 15:02:24.257 +08:00] [INFO] [ddl.go:576] ["[ddl] DDL closed"] [ID=334be7aa-5781-4850-8bb1-4defe0e84e2d] ["take time"=53µs]
[2022/07/15 15:02:24.257 +08:00] [INFO] [ddl.go:464] ["[ddl] stop DDL"] [ID=334be7aa-5781-4850-8bb1-4defe0e84e2d]
[2022/07/15 15:02:24.257 +08:00] [INFO] [domain.go:498] ["topNSlowQueryLoop exited."]
[2022/07/15 15:02:24.257 +08:00] [INFO] [domain.go:1032] ["loadPrivilegeInLoop exited."]
[2022/07/15 15:02:24.257 +08:00] [INFO] [domain.go:1082] ["LoadSysVarCacheLoop exited."]
[2022/07/15 15:02:24.257 +08:00] [INFO] [domain.go:552] ["globalConfigSyncerKeeper exited."]
[2022/07/15 15:02:24.257 +08:00] [INFO] [domain.go:575] ["topologySyncerKeeper exited."]
[2022/07/15 15:02:24.257 +08:00] [INFO] [domain.go:527] ["infoSyncerKeeper exited."]
[2022/07/15 15:02:24.257 +08:00] [INFO] [domain.go:1203] ["handleEvolvePlanTasksLoop exited."]
[2022/07/15 15:02:24.257 +08:00] [INFO] [handle_hist.go:156] ["SubLoadWorker exited."]
[2022/07/15 15:02:24.257 +08:00] [INFO] [domain.go:1160] ["globalBindHandleWorkerLoop exited."]
[2022/07/15 15:02:24.257 +08:00] [INFO] [handle_hist.go:156] ["SubLoadWorker exited."]
[2022/07/15 15:02:24.257 +08:00] [INFO] [domain.go:733] ["domain closed"] ["take time"=147.875µs]
[2022/07/15 15:02:24.257 +08:00] [INFO] [domain.go:1288] ["dumpFileGcChecker exited."]
[2022/07/15 15:02:24.257 +08:00] [INFO] [handle_hist.go:156] ["SubLoadWorker exited."]
[2022/07/15 15:02:24.257 +08:00] [INFO] [handle_hist.go:156] ["SubLoadWorker exited."]
[2022/07/15 15:02:24.257 +08:00] [INFO] [handle_hist.go:156] ["SubLoadWorker exited."]
[2022/07/15 15:02:24.276 +08:00] [INFO] [db.go:567] ["Closing database"]
[2022/07/15 15:02:24.277 +08:00] [INFO] [db.go:592] ["Memtable flushed"]
[2022/07/15 15:02:24.277 +08:00] [INFO] [db.go:596] ["Compaction finished"]
[2022/07/15 15:02:24.277 +08:00] [INFO] [db.go:615] ["BlobManager finished"]
[2022/07/15 15:02:24.277 +08:00] [INFO] [db.go:619] ["ResourceManager finished"]
[2022/07/15 15:02:24.277 +08:00] [INFO] [db.go:625] ["Waiting for closer"]
[2022/07/15 15:02:24.390 +08:00] [INFO] [tidb.go:74] ["new domain"] [store=800daacf-503a-408f-bb86-4d2818d0e2fc] ["ddl lease"=0s] ["stats lease"=-1ns] ["index usage sync lease"=0s]
[2022/07/15 15:02:24.391 +08:00] [INFO] [domain.go:178] ["full load InfoSchema success"] [currentSchemaVersion=0] [neededSchemaVersion=0] ["start time"=529.542µs]
[2022/07/15 15:02:24.391 +08:00] [INFO] [domain.go:449] ["full load and reset schema validator"]
[2022/07/15 15:02:24.391 +08:00] [INFO] [ddl.go:483] ["[ddl] start DDL"] [ID=09050672-5ee7-46f2-af72-f8955a3c6640] [runWorker=true]
[2022/07/15 15:02:24.391 +08:00] [INFO] [ddl.go:472] ["[ddl] start delRangeManager OK"] ["is a emulator"=true]
[2022/07/15 15:02:24.391 +08:00] [INFO] [delete_range.go:158] ["[ddl] start delRange emulator"]
[2022/07/15 15:02:24.391 +08:00] [INFO] [ddl_worker.go:164] ["[ddl] start DDL worker"] [worker="worker 81, tp general"]
[2022/07/15 15:02:24.391 +08:00] [INFO] [ddl_worker.go:164] ["[ddl] start DDL worker"] [worker="worker 82, tp add index"]
[2022/07/15 15:02:24.391 +08:00] [INFO] [tidb.go:268] ["rollbackTxn called due to ddl/autocommit failure"]
[2022/07/15 15:02:24.391 +08:00] [WARN] [session.go:1983] ["run statement failed"] [schemaVersion=0] [error="[schema:1049]Unknown database 'mysql'"] [errorVerbose="[schema:1049]Unknown database 'mysql'\ngithub.com/pingcap/errors.AddStack\n\t/Users/hongyunyan/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20211224045212-9687c2b0f87c/errors.go:174\ngithub.com/pingcap/errors.(*Error).GenWithStackByArgs\n\t/Users/hongyunyan/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20211224045212-9687c2b0f87c/normalize.go:164\ngithub.com/pingcap/tidb/executor.(*SimpleExec).executeUse\n\t/Users/hongyunyan/Desktop/tidb/executor/simple.go:571\ngithub.com/pingcap/tidb/executor.(*SimpleExec).Next\n\t/Users/hongyunyan/Desktop/tidb/executor/simple.go:131\ngithub.com/pingcap/tidb/executor.Next\n\t/Users/hongyunyan/Desktop/tidb/executor/executor.go:319\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelayExecutor\n\t/Users/hongyunyan/Desktop/tidb/executor/adapter.go:673\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelay\n\t/Users/hongyunyan/Desktop/tidb/executor/adapter.go:523\ngithub.com/pingcap/tidb/executor.(*ExecStmt).Exec\n\t/Users/hongyunyan/Desktop/tidb/executor/adapter.go:472\ngithub.com/pingcap/tidb/session.runStmt\n\t/Users/hongyunyan/Desktop/tidb/session/session.go:2114\ngithub.com/pingcap/tidb/session.(*session).ExecuteStmt\n\t/Users/hongyunyan/Desktop/tidb/session/session.go:1980\ngithub.com/pingcap/tidb/session.(*session).ExecuteInternal\n\t/Users/hongyunyan/Desktop/tidb/session/session.go:1495\ngithub.com/pingcap/tidb/session.checkBootstrapped\n\t/Users/hongyunyan/Desktop/tidb/session/bootstrap.go:728\ngithub.com/pingcap/tidb/session.bootstrap\n\t/Users/hongyunyan/Desktop/tidb/session/bootstrap.go:431\ngithub.com/pingcap/tidb/session.runInBootstrapSession\n\t/Users/hongyunyan/Desktop/tidb/session/session.go:2834\ngithub.com/pingcap/tidb/session.BootstrapSession\n\t/Users/hongyunyan/Desktop/tidb/session/session.go:2720\ngithub.com/pingcap/tidb/testkit.bootstrap\n\t/Users/hongyunyan/Desktop/tidb/testkit/mockstore.go:71\ngithub.com/pingcap/tidb/testkit.CreateMockStoreAndDomain\n\t/Users/hongyunyan/Desktop/tidb/testkit/mockstore.go:64\ngithub.com/pingcap/tidb/testkit.CreateMockStore\n\t/Users/hongyunyan/Desktop/tidb/testkit/mockstore.go:56\ngithub.com/pingcap/tidb/executor/tiflashtest.TestTiflashPartitionTableScan\n\t/Users/hongyunyan/Desktop/tidb/executor/tiflashtest/tiflash_test.go:1173\ntesting.tRunner\n\t/opt/homebrew/Cellar/go/1.18.3/libexec/src/testing/testing.go:1439\nruntime.goexit\n\t/opt/homebrew/Cellar/go/1.18.3/libexec/src/runtime/asm_arm64.s:1263"] [session="{\n  \"currDBName\": \"\",\n  \"id\": 0,\n  \"status\": 2,\n  \"strictMode\": true,\n  \"user\": null\n}"]
[2022/07/15 15:02:24.391 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=0] [cur_db=] [sql="CREATE DATABASE IF NOT EXISTS test"] [user=]
[2022/07/15 15:02:24.391 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:2, Type:create schema, State:queueing, SchemaState:none, SchemaID:1, TableID:0, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:24.391 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:24.391 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:2, Type:create schema, State:queueing, SchemaState:none, SchemaID:1, TableID:0, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:24.391 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE DATABASE IF NOT EXISTS test"]
[2022/07/15 15:02:24.391 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 81, tp general"] [job="ID:2, Type:create schema, State:queueing, SchemaState:none, SchemaID:1, TableID:0, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:24.391 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:24.392 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 81, tp general"] [job="ID:2, Type:create schema, State:synced, SchemaState:public, SchemaID:1, TableID:0, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:24.391 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:24.392 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=2]
[2022/07/15 15:02:24.392 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:24.392 +08:00] [INFO] [domain.go:178] ["full load InfoSchema success"] [currentSchemaVersion=0] [neededSchemaVersion=1] ["start time"=484.125µs]
[2022/07/15 15:02:24.392 +08:00] [INFO] [domain.go:449] ["full load and reset schema validator"]
[2022/07/15 15:02:24.392 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=1] [cur_db=] [sql="CREATE DATABASE IF NOT EXISTS `mysql`"] [user=]
[2022/07/15 15:02:24.393 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:4, Type:create schema, State:queueing, SchemaState:none, SchemaID:3, TableID:0, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:24.393 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:24.393 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:4, Type:create schema, State:queueing, SchemaState:none, SchemaID:3, TableID:0, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:24.393 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE DATABASE IF NOT EXISTS `mysql`"]
[2022/07/15 15:02:24.393 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 81, tp general"] [job="ID:4, Type:create schema, State:queueing, SchemaState:none, SchemaID:3, TableID:0, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:24.393 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:24.393 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 81, tp general"] [job="ID:4, Type:create schema, State:synced, SchemaState:public, SchemaID:3, TableID:0, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:24.393 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:24.393 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=4]
[2022/07/15 15:02:24.393 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:24.393 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=1] [neededSchemaVersion=2] ["start time"=19.334µs] [phyTblIDs="[]"] [actionTypes="[]"]
[2022/07/15 15:02:24.393 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=2] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.user (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tauthentication_string\tTEXT,\n\t\tplugin\t\t\t\t\tCHAR(64),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tProcess_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_db_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tSuper_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_user_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_slave_priv\t    \tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_client_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_role_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_role_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAccount_locked\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShutdown_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReload_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tFILE_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tConfig_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_Tablespace_Priv  ENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (Host, User));"] [user=]
[2022/07/15 15:02:24.394 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:6, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:5, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:24.394 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:24.394 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:6, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:5, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:24.394 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.user (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tauthentication_string\tTEXT,\n\t\tplugin\t\t\t\t\tCHAR(64),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tProcess_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_db_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tSuper_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_user_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_slave_priv\t    \tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_client_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_role_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_role_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAccount_locked\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShutdown_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReload_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tFILE_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tConfig_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_Tablespace_Priv  ENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (Host, User));"]
[2022/07/15 15:02:24.394 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 81, tp general"] [job="ID:6, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:5, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:24.394 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:24.396 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 81, tp general"] [job="ID:6, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:5, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:24.394 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:24.397 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=6]
[2022/07/15 15:02:24.397 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:24.397 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=2] [neededSchemaVersion=3] ["start time"=277.125µs] [phyTblIDs="[5]"] [actionTypes="[8]"]
[2022/07/15 15:02:24.397 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=3] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.global_priv (Host CHAR(255) NOT NULL DEFAULT '',User CHAR(80) NOT NULL DEFAULT '',Priv LONGTEXT NOT NULL DEFAULT '',PRIMARY KEY (Host, User))"] [user=]
[2022/07/15 15:02:24.398 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:8, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:7, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:24.397 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:24.398 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:8, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:7, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:24.397 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.global_priv (Host CHAR(255) NOT NULL DEFAULT '',User CHAR(80) NOT NULL DEFAULT '',Priv LONGTEXT NOT NULL DEFAULT '',PRIMARY KEY (Host, User))"]
[2022/07/15 15:02:24.398 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 81, tp general"] [job="ID:8, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:7, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:24.397 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:24.398 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 81, tp general"] [job="ID:8, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:7, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:24.397 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:24.398 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=8]
[2022/07/15 15:02:24.398 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:24.398 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=3] [neededSchemaVersion=4] ["start time"=68.041µs] [phyTblIDs="[7]"] [actionTypes="[8]"]
[2022/07/15 15:02:24.398 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=4] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.db (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tDB\t\t\t\t\t\tCHAR(64),\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv \t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (Host, DB, User));"] [user=]
[2022/07/15 15:02:24.399 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:10, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:9, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:24.399 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:24.399 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:10, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:9, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:24.399 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.db (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tDB\t\t\t\t\t\tCHAR(64),\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv \t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (Host, DB, User));"]
[2022/07/15 15:02:24.399 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 81, tp general"] [job="ID:10, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:9, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:24.399 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:24.400 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 81, tp general"] [job="ID:10, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:9, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:24.399 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:24.401 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=10]
[2022/07/15 15:02:24.401 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:24.401 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=4] [neededSchemaVersion=5] ["start time"=246.166µs] [phyTblIDs="[9]"] [actionTypes="[8]"]
[2022/07/15 15:02:24.401 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=5] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.tables_priv (\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64),\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64),\n\t\tGrantor\t\tCHAR(77),\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tTable_priv\tSET('Select','Insert','Update','Delete','Create','Drop','Grant','Index','Alter','Create View','Show View','Trigger','References'),\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name));"] [user=]
[2022/07/15 15:02:24.402 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:12, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:11, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:24.401 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:24.402 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:12, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:11, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:24.401 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.tables_priv (\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64),\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64),\n\t\tGrantor\t\tCHAR(77),\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tTable_priv\tSET('Select','Insert','Update','Delete','Create','Drop','Grant','Index','Alter','Create View','Show View','Trigger','References'),\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name));"]
[2022/07/15 15:02:24.402 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 81, tp general"] [job="ID:12, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:11, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:24.401 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:24.403 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 81, tp general"] [job="ID:12, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:11, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:24.401 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:24.403 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=12]
[2022/07/15 15:02:24.403 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:24.403 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=5] [neededSchemaVersion=6] ["start time"=94.083µs] [phyTblIDs="[11]"] [actionTypes="[8]"]
[2022/07/15 15:02:24.403 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=6] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.columns_priv(\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64),\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64),\n\t\tColumn_name\tCHAR(64),\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name, Column_name));"] [user=]
[2022/07/15 15:02:24.403 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:14, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:13, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:24.403 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:24.403 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:14, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:13, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:24.403 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.columns_priv(\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64),\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64),\n\t\tColumn_name\tCHAR(64),\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name, Column_name));"]
[2022/07/15 15:02:24.403 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 81, tp general"] [job="ID:14, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:13, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:24.403 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:24.404 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 81, tp general"] [job="ID:14, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:13, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:24.403 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:24.404 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=14]
[2022/07/15 15:02:24.404 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:24.404 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=6] [neededSchemaVersion=7] ["start time"=96.125µs] [phyTblIDs="[13]"] [actionTypes="[8]"]
[2022/07/15 15:02:24.405 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=7] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.GLOBAL_VARIABLES(\n\t\tVARIABLE_NAME  VARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(1024) DEFAULT NULL);"] [user=]
[2022/07/15 15:02:24.405 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:16, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:15, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:24.405 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:24.405 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:16, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:15, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:24.405 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.GLOBAL_VARIABLES(\n\t\tVARIABLE_NAME  VARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(1024) DEFAULT NULL);"]
[2022/07/15 15:02:24.405 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 81, tp general"] [job="ID:16, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:15, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:24.405 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:24.405 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 81, tp general"] [job="ID:16, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:15, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:24.405 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:24.405 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=16]
[2022/07/15 15:02:24.405 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:24.405 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=7] [neededSchemaVersion=8] ["start time"=55.833µs] [phyTblIDs="[15]"] [actionTypes="[8]"]
[2022/07/15 15:02:24.405 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=8] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb(\n\t\tVARIABLE_NAME  \tVARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE \tVARCHAR(1024) DEFAULT NULL,\n\t\tCOMMENT \t\tVARCHAR(1024));"] [user=]
[2022/07/15 15:02:24.406 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:18, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:17, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:24.406 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:24.406 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:18, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:17, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:24.406 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb(\n\t\tVARIABLE_NAME  \tVARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE \tVARCHAR(1024) DEFAULT NULL,\n\t\tCOMMENT \t\tVARCHAR(1024));"]
[2022/07/15 15:02:24.406 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 81, tp general"] [job="ID:18, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:17, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:24.406 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:24.406 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 81, tp general"] [job="ID:18, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:17, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:24.406 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:24.406 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=18]
[2022/07/15 15:02:24.406 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:24.406 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=8] [neededSchemaVersion=9] ["start time"=53.875µs] [phyTblIDs="[17]"] [actionTypes="[8]"]
[2022/07/15 15:02:24.406 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=9] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.help_topic (\n  \t\thelp_topic_id \t\tINT(10) UNSIGNED NOT NULL,\n  \t\tname \t\t\t\tCHAR(64) NOT NULL,\n  \t\thelp_category_id \tSMALLINT(5) UNSIGNED NOT NULL,\n  \t\tdescription \t\tTEXT NOT NULL,\n  \t\texample \t\t\tTEXT NOT NULL,\n  \t\turl \t\t\t\tTEXT NOT NULL,\n  \t\tPRIMARY KEY (help_topic_id) clustered,\n  \t\tUNIQUE KEY name (name)\n\t\t) ENGINE=InnoDB DEFAULT CHARSET=utf8 STATS_PERSISTENT=0 COMMENT='help topics';"] [user=]
[2022/07/15 15:02:24.407 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:20, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:19, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:24.407 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:24.407 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:20, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:19, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:24.407 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.help_topic (\n  \t\thelp_topic_id \t\tINT(10) UNSIGNED NOT NULL,\n  \t\tname \t\t\t\tCHAR(64) NOT NULL,\n  \t\thelp_category_id \tSMALLINT(5) UNSIGNED NOT NULL,\n  \t\tdescription \t\tTEXT NOT NULL,\n  \t\texample \t\t\tTEXT NOT NULL,\n  \t\turl \t\t\t\tTEXT NOT NULL,\n  \t\tPRIMARY KEY (help_topic_id) clustered,\n  \t\tUNIQUE KEY name (name)\n\t\t) ENGINE=InnoDB DEFAULT CHARSET=utf8 STATS_PERSISTENT=0 COMMENT='help topics';"]
[2022/07/15 15:02:24.407 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 81, tp general"] [job="ID:20, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:19, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:24.407 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:24.407 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 81, tp general"] [job="ID:20, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:19, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:24.407 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:24.407 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=20]
[2022/07/15 15:02:24.407 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:24.407 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=9] [neededSchemaVersion=10] ["start time"=69.125µs] [phyTblIDs="[19]"] [actionTypes="[8]"]
[2022/07/15 15:02:24.407 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=10] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_meta (\n\t\tversion \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\ttable_id \t\tBIGINT(64) NOT NULL,\n\t\tmodify_count\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcount \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tsnapshot        BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tINDEX idx_ver(version),\n\t\tUNIQUE INDEX tbl(table_id)\n\t);"] [user=]
[2022/07/15 15:02:24.408 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:22, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:21, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:24.408 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:24.408 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:22, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:21, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:24.408 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_meta (\n\t\tversion \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\ttable_id \t\tBIGINT(64) NOT NULL,\n\t\tmodify_count\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcount \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tsnapshot        BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tINDEX idx_ver(version),\n\t\tUNIQUE INDEX tbl(table_id)\n\t);"]
[2022/07/15 15:02:24.408 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 81, tp general"] [job="ID:22, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:21, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:24.408 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:24.408 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 81, tp general"] [job="ID:22, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:21, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:24.408 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:24.408 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=22]
[2022/07/15 15:02:24.408 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:24.409 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=10] [neededSchemaVersion=11] ["start time"=77.292µs] [phyTblIDs="[21]"] [actionTypes="[8]"]
[2022/07/15 15:02:24.409 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=11] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_histograms (\n\t\ttable_id \t\t\tBIGINT(64) NOT NULL,\n\t\tis_index \t\t\tTINYINT(2) NOT NULL,\n\t\thist_id \t\t\tBIGINT(64) NOT NULL,\n\t\tdistinct_count \t\tBIGINT(64) NOT NULL,\n\t\tnull_count \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\ttot_col_size \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tmodify_count \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tversion \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tcm_sketch \t\t\tBLOB(6291456),\n\t\tstats_ver \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tflag \t\t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcorrelation \t\tDOUBLE NOT NULL DEFAULT 0,\n\t\tlast_analyze_pos \tLONGBLOB DEFAULT NULL,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id)\n\t);"] [user=]
[2022/07/15 15:02:24.409 +08:00] [INFO] [ddl_api.go:999] ["Automatically convert BLOB(6291456) to MEDIUMBLOB"]
[2022/07/15 15:02:24.409 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:24, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:23, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:24.409 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:24.409 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:24, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:23, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:24.409 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_histograms (\n\t\ttable_id \t\t\tBIGINT(64) NOT NULL,\n\t\tis_index \t\t\tTINYINT(2) NOT NULL,\n\t\thist_id \t\t\tBIGINT(64) NOT NULL,\n\t\tdistinct_count \t\tBIGINT(64) NOT NULL,\n\t\tnull_count \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\ttot_col_size \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tmodify_count \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tversion \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tcm_sketch \t\t\tBLOB(6291456),\n\t\tstats_ver \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tflag \t\t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcorrelation \t\tDOUBLE NOT NULL DEFAULT 0,\n\t\tlast_analyze_pos \tLONGBLOB DEFAULT NULL,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id)\n\t);"]
[2022/07/15 15:02:24.409 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 81, tp general"] [job="ID:24, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:23, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:24.409 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:24.410 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 81, tp general"] [job="ID:24, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:23, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:24.409 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:24.410 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=24]
[2022/07/15 15:02:24.410 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:24.410 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=11] [neededSchemaVersion=12] ["start time"=116.458µs] [phyTblIDs="[23]"] [actionTypes="[8]"]
[2022/07/15 15:02:24.410 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=12] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_buckets (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tbucket_id \tBIGINT(64) NOT NULL,\n\t\tcount \t\tBIGINT(64) NOT NULL,\n\t\trepeats \tBIGINT(64) NOT NULL,\n\t\tupper_bound LONGBLOB NOT NULL,\n\t\tlower_bound LONGBLOB ,\n\t\tndv         BIGINT NOT NULL DEFAULT 0,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id, bucket_id)\n\t);"] [user=]
[2022/07/15 15:02:24.410 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:26, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:25, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:24.41 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:24.410 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:26, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:25, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:24.41 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_buckets (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tbucket_id \tBIGINT(64) NOT NULL,\n\t\tcount \t\tBIGINT(64) NOT NULL,\n\t\trepeats \tBIGINT(64) NOT NULL,\n\t\tupper_bound LONGBLOB NOT NULL,\n\t\tlower_bound LONGBLOB ,\n\t\tndv         BIGINT NOT NULL DEFAULT 0,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id, bucket_id)\n\t);"]
[2022/07/15 15:02:24.411 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 81, tp general"] [job="ID:26, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:25, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:24.41 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:24.411 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 81, tp general"] [job="ID:26, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:25, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:24.41 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:24.412 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=26]
[2022/07/15 15:02:24.412 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:24.412 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=12] [neededSchemaVersion=13] ["start time"=101.792µs] [phyTblIDs="[25]"] [actionTypes="[8]"]
[2022/07/15 15:02:24.412 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=13] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_index (job_id, element_id)\n\t);"] [user=]
[2022/07/15 15:02:24.412 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:28, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:27, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:24.412 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:24.412 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:28, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:27, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:24.412 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_index (job_id, element_id)\n\t);"]
[2022/07/15 15:02:24.412 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 81, tp general"] [job="ID:28, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:27, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:24.412 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:24.413 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 81, tp general"] [job="ID:28, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:27, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:24.412 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:24.413 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=28]
[2022/07/15 15:02:24.413 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:24.413 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=13] [neededSchemaVersion=14] ["start time"=70.542µs] [phyTblIDs="[27]"] [actionTypes="[8]"]
[2022/07/15 15:02:24.413 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=14] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range_done (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_done_index (job_id, element_id)\n\t);"] [user=]
[2022/07/15 15:02:24.413 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:30, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:29, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:24.413 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:24.413 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:30, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:29, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:24.413 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range_done (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_done_index (job_id, element_id)\n\t);"]
[2022/07/15 15:02:24.413 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 81, tp general"] [job="ID:30, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:29, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:24.413 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:24.414 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 81, tp general"] [job="ID:30, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:29, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:24.413 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:24.414 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=30]
[2022/07/15 15:02:24.414 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:24.414 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=14] [neededSchemaVersion=15] ["start time"=73.875µs] [phyTblIDs="[29]"] [actionTypes="[8]"]
[2022/07/15 15:02:24.414 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=15] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_feedback (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tfeedback \tBLOB NOT NULL,\n\t\tINDEX hist(table_id, is_index, hist_id)\n\t);"] [user=]
[2022/07/15 15:02:24.415 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:32, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:31, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:24.414 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:24.415 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:32, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:31, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:24.414 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_feedback (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tfeedback \tBLOB NOT NULL,\n\t\tINDEX hist(table_id, is_index, hist_id)\n\t);"]
[2022/07/15 15:02:24.415 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 81, tp general"] [job="ID:32, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:31, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:24.414 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:24.415 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 81, tp general"] [job="ID:32, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:31, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:24.414 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:24.415 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=32]
[2022/07/15 15:02:24.415 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:24.416 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=15] [neededSchemaVersion=16] ["start time"=65.666µs] [phyTblIDs="[31]"] [actionTypes="[8]"]
[2022/07/15 15:02:24.416 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=16] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.role_edges (\n\t\tFROM_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tFROM_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tWITH_ADMIN_OPTION \tENUM('N','Y') CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (FROM_HOST,FROM_USER,TO_HOST,TO_USER)\n\t);"] [user=]
[2022/07/15 15:02:24.416 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:34, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:33, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:24.416 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:24.416 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:34, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:33, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:24.416 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.role_edges (\n\t\tFROM_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tFROM_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tWITH_ADMIN_OPTION \tENUM('N','Y') CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (FROM_HOST,FROM_USER,TO_HOST,TO_USER)\n\t);"]
[2022/07/15 15:02:24.416 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 81, tp general"] [job="ID:34, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:33, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:24.416 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:24.416 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 81, tp general"] [job="ID:34, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:33, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:24.416 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:24.417 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=34]
[2022/07/15 15:02:24.417 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:24.417 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=16] [neededSchemaVersion=17] ["start time"=75.792µs] [phyTblIDs="[33]"] [actionTypes="[8]"]
[2022/07/15 15:02:24.417 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=17] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.default_roles (\n\t\tHOST \t\t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tUSER \t\t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tDEFAULT_ROLE_HOST \tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '%',\n\t\tDEFAULT_ROLE_USER \tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tPRIMARY KEY (HOST,USER,DEFAULT_ROLE_HOST,DEFAULT_ROLE_USER)\n\t)"] [user=]
[2022/07/15 15:02:24.417 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:36, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:35, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:24.417 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:24.417 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:36, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:35, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:24.417 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.default_roles (\n\t\tHOST \t\t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tUSER \t\t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tDEFAULT_ROLE_HOST \tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '%',\n\t\tDEFAULT_ROLE_USER \tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tPRIMARY KEY (HOST,USER,DEFAULT_ROLE_HOST,DEFAULT_ROLE_USER)\n\t)"]
[2022/07/15 15:02:24.417 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 81, tp general"] [job="ID:36, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:35, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:24.417 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:24.418 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 81, tp general"] [job="ID:36, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:35, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:24.417 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:24.418 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=36]
[2022/07/15 15:02:24.418 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:24.418 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=17] [neededSchemaVersion=18] ["start time"=69.958µs] [phyTblIDs="[35]"] [actionTypes="[8]"]
[2022/07/15 15:02:24.418 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=18] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.bind_info (\n\t\toriginal_sql TEXT NOT NULL,\n\t\tbind_sql TEXT NOT NULL,\n\t\tdefault_db TEXT NOT NULL,\n\t\tstatus TEXT NOT NULL,\n\t\tcreate_time TIMESTAMP(3) NOT NULL,\n\t\tupdate_time TIMESTAMP(3) NOT NULL,\n\t\tcharset TEXT NOT NULL,\n\t\tcollation TEXT NOT NULL,\n\t\tsource VARCHAR(10) NOT NULL DEFAULT 'unknown',\n\t\tINDEX sql_index(original_sql(700),default_db(68)) COMMENT \"accelerate the speed when add global binding query\",\n\t\tINDEX time_index(update_time) COMMENT \"accelerate the speed when querying with last update time\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"] [user=]
[2022/07/15 15:02:24.418 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:38, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:37, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:24.418 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:24.418 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:38, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:37, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:24.418 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.bind_info (\n\t\toriginal_sql TEXT NOT NULL,\n\t\tbind_sql TEXT NOT NULL,\n\t\tdefault_db TEXT NOT NULL,\n\t\tstatus TEXT NOT NULL,\n\t\tcreate_time TIMESTAMP(3) NOT NULL,\n\t\tupdate_time TIMESTAMP(3) NOT NULL,\n\t\tcharset TEXT NOT NULL,\n\t\tcollation TEXT NOT NULL,\n\t\tsource VARCHAR(10) NOT NULL DEFAULT 'unknown',\n\t\tINDEX sql_index(original_sql(700),default_db(68)) COMMENT \"accelerate the speed when add global binding query\",\n\t\tINDEX time_index(update_time) COMMENT \"accelerate the speed when querying with last update time\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"]
[2022/07/15 15:02:24.418 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 81, tp general"] [job="ID:38, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:37, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:24.418 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:24.419 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 81, tp general"] [job="ID:38, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:37, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:24.418 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:24.419 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=38]
[2022/07/15 15:02:24.419 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:24.419 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=18] [neededSchemaVersion=19] ["start time"=99.375µs] [phyTblIDs="[37]"] [actionTypes="[8]"]
[2022/07/15 15:02:24.420 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=19] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_top_n (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tcount \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"] [user=]
[2022/07/15 15:02:24.420 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:40, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:39, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:24.42 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:24.420 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:40, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:39, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:24.42 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_top_n (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tcount \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"]
[2022/07/15 15:02:24.420 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 81, tp general"] [job="ID:40, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:39, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:24.42 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:24.421 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 81, tp general"] [job="ID:40, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:39, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:24.42 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:24.421 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=40]
[2022/07/15 15:02:24.421 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:24.421 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=19] [neededSchemaVersion=20] ["start time"=77.834µs] [phyTblIDs="[39]"] [actionTypes="[8]"]
[2022/07/15 15:02:24.421 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=20] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.expr_pushdown_blacklist (\n\t\tname \t\tCHAR(100) NOT NULL,\n\t\tstore_type \tCHAR(100) NOT NULL DEFAULT 'tikv,tiflash,tidb',\n\t\treason \t\tVARCHAR(200)\n\t);"] [user=]
[2022/07/15 15:02:24.422 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:42, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:41, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:24.421 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:24.422 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:42, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:41, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:24.421 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.expr_pushdown_blacklist (\n\t\tname \t\tCHAR(100) NOT NULL,\n\t\tstore_type \tCHAR(100) NOT NULL DEFAULT 'tikv,tiflash,tidb',\n\t\treason \t\tVARCHAR(200)\n\t);"]
[2022/07/15 15:02:24.422 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 81, tp general"] [job="ID:42, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:41, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:24.421 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:24.422 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 81, tp general"] [job="ID:42, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:41, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:24.421 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:24.423 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=42]
[2022/07/15 15:02:24.423 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:24.423 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=20] [neededSchemaVersion=21] ["start time"=66.958µs] [phyTblIDs="[41]"] [actionTypes="[8]"]
[2022/07/15 15:02:24.423 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=21] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.opt_rule_blacklist (\n\t\tname \tCHAR(100) NOT NULL\n\t);"] [user=]
[2022/07/15 15:02:24.423 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:44, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:43, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:24.423 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:24.423 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:44, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:43, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:24.423 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.opt_rule_blacklist (\n\t\tname \tCHAR(100) NOT NULL\n\t);"]
[2022/07/15 15:02:24.423 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 81, tp general"] [job="ID:44, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:43, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:24.423 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:24.424 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 81, tp general"] [job="ID:44, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:43, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:24.423 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:24.424 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=44]
[2022/07/15 15:02:24.424 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:24.424 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=21] [neededSchemaVersion=22] ["start time"=39µs] [phyTblIDs="[43]"] [actionTypes="[8]"]
[2022/07/15 15:02:24.424 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=22] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_extended (\n\t\tname varchar(32) NOT NULL,\n\t\ttype tinyint(4) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tcolumn_ids varchar(32) NOT NULL,\n\t\tstats blob DEFAULT NULL,\n\t\tversion bigint(64) unsigned NOT NULL,\n\t\tstatus tinyint(4) NOT NULL,\n\t\tPRIMARY KEY(name, table_id),\n\t\tKEY idx_1 (table_id, status, version),\n\t\tKEY idx_2 (status, version)\n\t);"] [user=]
[2022/07/15 15:02:24.424 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:46, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:45, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:24.424 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:24.424 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:46, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:45, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:24.424 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_extended (\n\t\tname varchar(32) NOT NULL,\n\t\ttype tinyint(4) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tcolumn_ids varchar(32) NOT NULL,\n\t\tstats blob DEFAULT NULL,\n\t\tversion bigint(64) unsigned NOT NULL,\n\t\tstatus tinyint(4) NOT NULL,\n\t\tPRIMARY KEY(name, table_id),\n\t\tKEY idx_1 (table_id, status, version),\n\t\tKEY idx_2 (status, version)\n\t);"]
[2022/07/15 15:02:24.425 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 81, tp general"] [job="ID:46, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:45, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:24.424 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:24.425 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 81, tp general"] [job="ID:46, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:45, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:24.424 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:24.425 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=46]
[2022/07/15 15:02:24.425 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:24.426 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=22] [neededSchemaVersion=23] ["start time"=95.125µs] [phyTblIDs="[45]"] [actionTypes="[8]"]
[2022/07/15 15:02:24.426 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=23] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.schema_index_usage (\n\t\tTABLE_ID bigint(64),\n\t\tINDEX_ID bigint(21),\n\t\tQUERY_COUNT bigint(64),\n\t\tROWS_SELECTED bigint(64),\n\t\tLAST_USED_AT timestamp,\n\t\tPRIMARY KEY(TABLE_ID, INDEX_ID)\n\t);"] [user=]
[2022/07/15 15:02:24.426 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:48, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:47, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:24.426 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:24.426 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:48, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:47, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:24.426 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.schema_index_usage (\n\t\tTABLE_ID bigint(64),\n\t\tINDEX_ID bigint(21),\n\t\tQUERY_COUNT bigint(64),\n\t\tROWS_SELECTED bigint(64),\n\t\tLAST_USED_AT timestamp,\n\t\tPRIMARY KEY(TABLE_ID, INDEX_ID)\n\t);"]
[2022/07/15 15:02:24.426 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 81, tp general"] [job="ID:48, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:47, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:24.426 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:24.426 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 81, tp general"] [job="ID:48, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:47, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:24.426 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:24.427 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=48]
[2022/07/15 15:02:24.427 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:24.427 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=23] [neededSchemaVersion=24] ["start time"=75.875µs] [phyTblIDs="[47]"] [actionTypes="[8]"]
[2022/07/15 15:02:24.427 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=24] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_fm_sketch (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"] [user=]
[2022/07/15 15:02:24.427 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:50, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:49, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:24.427 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:24.427 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:50, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:49, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:24.427 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_fm_sketch (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"]
[2022/07/15 15:02:24.427 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 81, tp general"] [job="ID:50, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:49, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:24.427 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:24.428 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 81, tp general"] [job="ID:50, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:49, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:24.427 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:24.428 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=50]
[2022/07/15 15:02:24.428 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:24.428 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=24] [neededSchemaVersion=25] ["start time"=61.292µs] [phyTblIDs="[49]"] [actionTypes="[8]"]
[2022/07/15 15:02:24.428 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=25] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.global_grants (\n\t\tUSER char(32) NOT NULL DEFAULT '',\n\t\tHOST char(255) NOT NULL DEFAULT '',\n\t\tPRIV char(32) NOT NULL DEFAULT '',\n\t\tWITH_GRANT_OPTION enum('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (USER,HOST,PRIV)\n\t);"] [user=]
[2022/07/15 15:02:24.428 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:52, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:51, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:24.428 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:24.428 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:52, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:51, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:24.428 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.global_grants (\n\t\tUSER char(32) NOT NULL DEFAULT '',\n\t\tHOST char(255) NOT NULL DEFAULT '',\n\t\tPRIV char(32) NOT NULL DEFAULT '',\n\t\tWITH_GRANT_OPTION enum('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (USER,HOST,PRIV)\n\t);"]
[2022/07/15 15:02:24.428 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 81, tp general"] [job="ID:52, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:51, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:24.428 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:24.429 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 81, tp general"] [job="ID:52, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:51, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:24.428 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:24.429 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=52]
[2022/07/15 15:02:24.429 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:24.430 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=25] [neededSchemaVersion=26] ["start time"=64.708µs] [phyTblIDs="[51]"] [actionTypes="[8]"]
[2022/07/15 15:02:24.430 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=26] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.capture_plan_baselines_blacklist (\n\t\tid bigint(64) auto_increment,\n\t\tfilter_type varchar(32) NOT NULL COMMENT \"type of the filter, only db, table and frequency supported now\",\n\t\tfilter_value varchar(32) NOT NULL,\n\t\tkey idx(filter_type),\n\t\tprimary key(id)\n\t);"] [user=]
[2022/07/15 15:02:24.430 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:54, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:53, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:24.43 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:24.430 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:54, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:53, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:24.43 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.capture_plan_baselines_blacklist (\n\t\tid bigint(64) auto_increment,\n\t\tfilter_type varchar(32) NOT NULL COMMENT \"type of the filter, only db, table and frequency supported now\",\n\t\tfilter_value varchar(32) NOT NULL,\n\t\tkey idx(filter_type),\n\t\tprimary key(id)\n\t);"]
[2022/07/15 15:02:24.430 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 81, tp general"] [job="ID:54, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:53, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:24.43 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:24.430 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 81, tp general"] [job="ID:54, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:53, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:24.43 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:24.430 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=54]
[2022/07/15 15:02:24.430 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:24.431 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=26] [neededSchemaVersion=27] ["start time"=67.417µs] [phyTblIDs="[53]"] [actionTypes="[8]"]
[2022/07/15 15:02:24.431 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=27] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.column_stats_usage (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tcolumn_id BIGINT(64) NOT NULL,\n\t\tlast_used_at TIMESTAMP,\n\t\tlast_analyzed_at TIMESTAMP,\n\t\tPRIMARY KEY (table_id, column_id) CLUSTERED\n\t);"] [user=]
[2022/07/15 15:02:24.431 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:56, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:55, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:24.431 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:24.431 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:56, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:55, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:24.431 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.column_stats_usage (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tcolumn_id BIGINT(64) NOT NULL,\n\t\tlast_used_at TIMESTAMP,\n\t\tlast_analyzed_at TIMESTAMP,\n\t\tPRIMARY KEY (table_id, column_id) CLUSTERED\n\t);"]
[2022/07/15 15:02:24.431 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 81, tp general"] [job="ID:56, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:55, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:24.431 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:24.431 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 81, tp general"] [job="ID:56, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:55, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:24.431 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:24.431 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=56]
[2022/07/15 15:02:24.431 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:24.432 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=27] [neededSchemaVersion=28] ["start time"=65.167µs] [phyTblIDs="[55]"] [actionTypes="[8]"]
[2022/07/15 15:02:24.432 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=28] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.table_cache_meta (\n\t\ttid bigint(11) NOT NULL DEFAULT 0,\n\t\tlock_type enum('NONE','READ', 'INTEND', 'WRITE') NOT NULL DEFAULT 'NONE',\n\t\tlease bigint(20) NOT NULL DEFAULT 0,\n\t\toldReadLease bigint(20) NOT NULL DEFAULT 0,\n\t\tPRIMARY KEY (tid)\n\t);"] [user=]
[2022/07/15 15:02:24.432 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:58, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:57, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:24.432 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:24.432 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:58, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:57, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:24.432 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.table_cache_meta (\n\t\ttid bigint(11) NOT NULL DEFAULT 0,\n\t\tlock_type enum('NONE','READ', 'INTEND', 'WRITE') NOT NULL DEFAULT 'NONE',\n\t\tlease bigint(20) NOT NULL DEFAULT 0,\n\t\toldReadLease bigint(20) NOT NULL DEFAULT 0,\n\t\tPRIMARY KEY (tid)\n\t);"]
[2022/07/15 15:02:24.432 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 81, tp general"] [job="ID:58, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:57, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:24.432 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:24.432 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 81, tp general"] [job="ID:58, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:57, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:24.432 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:24.432 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=58]
[2022/07/15 15:02:24.432 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:24.432 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=28] [neededSchemaVersion=29] ["start time"=54.916µs] [phyTblIDs="[57]"] [actionTypes="[8]"]
[2022/07/15 15:02:24.433 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=29] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.analyze_options (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tsample_num BIGINT(64) NOT NULL DEFAULT 0,\n\t\tsample_rate DOUBLE NOT NULL DEFAULT -1,\n\t\tbuckets BIGINT(64) NOT NULL DEFAULT 0,\n\t\ttopn BIGINT(64) NOT NULL DEFAULT -1,\n\t\tcolumn_choice enum('DEFAULT','ALL','PREDICATE','LIST') NOT NULL DEFAULT 'DEFAULT',\n\t\tcolumn_ids TEXT(19372),\n\t\tPRIMARY KEY (table_id) CLUSTERED\n\t);"] [user=]
[2022/07/15 15:02:24.433 +08:00] [INFO] [ddl_api.go:999] ["Automatically convert BLOB(19372) to MEDIUMBLOB"]
[2022/07/15 15:02:24.433 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:60, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:59, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:24.433 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:24.433 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:60, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:59, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:24.433 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.analyze_options (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tsample_num BIGINT(64) NOT NULL DEFAULT 0,\n\t\tsample_rate DOUBLE NOT NULL DEFAULT -1,\n\t\tbuckets BIGINT(64) NOT NULL DEFAULT 0,\n\t\ttopn BIGINT(64) NOT NULL DEFAULT -1,\n\t\tcolumn_choice enum('DEFAULT','ALL','PREDICATE','LIST') NOT NULL DEFAULT 'DEFAULT',\n\t\tcolumn_ids TEXT(19372),\n\t\tPRIMARY KEY (table_id) CLUSTERED\n\t);"]
[2022/07/15 15:02:24.433 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 81, tp general"] [job="ID:60, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:59, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:24.433 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:24.434 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 81, tp general"] [job="ID:60, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:59, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:24.433 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:24.434 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=60]
[2022/07/15 15:02:24.434 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:24.434 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=29] [neededSchemaVersion=30] ["start time"=84.25µs] [phyTblIDs="[59]"] [actionTypes="[8]"]
[2022/07/15 15:02:24.434 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=30] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tstats_data longblob NOT NULL,\n\t\tseq_no bigint(64) NOT NULL comment 'sequence number of the gzipped data slice',\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version_seq (table_id, version, seq_no),\n\t\tKEY table_create_time (table_id, create_time, seq_no)\n\t);"] [user=]
[2022/07/15 15:02:24.434 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:62, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:61, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:24.434 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:24.434 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:62, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:61, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:24.434 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tstats_data longblob NOT NULL,\n\t\tseq_no bigint(64) NOT NULL comment 'sequence number of the gzipped data slice',\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version_seq (table_id, version, seq_no),\n\t\tKEY table_create_time (table_id, create_time, seq_no)\n\t);"]
[2022/07/15 15:02:24.434 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 81, tp general"] [job="ID:62, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:61, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:24.434 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:24.435 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 81, tp general"] [job="ID:62, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:61, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:24.434 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:24.435 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=62]
[2022/07/15 15:02:24.435 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:24.435 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=30] [neededSchemaVersion=31] ["start time"=74.666µs] [phyTblIDs="[61]"] [actionTypes="[8]"]
[2022/07/15 15:02:24.435 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=31] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_meta_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL,\n\t\tcount bigint(64) NOT NULL,\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version (table_id, version),\n\t\tKEY table_create_time (table_id, create_time)\n\t);"] [user=]
[2022/07/15 15:02:24.435 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:64, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:63, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:24.435 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:24.435 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:64, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:63, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:24.435 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_meta_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL,\n\t\tcount bigint(64) NOT NULL,\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version (table_id, version),\n\t\tKEY table_create_time (table_id, create_time)\n\t);"]
[2022/07/15 15:02:24.436 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 81, tp general"] [job="ID:64, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:63, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:24.435 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:24.436 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 81, tp general"] [job="ID:64, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:63, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:24.435 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:24.436 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=64]
[2022/07/15 15:02:24.436 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:24.437 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=31] [neededSchemaVersion=32] ["start time"=82.416µs] [phyTblIDs="[63]"] [actionTypes="[8]"]
[2022/07/15 15:02:24.437 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=32] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.analyze_jobs (\n\t\tid BIGINT(64) UNSIGNED NOT NULL AUTO_INCREMENT,\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\ttable_schema CHAR(64) NOT NULL DEFAULT '',\n\t\ttable_name CHAR(64) NOT NULL DEFAULT '',\n\t\tpartition_name CHAR(64) NOT NULL DEFAULT '',\n\t\tjob_info TEXT NOT NULL,\n\t\tprocessed_rows BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tstart_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tstate ENUM('pending', 'running', 'finished', 'failed') NOT NULL,\n\t\tfail_reason TEXT,\n\t\tinstance VARCHAR(512) NOT NULL comment 'address of the TiDB instance executing the analyze job',\n\t\tprocess_id BIGINT(64) UNSIGNED comment 'ID of the process executing the analyze job',\n\t\tPRIMARY KEY (id),\n\t\tKEY (update_time)\n\t);"] [user=]
[2022/07/15 15:02:24.437 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:66, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:65, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:24.437 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:24.437 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:66, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:65, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:24.437 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.analyze_jobs (\n\t\tid BIGINT(64) UNSIGNED NOT NULL AUTO_INCREMENT,\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\ttable_schema CHAR(64) NOT NULL DEFAULT '',\n\t\ttable_name CHAR(64) NOT NULL DEFAULT '',\n\t\tpartition_name CHAR(64) NOT NULL DEFAULT '',\n\t\tjob_info TEXT NOT NULL,\n\t\tprocessed_rows BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tstart_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tstate ENUM('pending', 'running', 'finished', 'failed') NOT NULL,\n\t\tfail_reason TEXT,\n\t\tinstance VARCHAR(512) NOT NULL comment 'address of the TiDB instance executing the analyze job',\n\t\tprocess_id BIGINT(64) UNSIGNED comment 'ID of the process executing the analyze job',\n\t\tPRIMARY KEY (id),\n\t\tKEY (update_time)\n\t);"]
[2022/07/15 15:02:24.437 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 81, tp general"] [job="ID:66, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:65, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:24.437 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:24.438 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 81, tp general"] [job="ID:66, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:65, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:24.437 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:24.438 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=66]
[2022/07/15 15:02:24.438 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:24.438 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=32] [neededSchemaVersion=33] ["start time"=116.291µs] [phyTblIDs="[65]"] [actionTypes="[8]"]
[2022/07/15 15:02:24.438 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=33] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.advisory_locks (\n\t\tlock_name VARCHAR(64) NOT NULL PRIMARY KEY\n\t);"] [user=]
[2022/07/15 15:02:24.439 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:68, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:67, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:24.439 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:24.439 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:68, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:67, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:24.439 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.advisory_locks (\n\t\tlock_name VARCHAR(64) NOT NULL PRIMARY KEY\n\t);"]
[2022/07/15 15:02:24.439 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 81, tp general"] [job="ID:68, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:67, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:24.439 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:24.439 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 81, tp general"] [job="ID:68, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:67, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:24.439 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:24.440 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=68]
[2022/07/15 15:02:24.440 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:24.440 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=33] [neededSchemaVersion=34] ["start time"=59.583µs] [phyTblIDs="[67]"] [actionTypes="[8]"]
[2022/07/15 15:02:24.446 +08:00] [INFO] [bootstrap.go:448] ["bootstrap successful"] ["take time"=55.532709ms]
[2022/07/15 15:02:24.446 +08:00] [INFO] [ddl_worker.go:158] ["[ddl] DDL worker closed"] [worker="worker 81, tp general"] ["take time"=208ns]
[2022/07/15 15:02:24.446 +08:00] [INFO] [ddl_worker.go:158] ["[ddl] DDL worker closed"] [worker="worker 82, tp add index"] ["take time"=1.042µs]
[2022/07/15 15:02:24.446 +08:00] [INFO] [delete_range.go:148] ["[ddl] closing delRange"]
[2022/07/15 15:02:24.446 +08:00] [INFO] [session_pool.go:94] ["[ddl] closing sessionPool"]
[2022/07/15 15:02:24.447 +08:00] [INFO] [ddl.go:576] ["[ddl] DDL closed"] [ID=09050672-5ee7-46f2-af72-f8955a3c6640] ["take time"=73.917µs]
[2022/07/15 15:02:24.447 +08:00] [INFO] [ddl.go:464] ["[ddl] stop DDL"] [ID=09050672-5ee7-46f2-af72-f8955a3c6640]
[2022/07/15 15:02:24.447 +08:00] [INFO] [domain.go:498] ["topNSlowQueryLoop exited."]
[2022/07/15 15:02:24.447 +08:00] [INFO] [domain.go:552] ["globalConfigSyncerKeeper exited."]
[2022/07/15 15:02:24.447 +08:00] [INFO] [domain.go:527] ["infoSyncerKeeper exited."]
[2022/07/15 15:02:24.447 +08:00] [INFO] [domain.go:575] ["topologySyncerKeeper exited."]
[2022/07/15 15:02:24.447 +08:00] [INFO] [domain.go:733] ["domain closed"] ["take time"=128.75µs]
[2022/07/15 15:02:24.447 +08:00] [INFO] [tidb.go:74] ["new domain"] [store=800daacf-503a-408f-bb86-4d2818d0e2fc] ["ddl lease"=0s] ["stats lease"=-1ns] ["index usage sync lease"=0s]
[2022/07/15 15:02:24.449 +08:00] [INFO] [domain.go:178] ["full load InfoSchema success"] [currentSchemaVersion=0] [neededSchemaVersion=34] ["start time"=2.461042ms]
[2022/07/15 15:02:24.449 +08:00] [INFO] [domain.go:449] ["full load and reset schema validator"]
[2022/07/15 15:02:24.449 +08:00] [INFO] [ddl.go:483] ["[ddl] start DDL"] [ID=b65c0fb9-c48d-407b-aec5-8f847c67e47e] [runWorker=true]
[2022/07/15 15:02:24.449 +08:00] [INFO] [ddl.go:472] ["[ddl] start delRangeManager OK"] ["is a emulator"=true]
[2022/07/15 15:02:24.450 +08:00] [INFO] [delete_range.go:158] ["[ddl] start delRange emulator"]
[2022/07/15 15:02:24.450 +08:00] [INFO] [ddl_worker.go:164] ["[ddl] start DDL worker"] [worker="worker 83, tp general"]
[2022/07/15 15:02:24.450 +08:00] [INFO] [ddl_worker.go:164] ["[ddl] start DDL worker"] [worker="worker 84, tp add index"]
[2022/07/15 15:02:24.450 +08:00] [WARN] [sysvar_cache.go:53] ["sysvar cache is empty, triggering rebuild"]
[2022/07/15 15:02:24.454 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=21] [schemaVersion=34] [cur_db=test] [sql="drop table if exists t"] [user=]
[2022/07/15 15:02:24.454 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=21] [schemaVersion=34] [cur_db=test] [sql="create table t(\n    a int,\n    primary key(a)\n) partition by range(a) (\n    partition p1 values less than (10),\n    partition p2 values less than (20),\n    partition p3 values less than (30),\n    partition p4 values less than (40),\n    partition p5 values less than (50)\n);"] [user=]
[2022/07/15 15:02:24.454 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:75, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:24.454 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:24.454 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:75, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:24.454 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="create table t(\n    a int,\n    primary key(a)\n) partition by range(a) (\n    partition p1 values less than (10),\n    partition p2 values less than (20),\n    partition p3 values less than (30),\n    partition p4 values less than (40),\n    partition p5 values less than (50)\n);"]
[2022/07/15 15:02:24.454 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 83, tp general"] [job="ID:75, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:24.454 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:24.455 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 83, tp general"] [job="ID:75, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:69, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:24.454 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:24.455 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=75]
[2022/07/15 15:02:24.455 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:24.455 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=34] [neededSchemaVersion=35] ["start time"=137.417µs] [phyTblIDs="[69,70,71,72,73,74]"] [actionTypes="[8,8,8,8,8,8]"]
[2022/07/15 15:02:24.455 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=21] [schemaVersion=35] [cur_db=test] [sql="alter table t set tiflash replica 1"] [user=]
[2022/07/15 15:02:24.455 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:76, Type:set tiflash replica, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:24.455 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:24.455 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:76, Type:set tiflash replica, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:24.455 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="alter table t set tiflash replica 1"]
[2022/07/15 15:02:24.455 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 83, tp general"] [job="ID:76, Type:set tiflash replica, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:24.455 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:24.455 +08:00] [INFO] [table.go:1098] ["Set TiFlash replica pd rule for partitioned table"] [tableID=69]
[2022/07/15 15:02:24.455 +08:00] [INFO] [info.go:1067] [ConfigureTiFlashPDForPartitions] [tableID=69] [partID=70] [accel=false] [count=1]
[2022/07/15 15:02:24.455 +08:00] [INFO] [info.go:1067] [ConfigureTiFlashPDForPartitions] [tableID=69] [partID=71] [accel=false] [count=1]
[2022/07/15 15:02:24.455 +08:00] [INFO] [info.go:1067] [ConfigureTiFlashPDForPartitions] [tableID=69] [partID=72] [accel=false] [count=1]
[2022/07/15 15:02:24.455 +08:00] [INFO] [info.go:1067] [ConfigureTiFlashPDForPartitions] [tableID=69] [partID=73] [accel=false] [count=1]
[2022/07/15 15:02:24.455 +08:00] [INFO] [info.go:1067] [ConfigureTiFlashPDForPartitions] [tableID=69] [partID=74] [accel=false] [count=1]
[2022/07/15 15:02:24.455 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 83, tp general"] [job="ID:76, Type:set tiflash replica, State:synced, SchemaState:public, SchemaID:1, TableID:69, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:24.455 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:24.456 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=76]
[2022/07/15 15:02:24.456 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:24.456 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=35] [neededSchemaVersion=36] ["start time"=115.708µs] [phyTblIDs="[]"] [actionTypes="[]"]
[2022/07/15 15:02:24.456 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:77, Type:update tiflash replica status, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:2, start time: 2022-07-15 15:02:24.456 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:24.456 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:77, Type:update tiflash replica status, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:2, start time: 2022-07-15 15:02:24.456 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query=]
[2022/07/15 15:02:24.456 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 83, tp general"] [job="ID:77, Type:update tiflash replica status, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:24.456 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:24.456 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 83, tp general"] [job="ID:77, Type:update tiflash replica status, State:synced, SchemaState:public, SchemaID:1, TableID:69, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:24.456 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:24.456 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=77]
[2022/07/15 15:02:24.456 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:24.457 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=36] [neededSchemaVersion=37] ["start time"=121.041µs] [phyTblIDs="[]"] [actionTypes="[]"]
[2022/07/15 15:02:26.458 +08:00] [INFO] [fragment.go:77] ["Mpp will generate tasks"] [plan=Table(t)->HashAgg->Send()]
[2022/07/15 15:02:26.458 +08:00] [INFO] [batch_coprocessor.go:325] ["detecting available mpp stores"]
[2022/07/15 15:02:26.458 +08:00] [WARN] [batch_coprocessor.go:359] ["Store is not ready"] ["store address"=tiflash1] ["err message"="not support this request type MPPAlive"]
[2022/07/15 15:02:26.458 +08:00] [WARN] [batch_coprocessor.go:359] ["Store is not ready"] ["store address"=tiflash0] ["err message"="not support this request type MPPAlive"]
[2022/07/15 15:02:26.458 +08:00] [WARN] [batch_coprocessor.go:400] ["Meet regions that don't have an available store. Give up balancing"]
[2022/07/15 15:02:26.458 +08:00] [INFO] [mpp_gather.go:80] ["Dispatch mpp task"] [timestamp=434600292242685953] [ID=1] [address=tiflash0] [plan="Table(t)->HashAgg->Send(-1, )"]
[2022/07/15 15:02:27.459 +08:00] [WARN] [adapter.go:1067] ["# Txn_start_ts: 434600292242685953\n# Conn_ID: 21\n# Query_time: 1.000771875\n# Parse_time: 0.000071208\n# Compile_time: 0.000185208\n# Rewrite_time: 0.000047416\n# Optimize_time: 0.000096417\n# Wait_TS: 0.000006291\n# Cop_time: 1.000128209 Request_count: 1\n# DB: test\n# Is_internal: false\n# Digest: 51b8aac0c345b904397b525d5e07db52cc7b58f74d55160fee4a647d5ab3ab1a\n# Stats: t:pseudo\n# Num_cop_tasks: 1\n# Cop_proc_avg: 0 Cop_proc_addr: tiflash0\n# Cop_wait_avg: 0 Cop_wait_addr: tiflash0\n# Mem_max: 10100\n# Prepared: false\n# Plan_from_cache: false\n# Plan_from_binding: false\n# Has_more_results: false\n# KV_total: 0\n# PD_total: 0\n# Backoff_total: 0\n# Write_sql_response_total: 0\n# Result_rows: 0\n# Succ: true\n# IsExplicitTxn: false\n# Plan: tidb_decode_plan('gQKIMAk2XzE4CTAJMQlmdW5jczpjb3VudChDb2x1bW4jNCktPkMJCyAyCjEJMzFfMjAFLJBkYXRhOkV4Y2hhbmdlU2VuZGVyXzE5CjIJNDlfMTkJMV8xCTEJESBUVHlwZTogUGFzc1Rocm91Z2gKMwk2XxEmLncAADEZcCA0CjQJNDRfMTcFTUQzMzMzLjMzCXRhYmxlOnQsIHIBefBDOlstaW5mLDEyKSwga2VlcCBvcmRlcjpmYWxzZSwgc3RhdHM6cHNldWRvLCBQYXJ0aXRpb25UYWJsZVNjYW46dHJ1ZQo=')\n# Plan_digest: 19d4f27d9547859177a5930fe4c2e37f92afbccc9a2351042760712ab2e5d1ac\nuse test;\nselect count(*) from t where a < 12;"]
[2022/07/15 15:02:27.459 +08:00] [INFO] [fragment.go:77] ["Mpp will generate tasks"] [plan=Table(t)->HashAgg->Send()]
[2022/07/15 15:02:27.459 +08:00] [INFO] [batch_coprocessor.go:325] ["detecting available mpp stores"]
[2022/07/15 15:02:27.459 +08:00] [WARN] [batch_coprocessor.go:359] ["Store is not ready"] ["store address"=tiflash1] ["err message"="invalid request type MPPAlive"]
[2022/07/15 15:02:27.459 +08:00] [WARN] [batch_coprocessor.go:359] ["Store is not ready"] ["store address"=tiflash0] ["err message"="invalid request type MPPAlive"]
[2022/07/15 15:02:27.460 +08:00] [WARN] [batch_coprocessor.go:400] ["Meet regions that don't have an available store. Give up balancing"]
[2022/07/15 15:02:27.460 +08:00] [INFO] [mpp_gather.go:80] ["Dispatch mpp task"] [timestamp=434600292505092097] [ID=1] [address=tiflash0] [plan="Table(t)->HashAgg->Send(-1, )"]
[2022/07/15 15:02:27.460 +08:00] [INFO] [region_cache.go:194] ["Send fail for 0 regions, will switch region peer for these regions. Only first 0 regions will be logged if the log level is higher than Debug"]
[2022/07/15 15:02:27.539 +08:00] [WARN] [mpp.go:255] ["mpp dispatch meet io error"] [error="invalid request type DispatchMPPTask"] [timestamp=434600292505092097] [task=1]
[2022/07/15 15:02:27.539 +08:00] [WARN] [mpp.go:275] ["mpp dispatch meet error and retrying"] [error="invalid request type DispatchMPPTask"] [errorVerbose="invalid request type DispatchMPPTask\ngithub.com/tikv/client-go/v2/tikvrpc.GenRegionErrorResp\n\t/Users/hongyunyan/go/pkg/mod/github.com/tikv/client-go/v2@v2.0.1-0.20220627063500-947d923945fd/tikvrpc/tikvrpc.go:904\ngithub.com/pingcap/tidb/store/mockstore/unistore.(*RPCClient).SendRequest\n\t/Users/hongyunyan/Desktop/tidb/store/mockstore/unistore/rpc.go:66\ngithub.com/pingcap/tidb/store/mockstore.(*clientRedirector).SendRequest\n\t/Users/hongyunyan/Desktop/tidb/store/mockstore/redirector.go:72\ngithub.com/tikv/client-go/v2/internal/client.interceptedClient.SendRequest.func1\n\t/Users/hongyunyan/go/pkg/mod/github.com/tikv/client-go/v2@v2.0.1-0.20220627063500-947d923945fd/internal/client/client_interceptor.go:39\ngithub.com/pingcap/tidb/util/topsql/stmtstats.(*KvExecCounter).RPCInterceptor.func1.1\n\t/Users/hongyunyan/Desktop/tidb/util/topsql/stmtstats/kv_exec_count.go:57\ngithub.com/tikv/client-go/v2/internal/client.interceptedClient.SendRequest\n\t/Users/hongyunyan/go/pkg/mod/github.com/tikv/client-go/v2@v2.0.1-0.20220627063500-947d923945fd/internal/client/client_interceptor.go:40\ngithub.com/tikv/client-go/v2/internal/client.reqCollapse.SendRequest\n\t/Users/hongyunyan/go/pkg/mod/github.com/tikv/client-go/v2@v2.0.1-0.20220627063500-947d923945fd/internal/client/client_collapse.go:74\ngithub.com/pingcap/tidb/store/copr.(*tikvClient).SendRequest\n\t/Users/hongyunyan/Desktop/tidb/store/copr/store.go:69\ngithub.com/pingcap/tidb/store/copr.(*RegionBatchRequestSender).SendReqToAddr\n\t/Users/hongyunyan/Desktop/tidb/store/copr/batch_request_sender.go:76\ngithub.com/pingcap/tidb/store/copr.(*mppIterator).handleDispatchReq\n\t/Users/hongyunyan/Desktop/tidb/store/copr/mpp.go:250\ngithub.com/pingcap/tidb/store/copr.(*mppIterator).run.func1\n\t/Users/hongyunyan/Desktop/tidb/store/copr/mpp.go:187\nruntime.goexit\n\t/opt/homebrew/Cellar/go/1.18.3/libexec/src/runtime/asm_arm64.s:1263\ngithub.com/pingcap/errors.AddStack\n\t/Users/hongyunyan/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20211224045212-9687c2b0f87c/errors.go:174\ngithub.com/pingcap/errors.Trace\n\t/Users/hongyunyan/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20211224045212-9687c2b0f87c/juju_adaptor.go:15\ngithub.com/pingcap/tidb/store/driver/error.ToTiDBErr\n\t/Users/hongyunyan/Desktop/tidb/store/driver/error/error.go:169\ngithub.com/pingcap/tidb/store/copr.(*tikvClient).SendRequest\n\t/Users/hongyunyan/Desktop/tidb/store/copr/store.go:70\ngithub.com/pingcap/tidb/store/copr.(*RegionBatchRequestSender).SendReqToAddr\n\t/Users/hongyunyan/Desktop/tidb/store/copr/batch_request_sender.go:76\ngithub.com/pingcap/tidb/store/copr.(*mppIterator).handleDispatchReq\n\t/Users/hongyunyan/Desktop/tidb/store/copr/mpp.go:250\ngithub.com/pingcap/tidb/store/copr.(*mppIterator).run.func1\n\t/Users/hongyunyan/Desktop/tidb/store/copr/mpp.go:187\nruntime.goexit\n\t/opt/homebrew/Cellar/go/1.18.3/libexec/src/runtime/asm_arm64.s:1263"] [timestamp=434600292505092097] [task=1]
[2022/07/15 15:02:27.539 +08:00] [INFO] [region_cache.go:194] ["Send fail for 0 regions, will switch region peer for these regions. Only first 0 regions will be logged if the log level is higher than Debug"]
[2022/07/15 15:02:27.713 +08:00] [WARN] [mpp.go:255] ["mpp dispatch meet io error"] [error="invalid request type DispatchMPPTask"] [timestamp=434600292505092097] [task=1]
[2022/07/15 15:02:27.713 +08:00] [WARN] [mpp.go:275] ["mpp dispatch meet error and retrying"] [error="invalid request type DispatchMPPTask"] [errorVerbose="invalid request type DispatchMPPTask\ngithub.com/tikv/client-go/v2/tikvrpc.GenRegionErrorResp\n\t/Users/hongyunyan/go/pkg/mod/github.com/tikv/client-go/v2@v2.0.1-0.20220627063500-947d923945fd/tikvrpc/tikvrpc.go:904\ngithub.com/pingcap/tidb/store/mockstore/unistore.(*RPCClient).SendRequest\n\t/Users/hongyunyan/Desktop/tidb/store/mockstore/unistore/rpc.go:66\ngithub.com/pingcap/tidb/store/mockstore.(*clientRedirector).SendRequest\n\t/Users/hongyunyan/Desktop/tidb/store/mockstore/redirector.go:72\ngithub.com/tikv/client-go/v2/internal/client.interceptedClient.SendRequest.func1\n\t/Users/hongyunyan/go/pkg/mod/github.com/tikv/client-go/v2@v2.0.1-0.20220627063500-947d923945fd/internal/client/client_interceptor.go:39\ngithub.com/pingcap/tidb/util/topsql/stmtstats.(*KvExecCounter).RPCInterceptor.func1.1\n\t/Users/hongyunyan/Desktop/tidb/util/topsql/stmtstats/kv_exec_count.go:57\ngithub.com/tikv/client-go/v2/internal/client.interceptedClient.SendRequest\n\t/Users/hongyunyan/go/pkg/mod/github.com/tikv/client-go/v2@v2.0.1-0.20220627063500-947d923945fd/internal/client/client_interceptor.go:40\ngithub.com/tikv/client-go/v2/internal/client.reqCollapse.SendRequest\n\t/Users/hongyunyan/go/pkg/mod/github.com/tikv/client-go/v2@v2.0.1-0.20220627063500-947d923945fd/internal/client/client_collapse.go:74\ngithub.com/pingcap/tidb/store/copr.(*tikvClient).SendRequest\n\t/Users/hongyunyan/Desktop/tidb/store/copr/store.go:69\ngithub.com/pingcap/tidb/store/copr.(*RegionBatchRequestSender).SendReqToAddr\n\t/Users/hongyunyan/Desktop/tidb/store/copr/batch_request_sender.go:76\ngithub.com/pingcap/tidb/store/copr.(*mppIterator).handleDispatchReq\n\t/Users/hongyunyan/Desktop/tidb/store/copr/mpp.go:250\ngithub.com/pingcap/tidb/store/copr.(*mppIterator).handleDispatchReq\n\t/Users/hongyunyan/Desktop/tidb/store/copr/mpp.go:276\ngithub.com/pingcap/tidb/store/copr.(*mppIterator).run.func1\n\t/Users/hongyunyan/Desktop/tidb/store/copr/mpp.go:187\nruntime.goexit\n\t/opt/homebrew/Cellar/go/1.18.3/libexec/src/runtime/asm_arm64.s:1263\ngithub.com/pingcap/errors.AddStack\n\t/Users/hongyunyan/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20211224045212-9687c2b0f87c/errors.go:174\ngithub.com/pingcap/errors.Trace\n\t/Users/hongyunyan/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20211224045212-9687c2b0f87c/juju_adaptor.go:15\ngithub.com/pingcap/tidb/store/driver/error.ToTiDBErr\n\t/Users/hongyunyan/Desktop/tidb/store/driver/error/error.go:169\ngithub.com/pingcap/tidb/store/copr.(*tikvClient).SendRequest\n\t/Users/hongyunyan/Desktop/tidb/store/copr/store.go:70\ngithub.com/pingcap/tidb/store/copr.(*RegionBatchRequestSender).SendReqToAddr\n\t/Users/hongyunyan/Desktop/tidb/store/copr/batch_request_sender.go:76\ngithub.com/pingcap/tidb/store/copr.(*mppIterator).handleDispatchReq\n\t/Users/hongyunyan/Desktop/tidb/store/copr/mpp.go:250\ngithub.com/pingcap/tidb/store/copr.(*mppIterator).handleDispatchReq\n\t/Users/hongyunyan/Desktop/tidb/store/copr/mpp.go:276\ngithub.com/pingcap/tidb/store/copr.(*mppIterator).run.func1\n\t/Users/hongyunyan/Desktop/tidb/store/copr/mpp.go:187\nruntime.goexit\n\t/opt/homebrew/Cellar/go/1.18.3/libexec/src/runtime/asm_arm64.s:1263"] [timestamp=434600292505092097] [task=1]
[2022/07/15 15:02:28.713 +08:00] [WARN] [adapter.go:1067] ["# Txn_start_ts: 434600292505092097\n# Conn_ID: 21\n# Query_time: 1.2537805\n# Parse_time: 0.000008792\n# Compile_time: 0.000083666\n# Rewrite_time: 0.000017542\n# Optimize_time: 0.000048125\n# Wait_TS: 0.0000025\n# Cop_time: 1.253400416 Backoff_time: 0.252 Request_count: 1\n# DB: test\n# Is_internal: false\n# Digest: 51b8aac0c345b904397b525d5e07db52cc7b58f74d55160fee4a647d5ab3ab1a\n# Stats: t:pseudo\n# Num_cop_tasks: 1\n# Cop_proc_avg: 0 Cop_proc_addr: tiflash0\n# Cop_wait_avg: 0 Cop_wait_addr: tiflash0\n# Cop_backoff_tiflashRPC_total_times: 2 Cop_backoff_tiflashRPC_total_time: 0.252\n# Mem_max: 10100\n# Prepared: false\n# Plan_from_cache: false\n# Plan_from_binding: false\n# Has_more_results: false\n# KV_total: 0\n# PD_total: 0\n# Backoff_total: 0\n# Write_sql_response_total: 0\n# Result_rows: 0\n# Succ: true\n# IsExplicitTxn: false\n# Plan: tidb_decode_plan('gQKIMAk2XzE4CTAJMQlmdW5jczpjb3VudChDb2x1bW4jNCktPkMJCyAyCjEJMzFfMjAFLJBkYXRhOkV4Y2hhbmdlU2VuZGVyXzE5CjIJNDlfMTkJMV8xCTEJESBUVHlwZTogUGFzc1Rocm91Z2gKMwk2XxEmLncAADEZcCA0CjQJNDRfMTcFTUQzMzMzLjMzCXRhYmxlOnQsIHIBefBDOlstaW5mLDEyKSwga2VlcCBvcmRlcjpmYWxzZSwgc3RhdHM6cHNldWRvLCBQYXJ0aXRpb25UYWJsZVNjYW46dHJ1ZQo=')\n# Plan_digest: 19d4f27d9547859177a5930fe4c2e37f92afbccc9a2351042760712ab2e5d1ac\nselect count(*) from t where a < 12;"]
[2022/07/15 15:02:28.714 +08:00] [INFO] [region_cache.go:194] ["Send fail for 0 regions, will switch region peer for these regions. Only first 0 regions will be logged if the log level is higher than Debug"]
[2022/07/15 15:02:28.810 +08:00] [INFO] [region_cache.go:194] ["Send fail for 0 regions, will switch region peer for these regions. Only first 0 regions will be logged if the log level is higher than Debug"]
[2022/07/15 15:02:28.935 +08:00] [INFO] [ddl_worker.go:158] ["[ddl] DDL worker closed"] [worker="worker 83, tp general"] ["take time"=250ns]
[2022/07/15 15:02:28.935 +08:00] [INFO] [ddl_worker.go:158] ["[ddl] DDL worker closed"] [worker="worker 84, tp add index"] ["take time"=83ns]
[2022/07/15 15:02:28.935 +08:00] [INFO] [delete_range.go:148] ["[ddl] closing delRange"]
[2022/07/15 15:02:28.935 +08:00] [INFO] [session_pool.go:94] ["[ddl] closing sessionPool"]
[2022/07/15 15:02:28.935 +08:00] [INFO] [ddl.go:576] ["[ddl] DDL closed"] [ID=b65c0fb9-c48d-407b-aec5-8f847c67e47e] ["take time"=104.125µs]
[2022/07/15 15:02:28.935 +08:00] [INFO] [ddl.go:464] ["[ddl] stop DDL"] [ID=b65c0fb9-c48d-407b-aec5-8f847c67e47e]
[2022/07/15 15:02:28.935 +08:00] [INFO] [domain.go:498] ["topNSlowQueryLoop exited."]
[2022/07/15 15:02:28.935 +08:00] [INFO] [handle_hist.go:156] ["SubLoadWorker exited."]
[2022/07/15 15:02:28.935 +08:00] [INFO] [handle_hist.go:156] ["SubLoadWorker exited."]
[2022/07/15 15:02:28.935 +08:00] [INFO] [domain.go:1082] ["LoadSysVarCacheLoop exited."]
[2022/07/15 15:02:28.935 +08:00] [INFO] [domain.go:552] ["globalConfigSyncerKeeper exited."]
[2022/07/15 15:02:28.935 +08:00] [INFO] [domain.go:527] ["infoSyncerKeeper exited."]
[2022/07/15 15:02:28.935 +08:00] [INFO] [domain.go:1160] ["globalBindHandleWorkerLoop exited."]
[2022/07/15 15:02:28.935 +08:00] [INFO] [handle_hist.go:156] ["SubLoadWorker exited."]
[2022/07/15 15:02:28.935 +08:00] [INFO] [domain.go:575] ["topologySyncerKeeper exited."]
[2022/07/15 15:02:28.935 +08:00] [INFO] [domain.go:1203] ["handleEvolvePlanTasksLoop exited."]
[2022/07/15 15:02:28.935 +08:00] [INFO] [domain.go:1032] ["loadPrivilegeInLoop exited."]
[2022/07/15 15:02:28.935 +08:00] [INFO] [domain.go:733] ["domain closed"] ["take time"=197.459µs]
[2022/07/15 15:02:28.935 +08:00] [INFO] [handle_hist.go:156] ["SubLoadWorker exited."]
[2022/07/15 15:02:28.935 +08:00] [INFO] [handle_hist.go:156] ["SubLoadWorker exited."]
[2022/07/15 15:02:28.935 +08:00] [INFO] [domain.go:1288] ["dumpFileGcChecker exited."]
[2022/07/15 15:02:28.954 +08:00] [INFO] [db.go:567] ["Closing database"]
[2022/07/15 15:02:28.954 +08:00] [INFO] [db.go:592] ["Memtable flushed"]
[2022/07/15 15:02:28.954 +08:00] [INFO] [db.go:596] ["Compaction finished"]
[2022/07/15 15:02:28.954 +08:00] [INFO] [db.go:615] ["BlobManager finished"]
[2022/07/15 15:02:28.954 +08:00] [INFO] [db.go:619] ["ResourceManager finished"]
[2022/07/15 15:02:28.954 +08:00] [INFO] [db.go:625] ["Waiting for closer"]
[2022/07/15 15:02:29.047 +08:00] [INFO] [tidb.go:74] ["new domain"] [store=bd2d3ecd-7595-47e8-af38-56555d3b87bb] ["ddl lease"=0s] ["stats lease"=-1ns] ["index usage sync lease"=0s]
[2022/07/15 15:02:29.048 +08:00] [INFO] [domain.go:178] ["full load InfoSchema success"] [currentSchemaVersion=0] [neededSchemaVersion=0] ["start time"=469.916µs]
[2022/07/15 15:02:29.048 +08:00] [INFO] [domain.go:449] ["full load and reset schema validator"]
[2022/07/15 15:02:29.048 +08:00] [INFO] [ddl.go:483] ["[ddl] start DDL"] [ID=af8bac75-321d-4eda-b68a-c954129623cf] [runWorker=true]
[2022/07/15 15:02:29.048 +08:00] [INFO] [ddl.go:472] ["[ddl] start delRangeManager OK"] ["is a emulator"=true]
[2022/07/15 15:02:29.048 +08:00] [INFO] [delete_range.go:158] ["[ddl] start delRange emulator"]
[2022/07/15 15:02:29.048 +08:00] [INFO] [ddl_worker.go:164] ["[ddl] start DDL worker"] [worker="worker 85, tp general"]
[2022/07/15 15:02:29.048 +08:00] [INFO] [ddl_worker.go:164] ["[ddl] start DDL worker"] [worker="worker 86, tp add index"]
[2022/07/15 15:02:29.048 +08:00] [INFO] [tidb.go:268] ["rollbackTxn called due to ddl/autocommit failure"]
[2022/07/15 15:02:29.048 +08:00] [WARN] [session.go:1983] ["run statement failed"] [schemaVersion=0] [error="[schema:1049]Unknown database 'mysql'"] [errorVerbose="[schema:1049]Unknown database 'mysql'\ngithub.com/pingcap/errors.AddStack\n\t/Users/hongyunyan/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20211224045212-9687c2b0f87c/errors.go:174\ngithub.com/pingcap/errors.(*Error).GenWithStackByArgs\n\t/Users/hongyunyan/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20211224045212-9687c2b0f87c/normalize.go:164\ngithub.com/pingcap/tidb/executor.(*SimpleExec).executeUse\n\t/Users/hongyunyan/Desktop/tidb/executor/simple.go:571\ngithub.com/pingcap/tidb/executor.(*SimpleExec).Next\n\t/Users/hongyunyan/Desktop/tidb/executor/simple.go:131\ngithub.com/pingcap/tidb/executor.Next\n\t/Users/hongyunyan/Desktop/tidb/executor/executor.go:319\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelayExecutor\n\t/Users/hongyunyan/Desktop/tidb/executor/adapter.go:673\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelay\n\t/Users/hongyunyan/Desktop/tidb/executor/adapter.go:523\ngithub.com/pingcap/tidb/executor.(*ExecStmt).Exec\n\t/Users/hongyunyan/Desktop/tidb/executor/adapter.go:472\ngithub.com/pingcap/tidb/session.runStmt\n\t/Users/hongyunyan/Desktop/tidb/session/session.go:2114\ngithub.com/pingcap/tidb/session.(*session).ExecuteStmt\n\t/Users/hongyunyan/Desktop/tidb/session/session.go:1980\ngithub.com/pingcap/tidb/session.(*session).ExecuteInternal\n\t/Users/hongyunyan/Desktop/tidb/session/session.go:1495\ngithub.com/pingcap/tidb/session.checkBootstrapped\n\t/Users/hongyunyan/Desktop/tidb/session/bootstrap.go:728\ngithub.com/pingcap/tidb/session.bootstrap\n\t/Users/hongyunyan/Desktop/tidb/session/bootstrap.go:431\ngithub.com/pingcap/tidb/session.runInBootstrapSession\n\t/Users/hongyunyan/Desktop/tidb/session/session.go:2834\ngithub.com/pingcap/tidb/session.BootstrapSession\n\t/Users/hongyunyan/Desktop/tidb/session/session.go:2720\ngithub.com/pingcap/tidb/testkit.bootstrap\n\t/Users/hongyunyan/Desktop/tidb/testkit/mockstore.go:71\ngithub.com/pingcap/tidb/testkit.CreateMockStoreAndDomain\n\t/Users/hongyunyan/Desktop/tidb/testkit/mockstore.go:64\ngithub.com/pingcap/tidb/testkit.CreateMockStore\n\t/Users/hongyunyan/Desktop/tidb/testkit/mockstore.go:56\ngithub.com/pingcap/tidb/executor/tiflashtest.TestAggPushDownCountStar\n\t/Users/hongyunyan/Desktop/tidb/executor/tiflashtest/tiflash_test.go:1225\ntesting.tRunner\n\t/opt/homebrew/Cellar/go/1.18.3/libexec/src/testing/testing.go:1439\nruntime.goexit\n\t/opt/homebrew/Cellar/go/1.18.3/libexec/src/runtime/asm_arm64.s:1263"] [session="{\n  \"currDBName\": \"\",\n  \"id\": 0,\n  \"status\": 2,\n  \"strictMode\": true,\n  \"user\": null\n}"]
[2022/07/15 15:02:29.048 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=0] [cur_db=] [sql="CREATE DATABASE IF NOT EXISTS test"] [user=]
[2022/07/15 15:02:29.048 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:2, Type:create schema, State:queueing, SchemaState:none, SchemaID:1, TableID:0, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:29.048 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:29.048 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:2, Type:create schema, State:queueing, SchemaState:none, SchemaID:1, TableID:0, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:29.048 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE DATABASE IF NOT EXISTS test"]
[2022/07/15 15:02:29.048 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 85, tp general"] [job="ID:2, Type:create schema, State:queueing, SchemaState:none, SchemaID:1, TableID:0, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:29.048 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:29.049 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 85, tp general"] [job="ID:2, Type:create schema, State:synced, SchemaState:public, SchemaID:1, TableID:0, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:29.048 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:29.049 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=2]
[2022/07/15 15:02:29.049 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:29.049 +08:00] [INFO] [domain.go:178] ["full load InfoSchema success"] [currentSchemaVersion=0] [neededSchemaVersion=1] ["start time"=415.666µs]
[2022/07/15 15:02:29.049 +08:00] [INFO] [domain.go:449] ["full load and reset schema validator"]
[2022/07/15 15:02:29.049 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=1] [cur_db=] [sql="CREATE DATABASE IF NOT EXISTS `mysql`"] [user=]
[2022/07/15 15:02:29.049 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:4, Type:create schema, State:queueing, SchemaState:none, SchemaID:3, TableID:0, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:29.049 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:29.049 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:4, Type:create schema, State:queueing, SchemaState:none, SchemaID:3, TableID:0, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:29.049 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE DATABASE IF NOT EXISTS `mysql`"]
[2022/07/15 15:02:29.049 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 85, tp general"] [job="ID:4, Type:create schema, State:queueing, SchemaState:none, SchemaID:3, TableID:0, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:29.049 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:29.050 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 85, tp general"] [job="ID:4, Type:create schema, State:synced, SchemaState:public, SchemaID:3, TableID:0, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:29.049 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:29.050 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=4]
[2022/07/15 15:02:29.050 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:29.050 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=1] [neededSchemaVersion=2] ["start time"=18.125µs] [phyTblIDs="[]"] [actionTypes="[]"]
[2022/07/15 15:02:29.050 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=2] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.user (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tauthentication_string\tTEXT,\n\t\tplugin\t\t\t\t\tCHAR(64),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tProcess_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_db_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tSuper_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_user_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_slave_priv\t    \tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_client_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_role_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_role_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAccount_locked\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShutdown_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReload_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tFILE_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tConfig_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_Tablespace_Priv  ENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (Host, User));"] [user=]
[2022/07/15 15:02:29.050 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:6, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:5, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:29.05 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:29.050 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:6, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:5, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:29.05 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.user (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tauthentication_string\tTEXT,\n\t\tplugin\t\t\t\t\tCHAR(64),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tProcess_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_db_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tSuper_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_user_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_slave_priv\t    \tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_client_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_role_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_role_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAccount_locked\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShutdown_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReload_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tFILE_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tConfig_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_Tablespace_Priv  ENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (Host, User));"]
[2022/07/15 15:02:29.051 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 85, tp general"] [job="ID:6, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:5, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:29.05 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:29.052 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 85, tp general"] [job="ID:6, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:5, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:29.05 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:29.053 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=6]
[2022/07/15 15:02:29.053 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:29.053 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=2] [neededSchemaVersion=3] ["start time"=253.583µs] [phyTblIDs="[5]"] [actionTypes="[8]"]
[2022/07/15 15:02:29.053 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=3] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.global_priv (Host CHAR(255) NOT NULL DEFAULT '',User CHAR(80) NOT NULL DEFAULT '',Priv LONGTEXT NOT NULL DEFAULT '',PRIMARY KEY (Host, User))"] [user=]
[2022/07/15 15:02:29.053 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:8, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:7, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:29.053 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:29.053 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:8, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:7, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:29.053 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.global_priv (Host CHAR(255) NOT NULL DEFAULT '',User CHAR(80) NOT NULL DEFAULT '',Priv LONGTEXT NOT NULL DEFAULT '',PRIMARY KEY (Host, User))"]
[2022/07/15 15:02:29.053 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 85, tp general"] [job="ID:8, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:7, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:29.053 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:29.054 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 85, tp general"] [job="ID:8, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:7, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:29.053 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:29.054 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=8]
[2022/07/15 15:02:29.054 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:29.054 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=3] [neededSchemaVersion=4] ["start time"=60.166µs] [phyTblIDs="[7]"] [actionTypes="[8]"]
[2022/07/15 15:02:29.054 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=4] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.db (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tDB\t\t\t\t\t\tCHAR(64),\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv \t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (Host, DB, User));"] [user=]
[2022/07/15 15:02:29.055 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:10, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:9, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:29.054 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:29.055 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:10, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:9, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:29.054 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.db (\n\t\tHost\t\t\t\t\tCHAR(255),\n\t\tDB\t\t\t\t\t\tCHAR(64),\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv \t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (Host, DB, User));"]
[2022/07/15 15:02:29.055 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 85, tp general"] [job="ID:10, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:9, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:29.054 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:29.056 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 85, tp general"] [job="ID:10, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:9, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:29.054 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:29.056 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=10]
[2022/07/15 15:02:29.056 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:29.057 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=4] [neededSchemaVersion=5] ["start time"=180.959µs] [phyTblIDs="[9]"] [actionTypes="[8]"]
[2022/07/15 15:02:29.057 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=5] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.tables_priv (\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64),\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64),\n\t\tGrantor\t\tCHAR(77),\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tTable_priv\tSET('Select','Insert','Update','Delete','Create','Drop','Grant','Index','Alter','Create View','Show View','Trigger','References'),\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name));"] [user=]
[2022/07/15 15:02:29.057 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:12, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:11, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:29.057 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:29.057 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:12, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:11, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:29.057 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.tables_priv (\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64),\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64),\n\t\tGrantor\t\tCHAR(77),\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tTable_priv\tSET('Select','Insert','Update','Delete','Create','Drop','Grant','Index','Alter','Create View','Show View','Trigger','References'),\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name));"]
[2022/07/15 15:02:29.057 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 85, tp general"] [job="ID:12, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:11, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:29.057 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:29.058 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 85, tp general"] [job="ID:12, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:11, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:29.057 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:29.058 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=12]
[2022/07/15 15:02:29.058 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:29.059 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=5] [neededSchemaVersion=6] ["start time"=109.958µs] [phyTblIDs="[11]"] [actionTypes="[8]"]
[2022/07/15 15:02:29.059 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=6] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.columns_priv(\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64),\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64),\n\t\tColumn_name\tCHAR(64),\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name, Column_name));"] [user=]
[2022/07/15 15:02:29.060 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:14, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:13, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:29.059 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:29.060 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:14, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:13, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:29.059 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.columns_priv(\n\t\tHost\t\tCHAR(255),\n\t\tDB\t\t\tCHAR(64),\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64),\n\t\tColumn_name\tCHAR(64),\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tColumn_priv\tSET('Select','Insert','Update','References'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name, Column_name));"]
[2022/07/15 15:02:29.060 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 85, tp general"] [job="ID:14, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:13, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:29.059 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:29.061 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 85, tp general"] [job="ID:14, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:13, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:29.059 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:29.061 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=14]
[2022/07/15 15:02:29.061 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:29.061 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=6] [neededSchemaVersion=7] ["start time"=91.167µs] [phyTblIDs="[13]"] [actionTypes="[8]"]
[2022/07/15 15:02:29.061 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=7] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.GLOBAL_VARIABLES(\n\t\tVARIABLE_NAME  VARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(1024) DEFAULT NULL);"] [user=]
[2022/07/15 15:02:29.062 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:16, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:15, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:29.062 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:29.062 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:16, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:15, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:29.062 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.GLOBAL_VARIABLES(\n\t\tVARIABLE_NAME  VARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(1024) DEFAULT NULL);"]
[2022/07/15 15:02:29.062 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 85, tp general"] [job="ID:16, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:15, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:29.062 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:29.062 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 85, tp general"] [job="ID:16, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:15, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:29.062 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:29.062 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=16]
[2022/07/15 15:02:29.062 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:29.062 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=7] [neededSchemaVersion=8] ["start time"=53.959µs] [phyTblIDs="[15]"] [actionTypes="[8]"]
[2022/07/15 15:02:29.063 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=8] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb(\n\t\tVARIABLE_NAME  \tVARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE \tVARCHAR(1024) DEFAULT NULL,\n\t\tCOMMENT \t\tVARCHAR(1024));"] [user=]
[2022/07/15 15:02:29.063 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:18, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:17, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:29.063 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:29.063 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:18, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:17, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:29.063 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb(\n\t\tVARIABLE_NAME  \tVARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE \tVARCHAR(1024) DEFAULT NULL,\n\t\tCOMMENT \t\tVARCHAR(1024));"]
[2022/07/15 15:02:29.063 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 85, tp general"] [job="ID:18, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:17, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:29.063 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:29.063 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 85, tp general"] [job="ID:18, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:17, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:29.063 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:29.063 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=18]
[2022/07/15 15:02:29.063 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:29.064 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=8] [neededSchemaVersion=9] ["start time"=56.458µs] [phyTblIDs="[17]"] [actionTypes="[8]"]
[2022/07/15 15:02:29.064 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=9] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.help_topic (\n  \t\thelp_topic_id \t\tINT(10) UNSIGNED NOT NULL,\n  \t\tname \t\t\t\tCHAR(64) NOT NULL,\n  \t\thelp_category_id \tSMALLINT(5) UNSIGNED NOT NULL,\n  \t\tdescription \t\tTEXT NOT NULL,\n  \t\texample \t\t\tTEXT NOT NULL,\n  \t\turl \t\t\t\tTEXT NOT NULL,\n  \t\tPRIMARY KEY (help_topic_id) clustered,\n  \t\tUNIQUE KEY name (name)\n\t\t) ENGINE=InnoDB DEFAULT CHARSET=utf8 STATS_PERSISTENT=0 COMMENT='help topics';"] [user=]
[2022/07/15 15:02:29.064 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:20, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:19, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:29.064 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:29.064 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:20, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:19, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:29.064 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.help_topic (\n  \t\thelp_topic_id \t\tINT(10) UNSIGNED NOT NULL,\n  \t\tname \t\t\t\tCHAR(64) NOT NULL,\n  \t\thelp_category_id \tSMALLINT(5) UNSIGNED NOT NULL,\n  \t\tdescription \t\tTEXT NOT NULL,\n  \t\texample \t\t\tTEXT NOT NULL,\n  \t\turl \t\t\t\tTEXT NOT NULL,\n  \t\tPRIMARY KEY (help_topic_id) clustered,\n  \t\tUNIQUE KEY name (name)\n\t\t) ENGINE=InnoDB DEFAULT CHARSET=utf8 STATS_PERSISTENT=0 COMMENT='help topics';"]
[2022/07/15 15:02:29.064 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 85, tp general"] [job="ID:20, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:19, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:29.064 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:29.064 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 85, tp general"] [job="ID:20, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:19, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:29.064 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:29.065 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=20]
[2022/07/15 15:02:29.065 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:29.065 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=9] [neededSchemaVersion=10] ["start time"=69.583µs] [phyTblIDs="[19]"] [actionTypes="[8]"]
[2022/07/15 15:02:29.065 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=10] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_meta (\n\t\tversion \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\ttable_id \t\tBIGINT(64) NOT NULL,\n\t\tmodify_count\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcount \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tsnapshot        BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tINDEX idx_ver(version),\n\t\tUNIQUE INDEX tbl(table_id)\n\t);"] [user=]
[2022/07/15 15:02:29.065 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:22, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:21, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:29.065 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:29.065 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:22, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:21, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:29.065 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_meta (\n\t\tversion \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\ttable_id \t\tBIGINT(64) NOT NULL,\n\t\tmodify_count\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcount \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tsnapshot        BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tINDEX idx_ver(version),\n\t\tUNIQUE INDEX tbl(table_id)\n\t);"]
[2022/07/15 15:02:29.065 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 85, tp general"] [job="ID:22, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:21, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:29.065 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:29.065 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 85, tp general"] [job="ID:22, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:21, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:29.065 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:29.066 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=22]
[2022/07/15 15:02:29.066 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:29.066 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=10] [neededSchemaVersion=11] ["start time"=67µs] [phyTblIDs="[21]"] [actionTypes="[8]"]
[2022/07/15 15:02:29.066 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=11] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_histograms (\n\t\ttable_id \t\t\tBIGINT(64) NOT NULL,\n\t\tis_index \t\t\tTINYINT(2) NOT NULL,\n\t\thist_id \t\t\tBIGINT(64) NOT NULL,\n\t\tdistinct_count \t\tBIGINT(64) NOT NULL,\n\t\tnull_count \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\ttot_col_size \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tmodify_count \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tversion \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tcm_sketch \t\t\tBLOB(6291456),\n\t\tstats_ver \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tflag \t\t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcorrelation \t\tDOUBLE NOT NULL DEFAULT 0,\n\t\tlast_analyze_pos \tLONGBLOB DEFAULT NULL,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id)\n\t);"] [user=]
[2022/07/15 15:02:29.066 +08:00] [INFO] [ddl_api.go:999] ["Automatically convert BLOB(6291456) to MEDIUMBLOB"]
[2022/07/15 15:02:29.066 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:24, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:23, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:29.066 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:29.066 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:24, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:23, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:29.066 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_histograms (\n\t\ttable_id \t\t\tBIGINT(64) NOT NULL,\n\t\tis_index \t\t\tTINYINT(2) NOT NULL,\n\t\thist_id \t\t\tBIGINT(64) NOT NULL,\n\t\tdistinct_count \t\tBIGINT(64) NOT NULL,\n\t\tnull_count \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\ttot_col_size \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tmodify_count \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tversion \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tcm_sketch \t\t\tBLOB(6291456),\n\t\tstats_ver \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tflag \t\t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcorrelation \t\tDOUBLE NOT NULL DEFAULT 0,\n\t\tlast_analyze_pos \tLONGBLOB DEFAULT NULL,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id)\n\t);"]
[2022/07/15 15:02:29.066 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 85, tp general"] [job="ID:24, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:23, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:29.066 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:29.067 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 85, tp general"] [job="ID:24, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:23, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:29.066 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:29.067 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=24]
[2022/07/15 15:02:29.067 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:29.067 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=11] [neededSchemaVersion=12] ["start time"=107.666µs] [phyTblIDs="[23]"] [actionTypes="[8]"]
[2022/07/15 15:02:29.067 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=12] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_buckets (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tbucket_id \tBIGINT(64) NOT NULL,\n\t\tcount \t\tBIGINT(64) NOT NULL,\n\t\trepeats \tBIGINT(64) NOT NULL,\n\t\tupper_bound LONGBLOB NOT NULL,\n\t\tlower_bound LONGBLOB ,\n\t\tndv         BIGINT NOT NULL DEFAULT 0,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id, bucket_id)\n\t);"] [user=]
[2022/07/15 15:02:29.067 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:26, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:25, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:29.067 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:29.067 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:26, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:25, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:29.067 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_buckets (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tbucket_id \tBIGINT(64) NOT NULL,\n\t\tcount \t\tBIGINT(64) NOT NULL,\n\t\trepeats \tBIGINT(64) NOT NULL,\n\t\tupper_bound LONGBLOB NOT NULL,\n\t\tlower_bound LONGBLOB ,\n\t\tndv         BIGINT NOT NULL DEFAULT 0,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id, bucket_id)\n\t);"]
[2022/07/15 15:02:29.067 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 85, tp general"] [job="ID:26, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:25, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:29.067 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:29.068 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 85, tp general"] [job="ID:26, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:25, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:29.067 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:29.068 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=26]
[2022/07/15 15:02:29.068 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:29.068 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=12] [neededSchemaVersion=13] ["start time"=87.708µs] [phyTblIDs="[25]"] [actionTypes="[8]"]
[2022/07/15 15:02:29.068 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=13] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_index (job_id, element_id)\n\t);"] [user=]
[2022/07/15 15:02:29.069 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:28, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:27, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:29.068 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:29.069 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:28, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:27, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:29.068 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_index (job_id, element_id)\n\t);"]
[2022/07/15 15:02:29.069 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 85, tp general"] [job="ID:28, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:27, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:29.068 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:29.069 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 85, tp general"] [job="ID:28, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:27, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:29.068 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:29.069 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=28]
[2022/07/15 15:02:29.069 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:29.069 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=13] [neededSchemaVersion=14] ["start time"=64.875µs] [phyTblIDs="[27]"] [actionTypes="[8]"]
[2022/07/15 15:02:29.069 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=14] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range_done (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_done_index (job_id, element_id)\n\t);"] [user=]
[2022/07/15 15:02:29.069 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:30, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:29, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:29.069 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:29.069 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:30, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:29, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:29.069 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range_done (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_done_index (job_id, element_id)\n\t);"]
[2022/07/15 15:02:29.070 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 85, tp general"] [job="ID:30, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:29, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:29.069 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:29.070 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 85, tp general"] [job="ID:30, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:29, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:29.069 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:29.070 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=30]
[2022/07/15 15:02:29.070 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:29.070 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=14] [neededSchemaVersion=15] ["start time"=64.5µs] [phyTblIDs="[29]"] [actionTypes="[8]"]
[2022/07/15 15:02:29.070 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=15] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_feedback (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tfeedback \tBLOB NOT NULL,\n\t\tINDEX hist(table_id, is_index, hist_id)\n\t);"] [user=]
[2022/07/15 15:02:29.070 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:32, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:31, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:29.07 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:29.070 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:32, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:31, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:29.07 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_feedback (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tfeedback \tBLOB NOT NULL,\n\t\tINDEX hist(table_id, is_index, hist_id)\n\t);"]
[2022/07/15 15:02:29.070 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 85, tp general"] [job="ID:32, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:31, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:29.07 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:29.071 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 85, tp general"] [job="ID:32, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:31, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:29.07 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:29.071 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=32]
[2022/07/15 15:02:29.071 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:29.071 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=15] [neededSchemaVersion=16] ["start time"=58.208µs] [phyTblIDs="[31]"] [actionTypes="[8]"]
[2022/07/15 15:02:29.071 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=16] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.role_edges (\n\t\tFROM_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tFROM_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tWITH_ADMIN_OPTION \tENUM('N','Y') CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (FROM_HOST,FROM_USER,TO_HOST,TO_USER)\n\t);"] [user=]
[2022/07/15 15:02:29.071 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:34, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:33, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:29.071 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:29.071 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:34, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:33, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:29.071 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.role_edges (\n\t\tFROM_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tFROM_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tWITH_ADMIN_OPTION \tENUM('N','Y') CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (FROM_HOST,FROM_USER,TO_HOST,TO_USER)\n\t);"]
[2022/07/15 15:02:29.071 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 85, tp general"] [job="ID:34, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:33, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:29.071 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:29.072 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 85, tp general"] [job="ID:34, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:33, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:29.071 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:29.072 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=34]
[2022/07/15 15:02:29.072 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:29.072 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=16] [neededSchemaVersion=17] ["start time"=65.084µs] [phyTblIDs="[33]"] [actionTypes="[8]"]
[2022/07/15 15:02:29.072 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=17] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.default_roles (\n\t\tHOST \t\t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tUSER \t\t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tDEFAULT_ROLE_HOST \tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '%',\n\t\tDEFAULT_ROLE_USER \tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tPRIMARY KEY (HOST,USER,DEFAULT_ROLE_HOST,DEFAULT_ROLE_USER)\n\t)"] [user=]
[2022/07/15 15:02:29.072 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:36, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:35, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:29.072 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:29.072 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:36, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:35, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:29.072 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.default_roles (\n\t\tHOST \t\t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tUSER \t\t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tDEFAULT_ROLE_HOST \tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '%',\n\t\tDEFAULT_ROLE_USER \tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tPRIMARY KEY (HOST,USER,DEFAULT_ROLE_HOST,DEFAULT_ROLE_USER)\n\t)"]
[2022/07/15 15:02:29.072 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 85, tp general"] [job="ID:36, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:35, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:29.072 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:29.072 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 85, tp general"] [job="ID:36, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:35, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:29.072 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:29.073 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=36]
[2022/07/15 15:02:29.073 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:29.073 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=17] [neededSchemaVersion=18] ["start time"=65.25µs] [phyTblIDs="[35]"] [actionTypes="[8]"]
[2022/07/15 15:02:29.073 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=18] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.bind_info (\n\t\toriginal_sql TEXT NOT NULL,\n\t\tbind_sql TEXT NOT NULL,\n\t\tdefault_db TEXT NOT NULL,\n\t\tstatus TEXT NOT NULL,\n\t\tcreate_time TIMESTAMP(3) NOT NULL,\n\t\tupdate_time TIMESTAMP(3) NOT NULL,\n\t\tcharset TEXT NOT NULL,\n\t\tcollation TEXT NOT NULL,\n\t\tsource VARCHAR(10) NOT NULL DEFAULT 'unknown',\n\t\tINDEX sql_index(original_sql(700),default_db(68)) COMMENT \"accelerate the speed when add global binding query\",\n\t\tINDEX time_index(update_time) COMMENT \"accelerate the speed when querying with last update time\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"] [user=]
[2022/07/15 15:02:29.073 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:38, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:37, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:29.073 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:29.073 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:38, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:37, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:29.073 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.bind_info (\n\t\toriginal_sql TEXT NOT NULL,\n\t\tbind_sql TEXT NOT NULL,\n\t\tdefault_db TEXT NOT NULL,\n\t\tstatus TEXT NOT NULL,\n\t\tcreate_time TIMESTAMP(3) NOT NULL,\n\t\tupdate_time TIMESTAMP(3) NOT NULL,\n\t\tcharset TEXT NOT NULL,\n\t\tcollation TEXT NOT NULL,\n\t\tsource VARCHAR(10) NOT NULL DEFAULT 'unknown',\n\t\tINDEX sql_index(original_sql(700),default_db(68)) COMMENT \"accelerate the speed when add global binding query\",\n\t\tINDEX time_index(update_time) COMMENT \"accelerate the speed when querying with last update time\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"]
[2022/07/15 15:02:29.073 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 85, tp general"] [job="ID:38, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:37, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:29.073 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:29.074 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 85, tp general"] [job="ID:38, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:37, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:29.073 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:29.074 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=38]
[2022/07/15 15:02:29.074 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:29.074 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=18] [neededSchemaVersion=19] ["start time"=100.042µs] [phyTblIDs="[37]"] [actionTypes="[8]"]
[2022/07/15 15:02:29.075 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=19] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_top_n (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tcount \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"] [user=]
[2022/07/15 15:02:29.075 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:40, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:39, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:29.075 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:29.075 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:40, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:39, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:29.075 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_top_n (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tcount \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"]
[2022/07/15 15:02:29.075 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 85, tp general"] [job="ID:40, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:39, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:29.075 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:29.075 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 85, tp general"] [job="ID:40, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:39, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:29.075 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:29.075 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=40]
[2022/07/15 15:02:29.075 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:29.076 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=19] [neededSchemaVersion=20] ["start time"=71.708µs] [phyTblIDs="[39]"] [actionTypes="[8]"]
[2022/07/15 15:02:29.076 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=20] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.expr_pushdown_blacklist (\n\t\tname \t\tCHAR(100) NOT NULL,\n\t\tstore_type \tCHAR(100) NOT NULL DEFAULT 'tikv,tiflash,tidb',\n\t\treason \t\tVARCHAR(200)\n\t);"] [user=]
[2022/07/15 15:02:29.076 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:42, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:41, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:29.076 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:29.076 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:42, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:41, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:29.076 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.expr_pushdown_blacklist (\n\t\tname \t\tCHAR(100) NOT NULL,\n\t\tstore_type \tCHAR(100) NOT NULL DEFAULT 'tikv,tiflash,tidb',\n\t\treason \t\tVARCHAR(200)\n\t);"]
[2022/07/15 15:02:29.076 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 85, tp general"] [job="ID:42, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:41, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:29.076 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:29.076 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 85, tp general"] [job="ID:42, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:41, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:29.076 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:29.076 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=42]
[2022/07/15 15:02:29.076 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:29.076 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=20] [neededSchemaVersion=21] ["start time"=44.125µs] [phyTblIDs="[41]"] [actionTypes="[8]"]
[2022/07/15 15:02:29.076 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=21] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.opt_rule_blacklist (\n\t\tname \tCHAR(100) NOT NULL\n\t);"] [user=]
[2022/07/15 15:02:29.076 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:44, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:43, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:29.076 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:29.076 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:44, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:43, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:29.076 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.opt_rule_blacklist (\n\t\tname \tCHAR(100) NOT NULL\n\t);"]
[2022/07/15 15:02:29.077 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 85, tp general"] [job="ID:44, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:43, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:29.076 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:29.077 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 85, tp general"] [job="ID:44, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:43, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:29.076 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:29.077 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=44]
[2022/07/15 15:02:29.077 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:29.077 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=21] [neededSchemaVersion=22] ["start time"=36.834µs] [phyTblIDs="[43]"] [actionTypes="[8]"]
[2022/07/15 15:02:29.077 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=22] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_extended (\n\t\tname varchar(32) NOT NULL,\n\t\ttype tinyint(4) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tcolumn_ids varchar(32) NOT NULL,\n\t\tstats blob DEFAULT NULL,\n\t\tversion bigint(64) unsigned NOT NULL,\n\t\tstatus tinyint(4) NOT NULL,\n\t\tPRIMARY KEY(name, table_id),\n\t\tKEY idx_1 (table_id, status, version),\n\t\tKEY idx_2 (status, version)\n\t);"] [user=]
[2022/07/15 15:02:29.077 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:46, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:45, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:29.077 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:29.077 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:46, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:45, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:29.077 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_extended (\n\t\tname varchar(32) NOT NULL,\n\t\ttype tinyint(4) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tcolumn_ids varchar(32) NOT NULL,\n\t\tstats blob DEFAULT NULL,\n\t\tversion bigint(64) unsigned NOT NULL,\n\t\tstatus tinyint(4) NOT NULL,\n\t\tPRIMARY KEY(name, table_id),\n\t\tKEY idx_1 (table_id, status, version),\n\t\tKEY idx_2 (status, version)\n\t);"]
[2022/07/15 15:02:29.077 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 85, tp general"] [job="ID:46, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:45, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:29.077 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:29.078 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 85, tp general"] [job="ID:46, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:45, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:29.077 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:29.078 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=46]
[2022/07/15 15:02:29.078 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:29.078 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=22] [neededSchemaVersion=23] ["start time"=84.875µs] [phyTblIDs="[45]"] [actionTypes="[8]"]
[2022/07/15 15:02:29.078 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=23] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.schema_index_usage (\n\t\tTABLE_ID bigint(64),\n\t\tINDEX_ID bigint(21),\n\t\tQUERY_COUNT bigint(64),\n\t\tROWS_SELECTED bigint(64),\n\t\tLAST_USED_AT timestamp,\n\t\tPRIMARY KEY(TABLE_ID, INDEX_ID)\n\t);"] [user=]
[2022/07/15 15:02:29.078 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:48, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:47, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:29.078 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:29.078 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:48, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:47, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:29.078 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.schema_index_usage (\n\t\tTABLE_ID bigint(64),\n\t\tINDEX_ID bigint(21),\n\t\tQUERY_COUNT bigint(64),\n\t\tROWS_SELECTED bigint(64),\n\t\tLAST_USED_AT timestamp,\n\t\tPRIMARY KEY(TABLE_ID, INDEX_ID)\n\t);"]
[2022/07/15 15:02:29.079 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 85, tp general"] [job="ID:48, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:47, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:29.078 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:29.079 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 85, tp general"] [job="ID:48, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:47, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:29.078 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:29.079 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=48]
[2022/07/15 15:02:29.079 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:29.079 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=23] [neededSchemaVersion=24] ["start time"=69.917µs] [phyTblIDs="[47]"] [actionTypes="[8]"]
[2022/07/15 15:02:29.079 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=24] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_fm_sketch (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"] [user=]
[2022/07/15 15:02:29.079 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:50, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:49, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:29.079 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:29.079 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:50, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:49, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:29.079 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_fm_sketch (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"]
[2022/07/15 15:02:29.080 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 85, tp general"] [job="ID:50, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:49, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:29.079 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:29.080 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 85, tp general"] [job="ID:50, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:49, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:29.079 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:29.080 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=50]
[2022/07/15 15:02:29.080 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:29.080 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=24] [neededSchemaVersion=25] ["start time"=59.333µs] [phyTblIDs="[49]"] [actionTypes="[8]"]
[2022/07/15 15:02:29.080 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=25] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.global_grants (\n\t\tUSER char(32) NOT NULL DEFAULT '',\n\t\tHOST char(255) NOT NULL DEFAULT '',\n\t\tPRIV char(32) NOT NULL DEFAULT '',\n\t\tWITH_GRANT_OPTION enum('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (USER,HOST,PRIV)\n\t);"] [user=]
[2022/07/15 15:02:29.080 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:52, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:51, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:29.08 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:29.080 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:52, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:51, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:29.08 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.global_grants (\n\t\tUSER char(32) NOT NULL DEFAULT '',\n\t\tHOST char(255) NOT NULL DEFAULT '',\n\t\tPRIV char(32) NOT NULL DEFAULT '',\n\t\tWITH_GRANT_OPTION enum('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (USER,HOST,PRIV)\n\t);"]
[2022/07/15 15:02:29.081 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 85, tp general"] [job="ID:52, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:51, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:29.08 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:29.081 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 85, tp general"] [job="ID:52, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:51, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:29.08 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:29.081 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=52]
[2022/07/15 15:02:29.081 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:29.081 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=25] [neededSchemaVersion=26] ["start time"=57.958µs] [phyTblIDs="[51]"] [actionTypes="[8]"]
[2022/07/15 15:02:29.081 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=26] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.capture_plan_baselines_blacklist (\n\t\tid bigint(64) auto_increment,\n\t\tfilter_type varchar(32) NOT NULL COMMENT \"type of the filter, only db, table and frequency supported now\",\n\t\tfilter_value varchar(32) NOT NULL,\n\t\tkey idx(filter_type),\n\t\tprimary key(id)\n\t);"] [user=]
[2022/07/15 15:02:29.081 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:54, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:53, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:29.081 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:29.081 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:54, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:53, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:29.081 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.capture_plan_baselines_blacklist (\n\t\tid bigint(64) auto_increment,\n\t\tfilter_type varchar(32) NOT NULL COMMENT \"type of the filter, only db, table and frequency supported now\",\n\t\tfilter_value varchar(32) NOT NULL,\n\t\tkey idx(filter_type),\n\t\tprimary key(id)\n\t);"]
[2022/07/15 15:02:29.081 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 85, tp general"] [job="ID:54, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:53, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:29.081 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:29.082 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 85, tp general"] [job="ID:54, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:53, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:29.081 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:29.082 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=54]
[2022/07/15 15:02:29.082 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:29.082 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=26] [neededSchemaVersion=27] ["start time"=50.667µs] [phyTblIDs="[53]"] [actionTypes="[8]"]
[2022/07/15 15:02:29.082 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=27] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.column_stats_usage (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tcolumn_id BIGINT(64) NOT NULL,\n\t\tlast_used_at TIMESTAMP,\n\t\tlast_analyzed_at TIMESTAMP,\n\t\tPRIMARY KEY (table_id, column_id) CLUSTERED\n\t);"] [user=]
[2022/07/15 15:02:29.082 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:56, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:55, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:29.082 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:29.082 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:56, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:55, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:29.082 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.column_stats_usage (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tcolumn_id BIGINT(64) NOT NULL,\n\t\tlast_used_at TIMESTAMP,\n\t\tlast_analyzed_at TIMESTAMP,\n\t\tPRIMARY KEY (table_id, column_id) CLUSTERED\n\t);"]
[2022/07/15 15:02:29.082 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 85, tp general"] [job="ID:56, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:55, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:29.082 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:29.083 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 85, tp general"] [job="ID:56, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:55, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:29.082 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:29.083 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=56]
[2022/07/15 15:02:29.083 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:29.083 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=27] [neededSchemaVersion=28] ["start time"=56.667µs] [phyTblIDs="[55]"] [actionTypes="[8]"]
[2022/07/15 15:02:29.083 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=28] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.table_cache_meta (\n\t\ttid bigint(11) NOT NULL DEFAULT 0,\n\t\tlock_type enum('NONE','READ', 'INTEND', 'WRITE') NOT NULL DEFAULT 'NONE',\n\t\tlease bigint(20) NOT NULL DEFAULT 0,\n\t\toldReadLease bigint(20) NOT NULL DEFAULT 0,\n\t\tPRIMARY KEY (tid)\n\t);"] [user=]
[2022/07/15 15:02:29.083 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:58, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:57, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:29.083 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:29.083 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:58, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:57, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:29.083 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.table_cache_meta (\n\t\ttid bigint(11) NOT NULL DEFAULT 0,\n\t\tlock_type enum('NONE','READ', 'INTEND', 'WRITE') NOT NULL DEFAULT 'NONE',\n\t\tlease bigint(20) NOT NULL DEFAULT 0,\n\t\toldReadLease bigint(20) NOT NULL DEFAULT 0,\n\t\tPRIMARY KEY (tid)\n\t);"]
[2022/07/15 15:02:29.083 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 85, tp general"] [job="ID:58, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:57, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:29.083 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:29.083 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 85, tp general"] [job="ID:58, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:57, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:29.083 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:29.084 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=58]
[2022/07/15 15:02:29.084 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:29.084 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=28] [neededSchemaVersion=29] ["start time"=58.416µs] [phyTblIDs="[57]"] [actionTypes="[8]"]
[2022/07/15 15:02:29.084 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=29] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.analyze_options (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tsample_num BIGINT(64) NOT NULL DEFAULT 0,\n\t\tsample_rate DOUBLE NOT NULL DEFAULT -1,\n\t\tbuckets BIGINT(64) NOT NULL DEFAULT 0,\n\t\ttopn BIGINT(64) NOT NULL DEFAULT -1,\n\t\tcolumn_choice enum('DEFAULT','ALL','PREDICATE','LIST') NOT NULL DEFAULT 'DEFAULT',\n\t\tcolumn_ids TEXT(19372),\n\t\tPRIMARY KEY (table_id) CLUSTERED\n\t);"] [user=]
[2022/07/15 15:02:29.084 +08:00] [INFO] [ddl_api.go:999] ["Automatically convert BLOB(19372) to MEDIUMBLOB"]
[2022/07/15 15:02:29.084 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:60, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:59, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:29.084 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:29.084 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:60, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:59, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:29.084 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.analyze_options (\n\t\ttable_id BIGINT(64) NOT NULL,\n\t\tsample_num BIGINT(64) NOT NULL DEFAULT 0,\n\t\tsample_rate DOUBLE NOT NULL DEFAULT -1,\n\t\tbuckets BIGINT(64) NOT NULL DEFAULT 0,\n\t\ttopn BIGINT(64) NOT NULL DEFAULT -1,\n\t\tcolumn_choice enum('DEFAULT','ALL','PREDICATE','LIST') NOT NULL DEFAULT 'DEFAULT',\n\t\tcolumn_ids TEXT(19372),\n\t\tPRIMARY KEY (table_id) CLUSTERED\n\t);"]
[2022/07/15 15:02:29.084 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 85, tp general"] [job="ID:60, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:59, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:29.084 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:29.085 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 85, tp general"] [job="ID:60, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:59, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:29.084 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:29.085 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=60]
[2022/07/15 15:02:29.085 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:29.085 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=29] [neededSchemaVersion=30] ["start time"=68.166µs] [phyTblIDs="[59]"] [actionTypes="[8]"]
[2022/07/15 15:02:29.085 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=30] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tstats_data longblob NOT NULL,\n\t\tseq_no bigint(64) NOT NULL comment 'sequence number of the gzipped data slice',\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version_seq (table_id, version, seq_no),\n\t\tKEY table_create_time (table_id, create_time, seq_no)\n\t);"] [user=]
[2022/07/15 15:02:29.086 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:62, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:61, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:29.085 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:29.086 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:62, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:61, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:29.085 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tstats_data longblob NOT NULL,\n\t\tseq_no bigint(64) NOT NULL comment 'sequence number of the gzipped data slice',\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version_seq (table_id, version, seq_no),\n\t\tKEY table_create_time (table_id, create_time, seq_no)\n\t);"]
[2022/07/15 15:02:29.086 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 85, tp general"] [job="ID:62, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:61, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:29.085 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:29.086 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 85, tp general"] [job="ID:62, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:61, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:29.085 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:29.104 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=62]
[2022/07/15 15:02:29.104 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:29.104 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=30] [neededSchemaVersion=31] ["start time"=93.416µs] [phyTblIDs="[61]"] [actionTypes="[8]"]
[2022/07/15 15:02:29.104 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=31] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_meta_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL,\n\t\tcount bigint(64) NOT NULL,\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version (table_id, version),\n\t\tKEY table_create_time (table_id, create_time)\n\t);"] [user=]
[2022/07/15 15:02:29.104 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:64, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:63, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:29.104 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:29.104 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:64, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:63, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:29.104 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_meta_history (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL,\n\t\tcount bigint(64) NOT NULL,\n\t\tversion bigint(64) NOT NULL comment 'stats version which corresponding to stats:version in EXPLAIN',\n\t\tcreate_time datetime(6) NOT NULL,\n\t\tUNIQUE KEY table_version (table_id, version),\n\t\tKEY table_create_time (table_id, create_time)\n\t);"]
[2022/07/15 15:02:29.105 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 85, tp general"] [job="ID:64, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:63, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:29.104 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:29.105 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 85, tp general"] [job="ID:64, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:63, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:29.104 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:29.105 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=64]
[2022/07/15 15:02:29.105 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:29.105 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=31] [neededSchemaVersion=32] ["start time"=79.25µs] [phyTblIDs="[63]"] [actionTypes="[8]"]
[2022/07/15 15:02:29.105 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=32] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.analyze_jobs (\n\t\tid BIGINT(64) UNSIGNED NOT NULL AUTO_INCREMENT,\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\ttable_schema CHAR(64) NOT NULL DEFAULT '',\n\t\ttable_name CHAR(64) NOT NULL DEFAULT '',\n\t\tpartition_name CHAR(64) NOT NULL DEFAULT '',\n\t\tjob_info TEXT NOT NULL,\n\t\tprocessed_rows BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tstart_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tstate ENUM('pending', 'running', 'finished', 'failed') NOT NULL,\n\t\tfail_reason TEXT,\n\t\tinstance VARCHAR(512) NOT NULL comment 'address of the TiDB instance executing the analyze job',\n\t\tprocess_id BIGINT(64) UNSIGNED comment 'ID of the process executing the analyze job',\n\t\tPRIMARY KEY (id),\n\t\tKEY (update_time)\n\t);"] [user=]
[2022/07/15 15:02:29.106 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:66, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:65, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:29.106 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:29.106 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:66, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:65, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:29.106 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.analyze_jobs (\n\t\tid BIGINT(64) UNSIGNED NOT NULL AUTO_INCREMENT,\n\t\tupdate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\t\ttable_schema CHAR(64) NOT NULL DEFAULT '',\n\t\ttable_name CHAR(64) NOT NULL DEFAULT '',\n\t\tpartition_name CHAR(64) NOT NULL DEFAULT '',\n\t\tjob_info TEXT NOT NULL,\n\t\tprocessed_rows BIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tstart_time TIMESTAMP,\n\t\tend_time TIMESTAMP,\n\t\tstate ENUM('pending', 'running', 'finished', 'failed') NOT NULL,\n\t\tfail_reason TEXT,\n\t\tinstance VARCHAR(512) NOT NULL comment 'address of the TiDB instance executing the analyze job',\n\t\tprocess_id BIGINT(64) UNSIGNED comment 'ID of the process executing the analyze job',\n\t\tPRIMARY KEY (id),\n\t\tKEY (update_time)\n\t);"]
[2022/07/15 15:02:29.106 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 85, tp general"] [job="ID:66, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:65, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:29.106 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:29.107 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 85, tp general"] [job="ID:66, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:65, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:29.106 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:29.107 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=66]
[2022/07/15 15:02:29.107 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:29.107 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=32] [neededSchemaVersion=33] ["start time"=111.5µs] [phyTblIDs="[65]"] [actionTypes="[8]"]
[2022/07/15 15:02:29.107 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=33] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.advisory_locks (\n\t\tlock_name VARCHAR(64) NOT NULL PRIMARY KEY\n\t);"] [user=]
[2022/07/15 15:02:29.107 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:68, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:67, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:29.107 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:29.107 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:68, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:67, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:29.107 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.advisory_locks (\n\t\tlock_name VARCHAR(64) NOT NULL PRIMARY KEY\n\t);"]
[2022/07/15 15:02:29.107 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 85, tp general"] [job="ID:68, Type:create table, State:queueing, SchemaState:none, SchemaID:3, TableID:67, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:29.107 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:29.108 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 85, tp general"] [job="ID:68, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:67, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:29.107 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:29.108 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=68]
[2022/07/15 15:02:29.108 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:29.108 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=33] [neededSchemaVersion=34] ["start time"=39.083µs] [phyTblIDs="[67]"] [actionTypes="[8]"]
[2022/07/15 15:02:29.113 +08:00] [INFO] [bootstrap.go:448] ["bootstrap successful"] ["take time"=65.383667ms]
[2022/07/15 15:02:29.126 +08:00] [INFO] [ddl_worker.go:158] ["[ddl] DDL worker closed"] [worker="worker 85, tp general"] ["take time"=250ns]
[2022/07/15 15:02:29.126 +08:00] [INFO] [ddl_worker.go:158] ["[ddl] DDL worker closed"] [worker="worker 86, tp add index"] ["take time"=42ns]
[2022/07/15 15:02:29.126 +08:00] [INFO] [delete_range.go:148] ["[ddl] closing delRange"]
[2022/07/15 15:02:29.126 +08:00] [INFO] [session_pool.go:94] ["[ddl] closing sessionPool"]
[2022/07/15 15:02:29.126 +08:00] [INFO] [ddl.go:576] ["[ddl] DDL closed"] [ID=af8bac75-321d-4eda-b68a-c954129623cf] ["take time"=89.334µs]
[2022/07/15 15:02:29.126 +08:00] [INFO] [ddl.go:464] ["[ddl] stop DDL"] [ID=af8bac75-321d-4eda-b68a-c954129623cf]
[2022/07/15 15:02:29.126 +08:00] [INFO] [domain.go:498] ["topNSlowQueryLoop exited."]
[2022/07/15 15:02:29.126 +08:00] [INFO] [domain.go:552] ["globalConfigSyncerKeeper exited."]
[2022/07/15 15:02:29.126 +08:00] [INFO] [domain.go:527] ["infoSyncerKeeper exited."]
[2022/07/15 15:02:29.126 +08:00] [INFO] [domain.go:733] ["domain closed"] ["take time"=187.709µs]
[2022/07/15 15:02:29.126 +08:00] [INFO] [tidb.go:74] ["new domain"] [store=bd2d3ecd-7595-47e8-af38-56555d3b87bb] ["ddl lease"=0s] ["stats lease"=-1ns] ["index usage sync lease"=0s]
[2022/07/15 15:02:29.126 +08:00] [INFO] [domain.go:575] ["topologySyncerKeeper exited."]
[2022/07/15 15:02:29.129 +08:00] [INFO] [domain.go:178] ["full load InfoSchema success"] [currentSchemaVersion=0] [neededSchemaVersion=34] ["start time"=2.437959ms]
[2022/07/15 15:02:29.145 +08:00] [INFO] [domain.go:449] ["full load and reset schema validator"]
[2022/07/15 15:02:29.145 +08:00] [INFO] [ddl.go:483] ["[ddl] start DDL"] [ID=a9aface4-9c59-4dbb-9a4e-39f98643dbe2] [runWorker=true]
[2022/07/15 15:02:29.145 +08:00] [INFO] [ddl.go:472] ["[ddl] start delRangeManager OK"] ["is a emulator"=true]
[2022/07/15 15:02:29.145 +08:00] [INFO] [delete_range.go:158] ["[ddl] start delRange emulator"]
[2022/07/15 15:02:29.145 +08:00] [INFO] [ddl_worker.go:164] ["[ddl] start DDL worker"] [worker="worker 88, tp add index"]
[2022/07/15 15:02:29.145 +08:00] [INFO] [ddl_worker.go:164] ["[ddl] start DDL worker"] [worker="worker 87, tp general"]
[2022/07/15 15:02:29.146 +08:00] [WARN] [sysvar_cache.go:53] ["sysvar cache is empty, triggering rebuild"]
[2022/07/15 15:02:29.167 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=22] [schemaVersion=34] [cur_db=test] [sql="drop table if exists c"] [user=]
[2022/07/15 15:02:29.183 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=22] [schemaVersion=34] [cur_db=test] [sql="drop table if exists o"] [user=]
[2022/07/15 15:02:29.183 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=22] [schemaVersion=34] [cur_db=test] [sql="create table c(c_id bigint primary key)"] [user=]
[2022/07/15 15:02:29.183 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:70, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:29.183 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:29.183 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:70, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:29.183 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="create table c(c_id bigint primary key)"]
[2022/07/15 15:02:29.183 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 87, tp general"] [job="ID:70, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:29.183 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:29.184 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 87, tp general"] [job="ID:70, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:69, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:29.183 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:29.184 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=70]
[2022/07/15 15:02:29.184 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:29.184 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=34] [neededSchemaVersion=35] ["start time"=38.5µs] [phyTblIDs="[69]"] [actionTypes="[8]"]
[2022/07/15 15:02:29.184 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=22] [schemaVersion=35] [cur_db=test] [sql="create table o(o_id bigint primary key, c_id bigint not null)"] [user=]
[2022/07/15 15:02:29.184 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:72, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:71, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:29.184 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:29.184 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:72, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:71, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:29.184 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="create table o(o_id bigint primary key, c_id bigint not null)"]
[2022/07/15 15:02:29.184 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 87, tp general"] [job="ID:72, Type:create table, State:queueing, SchemaState:none, SchemaID:1, TableID:71, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:29.184 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:29.184 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 87, tp general"] [job="ID:72, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:71, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:29.184 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:29.184 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=72]
[2022/07/15 15:02:29.184 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:29.185 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=35] [neededSchemaVersion=36] ["start time"=37.375µs] [phyTblIDs="[71]"] [actionTypes="[8]"]
[2022/07/15 15:02:29.185 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=22] [schemaVersion=36] [cur_db=test] [sql="alter table c set tiflash replica 1"] [user=]
[2022/07/15 15:02:29.185 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:73, Type:set tiflash replica, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:29.185 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:29.185 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:73, Type:set tiflash replica, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:29.185 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="alter table c set tiflash replica 1"]
[2022/07/15 15:02:29.185 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 87, tp general"] [job="ID:73, Type:set tiflash replica, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:29.185 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:29.185 +08:00] [INFO] [table.go:1109] ["Set TiFlash replica pd rule"] [tableID=69]
[2022/07/15 15:02:29.185 +08:00] [INFO] [info.go:1051] [ConfigureTiFlashPDForTable] [tableID=69] [count=1]
[2022/07/15 15:02:29.185 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 87, tp general"] [job="ID:73, Type:set tiflash replica, State:synced, SchemaState:public, SchemaID:1, TableID:69, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:29.185 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:29.185 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=73]
[2022/07/15 15:02:29.185 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:29.185 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=36] [neededSchemaVersion=37] ["start time"=37.791µs] [phyTblIDs="[]"] [actionTypes="[]"]
[2022/07/15 15:02:29.185 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:74, Type:update tiflash replica status, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:2, start time: 2022-07-15 15:02:29.185 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:29.185 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:74, Type:update tiflash replica status, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:2, start time: 2022-07-15 15:02:29.185 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query=]
[2022/07/15 15:02:29.185 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 87, tp general"] [job="ID:74, Type:update tiflash replica status, State:queueing, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:29.185 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:29.186 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 87, tp general"] [job="ID:74, Type:update tiflash replica status, State:synced, SchemaState:public, SchemaID:1, TableID:69, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:29.185 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:29.186 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=74]
[2022/07/15 15:02:29.186 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:29.186 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=37] [neededSchemaVersion=38] ["start time"=36µs] [phyTblIDs="[]"] [actionTypes="[]"]
[2022/07/15 15:02:29.186 +08:00] [INFO] [session.go:3146] ["CRUCIAL OPERATION"] [conn=22] [schemaVersion=38] [cur_db=test] [sql="alter table o set tiflash replica 1"] [user=]
[2022/07/15 15:02:29.186 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:75, Type:set tiflash replica, State:queueing, SchemaState:none, SchemaID:1, TableID:71, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:29.186 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:29.186 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:75, Type:set tiflash replica, State:queueing, SchemaState:none, SchemaID:1, TableID:71, RowCount:0, ArgLen:1, start time: 2022-07-15 15:02:29.186 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="alter table o set tiflash replica 1"]
[2022/07/15 15:02:29.186 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 87, tp general"] [job="ID:75, Type:set tiflash replica, State:queueing, SchemaState:none, SchemaID:1, TableID:71, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:29.186 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:29.186 +08:00] [INFO] [table.go:1109] ["Set TiFlash replica pd rule"] [tableID=71]
[2022/07/15 15:02:29.186 +08:00] [INFO] [info.go:1051] [ConfigureTiFlashPDForTable] [tableID=71] [count=1]
[2022/07/15 15:02:29.186 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 87, tp general"] [job="ID:75, Type:set tiflash replica, State:synced, SchemaState:public, SchemaID:1, TableID:71, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:29.186 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:29.186 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=75]
[2022/07/15 15:02:29.186 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:29.186 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=38] [neededSchemaVersion=39] ["start time"=38.167µs] [phyTblIDs="[]"] [actionTypes="[]"]
[2022/07/15 15:02:29.186 +08:00] [INFO] [ddl_worker.go:332] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:76, Type:update tiflash replica status, State:queueing, SchemaState:none, SchemaID:1, TableID:71, RowCount:0, ArgLen:2, start time: 2022-07-15 15:02:29.186 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2022/07/15 15:02:29.186 +08:00] [INFO] [ddl.go:765] ["[ddl] start DDL job"] [job="ID:76, Type:update tiflash replica status, State:queueing, SchemaState:none, SchemaID:1, TableID:71, RowCount:0, ArgLen:2, start time: 2022-07-15 15:02:29.186 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query=]
[2022/07/15 15:02:29.186 +08:00] [INFO] [ddl_worker.go:881] ["[ddl] run DDL job"] [worker="worker 87, tp general"] [job="ID:76, Type:update tiflash replica status, State:queueing, SchemaState:none, SchemaID:1, TableID:71, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:29.186 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:29.187 +08:00] [INFO] [ddl_worker.go:512] ["[ddl] finish DDL job"] [worker="worker 87, tp general"] [job="ID:76, Type:update tiflash replica status, State:synced, SchemaState:public, SchemaID:1, TableID:71, RowCount:0, ArgLen:0, start time: 2022-07-15 15:02:29.186 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2022/07/15 15:02:29.187 +08:00] [INFO] [ddl.go:852] ["[ddl] DDL job is finished"] [jobID=76]
[2022/07/15 15:02:29.187 +08:00] [INFO] [callback.go:107] ["performing DDL change, must reload"]
[2022/07/15 15:02:29.187 +08:00] [INFO] [domain.go:152] ["diff load InfoSchema success"] [currentSchemaVersion=39] [neededSchemaVersion=40] ["start time"=43.167µs] [phyTblIDs="[]"] [actionTypes="[]"]
[2022/07/15 15:02:29.188 +08:00] [INFO] [fragment.go:77] ["Mpp will generate tasks"] [plan=LeftHashJoin{Table(c)->Recv()}(test.c.c_id,test.o.c_id)->Send()]
[2022/07/15 15:02:29.188 +08:00] [INFO] [batch_coprocessor.go:325] ["detecting available mpp stores"]
[2022/07/15 15:02:29.188 +08:00] [WARN] [batch_coprocessor.go:359] ["Store is not ready"] ["store address"=tiflash1] ["err message"="not support this request type MPPAlive"]
[2022/07/15 15:02:29.188 +08:00] [WARN] [batch_coprocessor.go:359] ["Store is not ready"] ["store address"=tiflash0] ["err message"="not support this request type MPPAlive"]
[2022/07/15 15:02:29.188 +08:00] [WARN] [batch_coprocessor.go:400] ["Meet regions that don't have an available store. Give up balancing"]
[2022/07/15 15:02:29.188 +08:00] [INFO] [batch_coprocessor.go:325] ["detecting available mpp stores"]
[2022/07/15 15:02:29.188 +08:00] [WARN] [batch_coprocessor.go:400] ["Meet regions that don't have an available store. Give up balancing"]
[2022/07/15 15:02:29.188 +08:00] [INFO] [mpp_gather.go:80] ["Dispatch mpp task"] [timestamp=434600292958076938] [ID=1] [address=tiflash0] [plan="Table(o)->Send(2, )"]
[2022/07/15 15:02:29.188 +08:00] [INFO] [mpp_gather.go:80] ["Dispatch mpp task"] [timestamp=434600292958076938] [ID=2] [address=tiflash0] [plan="Recv(1, )->HashAgg->Projection->Send(3, )"]
[2022/07/15 15:02:29.188 +08:00] [INFO] [mpp_gather.go:80] ["Dispatch mpp task"] [timestamp=434600292958076938] [ID=3] [address=tiflash0] [plan="LeftHashJoin{Table(c)->Recv(2, )}(test.c.c_id,test.o.c_id)->Send(-1, )"]
[2022/07/15 15:02:30.189 +08:00] [WARN] [adapter.go:1067] ["# Txn_start_ts: 434600292958076938\n# Conn_ID: 22\n# Query_time: 1.001250458\n# Parse_time: 0.000026208\n# Compile_time: 0.000242667\n# Rewrite_time: 0.000049583\n# Optimize_time: 0.000171083\n# Wait_TS: 0.000001875\n# Cop_time: 1.0004495 Request_count: 2\n# DB: test\n# Is_internal: false\n# Digest: f45fe4cde84d59476f214cd645f494c067b273c9dec61d7b84d5eff396c42c4b\n# Stats: c:pseudo,o:pseudo\n# Num_cop_tasks: 2\n# Cop_proc_avg: 0 Cop_proc_p90: 0 Cop_proc_max: 0 Cop_proc_addr: tiflash0\n# Cop_wait_avg: 0 Cop_wait_p90: 0 Cop_wait_max: 0 Cop_wait_addr: tiflash0\n# Mem_max: 17700\n# Prepared: false\n# Plan_from_cache: false\n# Plan_from_binding: false\n# Has_more_results: false\n# KV_total: 0\n# PD_total: 0\n# Backoff_total: 0\n# Write_sql_response_total: 0\n# Result_rows: 0\n# Succ: true\n# IsExplicitTxn: false\n# Plan: tidb_decode_plan('8gSIMAk2XzEzCTAJMQlmdW5jczpjb3VudChDb2x1bW4jNSktPkMJCxw0CjEJMzFfNAUsoDAwMDAJZGF0YTpFeGNoYW5nZVNlbmRlcl80MgoyCTQ5XzQyCTFfMQkxBSkRJGBUeXBlOiBQYXNzVGhyb3VnaAozCTE3XzE0HSyIaW5uZXIgam9pbiwgZXF1YWw6W2VxKHRlc3QuYy5jX2lkLCAFDQBvBQ0kKV0KNAk0M18yNh1DmHRhYmxlOmMsIGtlZXAgb3JkZXI6ZmFsc2UsIHN0YXRzOnBzZXVkbwE6CDhfMwl9ADgB0QQKNQG7BDMzBUwFEgBFDd4AVAW6PEJyb2FkY2FzdAo2CTNfMzIZKDEvMp0AGAo3CTZfMjcZJiBncm91cCBieTodwgQsIC53AQAxOXAANREaHGZpcnN0cm93KQUN+AQtPh1ECAo4CQHKADEFaimcBAo5BcsAMB0TNswANEhhc2hQYXJ0aXRpb24sBQ80IENvbHM6IFtuYW1lOiAdYFQsIGNvbGxhdGU6IGJpbmFyeV0KMTAJIXcAOR1gKXcAb4J3AQ==')\n# Plan_digest: 294e34fb1a0730473b0e638dbeec877824f2bd5dc3690bd510b9bbfd31793ba1\nuse test;\nselect count(*) from c, o where c.c_id=o.c_id;"]
[2022/07/15 15:02:30.189 +08:00] [INFO] [ddl_worker.go:158] ["[ddl] DDL worker closed"] [worker="worker 87, tp general"] ["take time"=125ns]
[2022/07/15 15:02:30.189 +08:00] [INFO] [ddl_worker.go:158] ["[ddl] DDL worker closed"] [worker="worker 88, tp add index"] ["take time"=42ns]
[2022/07/15 15:02:30.189 +08:00] [INFO] [delete_range.go:148] ["[ddl] closing delRange"]
[2022/07/15 15:02:30.189 +08:00] [INFO] [session_pool.go:94] ["[ddl] closing sessionPool"]
[2022/07/15 15:02:30.189 +08:00] [INFO] [ddl.go:576] ["[ddl] DDL closed"] [ID=a9aface4-9c59-4dbb-9a4e-39f98643dbe2] ["take time"=57.208µs]
[2022/07/15 15:02:30.189 +08:00] [INFO] [ddl.go:464] ["[ddl] stop DDL"] [ID=a9aface4-9c59-4dbb-9a4e-39f98643dbe2]
[2022/07/15 15:02:30.189 +08:00] [INFO] [domain.go:498] ["topNSlowQueryLoop exited."]
[2022/07/15 15:02:30.189 +08:00] [INFO] [domain.go:1082] ["LoadSysVarCacheLoop exited."]
[2022/07/15 15:02:30.189 +08:00] [INFO] [domain.go:1032] ["loadPrivilegeInLoop exited."]
[2022/07/15 15:02:30.189 +08:00] [INFO] [domain.go:1203] ["handleEvolvePlanTasksLoop exited."]
[2022/07/15 15:02:30.189 +08:00] [INFO] [domain.go:1160] ["globalBindHandleWorkerLoop exited."]
[2022/07/15 15:02:30.189 +08:00] [INFO] [handle_hist.go:156] ["SubLoadWorker exited."]
[2022/07/15 15:02:30.189 +08:00] [INFO] [handle_hist.go:156] ["SubLoadWorker exited."]
[2022/07/15 15:02:30.189 +08:00] [INFO] [domain.go:575] ["topologySyncerKeeper exited."]
[2022/07/15 15:02:30.189 +08:00] [INFO] [domain.go:552] ["globalConfigSyncerKeeper exited."]
[2022/07/15 15:02:30.189 +08:00] [INFO] [handle_hist.go:156] ["SubLoadWorker exited."]
[2022/07/15 15:02:30.189 +08:00] [INFO] [domain.go:527] ["infoSyncerKeeper exited."]
[2022/07/15 15:02:30.189 +08:00] [INFO] [domain.go:1288] ["dumpFileGcChecker exited."]
[2022/07/15 15:02:30.189 +08:00] [INFO] [handle_hist.go:156] ["SubLoadWorker exited."]
[2022/07/15 15:02:30.189 +08:00] [INFO] [handle_hist.go:156] ["SubLoadWorker exited."]
[2022/07/15 15:02:30.189 +08:00] [INFO] [domain.go:733] ["domain closed"] ["take time"=149.459µs]
[2022/07/15 15:02:30.210 +08:00] [INFO] [db.go:567] ["Closing database"]
[2022/07/15 15:02:30.210 +08:00] [INFO] [db.go:592] ["Memtable flushed"]
[2022/07/15 15:02:30.211 +08:00] [INFO] [db.go:596] ["Compaction finished"]
[2022/07/15 15:02:30.211 +08:00] [INFO] [db.go:615] ["BlobManager finished"]
[2022/07/15 15:02:30.211 +08:00] [INFO] [db.go:619] ["ResourceManager finished"]
[2022/07/15 15:02:30.211 +08:00] [INFO] [db.go:625] ["Waiting for closer"]
FAIL
exit status 1
FAIL	github.com/pingcap/tidb/executor/tiflashtest	87.566s
